"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[295],{98968:function(e,t,i){i.d(t,{$T:function(){return p},$c:function(){return T},Dk:function(){return j},E7:function(){return y},F2:function(){return u},GF:function(){return P},Gs:function(){return w},I2:function(){return m},O9:function(){return d},VJ:function(){return N},WE:function(){return r},Y5:function(){return c},_e:function(){return f},bF:function(){return $},dz:function(){return v},e:function(){return B},el:function(){return x},h7:function(){return S},hQ:function(){return h},j2:function(){return k},jB:function(){return b},mn:function(){return C},oQ:function(){return _},vD:function(){return g},vw:function(){return o}});var s=i(35937),a=i.n(s),n=i(47388);const l=e=>t=>t.type===e,r=l(n.Y.header),o=l(n.Y.trap_preview),c=l(n.Y.bullets),d=l(n.Y.layer_carousel),u=l(n.Y.layer_grid),p=l(n.Y.layers_list),m=l(n.Y.providers),x=l(n.Y.pins_group_2),h=l(n.Y.bullet),v=l(n.Y.text),b=l(n.Y.carousel_expanded),k=l(n.Y.carousel_compact),g=l(n.Y.header_with_images),y=l(n.Y.hotels),j=l(n.Y.locations_list),_=e=>{let{width:t,height:i,theme:s,url:a}=e;const n=window?Math.max(Math.floor(window.devicePixelRatio),1):1,l=a.replace("{width}",(t*n).toString(10)).replace("{height}",(i*n).toString(10));return s?l.replace("{theme}",s):l},f=e=>{var t;return Boolean(null===(t=e.premium)||void 0===t?void 0:t.overlay)},N=e=>{var t;return null===(t=e.premium)||void 0===t?void 0:t.badge},T=(e,t)=>{const i={trap_id:t,block_type:e.analytics_type,block_context:e.block_context,block_context_id:e.block_context_id,block_order:e.order,title:e.analytics_title};return"type"in e.block&&"category"===e.block_context&&(i.tab_type=e.block.type),a()(i,Boolean)},P=(e,t)=>{const i={trap_id:t,block_type:e.analytics_type,block_context:e.block_context,block_context_id:e.block_context_id,block_order:e.order};return a()(i,Boolean)},C=e=>e.block.places.length<=2,w=e=>e.map((e=>({...e,block:e.block,type:e.type,analytics_type:e.type,analytics_title:"title"in e.block?e.block.title:void 0}))),B=e=>{const t=[];for(const i of e)if(p(i))for(const e of i.block.layers)e.places&&e.button&&t.push({block:e,order:i.order,type:n.Y.layer_carousel,analytics_type:n.Y.layers_list,analytics_title:i.block.title});else t.push(i);return t},S=e=>{const t=[];let i=0;for(const s of e)d(s)||i%2!=1||(t.pop(),i=0),d(s)&&(i+=1),t.push(s);return i%2==1&&t.pop(),t},$=e=>{var t;return{title:e.title,iconUrl:e.emoji.svg,buttonText:null===(t=e.button)||void 0===t?void 0:t.text}}},74963:function(e,t,i){i.r(t),i.d(t,{GuidesFeedWidgetIsomorphicFlags:function(){return j}});var s,a,n,l,r,o,c,d,u,p,m,x,h,v=i(7934),b=i(14581);function k(e,t,i,s){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(s):void 0})}function g(e,t,i,s,a){var n={};return Object.keys(s).forEach((function(e){n[e]=s[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=i.slice().reverse().reduce((function(i,s){return s(e,t,i)||i}),n),a&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(a):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let y=(s=(0,v.si)(),a=(0,v.Xp)(),n=(0,v.dF)({example:!0}),l=Reflect.metadata("design:type",Boolean),o=g((r=class{constructor(){k(this,"enabled",o,this)}}).prototype,"enabled",[s,a,n,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r),j=(c=(0,v.jx)(),d=(0,v.Xp)(),u=(0,b.Type)((()=>y)),p=(0,v.dF)({type:()=>y}),m=Reflect.metadata("design:type",void 0===y?Object:y),h=g((x=class{constructor(){k(this,"guides-exp-feed",h,this)}}).prototype,"guides-exp-feed",[c,d,u,p,m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),x)},12192:function(e,t,i){i.r(t),i.d(t,{GuidesFeedWidget:function(){return Ye}});var s=i(67294),a=i(34840),n=i(12588),l=i(4028),r=i(68131),o=i(13470),c=i(94184),d=i.n(c),u=i(34922),p=i(75427),m=i(31087),x=i(54423),h=i(99641),v=i(36999),b=i(81468),k=i(10178),g=i(85893);const y=e=>{let{className:t,onClick:i}=e;const{t:s}=(0,b.useTranslation)("widget_guides_feed"),l=(0,a.eY)(x.l.$isMobile);return(0,g.jsx)(n.A.Block,{className:d()("gZKcbtYvNEtLFcbqXQmL",t),children:(0,g.jsxs)(k.StatusMessage,{size:l?k.StatusMessageSize.Mobile:k.StatusMessageSize.Desktop,children:[(0,g.jsx)(k.StatusMessage.Icon,{mod:k.StatusMessageIconMods.Warning}),(0,g.jsx)(k.StatusMessage.Title,{children:s("feedError.title")}),(0,g.jsx)(k.StatusMessage.Content,{className:"CHu59zzhS1KpQ3hm1yhl",children:s("feedError.description")}),(0,g.jsx)(k.StatusMessage.Actions,{children:(0,g.jsx)(k.StatusMessage.Action,{onClick:i,children:s("feedError.button")})})]})})};var j=i(74824);const _=()=>(0,g.jsx)("div",{className:"ech2VJ40SV4kPY0_4oe1"});var f="aa2L3tPu_qRaQqPMQfQQ";const N=e=>{let{className:t}=e;return(0,a.eY)(x.l.$isMobile)?(0,g.jsx)("div",{className:f}):(0,g.jsx)(h.qH,{className:d()(t,"wQ8kI1iEBYHZjn6Hb1c5"),children:(0,g.jsx)("div",{className:f,children:(0,g.jsx)("div",{className:"nZJdSP4q2mr6vmVhsd_s"})})})};const T=()=>(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"ywUF3odZra6l9SRGAJZo"}),(0,g.jsx)("div",{className:"hvoXPuM31GKG_wiOY2I7"})]}),P=()=>{if((0,a.eY)(x.l.$isMobile))return null;const e=new Array(4).map(((e,t)=>(0,g.jsx)(T,{},t)));return(0,g.jsxs)(h.qH,{className:"lLk71v5_6XWYXvSCoepw",children:[(0,g.jsx)("div",{className:"w_uEt6j3VQvBLNTovaiq"}),(0,g.jsx)("div",{className:"vLTq3PFBDBhbQ9Gt0BBp",children:e}),(0,g.jsx)("div",{className:"A5XHX6pPugRK3STY86r2"})]})},C=e=>(0,g.jsxs)("div",{className:d()("RYEhzlSQRdFCIASxROda",e.className),children:[(0,g.jsx)(_,{}),(0,g.jsx)(N,{}),(0,g.jsx)(P,{})]});var w="iLO8R4A05CtsK9Hom8b2",B="hvsT_hXxM_QgbBjp4_0e",S="_GKwux2XrOgXztCbGknP",$="a6i4RZroa7fAVhFxdklx",I=i(866);const M=e=>{let{block:t,className:i}=e;return(0,g.jsx)("div",{className:i,children:(0,g.jsxs)("div",{className:"V_wBBqKJeTIE8sJ77c05",children:[(0,g.jsx)(I.Text,{className:"KSZPkawRPEIbcYuK4dA6",type:I.TextType.Title2Bold,children:t.title}),t.subtitle&&(0,g.jsx)(I.Text,{type:I.TextType.Body2Paragraph,mobileType:I.TextType.Body1Paragraph,children:t.subtitle})]})})};var A=i(31175),L=i(41671),R={trapPreview:"x5iP1MxeEGJzOpU02NxO",header:"HMXPcDXmzN1a6dvTk6Zg",image:"rRsVlWDl0WQWCrFTBsXw",map:"yp4d9YouIMzeppNGnDvb",imageWrapper:"LnhCtO1ng8dUdmDs89wD",bubble:"_I7kzqAYy2RjGsNVg45u",bubbles:"RYPKgIDjCa0TOVwfpIqP",bubblesRow:"qGWDMUfzt5hGEPJsYaXA"},Y=i(98968),F=i(20631);let z;!function(e){e[e.S=0]="S",e[e.M=1]="M",e[e.L=2]="L"}(z||(z={}));const H=e=>{switch(e){case z.L:return F.TextType.Body2Semi;case z.M:return F.TextType.Body3Semi;case z.S:return F.TextType.CaptionSemi;default:return F.TextType.Body2Semi}},E=e=>{let{iconUrl:t,title:i,className:s,size:a=z.L}=e;return(0,g.jsxs)("div",{className:d()("BhcnmjUCY8jqZ1oeguml",s),children:[t&&(0,g.jsx)(h.Mf,{imageAlt:"",imageUrl:t,className:d()("JwVmhLpquMZVw085uQ0R",a===z.M&&"ZTeif2EyTmrV54Ejjxwq",a===z.S&&"XtCOnadHC7DeTzAphmMn")}),(0,g.jsx)(F.Text,{type:H(a),children:i})]})},U=(e,t)=>(0,g.jsx)(E,{className:R.bubble,title:e.title,iconUrl:e.emoji.svg,size:t},e.id),D=e=>{let{block:t,onClick:i}=e;const n=(0,a.eY)(A.H.outputs.$theme),{bubblesRef:l,mapRef:r,currentSize:o,shouldRemoveLongestBubble:c}=(()=>{const{ref:e,width:t,isAlreadyRendered:i}=(0,F.useResizeObserver)(),{ref:a,width:n,isAlreadyRendered:l}=(0,F.useResizeObserver)(),[r,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(z.L),u=i||l,p=t-n,m=(0,L.D9)(u?p:0);return(0,s.useEffect)((()=>{if(u&&m&&m!==p&&p<=24)switch(c){case z.L:return void d(z.M);case z.M:d(z.S);break;case z.S:if(!0===r)return;o(!0),d(z.L)}}),[u,m,p,c,r]),{bubblesRef:a,mapRef:e,currentSize:c,shouldRemoveLongestBubble:r}})(),u=(0,s.useMemo)((()=>(0,Y.oQ)({url:t.trap_preview.image_url,theme:n,width:311,height:128})),[t,n]),{isImageLoaded:p,onImageLoad:m}=(0,L.h3)(u),x=t.layers,v=(0,s.useMemo)((()=>x.length>4?x.slice(0,3):x.slice(0,4)),[x]),b=(0,s.useMemo)((()=>c?(e=>{const t=e.reduce(((e,t)=>t.title.length>e.title.length?t:e));return e.filter((e=>e.id!==t.id))})(v):v),[v,c]),k=x.length>(c?3:4),y=b.slice(0,2),j=b.slice(2);return(0,g.jsxs)(h.qH,{className:R.trapPreview,children:[t.header&&(0,g.jsx)(I.Text,{className:R.header,type:I.TextType.Title4Bold,children:t.header}),(0,g.jsxs)("div",{ref:r,className:R.map,onClick:i,children:[(0,g.jsx)(h.vZ,{radius:10,className:R.imageWrapper,children:(0,g.jsx)("img",{className:d()(R.image,R.transition,p&&R.visible),onLoad:m,src:u})}),(0,g.jsxs)("div",{ref:l,className:R.bubbles,children:[(0,g.jsx)("div",{className:R.bubblesRow,children:y.map((e=>U(e,o)))}),j.length>0&&(0,g.jsxs)("div",{className:R.bubblesRow,children:[j.map((e=>U(e,o))),k&&(0,g.jsx)(E,{className:R.bubble,size:o,title:"+"+(x.length-b.length)})]})]})]}),(0,g.jsx)(h.of,{onClick:i,children:t.button.text})]})};var V,q=i(88956);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Q.apply(this,arguments)}var O=function(e){return s.createElement("svg",Q({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),V||(V=s.createElement("path",{d:"M14.5 1h-6m6 0l-5 5m5-5v6M1.5 15h6m-6 0l5-5m-5 5V9",stroke:"#fff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))};const G=e=>{let{children:t,className:i,onClick:s}=e;return(0,g.jsx)(q.Button,{className:d()("d0QcyPa8HCBNYZvBVxFS",i),priority:q.ButtonPriority.Primary,size:q.ButtonSize.Custom,onClick:s,children:(0,g.jsxs)("div",{className:"Mw6SCM9q7aji4suQL5oC",children:[(0,g.jsx)(O,{className:"Rv2Q2m4UltFkcrhfqp26"}),t]})})};const Z=e=>{let{block:t,onClick:i}=e;const{mapStyles:s,placeData:n,districtPins:l}=(0,a.eY)({mapStyles:r.vT.mapStyle.outputs.$data,placeData:r.vT.place.outputs.$data,districtPins:r.vT.place.outputs.$districtPins});return s&&n?(0,g.jsxs)(h.qH,{className:"KWI2zm7nG1YYMbmEdwgo",children:[t.header&&(0,g.jsx)(I.Text,{className:"NYwVEutUIs0LQU6SdH_1",type:I.TextType.Title3Bold,children:t.header}),(0,g.jsx)("div",{className:"xPG8FEEEQ8b_dh56yFEA",onClick:i,children:(0,g.jsx)(h.c3,{mapStyle:s,zoom:n.start_zoom,startPoint:n.start_point,className:"cUZGngZdGwVYQo83mQMH",children:null==l?void 0:l.map((e=>(0,g.jsx)(h.zJ,{pin:e},e.id)))})}),(0,g.jsx)(G,{className:"wcHegghG3Samymv_WPN_",onClick:i,children:t.button.text})]}):(0,g.jsx)(N,{className:"tDjw7BiJrYCUL5AqknVK"})},J=e=>(0,a.eY)(x.l.$isMobile)?(0,g.jsx)(D,{...e}):(0,g.jsx)(Z,{...e});const W=e=>{var t;let{block:i,onPinClick:s,onShowPlacesClick:n}=e;return(0,a.eY)(x.l.$isMobile)?(0,g.jsx)(h.HY,{...(0,Y.bF)(i),onButtonClick:()=>n(i.id),children:i.places.map((e=>(0,g.jsx)(h.d$,{title:e.name,subtitle:e.description,url:e.image_url,onClick:()=>s(i.id,e.id),icon:(0,Y.VJ)(e),showOverlay:(0,Y._e)(e)},e.id)))}):(0,g.jsx)(h.Ri,{title:i.title,iconUrl:i.emoji.svg,buttonText:null===(t=i.button)||void 0===t?void 0:t.text,onButtonClick:()=>n(i.id),className:"i_RsXU5ZWS2uRmFShwo8",children:(0,g.jsx)("div",{className:"tm_yV7MYn2PdeY0GtPiP",children:i.places.slice(0,2).map((e=>(0,g.jsx)(h.ek,{onClick:()=>s(i.id,e.id),image:t=>{let{className:i}=t;return(0,g.jsx)(h.vZ,{className:i,radius:14,children:(0,g.jsx)(h.G0,{imageUrl:e.image_url,size:170,caption:e.name,icon:(0,Y.VJ)(e),showOverlay:(0,Y._e)(e)})})},content:()=>(0,g.jsx)(I.Text,{className:d()("mxYQARZBr67fCgeeGRhW"),type:I.TextType.Body2Regular,truncateMode:I.TruncateTextMode.TwoLines,children:e.name})},e.id)))})})};function K(e,t){return e?151:t?374:181}const X=e=>{var t;let{block:i,shouldShrink:n=!1,onPinClick:l,onShowPlacesClick:r}=e;const o=(0,a.eY)(x.l.$isMobile),c=e=>i.places.slice(0,e),u=(0,s.useMemo)((()=>o?i.places.length%2==0?i.places:c(i.places.length-1):c(5)),[o]);return(0,g.jsx)(h.Ri,{buttonText:null===(t=i.button)||void 0===t?void 0:t.text,iconUrl:i.emoji.svg,title:i.title,onButtonClick:()=>r(i.id),children:(0,g.jsx)("div",{className:d()("ewmMgjgfGAhgTRcKYxvQ",n&&"ha3v6NXDyjt4gHWTbudp"),children:u.map(((e,t)=>{const s=0===t&&u.length>=5;return(0,g.jsx)(h.ek,{className:s?"MRFBBc9WOmVDyIgLdByR":void 0,onClick:()=>l(i.id,e.id),image:t=>{let{className:a}=t;return(0,g.jsx)(h.vZ,{radius:14,className:a,onClick:()=>l(i.id,e.id),children:(0,g.jsx)(h.G0,{imageUrl:e.image_url,size:K(Boolean(o),s),icon:(0,Y.VJ)(e),showOverlay:(0,Y._e)(e)})},e.id)}},e.id+1)}))})})};const ee=e=>{let{iconUrl:t,title:i,subtitle:s,icon:a,onClick:n}=e;return(0,g.jsx)(F.Button,{className:"QZXl1BOpwJSWeArOJVGa",onClick:n,priority:F.ButtonPriority.Tertiary,mod:F.ButtonMod.Custom,children:(0,g.jsxs)(F.Button.Label,{className:"baBZ1lsb1b5fEVf5ZKs9",children:[(0,g.jsx)("img",{className:"HYzWdlWH3Qy6oavv6QZC",src:t}),(0,g.jsxs)("div",{className:"NiiCDOVw9LqiKMcnYi0n",children:[(0,g.jsxs)("div",{className:"kFAYVBGnWI64NNsqJqiZ",children:[(0,g.jsx)(F.Text,{className:"P85hBL0PtqZmQGkv4LGh",type:F.TextType.Body1Semi,children:i}),a&&(0,g.jsx)(h.TC,{badge:a,isSmall:!0,className:"gF48GneKMzSRwyLmNJLd"})]}),(0,g.jsx)(h.AT,{type:F.TextType.CaptionRegular,children:s})]}),(0,g.jsx)(F.Icon16ControlsDisclosure,{className:"IJQWLLN2FC_m3ThjVrV6"})]})})};const te=e=>{let{block:t,onLayerClick:i}=e;return(0,g.jsxs)(h.qH,{className:"efspq1NpYWrZqJ3b66yh",children:[(0,g.jsx)(F.Text,{className:"H1Lnzuyp0ZgrxD8_Koj9",type:F.TextType.Title3Bold,children:t.title}),(0,g.jsx)("div",{children:t.layers.map((e=>{var t;return(0,g.jsx)(ee,{title:e.title,subtitle:e.subtitle,iconUrl:e.emoji.svg,icon:null===(t=e.premium)||void 0===t?void 0:t.badge,onClick:()=>i(e.id)},e.id)}))})]})},ie=e=>{let{block:t}=e;const{providerClickAnalytics:i,trapId:s}=(0,a.eY)({providerClickAnalytics:o.guidesFeedPublicApi.analytics.inputs.providerClick,trapId:o.guidesFeedPublicApi.feed.outputs.$trapId});return(0,g.jsx)(h.Cl,{providers:t.providers,onProviderClick:e=>{s&&i(e)}})};const se=e=>(0,g.jsxs)(h.qH,{className:"cbZCe4j4gIqgaw5rrd8V",children:[(0,g.jsx)(F.Text,{className:"kX2DDtmNhv6fOgeqo2zs",type:F.TextType.Title3Bold,children:e.block.title}),(0,g.jsx)("div",{className:"kum9HqOlaw7ItQ0XnVX2",children:e.block.places.map((t=>(0,g.jsx)(h.ek,{image:e=>{let{className:i}=e;return(0,g.jsx)(h.vZ,{className:i,radius:14,children:(0,g.jsx)(h.G0,{imageUrl:t.image_url,size:151,caption:t.name,icon:(0,Y.VJ)(t),showOverlay:(0,Y._e)(t)})})},content:e=>{let{className:i}=e;return(0,g.jsx)(F.Text,{className:d()("aKSYcXdAQGe0dlfoNlMg",i),type:F.TextType.Body2Regular,truncateMode:F.TruncateTextMode.TwoLines,children:t.name})},onClick:()=>e.onPinClick(void 0,t.id)},t.id)))})]});var ae=i(97650);const ne=(0,s.createContext)(null),le=e=>{let{children:t}=e;const i=(0,s.useRef)(new Set),n=(0,a.eY)(o.guidesFeedPublicApi.feed.outputs.$trapId);return(0,s.useEffect)((()=>{i.current.clear()}),[n]),(0,g.jsx)(ne.Provider,{value:i,children:t})},re=e=>{let{blockItem:t,children:i,className:n,threshold:l=.75}=e;const[r,c]=(0,ae.YD)({threshold:l}),{sendBlockShowedAnalytics:d,trapId:u}=(0,a.eY)({sendBlockShowedAnalytics:o.guidesFeedPublicApi.analytics.inputs.blockShowed,trapId:o.guidesFeedPublicApi.feed.outputs.$trapId}),p=(0,s.useContext)(ne),m=(0,s.useCallback)((()=>{u&&(null==p||p.current.add(t.order),d((0,Y.$c)(t,u)))}),[t,u,d]);return(0,s.useEffect)((()=>{!c||null!=p&&p.current.has(t.order)||m()}),[c,t.order,m]),(0,g.jsx)("div",{className:n,ref:r,children:i})};const oe=e=>{var t;let{block:i}=e;const n=(0,a.eY)(o.guidesFeedPublicApi.analytics.inputs.textExpandClick),[l,r]=(0,s.useState)((()=>{var e;return Boolean(null===(e=i.expanded)||void 0===e?void 0:e.button_text)})),[c,d]=(0,s.useState)((()=>i.text)),u=(0,s.useCallback)((()=>{var e;r((e=>!e)),d((null==i||null===(e=i.expanded)||void 0===e?void 0:e.text)??i.text),n()}),[i,n]);return(0,g.jsxs)("div",{className:"fqpw6yfUWP7QYQFXl6mX",children:[(0,g.jsx)(h.Jv,{type:I.TextType.Body1Paragraph,transformOnMobile:!0,children:c}),l&&(0,g.jsx)("div",{className:"ZN8rTltepQMjfCA5nzdi",children:(0,g.jsx)("button",{className:"_3kysZzqLYvhFbVcIum2",type:"button",onClick:u,children:(0,g.jsx)(I.Text,{type:I.TextType.Body1Paragraph,mobileType:I.TextType.Body2Regular,children:null===(t=i.expanded)||void 0===t?void 0:t.button_text})})})]})};var ce=i(61863),de="_N8ecFBtLlqFMh3vsDrn",ue=i(80625);const pe=e=>{let{badges:t}=e;return t?(0,g.jsx)("div",{className:"FKByAfpo73sjNo9UgEh0",children:t.map(((e,t)=>{var i;return(0,g.jsx)(ue.Badge,{priority:ue.BadgePriority.Primary,className:"K5tWVaxpQ7LW61KgkARH",size:ue.BadgeSize.S,customHexColor:e.style.background_color,children:(0,g.jsxs)("div",{className:"dD_4vtl0p_UurZBo8zI9",children:[(null===(i=e.icon)||void 0===i?void 0:i.svg)&&(0,g.jsx)("img",{className:"K8mxscuMwJ63NzmLcLE4",alt:"",src:e.icon.svg}),(0,g.jsx)(I.Text,{type:I.TextType.Body3Semi,truncateMode:I.TruncateTextMode.SingleLine,style:{color:e.style.text_color},children:e.text})]})},t)}))}):null},me=e=>{var t;let{block:i,onShowPlacesClick:s,onPinClick:n}=e;var l,r;return(0,a.eY)(x.l.$isMobile)?(0,g.jsx)(h.HY,{...(0,Y.bF)(i),buttons:(0,g.jsx)(h.WB,{text:null===(t=i.landing_button)||void 0===t?void 0:t.text,cashBackType:ce.N9.CashbackHotelTrap}),onButtonClick:()=>s(i.id),children:i.places.map((e=>(0,g.jsx)(h.d$,{title:e.name,subtitle:e.description,url:e.image_url,className:de,onClick:()=>n(i.id,e.id),children:(0,g.jsx)(pe,{badges:e.badges})},e.id)))}):(0,g.jsx)(h.Ri,{buttonText:null===(l=i.button)||void 0===l?void 0:l.text,iconUrl:i.emoji.svg,title:i.title,onButtonClick:()=>s(i.id),buttons:(0,g.jsx)(h.WB,{text:null===(r=i.landing_button)||void 0===r?void 0:r.text,cashBackType:ce.N9.CashbackHotelTrap}),children:(0,g.jsx)("div",{className:"IWsfmRSaeEiRNYo0zmXw",children:i.places.slice(0,4).map((e=>(0,g.jsx)(h.ek,{className:de,onClick:()=>n(i.id,e.id),image:t=>{let{className:s}=t;return(0,g.jsxs)(h.vZ,{radius:14,className:s,onClick:()=>n(i.id,e.id),children:[(0,g.jsx)(h.G0,{size:181,imageUrl:e.image_url}),(0,g.jsx)(pe,{badges:e.badges})]},e.id)},content:()=>(0,g.jsxs)("div",{className:"a1YTBafmzH6mdXfLi0py",children:[(0,g.jsx)(I.Text,{type:I.TextType.Body2Regular,truncateMode:I.TruncateTextMode.TwoLines,children:e.name}),(0,g.jsx)(I.Text,{type:I.TextType.Body3Regular,className:"bXRP4sg9G2uD84gQmNdX",truncateMode:I.TruncateTextMode.SingleLine,children:e.description})]})},e.id)))})})};const xe=e=>{const t=e.length>=8?8:4;return e.slice(0,t)},he=e=>{var t;let{block:i,onPinClick:s,onShowPlacesClick:n}=e;return(0,a.eY)(x.l.$isMobile)?(0,g.jsx)(h.HY,{...(0,Y.bF)(i),onButtonClick:()=>n(i.id),children:i.places.map((e=>(0,g.jsx)(h.d$,{title:e.name,subtitle:e.description,url:e.image_url,imageWidth:140,className:"NoYlZmauA7veqEjMsThd",titleTextType:I.TextType.Body2Regular,onClick:()=>s(i.id,e.id),icon:(0,Y.VJ)(e),showOverlay:(0,Y._e)(e)},e.id)))}):(0,g.jsx)(h.Ri,{buttonText:null===(t=i.button)||void 0===t?void 0:t.text,iconUrl:i.emoji.svg,title:i.title,onButtonClick:()=>n(i.id),children:(0,g.jsx)("div",{className:"FdG2tqv9YHViMK269njC",children:xe(i.places).map((e=>(0,g.jsx)(h.ek,{onClick:()=>s(i.id,e.id),image:t=>{let{className:a}=t;return(0,g.jsx)(h.vZ,{radius:14,className:a,onClick:()=>s(i.id,e.id),children:(0,g.jsx)(h.G0,{imageUrl:e.image_url,size:181,caption:e.name,icon:(0,Y.VJ)(e),showOverlay:(0,Y._e)(e)})},e.id)},content:()=>(0,g.jsx)(I.Text,{type:I.TextType.Body2Regular,className:"uMDQWsutNcGEeKeWS5oM",truncateMode:I.TruncateTextMode.TwoLines,children:e.name})},e.id)))})})};const ve=e=>{let{block:t,className:i}=e;const{emoji:s,text:a}=t;return(0,g.jsxs)(h.Qu,{className:d()("vMRb4NbuJ8tYVjet4qFB",i),children:[(0,g.jsx)(h.Qu.Icon,{className:"HWf9oAJrnR_irtU0pEtI",src:s.svg}),(0,g.jsx)(h.Qu.Text,{text:a,type:F.TextType.Body1Paragraph,mobileType:F.TextType.Body3Paragraph})]})};const be=e=>{var t;let{img:i,zIndex:s}=e;const n=(0,a.eY)(x.l.$isMobile)?44:52,l=(0,Y.oQ)({url:i.url,width:n,height:n}),{isImageLoaded:r,onImageLoad:o}=(0,L.h3)(l);return(0,g.jsx)("div",{className:"CxhdAQeAHTPuAVwV96Ti",style:{zIndex:s},children:(0,g.jsx)("img",{className:d()("oLsdVabM7GZouu9XOYqQ",r&&"xUAPztjye1wgRbYkNF7T"),src:l,alt:(null===(t=i.description)||void 0===t?void 0:t.text)??"",onLoad:o})})},ke=e=>{let{block:t,isFirstBlock:i}=e;return(0,g.jsxs)("div",{className:d()("PK_oJSHjbkEK14R3gtqV",!i&&"Bde93JA5m8RzTVWSxv17"),children:[(0,g.jsxs)("div",{className:"KVUgoBX9LWUlie9mLG9M",children:[(0,g.jsx)(I.Text,{className:"SDlfSDvAHrSI5bRrFwcr",type:I.TextType.Title2Bold,transformOnMobile:!0,children:t.title}),(0,g.jsx)(I.Text,{className:"jTH2GSCoHckw37cnQHFd",type:I.TextType.Body2Paragraph,children:t.subtitle})]}),(0,g.jsx)("div",{className:"ol_h7pNwahgdp_4LT2K2",children:t.images.map(((e,t)=>(0,g.jsx)(be,{img:e,zIndex:t},t)))})]})};var ge=i(81926),ye=i(48475),je=i(53356),_e=i(49434);const fe=e=>{let{hotel:t,className:i}=e;const{t:s}=(0,b.useTranslation)("widget_guides_feed");return(0,g.jsxs)("div",{className:d()("b8P69jmcwf9kz3jI36_r",i),children:[(0,g.jsxs)("div",{className:"Sv9UBcLt4en8J8cQ4cUO",children:[(0,g.jsx)(ue.Badge,{className:"QoJyXFzmU16updGx9HEK",size:ue.BadgeSize.S,color:ue.BadgeColor.Green,borderStyle:ue.BadgeBorderStyle.Brick,children:t.rating}),(0,g.jsx)(h.ME,{value:t.stars})]}),(0,g.jsx)(I.Text,{type:I.TextType.Body2Regular,truncateMode:I.TruncateTextMode.TwoLines,children:t.name}),(0,g.jsxs)("span",{className:"cY38DqomU3gGCZ6lzxsJ",children:[(0,g.jsxs)(I.Text,{className:"Bg3Hrg2SwJhHPb1oZwUr",type:I.TextType.Body1Semi,children:[`${s("hotels.priceFrom")}`," ",(0,g.jsx)(h.fE,{price:t.price_from})]}),(0,g.jsx)(I.Text,{className:"UhRtqKHxJnPXi0_REfry",type:I.TextType.CaptionRegular,children:s("hotels.priceForPeriod")})]})]})};const Ne=e=>{let{pin:t,onHotelClick:i,onViewItem:s}=e;const a=(0,ye.nS)((()=>s(t))),[n]=t.badges,l=(0,je.r)({link:t.search_hotel_link||null,link_v2:t.search_hotel_link_v2||null,openSource:ge.h0.direction_screen});return(0,g.jsx)(h.d$,{ref:a,href:l,title:t.name,url:t.main_photo_url,content:e=>{let{className:i}=e;return(0,g.jsx)(fe,{className:i,hotel:t})},onClick:()=>i({search_hotel_link_v2:(null==t?void 0:t.search_hotel_link_v2)||null,entrypoint:_e.H_.ExploreDirectionHotels}),className:"JkjCb6skK2M15kLn79jl",children:(0,g.jsx)(ue.Badge,{className:"kVNyRlxWDGvl6ASuEAtw",size:ue.BadgeSize.S,customHexColor:n.color,children:n.name})},t.id)},Te=e=>{var t;let{block:i,onHotelClick:s,onMoreHotelsClick:a,onViewItem:n}=e;return(0,g.jsx)(h.HY,{title:i.title,iconUrl:i.emoji.svg,buttonText:i.button.text,buttonLink:i.data.search_location_link,buttons:(0,g.jsx)(h.WB,{text:null===(t=i.landing_button)||void 0===t?void 0:t.text,cashBackType:ce.N9.CashbackHotelSerp}),onButtonClick:()=>a(i.data.search_location_link),children:i.data.hotels.map((e=>(0,g.jsx)(Ne,{pin:e,onHotelClick:s,onViewItem:n},e.id)))})};const Pe=e=>{let{pin:t,onHotelClick:i,onViewItem:s}=e;const a=(0,ye.nS)((()=>s(t))),[n]=t.badges,l=(0,je.r)({link:t.search_hotel_link||null,link_v2:t.search_hotel_link_v2||null,openSource:ge.h0.direction_screen});return(0,g.jsx)(h.ek,{ref:a,href:l,onClick:()=>i({search_hotel_link_v2:(null==t?void 0:t.search_hotel_link_v2)||null,entrypoint:_e.H_.ExploreDirectionHotels}),image:e=>{let{className:i}=e;return(0,g.jsx)(h.vZ,{radius:14,className:i,children:(0,g.jsxs)("div",{className:"HOezDuYRzvVdzprdhTr2",children:[(0,g.jsx)(h.G0,{size:181,imageUrl:t.main_photo_url}),(0,g.jsx)(ue.Badge,{className:"lvGwAXHNcGkgzfyUeVmg",size:ue.BadgeSize.S,customHexColor:n.color,children:n.name})]})})},content:()=>(0,g.jsx)(fe,{hotel:t})})},Ce=e=>{var t;let{block:i,onHotelClick:s,onMoreHotelsClick:a,onViewItem:n}=e;return(0,g.jsx)(h.Ri,{buttonText:i.button.text,iconUrl:i.emoji.svg,title:i.title,buttonLink:i.data.search_location_link,buttons:(0,g.jsx)(h.WB,{text:null===(t=i.landing_button)||void 0===t?void 0:t.text,cashBackType:ce.N9.CashbackHotelSerp}),onButtonClick:()=>a(i.data.search_location_link),children:(0,g.jsx)("div",{className:"HakzZP4uYYXiOXyz13k7",children:i.data.hotels.slice(0,4).map((e=>(0,g.jsx)(Pe,{pin:e,onViewItem:n,onHotelClick:s},e.id)))})})},we=e=>{let{block:t}=e;const{isMobile:i,onHotelClick:s,sendShowMoreHotelsClickedAnalytics:n,sendHotelItemShowedAnalytics:l}=(0,a.eY)({isMobile:x.l.$isMobile,onHotelClick:ge.$o.inputs.hotelClicked,sendShowMoreHotelsClickedAnalytics:o.guidesFeedPublicApi.analytics.inputs.showMoreHotelsClicked,sendHotelItemShowedAnalytics:o.guidesFeedPublicApi.analytics.inputs.hotelItemShowed}),r=i?Te:Ce;return(0,g.jsx)(r,{block:t,onHotelClick:s,onMoreHotelsClick:e=>{n({click_url:e})},onViewItem:l})};var Be=i(88946);const Se=e=>{let{location:t,isLong:i,className:s,slug:n}=e;const l=(0,a.eY)(o.guidesFeedPublicApi.nearbyParks.inputs.openPark),r=Boolean(t.subtitle);return(0,g.jsx)(F.Button,{className:d()("WodlOtdNHCtZbCXWYh9e",s),priority:F.ButtonPriority.Tertiary,mod:F.ButtonMod.Custom,onClick:()=>{l(n)},children:(0,g.jsxs)(F.Button.Label,{className:"S1OvTpl7ovnQBXjQKglF",children:[(0,g.jsx)(h.vZ,{radius:8,className:"OVMc8aPJ18v0ZYvb5sB9",children:(0,g.jsx)(Be.E,{source:t.image_url,size:56,caption:"",className:"wJ4doKcT0Q4gHacSSBz8"})}),(0,g.jsxs)("div",{className:"ulAsBSOOrbJT9Kjwm0Bl",children:[(0,g.jsxs)("div",{className:d()("CcKxtwUKxnIRqnJ1DJIZ",i&&"cyq4xUCfh58yJz9F1UUx"),children:[(0,g.jsx)(F.Text,{truncateMode:r?F.TruncateTextMode.SingleLine:F.TruncateTextMode.TwoLines,type:F.TextType.Body2Semi,children:t.title}),r&&(0,g.jsx)(F.Text,{truncateMode:F.TruncateTextMode.SingleLine,className:"xNRkQUV8LoPW6gxLIoaw",type:F.TextType.Body3Regular,children:t.subtitle})]}),(0,g.jsx)(F.Icon16ControlsDisclosure,{className:"AMX1K1utQJIi_Yt5f7wm"})]})]})})};const $e=e=>{let{className:t}=e;return(0,g.jsx)("div",{className:d()("PTXJ9ASAL5GST3d33gpR",t)})};var Ie="Jbu47YnDwVkE5k5eAVbw",Me="L3fm3oh0xrlFLRizd5Ac",Ae="WJ8ORE_p6BxgID__mlQ0";const Le=e=>{let{block:t}=e;const{locations:i,locationsLoading:s}=(0,a.eY)({locations:o.guidesFeedPublicApi.nearbyParks.outputs.$data,locationsLoading:o.guidesFeedPublicApi.nearbyParks.outputs.$pending}),n=t.locations.filter((e=>"direction_screen"===e.navigation.type)),{length:l}=n;return 0===l?null:s?(0,g.jsx)("ul",{className:Ie,children:n.map(((e,t)=>(0,g.jsx)($e,{className:d()(Me,1===l&&Ae)},t)))}):(0,g.jsx)("ul",{className:Ie,children:n.filter((e=>null==i?void 0:i[e.navigation.ark_id])).map((e=>(0,g.jsx)("li",{className:d()(Me,1===l&&Ae),children:(0,g.jsx)(Se,{location:e,isLong:1===l,slug:i[e.navigation.ark_id].slug})},e.navigation.ark_id)))})},Re=()=>{const{data:e,direction:t,isError:i,isLoading:n,isMobile:l,trapId:r,openModal:c,openPoi:b,refetch:k,isArkId:_}=(0,a.eY)({data:j.L.outputs.$data,isLoading:j.L.outputs.$pending,isError:j.L.outputs.$failed,refetch:j.L.inputs.fetch,openModal:u.IK.modal.inputs.open,openPoi:p.Y.inputs.open,trapId:o.guidesFeedPublicApi.feed.outputs.$trapId,isMobile:x.l.$isMobile,direction:v.Rn.outputs.$direction,isArkId:v.Rn.outputs.$isArkId}),f=(0,s.useCallback)((e=>(i,s)=>{s?b({layer:i??null,poi:s,direction:t,openSource:m.Ur.DIRECTION,poiOpenSource:m.sL.feed,analytics:(0,Y.GF)(e,r)}):c({layer:i??null,analytics:(0,Y.GF)(e,r),openSource:m.Ur.DIRECTION,direction:t})}),[t,c,b,r]),N=(0,s.useMemo)((()=>null==e?void 0:e.items.map(((e,t)=>{if((0,Y.vD)(e))return(0,g.jsx)(re,{className:d()(B,$),blockItem:e,children:(0,g.jsx)(ke,{isFirstBlock:0===t,block:e.block})},t);if((0,Y.WE)(e))return(0,g.jsx)(M,{className:d()(B,$),block:e.block},t);if((0,Y.vw)(e))return(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(J,{block:e.block,onClick:()=>f(e)()})},t);if((0,Y.j2)(e))return(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(he,{block:e.block,onPinClick:f(e),onShowPlacesClick:f(e)})},t);if((0,Y.Y5)(e))return(0,g.jsx)(re,{className:d()(!l&&w,S),blockItem:e,children:(0,g.jsx)(h.Z9,{block:e.block})},t);if((0,Y.O9)(e))return(0,g.jsx)(re,{blockItem:e,className:d()(!l&&w,S),children:(0,g.jsx)(W,{block:e.block,onPinClick:f(e),onShowPlacesClick:f(e)})},t);if((0,Y.F2)(e)){const i=!l&&(0,Y.mn)(e);return(0,g.jsx)(re,{className:d()(i?w:B,S),blockItem:e,children:(0,g.jsx)(X,{block:e.block,shouldShrink:i,onPinClick:f(e),onShowPlacesClick:f(e)})},t)}return(0,Y.$T)(e)?(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(te,{block:e.block,onLayerClick:f(e)})},t):(0,Y.I2)(e)?(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(ie,{block:e.block})},t):(0,Y.jB)(e)?(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(me,{onPinClick:f(e),onShowPlacesClick:f(e),block:e.block})},t):(0,Y.E7)(e)?(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(we,{block:e.block},t)},t):(0,Y.el)(e)&&l?(0,g.jsx)(re,{className:S,blockItem:e,children:(0,g.jsx)(se,{block:e.block,onPinClick:f(e)})},t):(0,Y.hQ)(e)?(0,g.jsx)(re,{blockItem:e,className:d()(B,S),children:(0,g.jsx)(ve,{block:e.block})},t):(0,Y.dz)(e)?(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(oe,{block:e.block})},t):(0,Y.Dk)(e)?(0,g.jsx)(re,{className:d()(B,S),blockItem:e,children:(0,g.jsx)(Le,{block:e.block})},t):null}))),[e,l,f]);return(_||e)&&n?(0,g.jsx)(C,{className:"Zl5d5GRKYlHZYOQJhmNr"}):i?(0,g.jsx)(y,{className:"zVRR6XOjeGIb2NI0dSB7",onClick:k}):(0,g.jsx)("div",{className:"ryqa6YAj91RDFpHp4Mvf",children:N})};const Ye=()=>{const{isWidgetEnabled:e,isVisible:t,readyToFetch:i,error:c}=(0,a.eY)({isWidgetEnabled:l.qF.outputs.$isFeedEnabled,isVisible:o.guidesFeedPublicApi.widget.outputs.$isVisible,readyToFetch:r.vT.place.inputs.readyToFetchFeed,error:o.guidesFeedPublicApi.feed.outputs.$error}),d=404===(null==c?void 0:c.status);return(0,s.useEffect)((()=>(e&&t&&i(!0),()=>{i(!1)})),[i,e,t]),e&&t&&!d?(0,g.jsx)(s.StrictMode,{children:(0,g.jsx)(n.A,{className:"VxrefEy4pQ1U6QNMiny_",children:(0,g.jsx)(le,{children:(0,g.jsx)(Re,{})})})}):null}},47388:function(e,t,i){let s;i.d(t,{Y:function(){return s}}),function(e){e.header="header",e.trap_preview="trap_preview",e.bullets="bullets",e.layer_carousel="layer_carousel",e.layer_grid="layer_grid",e.layers_list="layers_list",e.providers="providers",e.pins_group_2="pins_group_2",e.carousel_expanded="carousel_expanded",e.carousel_compact="carousel_compact",e.bullet="bullet",e.text="text",e.header_with_images="header_with_images",e.hotels="hotels",e.locations_list="locations_list"}(s||(s={}))},74824:function(e,t,i){i.d(t,{L:function(){return C}});var s=i(34943),a=i(46898),n=i.n(a),l=i(76588),r=i(80472),o=i(46627),c=i(36999),d=i(53088),u=i(54423),p=i(81926),m=i(95984),x=i(47388),h=i(98968);const v=(0,s.$e)({and:[{currency:d.y.outputs.$currency,hotelParams:p.$o.outputs.$searchHotelParams,defaultQuery:o.D.outputs.$defaultQuery,trapId:c.Rn.outputs.$direction},e=>{let{trapId:t,currency:i,hotelParams:s,defaultQuery:a}=e;const n={options:"exclude-walks",currency:i,...a,...s};return t&&(n.trap_id=t),n}],or:{sid:"qqkhx1"}}),{$data:b,$status:k,reset:g,start:y,$error:j,$pending:_,$failed:f,__:N}=(0,s.MR)({sid:"-6l7dsd",fn:()=>(0,l.s5)({request:{method:"GET",url:(0,s.$e)({and:[{apiPrefix:o.D.outputs.$apiPrefix,trapId:c.Rn.outputs.$direction},e=>{let{apiPrefix:t,trapId:i}=e;return`${t}/feed/${i}`}],or:{sid:"-q9at9p"}}),query:v,headers:o.D.outputs.$defaultHeaders},response:{contract:(0,r.v)(m.dd),mapData:{source:u.l.$isMobile,fn:(e,t)=>{let{result:i}=e;const s=(0,h.Gs)(i.items),a=n()(h.e,h.h7);return{...i,items:t?s:a(s)}}}}})}),T=b.map((e=>(null==e?void 0:e.travel_map_id)||null)),P=b.map((e=>{const t=null==e?void 0:e.items.find((e=>e.type===x.Y.locations_list));return t?t.block.locations.map((e=>e.navigation.ark_id)):[]})),C={internal:{fetchFx:N.executeFx},inputs:{fetch:y,reset:g},outputs:{$data:b,$status:k,$error:j,$trapId:T,$pending:_,$failed:f,$nearbyLocationsIds:P}}},13470:function(e,t,i){i.r(t),i.d(t,{guidesFeedPublicApi:function(){return Te}});var s=i(34943),a=i(73114);const n={outputs:{$value:(0,s.MT)({isShown:!1,destination:"",origin:"",arkId:""},{and:{updateFilter:a.Ih},sid:"xkdbxh"})}};var l=i(72675),r=i(17514),o=i(97331),c=i(1445);const d=(0,s.$e)({and:[c.q.outputs.$origin,c.q.outputs.$destination,(0,l.x)(r.B.outputs.$isAviaFormActive,o.N.outputs.$isSimpleSearch)],or:{sid:"6ke3gt"}}),u={inputs:{setValidDirection:(0,s.yM)({sid:"e32f5v"}),unsetValidDirection:(0,s.yM)({sid:"2vdt15"}),setPark:(0,s.yM)({sid:"f64b5k"}),unsetPark:(0,s.yM)({sid:"-1b5f0y"})},outputs:{$aviaFormParams:d}};var p=i(96799),m=i(49250),x=i(63246),h=i(54870),v=i(85839);const b=[p.PlaceType.City,p.PlaceType.Airport,p.PlaceType.NationalPark],k=(0,s.UP)({and:[{clock:[u.outputs.$aviaFormParams.updates,x.y.outputs.appInited],source:u.outputs.$aviaFormParams,filter:e=>{let[t,i,s]=e;return(0,v.bx)(t,i,b)&&Boolean(null==t?void 0:t.iata)&&Boolean(null==i?void 0:i.iata)&&s}}],or:{sid:"-fku9i"}});(0,s.UP)({and:[{clock:h.C.outputs.$park,filter:e=>Boolean(null==e?void 0:e.id),fn:e=>({arkId:null==e?void 0:e.id}),target:u.inputs.setPark}],or:{sid:"-qpaz8r"}}),(0,s.UP)({and:[{clock:h.C.outputs.$park,filter:e=>!(null!=e&&e.id),target:u.inputs.unsetPark}],or:{sid:"-q7pk97"}});const g=(0,s.UP)({and:[{clock:[u.outputs.$aviaFormParams.updates,x.y.outputs.appInited],source:u.outputs.$aviaFormParams,filter:e=>{let[t,i,s]=e;return!s||!(0,v.bx)(t,i,b)}}],or:{sid:"d5c106"}});(0,s.UP)({and:[{clock:k,source:m.Vx.$aviaForm,filter:Boolean,fn:e=>{var t;return{origin:e.origin.cityIata,destination:(null===(t=e.destination)||void 0===t?void 0:t.type)===p.PlaceType.City?e.destination.cityIata:e.destination.iata,departDate:e.departDate,returnDate:e.returnDate}},target:u.inputs.setValidDirection}],or:{sid:"-p9mbgt"}}),(0,s.UP)({and:[{clock:g,target:u.inputs.unsetValidDirection}],or:{sid:"-odq91v"}});var y=i(36999);const j=n.outputs.$value.map((e=>e.destination)),_=n.outputs.$value.map((e=>e.arkId));(0,s.UP)({and:[{clock:u.inputs.setValidDirection,source:{searchParameters:n.outputs.$value,isAviaForm:(0,l.x)(r.B.outputs.$isAviaFormActive,o.N.outputs.$isSimpleSearch)},fn:(e,t)=>{let{searchParameters:i,isAviaForm:s}=e;const{destination:a,origin:n,departDate:l,returnDate:r}=t;let o,c;var d;return d=l,Array.isArray(d)||(o=l?(0,p.getDateISO)(l):void 0),(e=>!!e&&Boolean(e.min&&e.max))(r)||(c=r?(0,p.getDateISO)(r):void 0),{...i,isShown:i.arkId?s:Boolean(n)&&Boolean(a)&&n!==a,origin:n,destination:a,departDate:o,returnDate:c}},target:n.outputs.$value}],or:{sid:"-5tymc6"}}),(0,s.UP)({and:[{clock:u.inputs.unsetValidDirection,source:{searchParameters:n.outputs.$value,isAviaForm:(0,l.x)(r.B.outputs.$isAviaFormActive,o.N.outputs.$isSimpleSearch)},fn:e=>{let{searchParameters:t,isAviaForm:i}=e;return{...t,isShown:!!t.arkId&&i,origin:"",destination:""}},target:n.outputs.$value}],or:{sid:"-4az702"}}),(0,s.UP)({and:[{clock:[u.inputs.setPark],source:{searchParameters:n.outputs.$value,isAviaForm:(0,l.x)(r.B.outputs.$isAviaFormActive,o.N.outputs.$isSimpleSearch)},fn:(e,t)=>{let{searchParameters:i,isAviaForm:s}=e,{arkId:a}=t;return{...i,isShown:s,arkId:a}},target:n.outputs.$value}],or:{sid:"-3cvy7o"}}),(0,s.UP)({and:[{clock:u.inputs.unsetPark,source:n.outputs.$value,fn:e=>({...e,isShown:!1,arkId:""}),target:n.outputs.$value}],or:{sid:"-2hjoe3"}}),(0,s.UP)({and:[{source:j,fn:e=>e||null,target:y.Rn.inputs.setDirection}],or:{sid:"h8l3d6"}}),(0,s.UP)({and:[{source:_,filter:e=>Boolean(e),fn:e=>e||null,target:y.Rn.inputs.setDirection}],or:{sid:"hbvuxc"}});const f={direction:u,directionParameters:n};var N=i(77195);const T=(0,s.Fj)({sid:"vk3jf2"}),P=T.createEvent({sid:"-gjqjjx"}),C=f.directionParameters.outputs.$value.map((e=>e.isShown));(0,s.UP)({and:[{clock:c.q.outputs.$destination,target:N.H}],or:{sid:"8uqbhf"}});const w={outputs:{$isVisible:C,initialized:P}};var B=i(74824);const S=T.createEvent({sid:"-r8ucx"}),$=T.createEvent({sid:"-bhi8pp"}),I=T.createEvent({sid:"-kepbxv"}),M=T.createEvent({sid:"-lbgvx2"}),A=T.createEvent({sid:"q7f3m8"}),L=T.createEvent({sid:"-fh2ti2"}),R=T.createEvent({sid:"-1s4zwk"}),Y={inputs:{blockShowed:M,providerClick:T.createEvent({sid:"-brd5j9"}),textExpandClick:L,showMoreHotelsClicked:S,hotelItemShowed:$},internals:{providerClickedAnalytics:A,sendTextExpandAnalitics:R,sendHotelItemShowedAnalitics:I}};var F=i(8681),z=i(49767),H=i(79403),E=i(53088),U=i(53788),D=i(85045),V=i(23190),q=i(91486),Q=i(13099),O=i(35529),G=i(34966);const Z=(0,O.Record)({slug:O.String}),J=(0,O.Record)({entity:Z.extend({type:(0,O.Literal)("NATIONAL_PARK")}).nullable(),content:(0,O.Record)({ark_id:G.J})}),W=(0,O.Union)(J,O.Unknown),K=(0,O.Record)({locations_main_page_v2:(0,O.Array)(W)}),X=e=>e.locations_main_page_v2.reduce(((e,t)=>{if(J.guard(t)){const{entity:i,content:s}=t;e[s.ark_id]={id:s.ark_id,slug:null==i?void 0:i.slug}}return e}),{}),{$brand:ee}=H.U.outputs,{$language:te}=z.l.outputs,{ariadneData:ie}=F.a.inputs,{$currency:se}=E.y.outputs,{$market:ae}=U.D.outputs,{$origin:ne}=c.q.outputs,{$tripClass:le}=D._.outputs,re=(0,s.yM)({sid:"-krxzq3"}),oe=(0,s.MT)([],{sid:"-pn03ub"});(0,s.UP)({and:[{clock:re,target:oe}],or:{sid:"-u2psg8"}});const ce=(0,s.$e)({and:[{ids:oe,language:te,brand:ee,origin:ne,market:ae,currency:se,trip_class:le},e=>{let{ids:t,language:i,brand:s,origin:a,currency:n,market:l,trip_class:r}=e;return{brand:s,locales:[i],input:{ark_ids:t??[],iatas:[],origin:(null==a?void 0:a.cityIata)??(null==a?void 0:a.iata)??"",market:l,currency:n,trip_class:r}}}],or:{sid:"2p8baq"}}),de=ie({graphQL:{query:"\n  query GetLocationsMainPageV2($brand: Brand!, $input: LocationsV2Input!) {\n    locations_main_page_v2(\n      brand: $brand,\n      input: $input,\n    ) {\n      entity {\n        type\n        slug\n      }\n      content {\n        __typename\n        ... on NationalParkContent {\n          ark_id\n        }\n      }\n    }\n  }\n",operationName:"locations_main_page_v2",variables:ce},fetch:{clock:re},contract:K,mapResult:X,validate:e=>{let{result:t}=e;try{return X(t.data),!0}catch{return!1}}}),{$data:ue,$pending:pe}=de,me=(0,s.yM)({sid:"-i63p7m"});(0,s.UP)({and:[{clock:me,fn:()=>q.yh.NearbyLocations,target:Q.Q.inputs.directionSourceUpdated}],or:{sid:"-roxvvw"}}),(0,s.UP)({and:[{source:me,fn:e=>({pathname:`/parks/${e}`}),target:V.D.inputs.navigateTo}],or:{sid:"-rln4bq"}});const xe={inputs:{fetchLocations:re,openPark:me},outputs:{$data:ue,$pending:pe}};var he=i(65740),ve=i(23927),be=i(4028),ke=i(66048),ge=i(56892),ye=i(4114),je=i(88057);const _e=(0,s.UP)({and:[{clock:[je.J.outputs.exact.$departDate.updates,je.J.outputs.exact.$returnDate.updates,ke.l.outputs.$passengers.updates]}],or:{sid:"-mjuxox"}});(0,s.UP)({and:[{clock:[ge.O.outputs.$jwt.updates,be.qF.outputs.$isFeedEnabled.updates,E.y.outputs.$currency.updates,ve.z.outputs.$localeDeprecated.updates,y.Rn.outputs.$direction.updates,_e],source:{locale:ve.z.outputs.$localeDeprecated,direction:y.Rn.outputs.$direction,flag:be.qF.outputs.$isFeedEnabled,isArkId:y.Rn.outputs.$isArkId},filter:e=>{let{direction:t,flag:i,locale:s}=e;return Boolean(s&&t&&i)},fn:e=>{let{direction:t,locale:i,isArkId:s}=e;const a={locale:i};return s?a.ark_id=t:a.iata=t,a},target:B.L.inputs.fetch}],or:{sid:"-ukvydu"}}),(0,s.UP)({and:[{source:y.Rn.outputs.$direction,filter:e=>!e,target:B.L.inputs.reset}],or:{sid:"-t6avsm"}}),(0,he.s)({source:B.L.outputs.$failed,if:Boolean,then:ye.Y.inputs.showHotels,else:ye.Y.inputs.hideHotels}),(0,s.UP)({and:[{source:B.L.outputs.$nearbyLocationsIds,filter:e=>Boolean(e.length),target:xe.inputs.fetchLocations}],or:{sid:"-snlvmc"}});var fe=i(70161),Ne=i(81926);(0,fe.iZ)({from:Y.inputs.blockShowed,data:{action:"showed",label:"trap_content",category:"direction"},payload:{userEvent:!1,source:null}}),(0,s.UP)({and:[{clock:Y.inputs.providerClick,source:{trapId:B.L.outputs.$trapId},filter:e=>{let{trapId:t}=e;return Boolean(t)},fn:(e,t)=>{let{trapId:i}=e,{role:s,contacts:a,order:n}=t;return{trap_id:i,occupation:s,click_url:a[0].url,item_position:n,content_source:"direction"}},target:Y.internals.providerClickedAnalytics}],or:{sid:"fmtplb"}}),(0,fe.iZ)({from:Y.internals.providerClickedAnalytics,data:{action:"clicked",label:"content_providers",category:"direction"},payload:{userEvent:!0}}),(0,fe.iZ)({from:Y.inputs.showMoreHotelsClicked,data:{action:"clicked",label:"hotels",category:"direction"},payload:{userEvent:!0}}),(0,s.UP)({and:[{clock:Y.inputs.textExpandClick,source:{trapId:B.L.outputs.$trapId,location_id:y.Rn.outputs.$direction,location_name:h.C.outputs.$park.map((e=>null==e?void 0:e.slug))},filter:e=>{let{trapId:t}=e;return Boolean(t)},fn:e=>{let{trapId:t,location_id:i,location_name:s}=e;return{trap_id:t,location_id:i??"",location_name:s??""}},target:Y.internals.sendTextExpandAnalitics}],or:{sid:"hjjzrg"}}),(0,fe.iZ)({from:Y.internals.sendTextExpandAnalitics,data:{action:"clicked",label:"trap_description",category:"direction"},payload:{userEvent:!0}}),(0,s.UP)({and:[{clock:Y.inputs.hotelItemShowed,source:E.y.outputs.$currency,fn:(e,t)=>({source:"explore",hotel_id:t.search_hotel_link_v2?(0,Ne.wB)(t.search_hotel_link_v2):void 0,rating:t.rating,stars:t.stars,price_per_night:t.price_from,currency:e}),target:Y.internals.sendHotelItemShowedAnalitics}],or:{sid:"ixl9rb"}}),(0,fe.iZ)({from:Y.internals.sendHotelItemShowedAnalitics,data:{action:"showed",label:"offer",category:"hotels"},payload:{userEvent:!1}});const Te={feed:B.L,widget:w,analytics:Y,nearbyParks:xe}}}]);