"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5514],{80354:function(e,s,t){t.r(s),t.d(s,{seasonalPublicApi:function(){return W}});var n=t(34943),i=t(51081),o=t(3786),a=t(72675),l=t(48695),r=t(65740),u=t(31409),d=t(18446),c=t.n(d),p=t(73114),v=t(64441),f=t(17514),x=t(97331),h=t(10924),A=t(13099),g=t(1971),w=t(1445),m=t(32166),$=t(85839);const b=(0,n.Fj)({sid:"-bkydy8"}),j=b.createEvent({sid:"e2ie25"}),P=(0,n.$e)({and:[v.i.outputs.seasonalFlag.$value,v.i.outputs.howToGetFlag.$value,(e,s)=>!s&&e],or:{sid:"ema08m"}}),{$enabled:_,turnOn:k,turnOff:L}=(0,n.MR)({sid:"i3d4u7",fn:()=>(0,p.qs)()}),{$enabled:E,turnOn:S,turnOff:y}=(0,n.MR)({sid:"nwqdba",fn:()=>(0,p.qs)()}),C=(0,n.$e)({and:[w.q.outputs.$origin,w.q.outputs.$destination,m.P.outputs.$isOneWay,(0,a.x)(f.B.outputs.$isAviaFormActive,x.N.outputs.$isSimpleSearch),(e,s,t,n)=>({origin:e,destination:s,oneWay:t,isAviaFormActive:n})],or:{sid:"lw5xzn"}}),{valid:B,__:N}=(0,n.Vl)({and:[C,{valid:e=>{let{origin:s,destination:t,isAviaFormActive:n}=e;return(0,$.bx)(s,t)&&((0,$.Lh)(t)||(0,$.zd)(t))&&n}}],or:{sid:"rtvbko"}}),O=b.createEvent({sid:"-mqxv4f"}),q=(0,l.C)({source:w.q.outputs.$destination,clock:S});(0,n.UP)({and:[{clock:j,target:[v.i.inputs.requestSeasonalFlags,v.i.inputs.requestHowToGetFlags]}],or:{sid:"v9jsik"}}),(0,r.s)({source:g.Z.outputs.$data,if:e=>Boolean(e&&e.months),then:k,else:L}),(0,n.UP)({and:[{clock:w.q.outputs.$destination,source:q,filter:(e,s)=>Boolean(null==s?void 0:s.iata)&&!c()(e,s),target:y}],or:{sid:"w4w2c5"}}),(0,n.UP)({and:[{clock:B,filter:P,target:g.Z.inputs.requestSeasonal}],or:{sid:"p2whq1"}});const{createReporter:F}=h.I.inputs,D={category:"seasonal",label:"block",service:i.Service.Explore},I={pageName:"main",source:null},M=(0,n.$e)({and:[A.Q.outputs.$exploreId,e=>({exploreId:e,platform:o.formattedPlatformName})],or:{sid:"-ytg11c"}}),T=(0,n.UP)({and:[{clock:S,source:M,filter:(0,u.y)({predicate:Boolean,stores:[A.Q.outputs.$hasExploreId,E]})}],or:{sid:"-7cr3f3"}}),V=(0,n.UP)({and:[{clock:O,source:M,filter:A.Q.outputs.$hasExploreId}],or:{sid:"de3xmo"}}),Y=F({data:{...D,action:"showed"}}),U=F({data:{...D,action:"opened"}});Y({clock:T,payload:e=>({...I,userEvent:!1,...e})}),U({clock:V,payload:e=>({...I,userEvent:!0,...e})});const W={outputs:{$isVisible:_,$isWidgetViewed:E,$isEnabled:P},inputs:{seasonalInitialized:j,viewPreview:S,openModal:O}}},46481:function(e,s,t){t.r(s),t.d(s,{SeasonalWidget:function(){return _}});var n=t(67294),i=t(34840),o=t(81468),a=t(94184),l=t.n(a),r=t(866),u=t(16849),d=t(41671),c=t(12588),p=t(1971),v=t(21297),f=t(60238),x=t(77875),h=t(46845),A=t(97650),g=t(80354);const w="SEASONAL_LIST_MODAL";var m=t(85893);const{SeasonalViewContainer:$}=p.Z.containers,b=()=>{const e=(0,v.useModalBehavior)(w);return(0,m.jsxs)(f.Popup,{...e,padding:[24,48,48],onClose:e.close,children:[(0,m.jsx)(f.Popup.Navigation,{children:(0,m.jsx)(x.Navbar.RightAccessory,{children:(0,m.jsx)(h.CloseButton,{onClick:e.close})})}),(0,m.jsx)($,{})]})};const{SeasonalListPreviewContainer:j}=p.Z.containers,P=()=>{const{t:e}=(0,o.useTranslation)("widget_seasonal"),{data:s,isLoading:t}=(0,i.eY)({data:p.Z.outputs.$data,isLoading:p.Z.outputs.$isDataLoading}),a=function(e){var s;const t=(0,i.eY)(g.seasonalPublicApi.outputs.$isVisible);return!(null==e||null===(s=e.months)||void 0===s||!s.length)&&(!(!(n=e.months)||!n.some((e=>{const s=null!=(null==e?void 0:e.temperature),t=null!=(null==e?void 0:e.season);return s&&t})))&&t);var n}(s),{ref:f}=function(){const{isWidgetViewed:e,viewPreviewFn:s}=(0,i.eY)({isWidgetViewed:g.seasonalPublicApi.outputs.$isWidgetViewed,viewPreviewFn:g.seasonalPublicApi.inputs.viewPreview}),[t,o]=(0,A.YD)({threshold:.75});return(0,n.useEffect)((()=>{o&&!e&&s()}),[e,o,s]),{ref:t}}(),x=function(){const e=(0,i.eY)(g.seasonalPublicApi.inputs.openModal);return(0,n.useCallback)((()=>{(0,v.openModal)(w),e()}),[e])}();return a?(0,m.jsx)("div",{ref:f,children:(0,m.jsx)(d.fw,{name:"fade",in:!0,appear:!s,children:(0,m.jsxs)(c.A,{className:l()(t&&"vlgzGf6V_wxUCXrzW0OA"),children:[(0,m.jsx)(c.A.Header,{children:(0,m.jsx)(c.A.Title,{children:e("title")})}),(0,m.jsxs)(c.A.Block,{className:"kNyh1l8PBhOa4KRuxbC3",children:[(0,m.jsx)(j,{}),(0,m.jsx)("button",{className:"IBM4YJb0xLC9PLn801RA",onClick:x,children:(0,m.jsxs)("span",{className:"vrBzLYhfA_IFwmjp3d8T",children:[(0,m.jsx)(r.Text,{tag:"span",type:r.TextType.Body2Semi,children:e("viewAllYear")}),(0,m.jsx)(u.Icon16ControlsDisclosure,{})]})}),(0,m.jsx)(b,{})]})]})})}):null},_=()=>(0,i.eY)(g.seasonalPublicApi.outputs.$isEnabled)?(0,m.jsx)(n.StrictMode,{children:(0,m.jsx)(P,{})}):null}}]);