"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9092],{19112:function(e,t,r){var a,i,n,s;r.r(t),r.d(t,{GuidesAppBannerIsomorphicFlags:function(){return o}});let o=(a=(0,r(7934).dF)({example:{redirectUrl:""}}),i=Reflect.metadata("design:type","undefined"==typeof MobileAppRedirect?Object:MobileAppRedirect),n=class{constructor(){var e;(e=s)&&Object.defineProperty(this,"avs-feat-mobileAppRedirect",{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(this):void 0})}},l=n.prototype,u="avs-feat-mobileAppRedirect",c=[a,i],d={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}},p={},Object.keys(d).forEach((function(e){p[e]=d[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),void 0===(p=c.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),p)).initializer&&(Object.defineProperty(l,u,p),p=null),s=p,n);var l,u,c,d,p},90438:function(e,t,r){r.r(t),r.d(t,{GuidesAppBannerWidget:function(){return G}});var a=r(67294),i=r(34840),n=r(54423),s=r(34943),o=r(73114),l=r(23190),u=r(34922),c=r(45160);const{$enabled:d,turnOn:p,turnOff:m,toggle:b}=(0,s.MR)({sid:"-p5dyvx",fn:()=>(0,o.qs)(!1)}),g=l.D.outputs.$searchParams.map((e=>e.has("guides_app")));(0,s.UP)({and:[{source:[g,u.IK.modal.outputs.$isOpened,c.y.outputs.$isGuidesPage],filter:e=>{let[t,r,a]=e;return Boolean(r&&t&&a)},target:p}],or:{sid:"-kq8mvs"}});const h={outputs:{$enabled:d},inputs:{turnOn:p,turnOff:m,toggle:b}};var f=r(81468),v=r(82455),x=r(88956),A=r(866),y=r(34194),_=r(25208),j=r(79403),P=r(55556),U=r(74526),w=r(35555),B=r(27897);const $=e=>{let{url:t,marker:r,auid:a,deeplinkUrl:i}=e;const n=new URL(t),s={};n.searchParams.forEach(((e,t)=>{s[t]=e}));const o=new URLSearchParams({...s,af_sub1:r??"",af_sub3:a??"",af_adset:"popup",af_dp:i}).toString();return n.search=`?${o}`,n.toString()},k=B.US.decode("YXZpYXNhbGVz"),{$auid:L}=w.Y.outputs,{$marker:N}=U.W.outputs,{$pathname:O,$hostname:S,$searchParamsPlain:T}=l.D.outputs,z=()=>{const{auid:e,pathname:t,origin:r,searchParams:a}=(0,i.eY)({auid:L,pathname:O,origin:S,searchParams:T});return t.startsWith("/guides")?(e=>{let{searchParams:t,auid:r,hostname:a,pathname:i}=e;return`https://${a}${i}?${new URLSearchParams({...t,utm_source:k,utm_campaign:"mobile-web-redirect",auid:r??""}).toString()}`})({pathname:t,hostname:r,searchParams:a,auid:e}):""};var M={modal:"Knyhbe3XFT0tYoUtP3bm",cardWrapper:"Vq9sQ0Hnl2Ijb9cVlXsw",card:"P5UrLVQzMn3SBt9wIwxA",content:"L9UybB1llV5l7D9q0C5t",openButton:"KMWmbSLUOzX7vqHZY3Ux",inAppText:"qaeAhalX7rGfPeX321Tg",textGroup:"Te4uVj6YVo2ylcK1SC0x",logoGroup:"imqUYezAdNdPqvmhshNg",logoIcon:"Um8DmewKQngScWuw6QMQ",icon:"uvmQV_yGdtFafh7pKUTR",age:"nXakAGoJZyfXMrfO30q2"},R=r(85893);const V=()=>{const{t:e}=(0,f.useTranslation)("widget_guides_app_banner"),{close:t,onelinkUrl:r,isAviasales:a}=(0,i.eY)({close:h.inputs.turnOff,onelinkUrl:P.guidesAppBannerPublicApi.widget.outputs.$onelinkUrl,isAviasales:j.U.outputs.$isAviasalesBrand}),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{auid:t,marker:r}=(0,i.eY)({auid:L,marker:N}),a=z();return $({url:e,auid:t,marker:r,deeplinkUrl:a})}(r);return(0,R.jsx)(v.Modal,{noHeader:!0,visible:!0,onClose:t,className:M.modal,children:(0,R.jsx)("div",{className:M.cardWrapper,children:(0,R.jsxs)("div",{className:M.card,children:[(0,R.jsx)(A.Text,{className:M.age,type:A.TextType.Body3Regular,children:e("ageMarker")}),(0,R.jsxs)("div",{className:M.content,children:[(0,R.jsxs)("div",{className:M.textGroup,children:[(0,R.jsxs)("div",{className:M.logoGroup,children:[(0,R.jsx)(y.Logo,{className:M.logoIcon,onlySign:!0,product:a?y.LogoProduct.Aviasales:y.LogoProduct.Wayaway,size:y.LogoSize.Medium}),(0,R.jsx)(_.Icon24ColorAllowed,{className:M.icon})]}),(0,R.jsx)(A.Text,{className:M.inAppText,type:A.TextType.Title2Bold,children:(0,R.jsx)(f.Trans,{ns:"widget_guides_app_banner",i18nKey:"inApp",components:{br:(0,R.jsx)("br",{})}})})]}),(0,R.jsxs)("div",{className:M.buttons,children:[(0,R.jsx)(x.Button,{className:M.openButton,priority:x.ButtonPriority.Primary,size:x.ButtonSize.M,href:n,children:e("open")}),(0,R.jsx)(x.Button,{priority:x.ButtonPriority.Tertiary,onClick:t,children:e("continueInBrowser")})]})]})]})})})},G=()=>{const{isVisible:e,isMobile:t}=(0,i.eY)({isVisible:h.outputs.$enabled,isMobile:n.l.$isMobile});return t&&e?(0,R.jsx)(a.StrictMode,{children:(0,R.jsx)(V,{})}):null}},55556:function(e,t,r){r.r(t),r.d(t,{guidesAppBannerPublicApi:function(){return l}});var a=r(35529),i=r(65041);const n=(0,r(34943).Fj)({sid:"m56zj4"}),{createFlag:s}=i.f.inputs,o=n.createEvent({sid:"-i3tca1"}),l={widget:{outputs:{initialized:o,$onelinkUrl:s({name:"avs-feat-mobileAppRedirect",contract:(0,a.Record)({redirectLink:a.String}),defaultValue:"",mapValue:e=>{let{redirectLink:t}=e;return t},requestOn:o}).$value}}}}}]);