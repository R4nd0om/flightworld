"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7995],{45429:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(59522),t),o(n(45211),t),o(n(16157),t)},45211:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonthPicker=void 0;var o=r(n(67294)),i=r(n(94184)),a=n(81468),s=n(91298),l=n(866),c=n(95970),u=n(59522),d=r(n(80848)),p=o.default.memo((function(e){var t,n=e.fromMonth,r=e.toMonth,s=e.showToggleAll,p=void 0===s||s,m=e.roundedBorders,f=void 0===m||m,h=e.selected,g=e.disabled,y=e.onMonthClick,b=e.onToggleAllClick,v=e.renderMonthContent,x=e.className,T=e.testId,_=(0,a.useTranslation)("uiKit").t,M=(0,c.useMonthPickerState)(n,r,h),C=M.months,D=M.isSelectedAll,j=(0,c.useHandlers)(b,y,h,C,D),k=j.handleToggleAllClick,S=j.onMonthItemClick;return o.default.createElement("div",{className:x,"data-test-id":null!=T?T:"month-picker"},p&&o.default.createElement("div",{className:d.default.monthPickerHeader},o.default.createElement(l.Text,{type:l.TextType.CaptionAllCaps,className:d.default.toggleAll,onClick:k},_(D?"trip_duration.deprecated.cancelChooseAll":"trip_duration.deprecated.chooseAll"))),o.default.createElement("div",{className:(0,i.default)(d.default.body,(t={},t[d.default.withRoundedBorders]=f,t))},C.map((function(e){var t=(0,c.isMonthInArrayOfMonths)(e,h),n=(0,c.isMonthInArrayOfMonths)(e,g);return o.default.createElement(u.MonthPickerItem,{key:Number(e),month:e,className:d.default.item,isSelected:t,disabled:n,onClick:S},null==v?void 0:v(e,t,n))}))))}),s.propsWithMonthsAreEqual);t.MonthPicker=p},16157:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},95970:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isMonthInArrayOfMonths=t.useHandlers=t.useMonthPickerState=void 0;var o=r(n(67294)),i=r(n(46255)),a=n(91298);t.useMonthPickerState=function(e,t,n){var r=o.default.useMemo((function(){return(0,i.default)({start:e.startDate,end:t.endDate}).map((function(e){return new a.Month(e)}))}),[Number(e),Number(t)]),s=o.default.useMemo((function(){return r.every((function(e){return null==n?void 0:n.some((function(t){return Number(t)===Number(e)}))}))}),[r,n]);return{months:r,isSelectedAll:s}},t.useHandlers=function(e,t,n,r,i){return{handleToggleAllClick:o.default.useCallback((function(){e&&e(r,i)}),[e,r,i]),onMonthItemClick:o.default.useCallback((function(e,n){t&&t(e,n)}),[t])}},t.isMonthInArrayOfMonths=function(e,t){return!!(null==t?void 0:t.some((function(t){return Number(t)===Number(e)})))}},59522:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(10430),t),o(n(76650),t)},10430:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MonthPickerItem=void 0;var s=i(n(67294)),l=a(n(94184)),c=a(n(48403)),u=n(91298),d=n(59518),p=n(866),m=a(n(20515)),f=(0,s.memo)((function(e){var t,n=e.month,r=e.isSelected,o=void 0!==r&&r,i=e.disabled,a=void 0!==i&&i,u=e.onClick,f=e.className,h=e.children,g=(0,s.useCallback)((function(){u&&u(n,o)}),[n,o,u]),y=(0,d.useToken)("ts_month_full",n.startDate);return s.default.createElement("div",{className:(0,l.default)(m.default.item,(t={},t[m.default.isSelected]=o,t[m.default.disabled]=a,t[m.default.withChildren]=!!h,t),f),onClick:g,"data-test-id":"month-picker-item"},s.default.createElement("div",null,s.default.createElement(p.Text,{type:p.TextType.CaptionSemi,className:m.default.year},n.getYear()),s.default.createElement(p.Text,{type:p.TextType.CaptionSemi,className:m.default.month},(0,c.default)(y)),h&&s.default.createElement("div",{"data-test-id":"month-".concat(n.getYear(),"-").concat(n.getMonth(),"-child")},h)))}),u.propsWithMonthsAreEqual);t.MonthPickerItem=f},76650:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},82143:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(79985),t),o(n(66705),t)},96670:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationTab=void 0;var o=r(n(67294)),i=r(n(94184)),a=n(81468),s=n(97413),l=n(88922),c=n(63373),u=n(866),d=r(n(8e4)),p=n(66705),m=o.default.memo((function(e){var t,n,r=e.active,m=e.type,f=e.onClick,h=(0,a.useTranslation)("uiKit").t,g=((t={})[p.TripDurationTabType.Calendar]=o.default.createElement(s.Icon24ControlsCalendarReturn,null),t[p.TripDurationTabType.Months]=o.default.createElement(l.Icon24ControlsCalendarMonth,null),t[p.TripDurationTabType.Range]=o.default.createElement(c.Icon24ControlsCalendarInterval,null),t),y=o.default.useCallback((function(){f&&f(m)}),[m,f]);return o.default.createElement("button",{className:(0,i.default)(d.default.tab,(n={},n[d.default.active]=r,n)),onClick:y,type:"button"},g[m],o.default.createElement(u.Text,{type:u.TextType.FootnoteAllCaps,className:d.default.text},h("trip_duration.deprecated.tabs.".concat(m))))}));t.TripDurationTab=m},79985:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationTabs=void 0;var o=r(n(67294)),i=n(96670),a=r(n(8e4)),s=n(66705),l=o.default.memo((function(e){var t=e.active,n=e.showCalendar,r=void 0===n||n,l=e.showMonth,c=void 0===l||l,u=e.showRange,d=void 0===u||u,p=e.onClick;return o.default.createElement("div",{className:a.default.tabs},r&&o.default.createElement(i.TripDurationTab,{type:s.TripDurationTabType.Calendar,active:t===s.TripDurationTabType.Calendar,onClick:p}),c&&o.default.createElement(i.TripDurationTab,{type:s.TripDurationTabType.Months,active:t===s.TripDurationTabType.Months,onClick:p}),d&&o.default.createElement(i.TripDurationTab,{type:s.TripDurationTabType.Range,active:t===s.TripDurationTabType.Range,onClick:p}))}));t.TripDurationTabs=l},66705:function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationTabType=void 0,(n=t.TripDurationTabType||(t.TripDurationTabType={})).Calendar="calendar",n.Months="months",n.Range="range"},16773:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailableDuration=t.TripDuration=void 0;var o=r(n(67294)),i=r(n(39275)),a=r(n(21593)),s=n(82143),l=n(88458),c=n(41700),u=n(80786),d=r(n(68612));t.TripDuration=function(e){var t=e.hideTabs,n=e.availableDuration,r=e.active,i=e.onTabChange,a=e.showCalendar,p=void 0===a||a,m=e.showMonth,f=void 0===m||m,h=e.showRange,g=void 0===h||h,y=e.withoutReturnText,b=void 0===y?"Обратно не надо":y,v=e.onDone,x=e.onNoReturn,T=e.departureDate,_=e.returnDate,M=e.renderDayContent,C=e.calendarTitleText,D=void 0===C?"Выберите дату":C,j=e.onDaySelect,k=e.onDayMouseEnter,S=e.hideCalendarHeader,w=e.disableNoReturnButton,P=e.selectedMonths,O=e.renderMonthContent,N=e.oneWayPrices,R=e.onOneWayPrices,B=e.onMonthsSelect,E=e.hideOneWayPricesControl,F=e.minRangeValue,A=e.maxRangeValue,z=e.onRangeSelect;return o.default.createElement("div",{className:d.default.container},o.default.createElement("div",null,!t&&o.default.createElement(s.TripDurationTabs,{onClick:i,active:r,showCalendar:p,showMonth:f,showRange:g})),o.default.createElement("div",{className:d.default.content},r===s.TripDurationTabType.Calendar&&p&&o.default.createElement(l.TripDurationCalendar,{from:n.from,to:n.to,departureDate:T,returnDate:_,renderDayContent:M,calendarTitleText:D,withoutReturnText:b,onDaySelect:j,onDayMouseEnter:k,onNoReturn:x,hideCalendarHeader:S,disableNoReturnButton:w}),r===s.TripDurationTabType.Months&&f&&o.default.createElement(c.TripDurationMonthPicker,{from:n.from,to:n.to,selectedMonths:P,renderMonthContent:O,oneWayPrices:N,hideOneWayPricesControl:E,onOneWayPrices:R,onMonthsSelect:B,onDone:v}),r===s.TripDurationTabType.Range&&g&&o.default.createElement(u.TripDurationRange,{from:n.rangeDaysDurationBoundaries.from,to:n.rangeDaysDurationBoundaries.to,withoutReturnText:b,minRangeValue:F,maxRangeValue:A,onRangeSelect:z,onNoReturn:x,onDone:v})))},t.getAvailableDuration=(0,i.default)((function(){return{from:new Date,to:(0,a.default)(new Date,1),rangeDaysDurationBoundaries:{from:1,to:30}}}))},88458:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(40876),t),o(n(85041),t)},40876:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationCalendar=void 0;var l=a(n(67294)),c=n(36402),u=n(29643),d=n(75088),p=n(866),m=n(68638),f=n(45547),h=n(43131),g=s(n(33143)),y=l.default.memo((function(e){var t=e.from,n=e.to,o=e.hideCalendarHeader,i=e.departureDate,a=e.returnDate,s=e.renderDayContent,y=e.calendarTitleText,b=e.withoutReturnText,v=e.onDaySelect,x=e.onDayMouseEnter,T=e.onNoReturn,_=e.disableNoReturnButton,M=void 0!==_&&_,C=(0,l.useState)(void 0),D=C[0],j=C[1],k=(0,c.useCurrentBreakpoint)(u.breakpoints),S=!!(null==k?void 0:k.is([u.BreakpointName.Desktop])),w=(0,l.useCallback)((function(e,t,n){x&&x(e,t,n),j(e)}),[x]),P=(0,h.getSelectedDays)(i,a),O=l.default.useCallback((function(e,t){return l.default.createElement(d.CalendarDay,r({day:e.getDate()},t),null==s?void 0:s(e,t))}),[s]),N=(0,d.useMonths)(P,S),R=N.currentMonth,B=N.orientation,E=N.numberOfMonths,F=N.onCurrentMonthChange,A=(0,h.useCalendarModifiers)(i,a,D);return l.default.createElement("div",{className:g.default.container},!o&&l.default.createElement("header",{className:g.default.header},l.default.createElement(p.Text,{type:p.TextType.Body2Semi},y),l.default.createElement("div",null,l.default.createElement(m.Button,{mod:m.ButtonMod.PrimaryOutline,onClick:T,disabled:M},b))),l.default.createElement(d.Calendar,{availableDays:(0,h.getAvailableDays)(t,n),disabledDays:(0,h.getDisabledDays)(t,n),selectedDays:P,orientation:B,canSelectMonthCaption:B===f.Orientation.Horizontal,showNavbar:B===f.Orientation.Horizontal,onDayClick:v,onDayMouseEnter:w,renderDay:s?O:void 0,currentMonth:R,numberOfMonths:E,onCurrentMonthChange:F,modifiers:A}))}));t.TripDurationCalendar=y},85041:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},43131:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useCalendarModifiers=t.getDisabledDays=t.getSelectedDays=t.getAvailableDays=void 0;var o=r(n(77349)),i=r(n(42699)),a=r(n(9005)),s=r(n(39275));t.getAvailableDays=(0,s.default)((function(e,t){return{from:e,to:t}})),t.getSelectedDays=(0,s.default)((function(e,t){if(e||t)return e&&t?[{from:e,to:t}]:null!=e?e:t})),t.getDisabledDays=(0,s.default)((function(e,t){return{before:e,after:(0,o.default)(t,1)}})),t.useCalendarModifiers=function(e,t,n){if(e&&t)return{estimated:(0,a.default)({start:e,end:t}),boundedFrom:e,boundedTo:t};if(n&&(e||t)){var r=e||t,o=(0,i.default)(n,r),s=o?r:n,l=o?n:r;return{estimated:(0,a.default)({start:s,end:l}),boundedFrom:s,boundedTo:l}}return{boundedFrom:e,boundedTo:t}}},41700:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(81971),t),o(n(21479),t)},81971:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationMonthPicker=void 0;var o=r(n(67294)),i=r(n(11640)),a=n(81468),s=n(91298),l=n(86666),c=n(68638),u=n(45429),d=r(n(57658)),p=n(9215),m=o.default.memo((function(e){var t=(0,a.useTranslation)("uiKit").t,n=e.from,r=e.to,m=e.selectedMonths,f=e.renderMonthContent,h=e.oneWayPrices,g=e.onOneWayPrices,y=e.onMonthsSelect,b=e.onDone,v=e.hideOneWayPricesControl,x=void 0!==v&&v,T=(0,p.useHandlers)(n,r,m,y,g),_=T.monthClickHandler,M=T.toggleAllClickHandler,C=T.oneWayPricesHandler;return o.default.createElement("div",{className:d.default.container},o.default.createElement(u.MonthPicker,{fromMonth:new s.Month(n),toMonth:new s.Month((0,i.default)(r,-1)),selected:m,onMonthClick:_,onToggleAllClick:M,renderMonthContent:f}),!x&&o.default.createElement(l.Switch,{label:t("trip_duration.deprecated.priceSwitcher"),checked:h,onChange:C,className:d.default.switcher}),o.default.createElement(c.Button,{mod:c.ButtonMod.Secondary,onClick:b,className:d.default.button},t("trip_duration.deprecated.ready")))}));t.TripDurationMonthPicker=m},21479:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},9215:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useHandlers=void 0;var i=o(n(67294)),a=n(91298);t.useHandlers=function(e,t,n,o,s){return void 0===n&&(n=[]),{monthClickHandler:i.default.useCallback((function(e,t){o&&o(t?n.filter((function(t){return Number(t)!==Number(e)})):r(r([],n,!0),[e],!1))}),[o,n]),toggleAllClickHandler:i.default.useCallback((function(n,r){o&&o(r?[]:(0,a.getAllMonthsBetweenDates)(e,t))}),[e,t,o]),oneWayPricesHandler:i.default.useCallback((function(e){s&&s(e.currentTarget.checked)}),[s])}}},80786:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9625),t),o(n(24688),t)},9625:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationRange=void 0;var o=r(n(67294)),i=n(81468),a=n(866),s=n(68638),l=n(65020),c=n(68561),u=r(n(7887));t.TripDurationRange=function(e){var t=e.from,n=e.to,r=e.withoutReturnText,d=e.minRangeValue,p=e.maxRangeValue,m=e.onRangeSelect,f=e.onNoReturn,h=e.onDone,g=(0,i.useTranslation)("uiKit").t,y=(0,c.useRangeBoundaries)(t,n),b=(0,c.useHandlers)(m).onSliderUpdate,v=null!=d?d:y.min,x=null!=p?p:y.max;return o.default.createElement("div",{className:u.default.container},o.default.createElement(a.Text,{type:a.TextType.Body2Semi,className:u.default.header},g("trip_duration.deprecated.durationHeader")),o.default.createElement("div",{className:u.default.slider},o.default.createElement(l.RangeSlider,{range:y,start:[v,x],minLabel:g("trip_duration.deprecated.range.from",{value:v}),maxLabel:g("trip_duration.deprecated.range.to",{value:x}),onUpdate:b})),o.default.createElement("div",{className:u.default.buttons},o.default.createElement(s.Button,{mod:s.ButtonMod.PrimaryOutline,onClick:f,inline:!0},r),o.default.createElement(s.Button,{mod:s.ButtonMod.Secondary,onClick:h,inline:!0},g("trip_duration.deprecated.ready"))))}},24688:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},68561:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useHandlers=t.useRangeBoundaries=void 0;var o=r(n(67294));t.useRangeBoundaries=function(e,t){return o.default.useMemo((function(){return{min:e,max:t}}),[e,t])},t.useHandlers=function(e){return{onSliderUpdate:o.default.useCallback((function(t){e&&e(t[0],t[1])}),[e])}}},75474:function(e,t,n){n.d(t,{AH:function(){return l},I6:function(){return u},PZ:function(){return d},cv:function(){return m},fD:function(){return p},o5:function(){return c},yq:function(){return s}});var r=n(34943),o=n(67773),i=n(88897);const a=(0,r.MT)({origin:null,destination:null},{sid:"-txs292"}),s=(0,r.yM)({sid:"os74o3"}),l=(0,r.yM)({sid:"q6hb2t"}),c=(0,r.yM)({sid:"-mazmnu"});a.on(s,((e,t)=>({...e,origin:t}))).on(l,((e,t)=>({...e,destination:t}))).on(c,(e=>({origin:e.destination,destination:e.origin}))).reset(i.F);const u=a.map((e=>{let{origin:t}=e;return t})),d=a.map((e=>{let{destination:t}=e;return t}));(0,r.UP)({and:[{source:a,target:o.Gu}],or:{sid:"-ppkkcs"}});const p=(0,r.MT)(null,{sid:"bv3c8n"}).reset(o.n2,u);(0,r.UP)({and:[{clock:o.u6,source:u,fn:e=>e?null:"emptyOriginCity",target:p}],or:{sid:"-pa6bqo"}});const m=(0,r.MT)(null,{sid:"-apyupw"}).reset(o.n2,d);(0,r.UP)({and:[{clock:o.u6,source:a,fn:e=>{let{origin:t,destination:n}=e;return n?(null==t?void 0:t.iata)===(null==n?void 0:n.iata)?"sameDirection":null:"emptyDestinationCity"},target:m}],or:{sid:"-os145r"}})},18289:function(e,t,n){n.d(t,{CJ:function(){return p},Fr:function(){return f},PL:function(){return T},TL:function(){return M},WR:function(){return y},hz:function(){return C},iG:function(){return k},iT:function(){return b},nn:function(){return _},ot:function(){return j},qh:function(){return x},rG:function(){return d},z9:function(){return D}});var r=n(45220),o=n.n(r),i=n(34943),a=n(21247),s=n(313),l=n(10845),c=n(67773),u=n(88897);const d=(0,i.yM)({sid:"a4m379"}),p=(0,i.yM)({sid:"fnub03"}),m=(0,i.yM)({sid:"aopq55"}),f=(0,i.nu)(p,null,{sid:"-1vxi7c"}).reset(m),h=(0,i.yM)({sid:"kjeofm"}),g=(0,i.yM)({sid:"-2wrj8z"}),y=(0,i.nu)(h,null,{sid:"-rsnvyr"}).reset(g),b=(0,i.yM)({sid:"-9iro7f"}),v=(0,i.yM)({sid:"xe6x3v"}),x=(0,i.nu)(b,[],{sid:"ffu1lk"}).reset(v),T=x.map((e=>e.length)),_=(0,i.yM)({sid:"b0kf0m"}),M=(0,i.yM)({sid:"a0gnz5"}),C=(0,i.nu)(_,{min:null,max:null},{sid:"-dq0hib"}).reset(M);(0,i.UP)({and:[{source:g,target:[m]}],or:{sid:"n4voc4"}}),(0,i.Vl)({and:[{source:(0,i.UP)({and:[{clock:d,source:{departureDate:y,returnDate:f},fn:(e,t)=>({...e,choosen:t.toISOString()})}],or:{sid:"-2a0hi5"}}),match:{departureAndReturnSelected:e=>{let{departureDate:t,returnDate:n}=e;return Boolean(t&&n)},departureSelected:e=>{let{departureDate:t,returnDate:n}=e;return Boolean(t&&!n)},departureNotSelected:e=>{let{departureDate:t}=e;return!t}},cases:{departureAndReturnSelected:[h.prepend((e=>{let{choosen:t}=e;return t})),p.prepend((()=>null))],departureSelected:p.prepend((e=>{let{choosen:t}=e;return t})),departureNotSelected:h.prepend((e=>{let{choosen:t}=e;return t}))}}],or:{sid:"nz4cyz"}}),(0,i.UP)({and:[{clock:[h,p],target:[v,M]}],or:{sid:"pvun54"}}),(0,i.UP)({and:[{source:{from:y,to:f},filter:e=>{let{from:t,to:n}=e;return!(!t||!n)&&(0,s.default)(new Date(n),new Date(t))},target:(0,a.h)({targets:{from:f,to:y}})}],or:{sid:"pz5epa"}}),(0,i.UP)({and:[{source:b,target:[m,g]}],or:{sid:"-p8iese"}}),(0,i.UP)({and:[{source:_,filter:e=>{let{min:t,max:n}=e;return!o()(t)&&!o()(n)},target:[m,g]}],or:{sid:"-p57n88"}});const D=y.map(l.U),j=f.map(l.U);C.map((e=>{let{min:t,max:n}=e;return null!==t&&null!==n})),(0,i.UP)({and:[{source:u.F,target:[m,g,v,M]}],or:{sid:"-onm88o"}}),(0,i.UP)({and:[{clock:[h,p,b,_,d],target:c.Gu}],or:{sid:"-o8rs7x"}});const k=(0,i.MT)(null,{sid:"-o7c5pr"}).reset(c.n2,y,f,x,C);(0,i.UP)({and:[{clock:c.u6,source:{from:y,monthCount:T},fn:e=>{let{from:t,monthCount:n}=e;return t||n?null:"emptyDuration"},target:k}],or:{sid:"-nq2s1n"}})},95321:function(e,t,n){n.d(t,{cK:function(){return d},hd:function(){return p},p6:function(){return u},zK:function(){return c}});var r=n(45220),o=n.n(r),i=n(27870),a=n(34943),s=n(74526),l=n(67773);const c=(0,a.yM)({sid:"hi1brm"}),u=(0,a.yM)({sid:"-3hap37"}),d=(0,a.nu)(c,"",{sid:"gykw3t"}).reset(u);(0,a.UP)({and:[{clock:s.W.outputs.$candidateEmail.updates,source:[d,s.W.outputs.$candidateEmail],fn:e=>{let[t,n]=e;return o()(n)?"":t||n},target:d}],or:{sid:"-2537e0"}}),(0,a.UP)({and:[{source:d,target:l.Gu}],or:{sid:"-1aaq5s"}});const p=(0,a.MT)(null,{sid:"ae0cju"}).reset(l.n2);(0,a.UP)({and:[{clock:l.u6,source:d,fn:e=>e.length?(0,i.isEmailValid)(e)?null:"emailInvalid":"emptyEmail",target:p}],or:{sid:"-183jsc"}})},71740:function(e,t,n){n.d(t,{Hp:function(){return p},XS:function(){return d},by:function(){return u},cN:function(){return l},fz:function(){return f},lf:function(){return h},np:function(){return g},ow:function(){return y},vO:function(){return c}});var r=n(6557),o=n.n(r),i=n(34943),a=n(61941),s=n(88897);const l=(0,i.yM)({sid:"-87fikt"}),c=(0,i.MT)(!1,{sid:"vnqk4c"}).on(l,(e=>!e)).reset(s.F),u=(0,i.yM)({sid:"-mc0mj6"}),d=(0,i.MT)(!1,{sid:"-em8jwe"}).on(u,(e=>!e)).reset(s.F),p=(0,i.yM)({sid:"pp0s66"}),m=(0,i.yM)({sid:"4cnf1s"}),f=(0,i.MT)(!1,{sid:"-wyk3yn"}).on(p,(e=>!e)).on(m,(()=>!1)).reset(s.F),h=a.Z.map(o());(0,i.UP)({and:[{source:a.Z,filter:Boolean,target:m}],or:{sid:"-htkop5"}});const g=(0,i.$e)({and:[c,d,f,(e,t,n)=>({datesFlexDay:n,withLuggage:t,directFlightsOnly:e})],or:{sid:"-j828dz"}}),y=g.map((e=>Object.entries(e).filter((e=>{let[t,n]=e;return n})).map((e=>{let[t]=e;return t}))))},61941:function(e,t,n){n.d(t,{Z:function(){return r}});const r=n(18289).PL.map((e=>e>0))},79696:function(e,t,n){n.d(t,{Aj:function(){return v},By:function(){return f},Hm:function(){return m},IZ:function(){return b},Lh:function(){return p},ce:function(){return u},ew:function(){return x},iP:function(){return d},lJ:function(){return l},vM:function(){return c}});var r=n(34943),o=n(48366),i=n(61941),a=n(88897);const s=(0,r.yM)({sid:"-catqay"}),l=(0,r.yM)({sid:"pw5moj"}),c=(0,r.yM)({sid:"dphssu"}),u=(0,r.MT)(1,{sid:"-9hmzc6"}).on(l,(e=>e+1)).on(c,(e=>e-1)).reset(s),d=(0,r.yM)({sid:"-8w0t3k"}),p=(0,r.yM)({sid:"-b4qkp6"}),m=(0,r.MT)(0,{sid:"bd9p4m"}).on(d,(e=>e+1)).on(p,(e=>e-1)).reset(s),f=(0,r.$e)({and:[u,m,(e,t)=>e+t],or:{sid:"-u9blay"}}),h=f.map((e=>9===e)),g=u.map((e=>1===e)),y=m.map((e=>0===e)),b=(0,o.G)({stores:[i.Z,h],predicate:!0}),v=(0,o.G)({stores:[i.Z,g],predicate:!0}),x=(0,o.G)({stores:[i.Z,y],predicate:!0});(0,r.UP)({and:[{source:a.F,target:s}],or:{sid:"76woju"}}),(0,r.UP)({and:[{source:i.Z,filter:Boolean,target:s}],or:{sid:"77gh57"}})},88897:function(e,t,n){n.d(t,{F:function(){return r}});const r=(0,n(34943).yM)({sid:"-5hetc6"})},94245:function(e,t,n){n.d(t,{c:function(){return i},e:function(){return a}});var r=n(34943),o=n(72986);const i=(0,r.yM)({sid:"xdefm3"}),a=(0,r.MT)(!1,{sid:"mhxaqa"}).on(i,(()=>!0)).reset(o.VX)},59346:function(e,t,n){n.d(t,{T:function(){return i},h:function(){return a}});var r=n(34943),o=n(65582);const i=(0,r.yM)({sid:"-bgeyo1"}),a=(0,r.nu)(i,o.TripClass.Economy,{sid:"-94rge5"})},67773:function(e,t,n){n.d(t,{BP:function(){return o},Gu:function(){return i},n2:function(){return s},u6:function(){return a}});var r=n(34943);const o=(0,r.MT)(!1,{sid:"-fd4l2q"}),i=(0,r.yM)({sid:"-x9znte"}),a=(0,r.UP)({and:[{clock:i,filter:o}],or:{sid:"9iyk1v"}}),s=(0,r.yM)({sid:"-2pcaju"})},10845:function(e,t,n){n.d(t,{N:function(){return i},U:function(){return a}});var r=n(6229),o=n(49599);const i=e=>{if(!e)return null;if(!((0,o.Z)(e)||"string"==typeof e&&Date.parse(e)))return null;const t="string"==typeof e?new Date(e):e;return(0,r.getDateISO)(t)},a=e=>e?new Date(e):null},72986:function(e,t,n){n.d(t,{WX:function(){return u},_e:function(){return c},_t:function(){return d},pn:function(){return p},cm:function(){return o},zB:function(){return v},Ge:function(){return x},Pk:function(){return y},r_:function(){return m},Ri:function(){return f},VN:function(){return b},W:function(){return T},o1:function(){return _},vu:function(){return M},VX:function(){return l}});var r=n(34943);let o,i,a,s;!function(e){e.Form="form",e.Login="login",e.Error="error",e.Warning="warning",e.Success="success",e.ReturnTicket="return_ticket"}(o||(o={})),function(e){e.Add="add",e.Adjust="adjust"}(i||(i={})),function(e){e.EmailAlreadyBusy="email_already_busy"}(a||(a={})),function(e){e.Created="created",e.WithoutEmailActivation="without_email_activation"}(s||(s={}));const l=(0,r.yM)({sid:"c4r32p"}),c=(0,r.MT)(o.Form,{sid:"64lwy"}).reset(l),u=(0,r.MT)(null,{sid:"4eyq0l"}),d=(0,r.MT)(null,{sid:"xgbjdm"}),p=(0,r.MT)(null,{sid:"-61mxxc"}),{displayFormScreen:m,displayLoginScreen:f,displaySuccessScreen:h,displayWarningScreen:g,displayErrorScreen:y,displayReturnTicketScreen:b}=(0,r.LC)({and:[c,{displayLoginScreen:()=>o.Login,displayFormScreen:()=>o.Form,displayErrorScreen:()=>o.Error,displaySuccessScreen:()=>o.Success,displayWarningScreen:()=>o.Warning,displayReturnTicketScreen:()=>o.ReturnTicket}],or:{sid:"-5t6i3j"}}),{displayAddFormScreen:v,displayAdjustFormScreen:x}=(0,r.LC)({and:[u,{displayAddFormScreen:()=>i.Add,displayAdjustFormScreen:()=>i.Adjust}],or:{sid:"-nv0tbw"}});(0,r.UP)({and:[{clock:[v,x],target:m}],or:{sid:"-4wqn6o"}});const{displaySuccessCreatedScreen:T,displaySuccessWithoutEmailActivationScreen:_}=(0,r.LC)({and:[d,{displaySuccessCreatedScreen:()=>s.Created,displaySuccessWithoutEmailActivationScreen:()=>s.WithoutEmailActivation}],or:{sid:"-4gslvr"}}),{displayWarningEmailAlreadyBusyScreen:M}=(0,r.LC)({and:[p,{displayWarningEmailAlreadyBusyScreen:()=>a.EmailAlreadyBusy}],or:{sid:"6fuz6q"}});(0,r.UP)({and:[{clock:[T,_],target:h}],or:{sid:"-3z76zn"}}),(0,r.UP)({and:[{clock:M,target:g}],or:{sid:"-3j95s6"}})},54572:function(e,t,n){n.d(t,{Mb:function(){return c},Qh:function(){return l},bo:function(){return s},n_:function(){return a},xf:function(){return i}});var r=n(19614),o=n(65582);const i=100,a={eventData:{searchId:"",popupShowedSource:"",loginSource:"widget_subscription",pageName:""},searchData:{tripClass:o.TripClass.Economy,[r.PlaceField.Origin]:null,[r.PlaceField.Destination]:null,returnDate:null,departureDate:null,baggage:!1,directOnly:!1,passengers:{adults:1,children:0},price:null}},s=[o.TripClass.Economy,o.TripClass.Business],l=(Object.entries(o.TripClass).map((e=>{let[t,n]=e;return{name:t,code:n}})),"/my/settings"),c="/my/subscriptions"},32953:function(e,t,n){n.r(t),n.d(t,{PriceAlertSubscriptionIsomorphicFlags:function(){return w}});var r,o,i,a,s,l,c,u,d,p,m,f,h,g,y,b,v,x,T,_,M=n(7934),C=n(14581),D=n(56892);function j(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k(e,t,n,r,o){var i={};return Object.keys(r).forEach((function(e){i[e]=r[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let S=(r=(0,M.Xp)(),o=(0,M.Yl)(),i=(0,M.r4)({example:D.O.outputs.constants.DEFAULT_LOGIN_METHODS}),a=Reflect.metadata("design:type",Array),l=k((s=class{constructor(){j(this,"methods",l,this)}}).prototype,"methods",[r,o,i,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.O.outputs.constants.DEFAULT_LOGIN_METHODS}}),s),w=(c=(0,M.si)(),u=(0,M.dF)({example:!0}),d=Reflect.metadata("design:type",Boolean),p=(0,M.si)(),m=(0,M.dF)({example:!0}),f=Reflect.metadata("design:type",Boolean),h=(0,M.jx)(),g=(0,C.Type)((()=>S)),y=(0,M.dF)({type:()=>S}),b=Reflect.metadata("design:type",void 0===S?Object:S),x=k((v=class{constructor(){j(this,"usc-feat-showSubscriptionInLogin",x,this),j(this,"usc-feat-shouldDropChildrenFromTicketSubscription",T,this),j(this,"avs-feat-loginMethods",_,this)}}).prototype,"usc-feat-showSubscriptionInLogin",[c,u,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=k(v.prototype,"usc-feat-shouldDropChildrenFromTicketSubscription",[p,m,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=k(v.prototype,"avs-feat-loginMethods",[h,g,y,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),v)},90268:function(e,t,n){n.r(t),n.d(t,{priceAlertSubscriptionModel:function(){return ge},startWidget:function(){return X}});var r=n(34943),o=n(51717),i=n(65740),a=n(59399),s=n(35555),l=n(81941),c=n(74526),u=n(42176),d=n(99976),p=n(24852),m=n(62165),f=n(46898),h=n.n(f),g=n(74613),y=n.n(g),b=n(89935),v=n.n(b),x=n(19614);const T=v()(((e,t)=>{let{tripClass:n}=e;return y()(t,{tripClass:n})})),_=(e,t)=>({iata:e[t],country:e[`${t}_country`],name:e[`${t}_name`],placeType:e[`${t}_type`],cases:e[`${t}_cases`]}),M=v()(((e,t)=>{let{segments:n}=e;const[r,o]=n;if(!r)return t;const i=v()(_)(r);return y()(t,{origin:i(x.PlaceField.Origin),destination:i(x.PlaceField.Destination),departureDate:r.date,returnDate:(null==o?void 0:o.date)??""})})),C=v()(((e,t)=>{let{passengers:n}=e;return y()(t,{passengers:n})})),D=v()(((e,t)=>h()([T(e),M(e),C(e)])(t))),j=v()(((e,t)=>{let{baggage:n,transfersCount:r}=e;const o=1===(null==r?void 0:r.length)&&r.includes("0");return y()(t,{baggage:n,directOnly:o})})),k=e=>{let{filters:t,searchParams:n,minTicketPrice:r}=e;return h()([j(t),D(n)])({price:r??null})};var S=n(95321),w=n(21247),P=n(94541),O=n(10845),N=n(79696),R=n(18289),B=n(75474),E=n(71740),F=n(59346);const A=(0,r.yM)({sid:"vruptl"});(0,r.UP)({and:[{source:A,fn:e=>{let{tripClass:t,passengers:n,departureDate:r,returnDate:o,origin:i,destination:a,baggage:s,directOnly:l}=e;return{tripClass:t,adults:n.adults??1,children:n.children??0,departureDateISO:(0,O.N)(r),returnDateISO:(0,O.N)(o),origin:(0,P.C)(i),destination:(0,P.C)(a),withLuggage:s,directFlightsOnly:l}},target:(0,w.h)({targets:{tripClass:F.h,adults:N.ce,children:N.Hm,departureDateISO:R.WR,returnDateISO:R.Fr,origin:B.yq,destination:B.AH,withLuggage:E.XS,directFlightsOnly:E.vO}})}],or:{sid:"-d4odon"}});var z=n(88897),I=n(94245),U=n(72986),W=n(54572),L=n(27897);const $=e=>{let{popupShowedSource:t}=e;return"after_booking"===t},X=(0,r.yM)({sid:"uitkkz"}),H=(0,r.Fj)({sid:"bcej9b"}),q=H.createEffect((function(e){let{auid:t,showData:n}=e;const r=(null==n?void 0:n.searchData)??{},o=(null==n?void 0:n.eventData)??{};return(0,L.FB)({date:Date.now(),auid:t,...r,...o})}),{sid:"wistkc"}),V=H.createEvent({sid:"cfsclp"}),Z=H.createEvent({sid:"ngbzl"}),K=H.createEvent({sid:"n1fvod"}),Q=H.createEvent({sid:"12txqj"}),G=H.createEvent({sid:"-c4ol4l"}),J=H.createEvent({sid:"n7pwr6"}),Y=H.createEvent({sid:"-7adjt3"}),ee=H.createEvent({sid:"-b9mxm1"}),te=H.createEvent({sid:"1qc1io"}),ne=H.createEvent({sid:"-9b5bs5"}),re=l.X.inputs.widgetFlags({clock:X,flags:["avs-feat-tripClasses","usc-feat-shouldDropChildrenFromTicketSubscription"]}),oe=m.si.outputs.$isPriceAlertPopupVisible,ie=H.createStore(!0,{sid:"-9u0hmm"}).on(V,(()=>!1)).on(Z,(()=>!0)),ae=(0,r.nu)(K,W.n_,{sid:"axi8ys"}).reset(Q),{$eventData:se,$searchData:le}=(0,o.X)({source:ae,shape:{$eventData:e=>{let{eventData:t}=e;return t},$searchData:e=>{let{searchData:t}=e;return t}}}),ce=(0,r.nu)(q.doneData,"",{sid:"ux55tx"}).reset(Q),ue=re.map((e=>Boolean(e["usc-feat-shouldDropChildrenFromTicketSubscription"]))),de=re.map((e=>{var t;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((t=>e.includes(t.code)))}(W.bo,null===(t=e["avs-feat-tripClasses"])||void 0===t?void 0:t.tripClasses)})),pe=H.createStore(!1,{sid:"izmi2i"}).on(q.done,((e,t)=>{let{params:n}=t;return n.showData.searchData.passengers.children>0})),me=H.createStore(!1,{sid:"-q5mxnv"}).reset(z.F),fe=(0,r.$e)({and:[{subsource:se.map((e=>{let{popupShowedSource:t}=e;return t})),widgetId:ce}],or:{sid:"-rwteg1"}});(0,r.UP)({and:[{clock:m.si.inputs.openPriceAlertPopup,filter:ie,target:V}],or:{sid:"-sjrk12"}}),(0,r.UP)({and:[{clock:V,source:{auid:s.Y.outputs.$auid,searchParams:d.s.outputs.$searchParams,minTicketPrice:p.o.outputs.$minFilteredTicketPrice,filters:u.j.outputs.$filtersState},fn:(e,t)=>{let{auid:n,searchParams:r,minTicketPrice:o,filters:i}=e,{eventData:a,searchData:s}=t;return{auid:n,showData:{eventData:a,searchData:s??k({searchParams:r,minTicketPrice:o,filters:i})}}},target:q}],or:{sid:"-sfwzvj"}}),(0,r.UP)({and:[{clock:q.done,source:re,fn:(e,t)=>{let{params:n}=t;return((e,t)=>e["usc-feat-shouldDropChildrenFromTicketSubscription"]?y()(t,{searchData:{passengers:{children:0}}}):t)(e,(e=>{const{eventData:t,searchData:n}=e;return $(t)?{eventData:t,searchData:{...n,origin:n.destination,destination:n.origin,departureDate:null,returnDate:null,price:null}}:e})(n.showData))},target:K}],or:{sid:"-r2fih1"}}),(0,r.UP)({and:[{clock:K,fn:e=>{let{searchData:t}=e;return t},target:A}],or:{sid:"-qlxoo7"}}),(0,i.s)({source:(0,r.UP)({and:[{clock:A,source:c.W.outputs.$candidateEmail}],or:{sid:"9sakhm"}}),if:Boolean,then:ne,else:c.W.inputs.getEmailFromCookieFx}),(0,r.UP)({and:[{clock:ne,target:S.zK}],or:{sid:"-pphtnw"}}),(0,r.UP)({and:[{clock:c.W.inputs.getEmailFromCookieFx.doneData,target:ne}],or:{sid:"-pmqup3"}}),(0,r.UP)({and:[{source:{hasChildren:pe,childrenCount:N.Hm,childrenTooltipClosed:I.e},fn:e=>{let{childrenCount:t,childrenTooltipClosed:n,hasChildren:r}=e;return(r||t>0)&&!n},target:me}],or:{sid:"-f9yce9"}});const he=(0,a.g)({source:Z,timeout:W.xf});(0,r.UP)({and:[{clock:Z,target:m.si.inputs.closePriceAlertPopup}],or:{sid:"-ecyosl"}}),(0,r.UP)({and:[{clock:he,target:Q}],or:{sid:"-earif5"}}),(0,r.UP)({and:[{clock:Q,target:[z.F,S.p6,U.VX]}],or:{sid:"-ea7pts"}}),(0,r.UP)({and:[{clock:K,filter:e=>{let{eventData:t}=e;return $(t)},target:U.VN}],or:{sid:"-dvd9t1"}}),(0,r.UP)({and:[{clock:te,target:U.r_}],or:{sid:"-ds2i8v"}}),(0,r.UP)({and:[{clock:Y,target:[G,U.r_]}],or:{sid:"-dd8284"}});const ge={loginClicked:J,loginClosed:G,loginBackButtonClicked:Y,marketingClicked:ee,$loginOptionalAnalyticsData:fe,$isVisible:oe,$searchData:le,$eventData:se,$widgetId:ce,$shouldDropChildrenFromTicketSubscription:ue,$shouldShowChildrenTooltip:me,$tripClasses:de,show:V,hide:Z,openFormFromReturnTicketScreen:te,resetWidget:Q,initWidget:K,initEmail:ne}},39712:function(e,t,n){n.r(t),n.d(t,{PriceAlertSubscriptionWidget:function(){return Mr}});var r=n(67294),o=n(60238),i=n(46845),a={modal:"K5TmYlp8NABQSo5xbrhu",closeButton:"QRAXMajBR9oI_4jnVFAu"},s=n(34840),l=n(72986),c=n(81468),u=n(88956),d=n(94184),p=n.n(d),m=n(65136),f=n(77300),h=n(85893);const g=e=>{let{children:t,className:n,as:o="div"}=e;return(0,r.createElement)(o,{className:p()("wHum3l6MCB3ad2NqDgG6",n)},t)};g.Title=e=>{let{children:t,className:n}=e;return(0,h.jsx)(m.Text,{type:f.TextType.Title2Bold,transformOnMobile:!0,className:p()("Q9bOYGyB2Qw0uiOqh18_",n),children:t})},g.Icon=e=>{let{className:t,icon:n}=e;return(0,h.jsx)("div",{className:p()("ZXVz8F5FgH6oxdfx7dQK",t),children:(0,h.jsx)(n,{})})},g.Content=e=>{let{children:t,className:n,text:r,textType:o=f.TextType.Body1Regular}=e;return(0,h.jsx)("div",{className:p()("x2BegteFoOftSdTvmqsC",n),children:r?(0,h.jsx)(m.Text,{type:o,transformOnMobile:!0,children:r}):t})},g.Footer=e=>{let{children:t,className:n}=e;return(0,h.jsx)("footer",{className:p()("wLD_DIsrDihzzu8BlISx",n),children:t})};var y=n(58938),b=n(99285);const v=e=>{let{text:t,isMobile:n,onCloseChildrenTooltip:r}=e;return(0,h.jsxs)("div",{className:"gimRKsKkGyoEWVxDslWH",children:[!n&&(0,h.jsx)(y.Icon24CommonWarning,{className:"RMDZ9h9IkQqHRQdS031I"}),(0,h.jsx)(m.Text,{type:f.TextType.Body3Paragraph,children:t}),(0,h.jsx)(b.CloseButton,{className:"p5GHy467guJSPIuIQ55T",size:"small",onClick:r})]})},x=(0,r.memo)(v);var T=n(9950),_=n(37413),M="N4swgZed48ky0ERTPhcR",C="YgC_mQJCC0QbPPmugCt9";const D=(0,r.forwardRef)(((e,t)=>{let{error:n,position:o,className:i,onFocus:a,onBlur:s,isEmail:l,...c}=e;const[u,d]=(0,r.useState)(!1),g=(0,r.useMemo)((()=>"left"===o),[o]),y=(0,r.useMemo)((()=>"right"===o),[o]),b=(0,r.useCallback)((e=>{d(!0),a&&a(e)}),[a]),v=(0,r.useCallback)((e=>{d(!1),s&&s(e)}),[s]);return(0,h.jsxs)("div",{className:p()("zIClt8i7qtKrvNM4rjT2",i),children:[n&&!u&&(0,h.jsx)("div",{className:p()("fVATsgWPgcgzF0BKUdWQ",[g&&M,y&&C]),children:(0,h.jsx)(m.Text,{type:f.TextType.FootnoteAllCaps,children:n})}),(0,h.jsx)(T.Input,{...c,height:_.InputHeight.Custom,ref:t,innerClassname:p()("TZHaYR1CggZ_jylWazCi",[n&&"gNMKtaHAHALT11S4rYGa",g&&M,y&&C,l&&"zy9xGWqawahDmhTo4lWc"]),onFocus:b,onBlur:v})]})})),j=(0,r.memo)(D);var k=n(95321);const S=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),{email:t,onChange:n,onBlur:o,emailErrorKey:i}=(()=>{const e=(0,s.oR)(k.hd),t=(0,s.oR)(k.cK),n=(0,s.zX)(k.zK),[o,i]=(0,r.useState)("");(0,r.useEffect)((()=>{i(t)}),[t]);const a=(0,r.useCallback)((()=>{n(o)}),[o,n]),l=(0,r.useCallback)((e=>i(e.target.value)),[]);return{email:o,emailErrorKey:e,onChange:l,onBlur:a}})();return(0,h.jsx)(j,{value:t,placeholder:e("placeholder.email"),onChange:n,onBlur:o,error:(i&&e(`error.${i}`))??void 0,isEmail:!0,type:"email",autoComplete:"email"})};var w=n(18289),P=n(42757),O=n(94769),N=n(94760),R=n(68638),B=n(866),E=n(49861),F=n(26506),A="FJAsWFNa36Bo2kc2Iq1o",z="cJwP234zsXtvxi79e479",I="VnMnk1Q3gjlH1MW44aQk";const U=e=>{let{dropdownContent:t,text:n,subText:o,rightText:i,rightSubText:a,icon:s,hasError:l,modalHeaderText:c,customWidth:u,visible:d,onClose:m,onToggle:f,withLeftMargin:g}=e;const y=(0,r.useMemo)((()=>(0,h.jsxs)(R.Button,{className:p()("_wL4_uKWRnXhCRjbNZMa",[d&&A,s&&"h4vVzvK9yB1uCg5w7TPp",l&&"CMvzVpptVZ6LwNXHzCIF"]),mod:R.ButtonMod.Ghost,size:R.ButtonSize.Custom,onClick:f,inline:!0,children:[s&&(0,h.jsx)("span",{className:p()("cQZuMa8zWloTFJib4uL3",d&&A),children:s}),(0,h.jsxs)(B.Text,{type:B.TextType.Body2Regular,className:p()(z,d&&A),children:[n,o&&(0,h.jsx)("span",{className:p()(I,d&&A),children:o})]}),i&&(0,h.jsx)("div",{className:p()("bhVqpBI5ZooVtAUKoYmV",d&&A)}),(0,h.jsxs)(B.Text,{type:B.TextType.Body2Regular,className:p()(z,d&&A),children:[i,(0,h.jsx)("span",{className:p()(I,d&&A),children:a})]})]})),[l,s,f,a,i,o,n,d]),b=(0,r.useMemo)((()=>(0,h.jsx)("div",{className:p()("eU78cbriECPF_5okvmF3"),children:(0,h.jsx)(B.Text,{type:B.TextType.Body2Semi,children:c})})),[c]);return(0,h.jsx)(E.DropdownOrModal,{visible:d,dropdownPosition:F.DropdownPosition.Bottom,hideDropdownsOverflowContent:!1,contentClassName:p()("MwfDs_CX_Jt0YFwEZcyh",u&&"DE2vhdK0kM4Q3d12Ddkb",g&&"BuwfpwqNv9EETjd_3fNP"),dropdownContent:t,onClose:m,modalHeader:b,hideArrow:!0,children:y})};var W=n(79696),L=n(59346),$=n(90268),X=n(61941),H=n(34943),q=n(73114),V=n(78718),Z=n.n(V),K=n(65740),Q=n(51081),G=n(54423),J=n(10924),Y=n(23446),ee=n(71740),te=n(75474);let ne,re;!function(e){e.Filter="filter"}(ne||(ne={})),function(e){e.Opened="opened",e.Applied="applied"}(re||(re={}));const{$isMobile:oe}=G.l,{forwardToAnalytics:ie}=J.I.inputs,ae={platform:Q.Platform.Web,service:Q.Service.Usercom,category:"subscription",label:ne.Filter},se={source:"price_alert_widget",pageName:"main",userEvent:!0},le=(0,H.yM)({sid:"koj725"}),ce=(0,H.yM)({sid:"wcymfz"}),ue=(0,H.yM)({sid:"pdxy6g"}),de=(0,H.yM)({sid:"517w8s"}),pe=(0,H.MT)(null,{sid:"-ux8sf7"}),me=(0,H.MT)(null,{sid:"-7fthgx"}),fe=(0,H.$e)({and:[te.I6,te.PZ,w.WR,w.Fr,w.hz,w.qh,ee.np,W.ce,W.Hm,(e,t,n,r,o,i,a,s,l)=>{const c=i.map((e=>e.getMonth()));return{origin:(null==e?void 0:e.iata)||null,destination:(null==t?void 0:t.iata)||null,depart_date:n?(0,Y.x)("yyyy-MM-dd",new Date(n)):null,return_date:r?(0,Y.x)("yyyy-MM-dd",new Date(r)):null,depart_months:c.length>0?c:null,trip_duration:o.min?[o.min,o.max]:null,baggage:a.withLuggage||null,direct:a.directFlightsOnly||null,close_dates:a.datesFlexDay||null,adults:s||0,children:l||0}}],or:{sid:"-kdt93d"}});(0,H.UP)({and:[{clock:ce,source:{isMobile:oe,stateOnOpen:pe,totalState:fe,eventData:$.priceAlertSubscriptionModel.$eventData,widgetId:$.priceAlertSubscriptionModel.$widgetId},fn:(e,t)=>{let{totalState:n,eventData:r,isMobile:o,stateOnOpen:i,widgetId:a}=e,{isVisible:s,keys:l}=t;return{payload:{widgetId:a,isMobile:o,state:Z()(n,l),state_total:s?n:{from:null==i?void 0:i.payload.state_total,to:n},subsource:r.popupShowedSource},isOpened:s}},target:le}],or:{sid:"-zej1zk"}}),(0,K.s)({source:le,if:e=>e.isOpened,then:pe,else:me}),(0,H.UP)({and:[{clock:pe,fn:e=>e.payload,target:ue}],or:{sid:"-6rx6ip"}}),(0,H.UP)({and:[{clock:me,fn:e=>e.payload,target:de}],or:{sid:"-6d2qhy"}}),ie({from:ue,data:{...ae,action:re.Opened},payload:se}),ie({from:de,data:{...ae,action:re.Applied},payload:se});const{$enabled:he,turnOn:ge,turnOff:ye,toggle:be}=(0,H.MR)({sid:"-fzo0ln",fn:()=>(0,q.qs)()}),ve=["adults","children"];(0,H.UP)({and:[{clock:he,fn:e=>({keys:ve,isVisible:e}),target:ce}],or:{sid:"-78klrn"}});var xe=n(37478),Te=n(48888);const _e=e=>{let{onClick:t,disabled:n,countType:o}=e;const i=(0,r.useMemo)((()=>"increase"===o),[o]);return(0,h.jsx)("button",{onClick:t,className:p()("TSdCXGnHw693lSmFVWDw"),type:"button",disabled:n,children:i?(0,h.jsx)(xe.Icon16ControlsPlus,{}):(0,h.jsx)(Te.Icon16ControlsMinus,{})})},Me=(0,r.memo)(_e),Ce=e=>{let{value:t,passengerType:n,increaseDisabled:r,decreaseDisabled:o,onIncrease:i,onDecrease:a,className:s}=e;const{t:l}=(0,c.useTranslation)("widget_price_alert_subscription");return(0,h.jsxs)("div",{className:p()("lS18p3QhZxrdZhEOprJG",s),children:[(0,h.jsxs)("div",{className:"gtakOnhctqYaS5In72LA",children:[(0,h.jsx)(m.Text,{type:f.TextType.Body2Semi,children:l(`passengers.age.${n}`)}),(0,h.jsx)(m.Text,{className:"E02QWviaoujDosuvQmEr",type:f.TextType.CaptionRegular,children:l(`passengers.description.${n}`)})]}),(0,h.jsxs)("div",{className:"I1PFyajgxlVGdLTPCC__",children:[(0,h.jsx)(Me,{disabled:o,countType:"decrease",onClick:a}),(0,h.jsx)(m.Text,{className:"kfbzOXkWBbBPRI1p9ARY",type:f.TextType.Body2Semi,children:t}),(0,h.jsx)(Me,{disabled:r,countType:"increase",onClick:i})]})]})},De=(0,r.memo)(Ce);const je=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),t=(0,s.oR)(W.ce),n=(0,s.oR)(W.Hm),r=(0,s.oR)(W.IZ),o=(0,s.oR)(W.Aj),i=(0,s.oR)(W.ew),a=(0,s.oR)(X.Z),l=(0,s.oR)($.priceAlertSubscriptionModel.$shouldDropChildrenFromTicketSubscription),u=(0,s.zX)(W.lJ),d=(0,s.zX)(W.vM),p=(0,s.zX)(W.iP),g=(0,s.zX)(W.Lh);return(0,h.jsxs)("div",{className:"lODWxliS0UyulRdBNABO",children:[(0,h.jsx)(De,{passengerType:"adults",value:t,increaseDisabled:r,decreaseDisabled:o,onIncrease:u,onDecrease:d}),!l&&(0,h.jsx)(De,{passengerType:"children",value:n,increaseDisabled:r,decreaseDisabled:i,onIncrease:p,onDecrease:g}),a&&(0,h.jsx)(m.Text,{className:"QZuPDmfXTtU82qKi5BA2",type:f.TextType.Body3Semi,children:e("passengers.flexReminder")})]})},ke=(0,r.memo)(je);var Se=n(47480),we=n(90858),Pe=n(86479);const Oe=e=>{let{value:t,items:n,onChange:o}=e;const i=(0,Pe.useConstant)(Se.x0),a=(0,r.useCallback)((e=>{o(e)}),[o]);return(0,h.jsx)(we.RadioGroup,{className:"BziYkZ6YHAqshX19nWjb",name:`trip_class_${i}`,value:t,onChange:a,children:n.map((e=>{let{name:n,code:r}=e;return(0,h.jsx)(we.RadioButton,{value:r,label:(0,h.jsx)(m.Text,{type:f.TextType.Body2Semi,className:p()(r===t&&"u1_PYLMQY09R1da0vMeA"),children:(0,h.jsx)(N.s,{value:r})})},n)}))})},Ne=(0,r.memo)(Oe),Re=()=>{const e=(0,s.oR)(L.h),t=(0,s.oR)($.priceAlertSubscriptionModel.$tripClasses),n=(0,s.zX)(L.T);return(0,h.jsx)(Ne,{items:t,value:e,onChange:n})},Be=(0,r.memo)(Re);const Ee=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),t=(0,s.oR)(W.By),n=(0,s.oR)(L.h),o=(0,s.oR)($.priceAlertSubscriptionModel.$tripClasses),i=(0,s.oR)(he),a=(0,s.oR)(X.Z),l=(0,s.zX)(ge),u=(0,s.zX)(ye),d=(0,s.zX)(be),p=!a,m=(0,r.useMemo)((()=>(0,h.jsxs)("div",{className:"eeoQ_EQCIZX8RPjIwJhH",children:[(0,h.jsx)(ke,{}),p&&o.length>=1&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(O.Divider,{className:"iNuXQiW0LwqNeF2Vg2JY"}),(0,h.jsx)(Be,{})]})]})),[p,o.length]),f=(0,r.useMemo)((()=>(0,h.jsxs)(h.Fragment,{children:[", ",(0,h.jsx)(N.s,{value:n})]})),[n]);return(0,h.jsx)(U,{visible:i,onOpen:l,onClose:u,onToggle:d,dropdownContent:m,icon:(0,h.jsx)(P.Icon16ControlsPassenger,{}),text:e("options.passengerWithCount",{count:t}),subText:p&&f,modalHeaderText:e("options.modalHeader.passengers")})};var Fe=n(59754),Ae=n(63380);const{$enabled:ze,turnOn:Ie,turnOff:Ue,toggle:We}=(0,H.MR)({sid:"g43385",fn:()=>(0,q.qs)()}),Le=["baggage","direct","close_dates"];(0,H.UP)({and:[{clock:ze,fn:e=>({keys:Le,isVisible:e}),target:ce}],or:{sid:"-50s2kz"}});var $e="LnThrUHsn8FbF68DrqgO";const Xe=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),t=(0,s.oR)(ee.vO),n=(0,s.oR)(ee.XS),r=(0,s.oR)(ee.fz),o=(0,s.oR)(ee.lf),i=(0,s.zX)(ee.cN),a=(0,s.zX)(ee.by),l=(0,s.zX)(ee.Hp);return(0,h.jsxs)("div",{className:"hFdLptIFSk8OBaWVZXAM",children:[(0,h.jsx)(Ae.Switch,{label:e("filters.directFlightsOnly"),checked:t,onChange:i,className:$e},"directFlightsOnly"),(0,h.jsx)(Ae.Switch,{label:e("filters.withLuggage"),checked:n,onChange:a,className:$e},"withLuggage"),!o&&(0,h.jsx)(Ae.Switch,{label:e("filters.datesFlexDay"),checked:r,onChange:l,className:$e},"datesFlexDay")]})},He=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),t=(0,s.oR)(ze),n=(0,s.zX)(Ie),o=(0,s.zX)(Ue),i=(0,s.zX)(We),a=(0,s.oR)(ee.ow),l=(0,r.useMemo)((()=>{return(t=(a.length?a.map((t=>e(`options.${t}`))).join(", "):e("options.withoutFilters")).toLowerCase()).charAt(0).toUpperCase()+t.slice(1);var t}),[e,a]);return(0,h.jsx)(U,{visible:t,onOpen:n,onClose:o,onToggle:i,text:l,dropdownContent:(0,h.jsx)(Xe,{}),icon:(0,h.jsx)(Fe.Icon24ControlsFilters,{width:20,height:20}),modalHeaderText:e("options.modalHeader.filters")})},qe=(0,r.memo)(He);var Ve=n(25078),Ze=n(16773),Ke=n(66705);var Qe=n(21593);const Ge={from:new Date,to:(0,Qe.default)(new Date,1),rangeDaysDurationBoundaries:{from:1,to:30}},Je=e=>{let{isReturnDuration:t,onClose:n,onRangeChanged:o,onRangeNoReturn:i}=e;const{activeTab:a,handleTabChange:l,hideTabs:u,departureDate:d,returnDate:g,months:y,calendarTitleText:b,showFlexDates:v,toggleFlexButtonText:x,showToggleButton:T,isDesktop:_,toggleFlexDates:M,isFlexSubscription:C}=(e=>{const{t:t}=(0,c.useTranslation)("widget_price_alert_subscription"),n=(0,s.oR)(X.Z),o=(0,s.oR)(w.z9),i=(0,s.oR)(w.ot),a=(0,s.oR)(w.qh),l=(0,s.oR)(G.l.$isDesktop),[u,d]=(0,r.useState)(((e,t)=>e?t?Ke.TripDurationTabType.Range:Ke.TripDurationTabType.Months:Ke.TripDurationTabType.Calendar)(n,e)),p=(0,r.useMemo)((()=>!l||e),[l,e]),m=(0,r.useMemo)((()=>t("tripDuration.titles."+(!o||o&&i?"departure":"return"))),[o,i,t]),f=(0,r.useMemo)((()=>u===Ke.TripDurationTabType.Months),[u]),h=(0,r.useMemo)((()=>t(f?"tripDuration.tabs.fixedDates":"tripDuration.tabs.flexDates")),[t,f]),g=(0,r.useMemo)((()=>!l&&!e),[l,e]),y=(0,r.useCallback)((()=>{d(f?Ke.TripDurationTabType.Calendar:Ke.TripDurationTabType.Months)}),[f]);return{activeTab:u,handleTabChange:d,hideTabs:p,departureDate:o,returnDate:i,months:a,calendarTitleText:m,showFlexDates:f,toggleFlexButtonText:h,showToggleButton:g,isDesktop:l,toggleFlexDates:y,isFlexSubscription:n}})(t),{onDaySelect:D,onDone:j,onMonthsSelect:k,onNoReturn:S,onRangeSelect:P,rangeValue:O}=((e,t,n,o)=>{const i=(0,s.oR)(w.z9),a=(0,s.oR)(w.ot),l=(0,s.oR)(w.hz),c=(0,s.zX)(w.rG),u=(0,s.zX)(w.iT),d=(0,s.zX)(w.CJ),p=(0,r.useRef)(!1),m=(0,r.useCallback)((e=>{c(e),i&&!a&&t()}),[c,i,a,t]),f=(0,r.useCallback)(((e,t)=>{if(!p.current&&(e!==l.min||t!==l.max)){if(!n)return;n({min:e,max:t})}}),[n,l]);return{onDaySelect:m,onMonthsSelect:u,onNoReturn:(0,r.useCallback)((()=>{e&&o?(p.current=!0,o()):(d(null),t())}),[e,t,o,d]),onDone:t,onRangeSelect:f,rangeValue:l}})(t,n,o,i),{t:N}=(0,c.useTranslation)("widget_price_alert_subscription");return(0,h.jsxs)("div",{className:p()("_S5jAdyRCdxd02IfEUAy",(v||t&&C)&&"Qrm6JRXNFVTy8fiqtXho"),children:[T&&(0,h.jsxs)("div",{className:"l3EXFAwPxLpaFxYilalk",onClick:M,children:[(0,h.jsx)(Ve.Icon16ControlsCalendar,{style:{marginRight:"10px"}}),(0,h.jsx)(m.Text,{type:f.TextType.Body2Semi,children:x})]}),(0,h.jsx)(Ze.TripDuration,{active:a,availableDuration:Ge,hideTabs:u,showRange:t,hideCalendarHeader:!_,hideOneWayPricesControl:!0,disableNoReturnButton:!d,departureDate:d??void 0,returnDate:g??void 0,selectedMonths:y,minRangeValue:O.min??void 0,maxRangeValue:O.max??void 0,withoutReturnText:N("calendar.withoutReturn"),calendarTitleText:b,onDaySelect:D,onNoReturn:S,onTabChange:l,onMonthsSelect:k,onDone:j,onRangeSelect:P}),!_&&!t&&!v&&(0,h.jsx)("div",{className:"NVMZFZqGes0l_sDWhzzL",children:(0,h.jsx)(R.Button,{mod:R.ButtonMod.PrimaryOutline,size:R.ButtonSize.Medium,onClick:S,children:(0,h.jsx)(m.Text,{type:f.TextType.Body2Semi,children:N("calendar.withoutReturn")})})})]})};var Ye=n(28627),et=n(19502),tt=n(59399);const{resetWidget:nt,openFormFromReturnTicketScreen:rt}=$.priceAlertSubscriptionModel,{$enabled:ot,toggle:it,turnOn:at,turnOff:st}=(0,H.MR)({sid:"c7zmyi",fn:()=>(0,q.qs)()});ot.reset(nt),(0,tt.g)({source:rt,timeout:175,target:at});const lt=["depart_date","return_date","depart_months","trip_duration"];(0,H.UP)({and:[{clock:ot,fn:e=>({keys:lt,isVisible:e}),target:ce}],or:{sid:"khvfu1"}});const ct=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),t=(0,s.oR)(ot),n=(0,s.zX)(at),o=(0,s.zX)(st),i=(0,s.zX)(it),{text:a,rightText:l,rightSubText:u,subText:d,icon:p,hasError:m}=(()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),{dateFnsLocale:t}=(0,et.useLocaleContext)(),n=(0,s.oR)(w.z9),o=(0,s.oR)(w.ot),i=(0,s.oR)(w.PL),a=(0,s.oR)(w.qh),l=(0,s.oR)(X.Z),u=(0,s.oR)(w.iG),d=(0,r.useMemo)((()=>n||o||i?null:(0,h.jsx)(Ve.Icon16ControlsCalendar,{})),[n,i,o]),p=(0,r.useMemo)((()=>1===i?a[0].getName(t.code):i<=3?a.map((e=>e.getName(t.code).substring(0,3))).join(", "):e("tripDuration.months",{value:i})),[t.code,a,i,e]),m=(0,r.useMemo)((()=>n?(0,Ye.formatDayOfMonth)(n,{shortMonth:!0,locale:t}):l?p:e("options.chooseDays")),[n,l,t,p,e]),f=(0,r.useMemo)((()=>n?`, ${(0,Ye.formatDayOfWeek)(n,{locale:t})}`:null),[n,t]);return{text:m,rightText:(0,r.useMemo)((()=>o?(0,Ye.formatDayOfMonth)(o,{shortMonth:!0,locale:t}):null),[t,o]),subText:f,rightSubText:(0,r.useMemo)((()=>o?`, ${(0,Ye.formatDayOfWeek)(o,{locale:t})}`:null),[t,o]),icon:d,hasError:Boolean(u)}})();return(0,h.jsx)(U,{dropdownContent:(0,h.jsx)(Je,{isReturnDuration:!1,onClose:o}),visible:t,onOpen:n,onClose:o,onToggle:i,text:a,rightText:l,subText:d,rightSubText:u,icon:p,customWidth:!0,modalHeaderText:e("options.modalHeader.durationShort"),hasError:m,withLeftMargin:!0})},ut=(0,r.memo)(ct),{$enabled:dt,turnOn:pt,turnOff:mt,toggle:ft}=(0,H.MR)({sid:"-vmtssg",fn:()=>(0,q.qs)()}),ht=["depart_date","return_date","depart_months","trip_duration"];(0,H.UP)({and:[{clock:dt,fn:e=>({keys:ht,isVisible:e}),target:ce}],or:{sid:"-l7wnbi"}}),(0,H.UP)({and:[{clock:w.TL,target:mt}],or:{sid:"-l4lvrc"}});const gt=()=>{const e=(0,s.oR)(dt),t=(0,s.zX)(pt),n=(0,s.zX)(mt),o=(0,s.zX)(ft),{icon:i,text:a,subText:l,modalHeaderText:u,onRangeChanged:d,onRangeNoReturn:p}=(()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),t=(0,s.oR)(w.ot),n=(0,s.oR)(X.Z),o=(0,s.oR)(w.hz),i=(0,s.zX)(w.nn),a=(0,s.zX)(w.TL),l=null!==o.min&&null!==o.max,u=(0,r.useMemo)((()=>!n&&t||n&&l?null:(0,h.jsx)(xe.Icon16ControlsPlus,{})),[l,n,t]),d=e("options.modalHeader."+(n?"flexRange":"return")),p=o.min===o.max;return{icon:u,text:l?e("options."+(p?"rangeSingle":"range"),{min:o.min,max:o.max}):"",subText:l?null:e("options.returnEmpty").toLowerCase(),modalHeaderText:d,onRangeNoReturn:a,onRangeChanged:i}})();return(0,h.jsx)(U,{visible:e,onOpen:t,onClose:n,onToggle:o,dropdownContent:(0,h.jsx)(Je,{isReturnDuration:!0,onClose:n,onRangeChanged:d,onRangeNoReturn:p}),icon:i,text:a,subText:l,customWidth:!0,modalHeaderText:u})},yt=(0,r.memo)(gt);var bt="F92morrkr5mkl4J7DLQL";const vt=()=>{const e=(0,s.oR)(w.WR),t=(0,s.oR)(w.Fr),n=(0,s.oR)(w.PL),o=(0,r.useMemo)((()=>e&&!t||Boolean(n)),[e,n,t]);return(0,h.jsxs)("div",{className:"BUJpzZl7FaSKHU7nll81",children:[(0,h.jsx)("div",{className:bt,children:(0,h.jsx)(ut,{})}),o&&(0,h.jsx)("div",{className:bt,children:(0,h.jsx)(yt,{})}),(0,h.jsx)("div",{className:bt,children:(0,h.jsx)(qe,{})}),(0,h.jsx)("div",{className:bt,children:(0,h.jsx)(Ee,{})})]})};var xt=n(69469),Tt=n(97471),_t=n(9669),Mt=n.n(_t),Ct=n(40582),Dt=n(23570),jt=n(82525),kt=n(49767),St=n(53788);const wt=e=>e?{...e,id:"",value:e.name,primary:e.name,secondary:e.countryName??e.country_name,comment:e.iata??e.code}:null,Pt={fetch:async e=>{if(!e)return[];try{const{data:t}=await(e=>{const t=[Ct.PlaceType.City,Ct.PlaceType.Airport],n=kt.l.outputs.$language.getState(),r=St.D.outputs.$market.getState();return Mt().get(jt.B.outputs.fillApiHost_IN_DANGEROUS_CLIENT_SIDE_ONLY_WAY(`${Dt.l.outputs.PLACES_HOST}/v2/places.json`),{params:{locale:n,types:t,market:r,max:7,term:e}})})(e);return t.reduce(((e,t,n)=>{const r=wt(t);return r&&e.push({...r,id:n}),e}),[])}catch(e){return[]}},choice:async(e,t)=>t?e.filter((e=>{let{value:n}=e;return n.toLowerCase().includes(t.toLowerCase())}))[0]:null};var Ot="fB1MCM4tasmAUQwTuHcp",Nt=n(99940),Rt=n(87298),Bt=n(55907);const Et=e=>{let{item:t,highlighted:n,...r}=e;const o=p()("rDAuwBJIUuboMPEjRzXs",n&&"c8CX_RyoJKO6x1qjWW_g");switch(t.type){case Nt.PlaceType.Airport:return(0,h.jsxs)("button",{className:o,...r,children:[(0,h.jsxs)("span",{className:"enJeyFme4J_IO489VY3n",children:[(0,h.jsx)(Bt.Icon24CommonAirport,{className:"x0ROeb1We5SP47kNervb"}),(0,h.jsx)("span",{className:"ZZgeFp4FTk8qPIvi9BsW",children:t.primary})]}),(0,h.jsx)("span",{className:"iZyJ9LooAUjZvPrXdS9W",children:t.comment})]});case Nt.PlaceType.City:default:return(0,h.jsx)(Rt.AutocompleteItem,{item:t,highlighted:n,...r})}},Ft=(0,r.memo)(Et);const At=r.forwardRef(((e,t)=>{let{forwardedRef:n,item:r,onFocus:o,...i}=e;const a=null!=r&&r.comment?(0,h.jsx)(m.Text,{className:"PhMORiGlTX05KvFsWZeg",type:f.TextType.CaptionAllCaps,children:r.comment}):null;return(0,h.jsx)(j,{...i,ref:n||t,onFocus:e=>{e.target.select(),o&&o(e)},rightElement:a,rightElementNoPointerEvents:!0})})),zt=r.forwardRef(((e,t)=>(0,h.jsx)(At,{...e,position:"left",ref:t}))),It=r.forwardRef(((e,t)=>(0,h.jsx)(At,{...e,position:"right",ref:t})));var Ut=n(94541);const Wt=(0,H.yM)({sid:"ghr394"}),Lt=(0,H.yM)({sid:"-ouiis1"});(0,H.UP)({and:[{clock:Wt,fn:e=>{let{isVisible:t}=e;return{keys:["origin"],isVisible:t}},target:ce}],or:{sid:"uj7whl"}}),(0,H.UP)({and:[{clock:Lt,fn:e=>{let{isVisible:t}=e;return{keys:["destination"],isVisible:t}},target:ce}],or:{sid:"ji4qme"}});const $t=te.I6.map(wt),Xt=te.PZ.map(wt),Ht=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),{origin:t,destination:n,originError:o,destinationError:i,autocompleteFocused:a,hasDirectionError:l,focusDestination:u,handleOriginSelect:d,handleDestinationSelect:m,handleOriginBlur:f,handleDestinationBlur:g,handleOriginFocus:y,handleDestinationFocus:b,handleSwapButtonClick:v}=(()=>{const e=(0,s.oR)($t),t=(0,s.oR)(Xt),n=(0,s.zX)(Wt),o=(0,s.zX)(Lt),i=(0,s.oR)(te.fD),a=(0,s.oR)(te.cv),l=(0,s.zX)(te.yq),c=(0,s.zX)(te.AH),u=(0,s.zX)(te.o5),[d,p]=(0,r.useState)(!1),[m,f]=(0,r.useState)(!1),h=(0,r.useMemo)((()=>d||m),[m,d]),g=(0,r.useCallback)((e=>{null===e||t||f(!0),l((0,Ut.F)(e))}),[l,t]),y=(0,r.useCallback)((e=>{c((0,Ut.F)(e)),f(!1)}),[c]),b=Boolean(i)||Boolean(a);return{origin:e,destination:t,originError:i,destinationError:a,hasDirectionError:b,autocompleteFocused:h,focusDestination:m,handleOriginSelect:g,handleDestinationSelect:y,handleOriginBlur:()=>{n({isVisible:!1}),p(!1)},handleDestinationBlur:()=>{o({isVisible:!1}),f(!1)},handleOriginFocus:()=>{n({isVisible:!0}),p(!0)},handleDestinationFocus:()=>{o({isVisible:!0}),f(!0)},handleSwapButtonClick:u}})();return(0,h.jsxs)("div",{className:"fsPtDxl5cRa3Fjaw51zM",children:[(0,h.jsx)(xt.Autocomplete,{fetcher:Pt,customInput:zt,customItem:Ft,placeholder:e("placeholder.origin"),containerClassName:p()(Ot,"GLPM4eBfbZh2hjdqmoXW"),onItemSelect:d,onInputFocus:y,onInputBlur:f,value:t,error:(o&&e(`error.${o}`))??void 0}),(0,h.jsx)("div",{className:"eqcL4S0Ls7VR1lvLXHgA",onClick:v,children:(0,h.jsx)(Tt.Icon24ControlsSwap,{})}),(0,h.jsx)(xt.Autocomplete,{fetcher:Pt,customInput:It,customItem:Ft,placeholder:e("placeholder.destination"),containerClassName:p()(Ot,"FqAYLFss8rLHVgd7C8Q2"),onItemSelect:m,onInputFocus:b,onInputBlur:g,value:n,error:(i&&e(`error.${i}`))??void 0,hasFocus:u}),(0,h.jsx)("div",{className:p()("UYmZwMj7zE1u7fBDP9rd",[a&&"Y3sP6rc42NYMnRNK7xPi",l&&"r9haqFmDyoQvcoPKKNR_"])})]})},qt=(0,r.memo)(Ht);var Vt=n(74526),Zt=n(56892),Kt=n(88897),Qt=n(23190),Gt=n(62165);const Jt=e=>(null==e?void 0:e.city_code)??(null==e?void 0:e.comment)??(null==e?void 0:e.iata),Yt=e=>{let{price:t,host:n}=e;return t?{host:n,value:t}:null};function en(e,t){let{origin:n,destination:r}=e,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=Jt(n),a=Jt(r);return{date:(0,Y.x)("yyyy-MM-dd",new Date(t)),origin_city:o?a:i,origin_airport:null,destination_city:o?i:a,destination_airport:null}}function tn(e){let{dates:{from:t,to:n},directions:r}=e;const o=[];return t?(o.push(en(r,t)),n&&o.push(en(r,n,!0)),o):o}const nn=["january","february","march","april","may","june","july","august","september","october","november","december"];function rn(e){return e.map((e=>({code:nn[e.getMonth()]})))}const on=(0,H.ub)({and:{effect:Gt.si.inputs.createDirectionSubscriptionFx,mapParams:function(e){let{tripClass:t,passengers:n,filters:r,price:o,directions:i,dates:a,host:s}=e;const{adults:l,children:c}=n,{datesFlexDay:u,directFlightsOnly:d,withLuggage:p}=r;return{adults:l,children:c,trip_class:t,infants:0,note:"note1",flexibility:u?1:0,max_stops:d?0:null,segments:tn({directions:i,dates:a}),price:Yt({price:o,host:s}),...p&&{baggage:!0}}}},or:{sid:"-8yjo82"}}),an=(0,H.ub)({and:{effect:Gt.si.inputs.createFlexibleSubscriptionFx,mapParams:function(e){let{dates:t,filters:n,directions:r,price:o,host:i}=e;const{months:a,range:s}=t,{withLuggage:l,directFlightsOnly:c}=n,{origin:u,destination:d}=r,p=function(e){let{max:t,min:n}=e;return Boolean(n)&&Boolean(t)?{min_days:n,max_days:t}:null}(s);return{one_way:!p,max_stops:c?0:null,origin:{code:Jt(u),type:"city"},destination:{code:Jt(d),type:"city"},months:rn(a),durations_range:p,search_info:null,price:Yt({price:o,host:i}),...l&&{baggage:!0}}}},or:{sid:"-vr5yi"}}),sn=$.priceAlertSubscriptionModel.$searchData.map((e=>{let{price:t}=e;return t})),ln=(0,H.$e)({and:[{range:w.hz,months:w.qh,from:w.WR,to:w.Fr}],or:{sid:"-wyrfqr"}}),cn=(0,H.$e)({and:[{origin:te.I6,destination:te.PZ}],or:{sid:"-6iylof"}}),un=(0,H.$e)({and:[{adults:W.ce,children:W.Hm}],or:{sid:"-4zl9dx"}}),dn=(0,H.$e)({and:[{host:Qt.D.outputs.$hostname,tripClass:L.h,price:sn,dates:ln,filters:ee.np,directions:cn,passengers:un}],or:{sid:"-7btzc4"}}),pn=(0,H.ub)({and:{source:{data:dn,isFlexSubscription:X.Z},effect:e=>{let{data:t,isFlexSubscription:n}=e;return n?an(t):on(t)}},or:{sid:"-4trcpp"}}),mn=(0,H.yM)({sid:"-lgz5z5"}),fn=(0,H.yM)({sid:"-f36y0p"}),hn=pn.doneData,gn=pn.failData;(0,K.s)({source:(0,H.UP)({and:[{clock:mn,source:Vt.W.outputs.$userLoggedIn}],or:{sid:"-29nf9w"}}),if:Boolean,then:pn,else:l.Ri}),(0,H.UP)({and:[{clock:gn,target:l.Pk}],or:{sid:"akuu5f"}}),(0,H.UP)({and:[{source:fn,target:[l.zB,Kt.F]}],or:{sid:"azpa66"}});const yn=(0,H.MT)(!1,{sid:"9g4b1b"}).on(pn.inFlight,((e,t)=>t>0)),bn=(0,H.MT)(!1,{sid:"z0wah3"}).on(Vt.W.outputs.$emailAlreadyInUseError,((e,t)=>t));(0,H.UP)({and:[{clock:Zt.O.outputs.loggedIn,source:l._e,filter:e=>e===l.cm.Login,target:pn}],or:{sid:"-v7mlqb"}}),(0,H.UP)({and:[{clock:pn,source:{formEmail:k.cK,activeEmail:Vt.W.outputs.$activeEmail},filter:e=>{let{formEmail:t,activeEmail:n}=e;return t!==n},fn:e=>{let{formEmail:t}=e;return t},target:Vt.W.inputs.activateEmailFx}],or:{sid:"-us8d47"}}),(0,H.UP)({and:[{clock:hn,source:bn,filter:Boolean,target:l.vu}],or:{sid:"-ubqjbd"}});const vn=(0,H.UP)({and:[{clock:hn,source:bn,filter:e=>!e}],or:{sid:"4dpthg"}});(0,K.s)({source:(0,H.UP)({and:[{clock:vn,source:Vt.W.outputs.$isEmailActive}],or:{sid:"-c2hdjo"}}),if:Boolean,then:l.W,else:l.o1});var xn=n(45220),Tn=n.n(xn),_n=n(67773);const Mn=(0,H.yM)({sid:"ji5kho"}),Cn=(0,H.UP)({and:[{clock:Mn,source:yn,filter:e=>!e}],or:{sid:"-k2y74j"}}),Dn=(0,H.MT)(!1,{sid:"-yg90ar"}).on(Cn,(()=>!0)).reset([_n.u6,Kt.F]),jn=(0,H.$e)({and:[[k.hd,w.iG,te.fD,te.cv],e=>e.every(Tn())],or:{sid:"qd32fj"}});(0,H.UP)({and:[{clock:Dn,target:_n.BP}],or:{sid:"-igjn82"}}),(0,H.UP)({and:[{clock:Cn,target:_n.Gu}],or:{sid:"-iew9fz"}}),(0,H.UP)({and:[{clock:_n.u6,filter:jn,target:mn}],or:{sid:"-i0lm0l"}}),(0,H.UP)({and:[{clock:Kt.F,target:_n.n2}],or:{sid:"-hl7deh"}}),(0,H.UP)({and:[{clock:pn.done,target:Kt.F}],or:{sid:"-hknkt4"}});var kn=n(94245);const Sn=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),{isMobile:t,shouldDropChildren:n,isSubscriptionLoading:r,showChildrenTooltip:o,smallPadding:i,onSubscribe:a,onCloseChildrenTooltip:l}=(()=>{const e=(0,s.oR)(G.l.$isMobile),t=(0,s.oR)(yn),n=(0,s.oR)($.priceAlertSubscriptionModel.$shouldShowChildrenTooltip);return{shouldDropChildren:(0,s.oR)($.priceAlertSubscriptionModel.$shouldDropChildrenFromTicketSubscription),isMobile:e,isSubscriptionLoading:t,showChildrenTooltip:n,smallPadding:e&&n,onSubscribe:(0,s.zX)(Mn),onCloseChildrenTooltip:(0,s.zX)(kn.c)}})();return(0,h.jsxs)(g,{as:"form",className:p()("NBElywXZqAyrtC79Uukb",i&&"p71EvAS49Ng2_0CWCAWY"),children:[(0,h.jsx)(g.Title,{className:"ovwU0cE13GdbKjgCU3PR",children:e("screen.form.title")}),(0,h.jsxs)(g.Content,{className:"B1MPa6QZaGx4w0sZjwSD",children:[(0,h.jsx)("div",{className:"EDNkEJ5M80JPT31EFDyA",children:(0,h.jsx)(qt,{})}),(0,h.jsx)(vt,{}),o&&(0,h.jsx)("div",{className:"l2fws3Ov9xqQYXy3TNRr",children:(0,h.jsx)(x,{text:e(n?"childrenTooltipWithDroppedChildren":"childrenTooltip"),isMobile:t,onCloseChildrenTooltip:l})})]}),(0,h.jsxs)(g.Footer,{className:"nOASh6vQVOJjfE1_6r2h",children:[(0,h.jsx)("div",{className:"jVfu5cu5oQ5SaWdW9mbL",children:(0,h.jsx)(S,{})}),(0,h.jsx)(u.Button,{size:u.ButtonSize.M,onClick:a,className:"e81GL4bic43eC_0kwt_I",progress:r,inline:!0,children:e("button.subscribe")})]})]})};var wn=n(42657),Pn=n(29643),On=n(16849);const Nn=e=>{let{onClick:t}=e;const{t:n}=(0,c.useTranslation)("widget_price_alert_subscription");return(0,h.jsxs)(u.Button,{mod:u.ButtonMod.Default,priority:u.ButtonPriority.Tertiary,size:u.ButtonSize.S,onClick:t,inline:!0,children:[(0,h.jsx)(On.Icon16ControlsDisclosure,{className:p()("oQe_317w3E_DXKE0C8Uw")}),(0,h.jsx)(m.Text,{type:f.TextType.Body2Semi,children:n("button.back")})]})},Rn=(0,r.memo)(Nn);const{LoginFormContainer:Bn}=Zt.O.containers,En=()=>{const{t:e}=(0,c.useTranslation)("widget_price_alert_subscription"),{handleBackClick:t,loginOptionalAnalyticsData:n}=(0,s.eY)({handleBackClick:$.priceAlertSubscriptionModel.loginBackButtonClicked,loginOptionalAnalyticsData:$.priceAlertSubscriptionModel.$loginOptionalAnalyticsData}),r=(0,wn.useCurrentBreakpoint)(Pn.breakpoints),o=null==r?void 0:r.is([Pn.BreakpointName.Mobile,Pn.BreakpointName.MobileLandscape]);return(0,h.jsxs)("div",{className:"CcDVneWPYQHOxDslirct",children:[(0,h.jsx)(B.Text,{type:o?B.TextType.Title4Bold:B.TextType.Title2Bold,className:"usgSjo3yKCMFPaa0p4U5",children:e("screen.login.title")}),(0,h.jsx)("div",{className:"nC5NzBmmFa_J9uN8EPvS",children:(0,h.jsx)(Bn,{source:"widget_subscription",optionalAnalyticsData:n})}),(0,h.jsx)(g.Footer,{className:"PCcw6MJqwJhutpem8gAy",children:(0,h.jsx)(Rn,{onClick:t})})]})},Fn=(0,r.memo)(En);var An=n(10178);const zn=e=>{let{className:t}=e;const{t:n}=(0,c.useTranslation)("widget_price_alert_subscription"),o=(0,s.oR)(yn),i=(0,s.zX)(mn),a=(0,s.zX)(l.Ge),d=(0,r.useCallback)((()=>{o||i()}),[o,i]);return(0,h.jsxs)(An.StatusMessage,{className:t,children:[(0,h.jsx)(An.StatusMessage.Icon,{mod:An.StatusMessageIconMods.Warning,className:"UIGwWt7wDTpsOF4nxrla"}),(0,h.jsx)(An.StatusMessage.Title,{children:n("screen.error.failed.title")}),(0,h.jsx)(An.StatusMessage.Content,{children:n("screen.error.failed.description.firstTry")}),(0,h.jsxs)(An.StatusMessage.Actions,{children:[(0,h.jsx)(An.StatusMessage.Action,{progress:o,onClick:d,children:n("button.subscribe")}),(0,h.jsx)(An.StatusMessage.Action,{priority:u.ButtonPriority.Secondary,onClick:a,children:n("button.configure")})]})]})},In=(0,r.memo)(zn);var Un=n(39194),Wn=n(54572);const Ln=e=>{let{className:t}=e;const{t:n}=(0,c.useTranslation)("widget_price_alert_subscription"),r=(0,s.oR)(l._t),o=(0,s.zX)(fn);return(0,h.jsxs)(An.StatusMessage,{className:t,children:[(0,h.jsx)(An.StatusMessage.Icon,{mod:An.StatusMessageIconMods.Success}),(0,h.jsx)(An.StatusMessage.Title,{children:n(`screen.success.${r}.title`)}),(0,h.jsx)(An.StatusMessage.Content,{children:(0,h.jsx)(c.Trans,{t:n,i18nKey:`screen.success.${r}.description`,components:{lnk:(0,h.jsx)(Un.Link,{href:Wn.Mb,target:"_blank",rel:"noopener"})}})}),(0,h.jsx)(An.StatusMessage.Actions,{children:(0,h.jsx)(An.StatusMessage.Action,{priority:u.ButtonPriority.Secondary,onClick:o,children:n("button.createAnotherOne")})})]})},$n=(0,r.memo)(Ln);var Xn=n(27886);const Hn=e=>{var t,n;let{className:r}=e;const{t:o}=(0,c.useTranslation)("widget_price_alert_subscription"),i=(0,s.oR)($.priceAlertSubscriptionModel.$searchData),a=(0,s.zX)($.priceAlertSubscriptionModel.hide),l=(0,s.zX)($.priceAlertSubscriptionModel.openFormFromReturnTicketScreen);return(0,h.jsxs)(An.StatusMessage,{className:r,children:[(0,h.jsx)(An.StatusMessage.Icon,{className:"JyRn4mOPR8nizESqhUbu",rounded:!0,children:(0,h.jsx)(Xn.EmojiBell,{})}),(0,h.jsx)(An.StatusMessage.Title,{children:o("screen.returnTicket.a.title")}),(0,h.jsx)(An.StatusMessage.Content,{children:o("screen.returnTicket.a.description",{toCityName:(null==i||null===(t=i.destination)||void 0===t?void 0:t.cases.vi)??(null==i||null===(n=i.destination)||void 0===n?void 0:n.name)})}),(0,h.jsxs)(An.StatusMessage.Actions,{children:[(0,h.jsx)(An.StatusMessage.Action,{onClick:l,children:o("button.pickDate")}),(0,h.jsx)(An.StatusMessage.Action,{priority:u.ButtonPriority.Secondary,onClick:()=>a("close_button"),children:o("button.noNeed")})]})]})},qn=e=>{let{className:t}=e;const{t:n}=(0,c.useTranslation)("widget_price_alert_subscription"),[r,o,i]=(0,s.eY)([Vt.W.outputs.$activeEmail,yn,l.pn]),a=(0,s.zX)(fn);return(0,h.jsxs)(An.StatusMessage,{className:t,children:[(0,h.jsx)(An.StatusMessage.Icon,{mod:An.StatusMessageIconMods.Warning}),(0,h.jsx)(An.StatusMessage.Title,{children:n(`screen.warning.${i}.title`,{email:r})}),(0,h.jsx)(An.StatusMessage.Content,{children:(0,h.jsx)(c.Trans,{t:n,i18nKey:`screen.warning.${i}.description`,components:{lnk:(0,h.jsx)(Un.Link,{href:Wn.Qh})}})}),(0,h.jsx)(An.StatusMessage.Actions,{children:(0,h.jsx)(An.StatusMessage.Action,{priority:u.ButtonPriority.Secondary,progress:o,onClick:a,children:n("button.createAnotherOne")})})]})},Vn=(0,r.memo)(qn);var Zn="MQTCygFbc9awrOndY8_h";const Kn=()=>{switch((0,s.oR)(l._e)){case l.cm.Login:return(0,h.jsx)(Fn,{});case l.cm.Error:return(0,h.jsx)(In,{className:Zn});case l.cm.Success:return(0,h.jsx)($n,{className:Zn});case l.cm.Warning:return(0,h.jsx)(Vn,{className:Zn});case l.cm.ReturnTicket:return(0,h.jsx)(Hn,{className:Zn});case l.cm.Form:default:return(0,h.jsx)(Sn,{})}},Qn=(0,r.memo)(Kn),{$isVisible:Gn,hide:Jn}=$.priceAlertSubscriptionModel,Yn=()=>{const e=(0,s.oR)(Gn),t=(0,s.oR)(l._e),n=(0,s.zX)(Jn);return{visible:e,noOverflow:t===l.cm.Form,closeButtonClick:()=>n("close_button"),areaClick:()=>n("area_click")}};const er=e=>{let{children:t}=e;const{noOverflow:n}=Yn();return(0,h.jsx)("div",{className:p()("MXLWgKsYhQnsSmtTrZ_z",!n&&"EUr1BY97h0Bb1k1JsDMM"),children:t})};var tr=n(51717);let nr,rr;!function(e){e.Showed="showed",e.Closed="closed",e.Opened="opened"}(nr||(nr={})),function(e){e.Applied="applied",e.Failed="failed"}(rr||(rr={}));const or=e=>{var t,n,r,o,i;return(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null==e||null===(r=e.response)||void 0===r||null===(o=r.data)||void 0===o||null===(i=o.info)||void 0===i?void 0:i.status)||e.message},{sendEvent:ir}=J.I.inputs,{$isMobile:ar}=G.l,{$eventData:sr,$widgetId:lr,initWidget:cr,hide:ur,resetWidget:dr,initEmail:pr}=$.priceAlertSubscriptionModel,mr=(0,H.yM)({sid:"-8kgjhd"}),fr=(0,H.yM)({sid:"-gwl7u7"}),hr=(0,H.yM)({sid:"7gv5qj"}),{$searchId:gr,$popupShowedSource:yr}=(0,tr.X)({source:sr,shape:{$searchId:e=>{let{searchId:t}=e;return t},$popupShowedSource:e=>{let{popupShowedSource:t}=e;return t}}}),br=(0,H.MT)(!1,{sid:"54cqkx"}).on(pr,((e,t)=>Boolean(t))).reset(dr);(0,H.UP)({and:[{clock:mr,source:{isMobile:ar,widgetId:lr},fn:(e,t)=>{let{isMobile:n,widgetId:r}=e,{data:o,payload:i}=t;return{data:{...o,service:Q.Service.Usercom},payload:{isMobile:n,widgetId:r,pageName:"search",...i}}},target:ir}],or:{sid:"-jvkdci"}}),(0,H.UP)({and:[{clock:fr,source:{searchId:gr,emailPrecompleted:br},fn:(e,t)=>{let{searchId:n,emailPrecompleted:r}=e,{action:o,source:i}=t;return{data:{action:o,category:"subscription",label:"subscription_popup"},payload:{source:i,searchId:n,subscriptionType:"price_alert_direct",userEvent:"inactive"!==i,..."showed"===o&&{emailPrecompleted:r}}}},target:mr}],or:{sid:"-iwxbyr"}}),(0,H.UP)({and:[{clock:hr,source:{searchId:gr,popupShowedSource:yr},fn:(e,t)=>{let{searchId:n,popupShowedSource:r}=e,{action:o,event:i}=t;return{data:{action:o,category:"subscription",label:"subscription"},payload:{...i,source:`popup.${r}`,searchId:n,userEvent:!1}}},target:mr}],or:{sid:"-hyu36d"}}),(0,H.UP)({and:[{clock:$.priceAlertSubscriptionModel.$shouldShowChildrenTooltip,filter:Boolean,fn:()=>({data:{action:"showed",category:"subscription",label:"warning"},payload:{source:"widget_subscription",warningType:"remove_children",userEvent:!1}}),target:mr}],or:{sid:"y50i88"}}),(0,H.UP)({and:[{clock:cr,source:yr,fn:e=>({source:e,action:nr.Showed}),target:fr}],or:{sid:"z2jyf9"}}),(0,H.UP)({and:[{clock:ur,fn:e=>({source:e,action:nr.Closed}),target:fr}],or:{sid:"-zhih5o"}}),(0,H.UP)({and:[{clock:[l.zB,l.Ge],source:l.WX,filter:Boolean,fn:e=>({source:e,action:nr.Showed}),target:fr}],or:{sid:"-z10ncu"}});const vr=(0,H.$e)({and:[k.cK,X.Z,ee.fz,(e,t,n)=>({email:e,priceAlertType:t?"flex":n?"close_dates":"direct"})],or:{sid:"uiempy"}}),xr=(0,H.UP)({and:[{clock:on.doneData,fn:e=>{let{data:t}=e;return t.info.direction_subscription.id}}],or:{sid:"-dl4nv0"}}),Tr=(0,H.UP)({and:[{clock:an.doneData,fn:e=>{let{data:t}=e;return t.info.flexible_subscription.id}}],or:{sid:"6hn7nr"}}),_r=(0,H.UP)({and:[{clock:[Tr,xr],source:vr,fn:(e,t)=>({...e,subscriptionId:t})}],or:{sid:"ontp6c"}});(0,H.UP)({and:[{clock:_r,fn:e=>({event:e,action:rr.Applied}),target:hr}],or:{sid:"-x236t9"}}),(0,H.UP)({and:[{clock:(0,H.UP)({and:[{clock:gn,source:vr,fn:(e,t)=>({...e,errorInfo:or(t)})}],or:{sid:"6vee1e"}}),fn:e=>({event:e,action:rr.Failed}),target:hr}],or:{sid:"-mnnaqc"}});const Mr=()=>{const{visible:e,noOverflow:t,areaClick:n,closeButtonClick:s}=Yn();return(0,h.jsx)(r.StrictMode,{children:(0,h.jsx)(o.Popup,{width:800,visible:e,onClose:n,rootClassName:a.modalRoot,className:a.modal,noHeader:!0,noOverflow:t,noAutoFocus:!0,children:(0,h.jsxs)(er,{children:[(0,h.jsx)(i.CloseButton,{onClick:s,className:a.closeButton}),(0,h.jsx)(Qn,{})]})})})}},94541:function(e,t,n){n.d(t,{C:function(){return o},F:function(){return r}});const r=e=>e?{...e,iata:e.comment,name:e.value}:null,o=e=>{if(!e)return null;const{iata:t,country:n,name:r,placeType:o}=e;return{iata:t,name:r,type:o,country_code:n}}},39275:function(e){function t(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}e.exports=function(e,n){var r;void 0===n&&(n=t);var o,i=[],a=!1;return function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];return a&&r===this&&n(t,i)||(o=e.apply(this,t),a=!0,r=this,i=t),o}}},80848:function(e){e.exports=JSON.parse('{"monthPickerHeader":"monthPickerHeader_41e9ddc","toggleAll":"toggleAll_41e9ddc","body":"body_41e9ddc","withRoundedBorders":"withRoundedBorders_41e9ddc","item":"item_41e9ddc"}')},20515:function(e){e.exports=JSON.parse('{"item":"item_30f8288","isSelected":"isSelected_30f8288","withChildren":"withChildren_30f8288","disabled":"disabled_30f8288","year":"year_30f8288","month":"month_30f8288"}')},8e4:function(e){e.exports=JSON.parse('{"tabs":"tabs_ebdbb42","tab":"tab_ebdbb42","active":"active_ebdbb42","text":"text_ebdbb42"}')},68612:function(e){e.exports=JSON.parse('{"container":"container_2c6ad65","content":"content_2c6ad65"}')},33143:function(e){e.exports=JSON.parse('{"container":"container_b2274a8","header":"header_b2274a8"}')},57658:function(e){e.exports=JSON.parse('{"container":"container_d201922","switcher":"switcher_d201922","button":"button_d201922"}')},7887:function(e){e.exports=JSON.parse('{"container":"container_b72cb48","header":"header_b72cb48","slider":"slider_b72cb48","buttons":"buttons_b72cb48"}')}}]);