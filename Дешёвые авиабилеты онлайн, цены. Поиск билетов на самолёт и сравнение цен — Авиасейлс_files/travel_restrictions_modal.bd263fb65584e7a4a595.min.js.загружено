"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3832],{17248:function(e,t,i){i.r(t),i.d(t,{travelRestrictionsModalPublicApi:function(){return c}});var s=i(34943),n=i(64441);const{travelRestrictionsFlag:r}=n.i.outputs,{requestTravelRestrictionsFlags:l}=n.i.inputs,o=(0,s.yM)({sid:"-m4n5j1"});(0,s.UP)({and:[{clock:o,target:l}],or:{sid:"-yqqqxo"}});const c={outputs:{$isEnabled:r.$value},inputs:{initialized:o}}},32266:function(e,t,i){i.r(t),i.d(t,{TravelRestrictionsModal:function(){return W}});var s=i(67294),n=i(34840),r=i(17248),l=i(81468),o=i(866),c=i(60238),a=i(77875),u=i(46845),d=i(25208),p=i(2545),m=i(49767),y=i(863),x=i(36812),f=i(9212),h=i(55687),v=i(73368),T=i(27856),R=i.n(T),b=i(80146),j=i(33200),N=i(70844),I=i(39654),g=i(73529),A=i(72523),D=i(79912);let C;!function(e){e.Quarantine="quarantine",e.Certificate="certificate",e.CertificateBefore="certificateBefore",e.CertificateAfter="certificateAfter",e.Vaccination="vaccination",e.Insurance="insurance",e.Country="country",e.Entry="entry",e.Visa="visa",e.Masks="masks",e.Food="food"}(C||(C={}));var k=i(94184),B=i.n(k),q=i(39194),P=i(16849),E=i(72303),M=i(97247),V=i(61863);let _;!function(e){e.Bubble="bubble",e.Umbrella="umbrella"}(_||(_={}));var L={container:"_jUEy81awWt0LWpigdwQ",disclosure:"as7YNi4HP0v4vmAZt87M",premiumIcon:"loWV3maEHG3ahm4okzy5",disclosureIcon:"oP4u3nfboNV8yYIKdkg0"},S=i(85893);const w={[_.Bubble]:E.IconMoreGradientBubble,[_.Umbrella]:M.IconMoreGradientUmbrella},O=e=>{const t=(0,n.eY)(f.X.inputs.entryPointInteracted),{icon:i,text:r,link:c,className:a,withDisclosure:u}=e,d=(0,s.useCallback)((e=>!!c||(e.preventDefault(),t(V.N9.ZeroStatePremium),!1)),[c,t]),p=(0,s.useMemo)((()=>w[i]),[i]);return(0,S.jsxs)(q.Link,{className:B()(L.container,a,{[L.disclosure]:u}),href:c,onClick:d,children:[(0,S.jsx)(p,{className:L.premiumIcon}),(0,S.jsx)(o.Text,{type:o.TextType.Body2Regular,mobileType:o.TextType.Body3Regular,className:L.text,children:(0,S.jsx)(l.Trans,{defaults:r,components:{strong:(0,S.jsx)("strong",{})}})}),u&&(0,S.jsx)(P.Icon16ControlsDisclosure,{className:L.disclosureIcon})]})};R().addHook("afterSanitizeAttributes",(e=>{"A"===e.tagName&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))}));const U=e=>{if(!e)return e;const t=(e=>{if("â€”"!==e.charAt(0))return e;let t=e.split("\n");return t=t.map((e=>`<li>${e.trim()}</li>`)),`<ul>${t.join("")}</ul>`})(e);return R().sanitize(t)},F=["closedCountryRule1","closedCountryRule2","closedCountryRule3","closedCountryRule4"];var Y=i(3400);const H=e=>{const{icon:t,title:i,type:r,shortDescription:l,fullDescription:c,premiumPromo:a,isActive:u}=e,[d,p]=(0,s.useState)(!1),m=(0,n.eY)(y.Yd.inputs.restrictionBlockClicked),x=(0,s.useCallback)((()=>{d||m(r),p(!d)}),[m,r,d,p]),f=Boolean(c),h=f?"button":"div";return(0,S.jsx)("li",{className:"khSaIn_CXKdvrd1tX6xu",children:(0,S.jsxs)("div",{className:"P5cBwePOFr5nv6HQp4Lo",children:[(0,S.jsxs)(h,{className:B()("o25w5gC36fgUHXg3pu5Q",f&&"Fzn36RssjsnieL3UpVYX"),...f&&{onClick:x},children:[(0,S.jsx)("div",{className:B()("i42hSH3H5oMKxQ5TqDow",u&&"EyOGvzG_ftHCpdY8Nb_4"),children:t}),(0,S.jsxs)("div",{className:"vwcukIXqKTBYmr11uoSh",children:[(0,S.jsx)(o.Text,{className:"Il31a7f8FDpGM6lwNOW5",tag:"h2",type:o.TextType.Body2Semi,children:i}),l&&(0,S.jsx)(o.Text,{type:o.TextType.Body2Regular,children:l})]}),f&&(0,S.jsx)(Y.Icon24ControlsChevron,{className:B()("GQtMfJ6nyVmn1CHHVEGe",d&&"MNEETGgtRJvVUf8vuMa9")})]}),d&&c&&(0,S.jsxs)(S.Fragment,{children:[a&&(0,S.jsx)(O,{icon:a.icon,text:a.text,link:a.link,className:"UG1tUwE93AG_UZkKKm3w"}),(0,S.jsx)(o.Text,{className:"NgGx3PoYizs6o80_JK7A",type:o.TextType.Body2Regular,dangerouslySetInnerHTML:{__html:c}})]})]})})};var G=i(68407),K=i(29308);const Q=e=>{let{className:t}=e;const{t:i}=(0,l.useTranslation)("widget_travel_restrictions"),s=(0,n.eY)(y.Yd.inputs.showFeedback);return(0,S.jsxs)(K.X,{"data-test-id":"tr-update-informer",className:t,children:[(0,S.jsx)(K.X.Icon,{children:(0,S.jsx)(G.Icon24CommonVerified,{})}),(0,S.jsx)(K.X.Text,{children:i("updateInformation")}),(0,S.jsx)(K.X.Text,{tag:"span",type:o.TextType.Body3Semi,children:(0,S.jsx)(q.Link,{href:"#",onClick:e=>{e.preventDefault(),s()},children:i("feedback.reportText")})})]})},X=(0,s.memo)(Q);var z="Fg2pDo8VeUeDe6CMkyLi",$="_upp8uQ1Nd4ucvzhl31w";const J=()=>{const{t:e}=(0,l.useTranslation)("widget_travel_restrictions"),t=(0,n.eY)(m.l.outputs.$language),i=(0,n.eY)({data:y.Yd.outputs.$data,visible:y.Yd.outputs.$isModalVisible,hide:y.Yd.inputs.hideModal}),s=(0,n.eY)({isEnabled:f.X.outputs.$isTravelRestrictionsEntryPointEnabled,isPremium:x.b.outputs.$isAnyPremiumActive}),r=(T=i.visible,R=i.hide,(0,v.useModalBehavior)("TRAVEL_RESTRICTIONS_MODAL",(0,v.addExternalStateConnection)({externalVisibility:T,onClose:R})));var T,R;const{summary:k,city:B,country:q,open:P,relevanceInfo:E}=i.data,{mainText:M}=(0,h.r)(),{entryRules:V,internalRules:L}=((e,t,i)=>{const{certificateRequired:s,certificatePolicy:n,certificateBeforeRequired:r,certificateBeforePolicy:l,certificateAfterRequired:o,certificateAfterPolicy:c,vaccinationRequired:a,vaccinationPolicy:u,entryRestrictions:d,foodOpen:p,foodPolicy:m,insuranceRequired:y,insurancePolicy:x,internalRestrictions:f,masksRequired:h,masksPolicy:v,quarantineRequired:T,quarantinePolicy:R}=e;return{entryRules:[{type:C.Quarantine,isVisible:null!=T,title:i("quarantineOnEntry"),shortDescription:i(T?"required":"notRequired"),fullDescription:U(R),Icon:b.Icon24RestrictionsFlightFrom,isActive:T},{type:C.Certificate,isVisible:null!=s&&null===r&&null===o,title:i("covidCertificate"),shortDescription:i(s?"required":"notRequired"),fullDescription:U(n),Icon:g.Icon24RestrictionsTest,isActive:s},{type:C.CertificateBefore,isVisible:null!=r,title:i("covidCertificateBefore"),shortDescription:i(r?"required":"notRequired"),fullDescription:U(l),Icon:g.Icon24RestrictionsTest,isActive:r},{type:C.Vaccination,isVisible:null!==a,title:i("vaccination"),shortDescription:i(a?"required":"notRequired"),fullDescription:U(u),Icon:A.Icon24RestrictionsVaccine,isActive:a},{type:C.Insurance,isVisible:null!=y,title:i("covidInsurance"),shortDescription:i(y?"required":"notRequired"),fullDescription:U(x),Icon:j.Icon24RestrictionsInsurance,premiumPromo:t.isEnabled?{icon:_.Umbrella,text:i("premiumPromo.covidInsurance"),link:t.isPremium?"/my/more?offer_id=24":""}:null,isActive:y},{type:C.Entry,isVisible:null!=d,title:i("additionalRequirements"),shortDescription:null,fullDescription:U(d),Icon:I.Icon24RestrictionsRestrictions,isActive:Boolean(d)}].filter((e=>e.isVisible)).sort(((e,t)=>Number(t.isActive)-Number(e.isActive))),internalRules:[{type:C.Country,isVisible:null!=f,title:i("internalRules"),shortDescription:null,fullDescription:U(f),Icon:I.Icon24RestrictionsRestrictions,isActive:f},{type:C.CertificateAfter,isVisible:null!=o,title:i("covidCertificateAfter"),shortDescription:i(o?"required":"notRequired"),fullDescription:U(c),Icon:g.Icon24RestrictionsTest,isActive:o},{type:C.Masks,isVisible:null!=h,title:i("masks"),shortDescription:i(h?"required":"notRequired"),fullDescription:U(v),Icon:D.Icon24RestrictionsMask,isActive:h},{type:C.Food,isVisible:null!=p,title:i("restaurants"),shortDescription:i(p?"restaurantsOpen":"restaurantsClosed"),fullDescription:U(m),Icon:N.Icon24RestrictionsRestaurant,isActive:!p}].filter((e=>e.isVisible)).sort(((e,t)=>Number(t.isActive)-Number(e.isActive)))}})(i.data,s,e),w=((e,t)=>{const{isEnabled:i,isPremium:s}=e;return i?{icon:_.Bubble,text:t("premiumPromo.common"),link:s?"/my/more":""}:null})(s,e),Y=[null==B?void 0:B.translations[t].su,null==q?void 0:q.translations[t].su].filter(Boolean).join(", "),G=P?d.Icon24ColorAllowed:p.Icon24ColorRestricted;return(0,S.jsxs)(c.Popup,{...r,padding:[16,48,48],dataTestId:"tr-modal",children:[(0,S.jsx)(c.Popup.Navigation,{children:(0,S.jsx)(a.Navbar.RightAccessory,{children:(0,S.jsx)(u.CloseButton,{"data-test-id":"tr-modal-close-button",onClick:r.close})})}),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("div",{className:"uT7yrwwG2h7LospuB6gg",children:[(0,S.jsx)(o.Text,{tag:"h2",className:"EFOA5QuHzrHOAwsUsNAb",type:o.TextType.Title2Bold,transformOnMobile:!0,children:Y}),(0,S.jsx)(o.Text,{tag:"span",className:"cNFTOmNC_FHSUW2rZsdM",type:o.TextType.Body1Regular,transformOnMobile:!0,children:E})]}),(0,S.jsxs)("div",{className:"IZD2GPMCcKnMvkHJ9hcK",children:[(0,S.jsxs)("div",{className:"TSU6EillIQrLTzZVCVOK",children:[(0,S.jsx)(G,{className:"Mfv4PXm6iUXKwNp7h5Wc"}),(0,S.jsx)(o.Text,{type:o.TextType.Body2Semi,tag:"span",className:"Ezj5gLk7EtJ9d1apcVL0",children:M})]}),(0,S.jsx)(o.Text,{type:o.TextType.Body2Regular,tag:"span",className:"fq2dfQ4JshQYI986Qbst",children:k})]}),w&&(0,S.jsx)(O,{...w,withDisclosure:!0,className:"qvSNEuuTVlua7JWoEkSG"}),V.length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.Text,{className:z,tag:"h4",type:o.TextType.Title4Bold,children:e("entryRules")}),!P&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.Text,{type:o.TextType.Body2Regular,children:e("closedCountryWarning")}),(0,S.jsx)("ul",{className:"kutSqb5nr6L2TLLMiJUM",children:F.map((t=>(0,S.jsx)("li",{className:"EHRRpResTP5xCN6LIOS5",children:(0,S.jsx)(o.Text,{type:o.TextType.Body2Regular,children:e(t)})},t)))})]}),P&&(0,S.jsx)("ul",{"data-test-id":"tr-entry-rules",className:$,children:V.map((e=>{let{type:t,title:i,shortDescription:s,fullDescription:n,Icon:r,premiumPromo:l,isActive:o}=e;return(0,S.jsx)(H,{type:t,title:i,shortDescription:s,fullDescription:n,icon:(0,S.jsx)(r,{}),premiumPromo:l,isActive:Boolean(o)},i)}))})]}),P&&L.length>0&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.Text,{className:z,tag:"h4",type:o.TextType.Title4Bold,children:e("internalRestrictions")}),(0,S.jsx)("ul",{"data-test-id":"tr-internal-rules",className:$,children:L.map((e=>{let{type:t,title:i,shortDescription:s,fullDescription:n,Icon:r,isActive:l}=e;return(0,S.jsx)(H,{type:t,title:i,shortDescription:s,fullDescription:n,icon:(0,S.jsx)(r,{}),isActive:Boolean(l)},i)}))})]}),(0,S.jsx)(X,{className:"PemhkbTORuEErlyEpjhh"})]})]})},W=()=>(0,n.eY)(r.travelRestrictionsModalPublicApi.outputs.$isEnabled)?(0,S.jsx)(s.StrictMode,{children:(0,S.jsx)(J,{})}):null}}]);