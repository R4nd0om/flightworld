(self.webpackChunkhelios=self.webpackChunkhelios||[]).push([[1875],{984437:function(e,t,r){"use strict";var n,a,i=r(785843);n=i.IS_WAYAWAY,a=function(e,t){var r;if(!n){switch(r={p:"VK-RTRG-188338-8acOA"},e){case"event":r.event=t;break;case"add":r.audience=t;break;case"device":r.device_id=t}return r=Object.keys(r).map((function(e){return e+"="+r[e]})).join("&"),(new Image).src="https://vk.com/rtrg?"+r}},e.exports={Hit:function(){return a()},Event:function(e){return a("event",e)},Add:function(e){return a("add",e)},Device:function(e){return a("device",e)}}},113040:function(e,t,r){"use strict";var n,a,i,o,c,s,u,l,f,d,p,v,g,h=r(35220)(r(101339));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,h.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}s=r(747596).getLocalStorageItem,f=r(763530).memoizeWithResolver,l=r(394296),u=r(587273).isMobile;var _=r(785843);n=_.IS_AVIASALES,a={TICKET_LOGO_CLICK:["click","buy_ticket"],TICKET_BUY_BUTTON_CLICK:["click","buy_ticket"],TICKET_PROPOSAL_CLICK:["click","buy_ticket"],TICKET_BUY_BUTTON_CONTEXTMENU:["contextmenu","buy_ticket"]},i={SEARCH_STARTED:"search_page--start--search",TICKET_LOGO_CLICK:"search_page--click--buy_ticket",TICKET_BUY_BUTTON_CLICK:"search_page--click--buy_ticket",TICKET_PROPOSAL_CLICK:"search_page--click--buy_ticket",TICKET_BUY_BUTTON_CONTEXTMENU:"search_page--contextmenu--buy_ticket"},c={ab_branch:window.abBranch?window.abBranch:void 0,is_mobile:u()},v=function(e){return window.yaCounterIds&&window.yaCounterIds.length&&window.ym?window.yaCounterIds.forEach((function(t){return window.ym(Number(t),"reachGoal",e)})):n?console.log("Failed to send goal with name '"+e+"' to YM"):void 0},p=function(e){var t,r;return window._rollbarMetricsHistory&&(window._rollbarMetricsHistory.push(e),window._rollbarMetricsHistory.length>10&&window._rollbarMetricsHistory.splice(0,1)),"function"==typeof ga?ga("send","event","search_page",(null!=(t=a[e])?t[0]:void 0)||"click",(null!=(r=a[e])?r[1]:void 0)||e.toLowerCase()):void 0},o=s("debugMetrics")?function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r="metric"),console.log(r,e,t)}:function(){},g=function(e,t){var r;return"function"==typeof ga&&ga("send","timing","search_page",e,t,void 0),r=y(y({},c),{},{time:t}),l("send_event",{name:e,meta:r}),o(e,r,"timing")},d=function(e,t){return void 0===t&&(t={}),t=y(y({},c),t),p(e),v(i[e]||e.toLowerCase()),l("send_event",{name:e,meta:t}),o(e,t)},e.exports={reach_goal:d,reach_goal_once:f(d,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return JSON.stringify(t)})),send_timing:g}},325967:function(e,t,r){"use strict";var n,a,i,o,c,s,u,l,f,d;n=r(382697).default;var p=r(747596);f=p.setLocalStorageJSONItem,d=r(162028),a=r(796857).Delegate,l=r(808460).readAuid,o=new a(document.body),window._stoyan_analytics=i={cookies:{get:n.get.bind(n)},search_params:{},auid:l()||"",targeting_params:{},currencies:{}},o.on("click","[data-metainfo]",(function(e,t){var r,n;n=t.getAttribute("data-metainfo");try{r=JSON.parse(n),i.metainfo=r,f("metainfo",r)}catch(t){e=t,"undefined"!=typeof Rollbar&&null!==Rollbar&&Rollbar.debug("Cannot parse metainfo: "+e.message+", metainfo: "+n)}return d("price_click",r)}),!0),d("init"),c=function(){return d("search_finished")},s=function(e){return i.search_params=e,d("start_search")},u=function(e){return d("update_tickets",{cheapestTicketPrice:e})},e.exports={on_start_search:s,on_search_finished:c,on_update_tickets:u}},162028:function(e,t,r){"use strict";var n,a,i=r(35220)(r(114558));n=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o,c,s,u,l,f,d;if("undefined"!=typeof _stoyan&&null!==_stoyan&&_stoyan.queue.filter((function(t){var r=t;return(0,i.default)(r,1)[0]===e})).forEach((function(t){var n=(0,i.default)(t,2),o=(n[0],n[1]);try{return o.apply(void 0,r)}catch(t){return a("ERROR in Stoyan Code ("+e+"):\n"+t.message)}})),"init"===e&&"undefined"!=typeof _stoyan&&null!==_stoyan&&(_stoyan.initialized=!0),null!=(l=window._analytics_callbacks)?l["on_"+e]:void 0){for(d=[],s=0,u=(f=window._analytics_callbacks["on_"+e]).length;s<u;s++){o=f[s];try{d.push(o.apply(void 0,r))}catch(e){c=e,"undefined"!=typeof Rollbar&&null!==Rollbar&&Rollbar.debug("Error in analytics code: "+c.message),d.push(console.warn("Error in analytics code: "+c.message))}}return d}},a=function(e){return"undefined"!=typeof Rollbar&&null!==Rollbar&&Rollbar.debug(e),console.warn(e)},e.exports=n},204333:function(e,t,r){"use strict";var n,a,i,o,c,s,u,l,f,d,p,v,g=r(740537);c=g.format;var h=r(650832);a=h.TripClass,v=r(95156);var m=r(543358);n=m.PlaceType;var y=r(891345);f=y.isTripDuration;var _=r(50505);l=_.isShortUrlPossible;var b=r(490546);o=b.checkTripClass;var S=r(149739);u=S.isMonthRange,d=function(e){var t,r;return(r=(t=new Date(e)).getTimezoneOffset())>0&&t.setTime(t.getTime()+6e4*r),t},s=function(e){return"?"+v(e)},i=function(e,t){var r,n,i=t.passengers,c=i.adults,s=i.children,u=i.infants,l=t.tripClass,f=void 0===l?"Y":l;for(r=n=0;n<=6;r=++n)e[r]||(e[r]="");return"/"+[e.join(""),o(f)!==a.Economy?o(f).toLowerCase():"",c,u?s:s||"",u||""].join("")},p=function(e,t){var r,a,o,s,l,p,v,g,h,m,y,_,b,S,T,O,P,E,k;for(k=[],l=null,v=h=0,m=(S=e.segments).length;h<m;v=++h)p=!1,_=null!=(T=(E=S[v]).origin)?T.iata:void 0,(null!=E&&null!=(O=E.destination)?O.type:void 0)===n.Anywhere||null!=(P=E.destination)&&P.iata,s=function(){var e,t,r;switch(!0){case(null!=E&&null!=(e=E.destination)?e.type:void 0)===n.Anywhere:return"ANYWHERE";case(null!=E&&null!=(t=E.destination)?t.type:void 0)===n.NationalPark:return"";default:return null!=(r=E.destination)?r.iata:void 0}}(),t||_&&s||window.Rollbar&&window.Rollbar.error("Cannot build search url",{search_params:e}),0===v&&(l=_),r=v===e.segments.length-1&&l===s,b&&"ANYWHERE"!==b&&b!==_&&(k.push("-"),p=!0),y=0===v||p?_:"",o=r?"":s,g=(null!=E?E.date:void 0)instanceof Date||"string"==typeof E.date,a=function(){switch(!0){case(null!=E?E.date:void 0)&&g:return c(d(E.date),"DDMM");case u(null!=E?E.date:void 0):return"-"+E.date.map((function(e){return c(d(e),"DDMM")})).join("-");case(null!=E?E.date:void 0)&&f(E.date):return[E.date.min,E.date.max].join("-");default:return""}}.call(this),k.push(""+y+a+(o||"")),b=s;return i(k,e)},e.exports=function(e,t){return void 0===t&&(t=!1),l(e,t)?p(e,t):s(e)}},772667:function(e,t,r){"use strict";var n,a,i,o,c,s,u,l,f,d=r(740537);l=d.parse,o=d.format,a=d.addYears,n=d.addDays,i=d.diff,u=d.isLeap;var p=r(828451);s=p.getTripClass,c=p.getPassengers,f=r(101785).default,e.exports=function(e){var t,r,d,p,v,g,h,m,y,_,b,S,T,O,P,E,k,C,w,D,I;if(!(P=decodeURIComponent(e).match(f))&&window.Rollbar&&window.Rollbar.warning("Cant parse short url",{pathname:window.location.pathname}),!P)return{};for(k={},(E=new Date).setHours(0,0,0,0),d=E.getFullYear(),w=[],g=null,S=!1,m=0,O=(C=[1,3,5,7,9,11,13]).length;m<O&&(y=P[_=C[m]],v=(P[_+1]||"").match(/\d{2}/g),h=1===_,T=13===_||!P[_+4],y);m++)v&&"-"!==v&&(D=+v[0],I=+v[1],p=l(D+"-"+I+"-"+d,"DD-MM-YYYY"),(i(p,E)<-1||S)&&(p=a(p,1),S=!0),!u(E)&&u(p)&&29===D&&2===I&&(p=n(p,-1)),h?(g=y,w.push({origin:{iata:y,name:"",search:""},destination:{iata:P[_+2],name:"",search:""},date:o(p,"YYYY-MM-DD")})):P[_+2]?w.push({origin:{iata:y,name:"",search:""},destination:{iata:P[_+2],name:"",search:""},date:o(p,"YYYY-MM-DD")}):T&&p&&w.push({origin:{iata:y,name:"",search:""},destination:{iata:g,name:"",search:""},date:o(p,"YYYY-MM-DD")}));return k.segments=w,k.trip_class=s(P[15]),k.tripClass=s(P[15]),t=+P[16]||1,r=+P[17]||0,b=+P[18]||0,k.passengers=c(t,r,b),k.with_request=!0,k}},825499:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.default=t.create=void 0;var a,i,o,c=n(r(435850)),s=n(r(114558)),u=n(r(823584)),l=r(763530);o=/^(([А-Яа-яa-zA-Z]|\d)+_([А-Яа-яa-zA-Z]|\d)+)(_(\d+\.?\d+)|)$/,i={sign:"",segment:[],carriers:[],segment_durations:[],segments_airports:[],stops_airports:[],price:Infinity,min_stop_duration:Infinity},a={departure_timestamp:0,local_departure_timestamp:0,arrival_timestamp:0,local_arrival_timestamp:0,duration:0,airports:[],arrival_time:"00:00",departure_time:"00:00",arrival_date:"2017-01-01",departure:"MOW",arrival:"LED"};var f=function(e){var t,r,n,u,l,f,d,p,v,g,h,m;if(o.test(e)){var y=e.split("_"),_=(0,s.default)(y,3);return m=_[0],h=_[1],p=_[2],d=m.substr(2).match(/\d+[а-яёa-z]+/gi),v=[],t=m.substr(0,2),g=function(){var e,t,i;for(i=[],e=0,t=d.length;e<t;e++)f=d[e],u=+f.substr(0,10),n=+f.substr(10,10),l=+f.substr(20,6),r=f.substr(26).match(/.{3}/g),v.push(l),i.push({flights:[(0,c.default)({},a,{departure_timestamp:u,local_departure_timestamp:u,arrival_timestamp:n,local_arrival_timestamp:n,duration:l,airports:r,departure:r[0],arrival:r[r.length-1]})]});return i}(),(0,c.default)({},i,{carriers:[t],price:Infinity|p,segments:g,segment_durations:v,sign:h})}};t.parse=f;var d=(0,l.memoizeWithResolver)((function(e,t){var r,n,a,i,o,c,s,l,f;f=[e];try{for(i in c=t.segments){for(l=c[i],f.push(""+l.flights[0].local_departure_timestamp),f.push(""+l.flights[l.flights.length-1].local_arrival_timestamp),f.push(("000000"+t.segment_durations[i]).substr(-6)),r=[],s=l.flights,a=0,o=s.length;a<o;a++)n=s[a],r.push(n.departure),r.push(n.arrival);Array.prototype.push.apply(f,(0,u.default)(r))}}catch(e){}return[f.join(""),t.sign].join("_")}),(function(e,t){return e+"_"+t.sign}));t.create=d;var p={parse:f,create:d};t.default=p},95156:function(e){"use strict";var t,r;t=function(e){return encodeURIComponent(e)},r=function(e,n){var a,i,o,c;for(i in o=[],e)a=n?n+"["+i+"]":i,"object"==typeof(c=e[i])?o.push(r(c,a)):o.push(t(a)+"="+t(c));return o.join("&")},e.exports=r},802647:function(e,t,r){"use strict";var n,a,i,o,c,s,u=r(35220),l=u(r(435850)),f=u(r(114558)),d=r(740537),p=u(r(275347)),v=u(r(816550)),g=u(r(178115)),h=r(495256),m=r(783293),y=r(785843);n={"":"YYYYMMDD",_reverse:"DDMMYYYY",_dash:"YYYY-MM-DD",_dot:"YYYY.MM.DD",_dash_reverse:"DD-MM-YYYY",_dot_reverse:"DD.MM.YYYY"},o=function(e,t){var r;return e?function(){var n,a,i;for(i=[],r=n=0,a=e-1;0<=a?n<=a:n>=a;r=0<=a?++n:--n)i.push(t+r);return i}().join(","):null},c=function(e){var t,r,n,a,i,c;for(r=[],n=a=0,i=e.length;a<i;n=++a){var s=(0,f.default)(e[n],2);c=s[0],t=s[1],(t=o(c,t))&&r.push(t)}return r.join(",")},a=function(e,t){var r,a,i;for(a in r={},n)i=n[a],r["ddate"+a]=(0,d.format)(e,i),r["rdate"+a]=t?(0,d.format)(t,i):null;return r},i=function(e,t){var r,n,i,o,s,u,f,v,g,_,b,S,T,O,P,E,k,C,w,D,I;return i=(0,h.dateWithoutTimezone)(e.segments[0].date),I=e.segments.length>1?(0,h.dateWithoutTimezone)(e.segments[1].date):null,r=(null!=(s=e.passengers)?s.adults:void 0)||1,n=(null!=(u=e.passengers)?u.children:void 0)||0,o=(null!=(T=e.passengers)?T.infants:void 0)||0,(0,l.default)(a(i,I),{dest_ctry:(null!=(O=e.segments[0])?O.destination_country:void 0)||e.segments[0].destination.countryIata,dest_ctry_name:(null!=(P=e.segments[0])?P.destination_country_name:void 0)||e.segments[0].destination.countryName,trp_cls:e.tripClass,trp_type:e.tripType,dest_city:"string"==typeof(null!=(E=e.segments[0])?E.destination:void 0)?null!=(k=e.segments[0])?k.destination:void 0:e.segments[0].destination.iata,dest_airpt:(null!=(C=e.segments[0])?C.original_destination:void 0)||e.segments[0].destination.iata,dest_nm:(null!=(w=e.segments[0])?w.destination_name:void 0)||e.segments[0].destination.cityName,orgn_ctry:(null!=(D=e.segments[0])?D.origin_country:void 0)||e.segments[0].origin.countryIata,orgn_ctry_name:(null!=(f=e.segments[0])?f.origin_country_name:void 0)||e.segments[0].origin.countryName,orgn_city:"string"==typeof(null!=(v=e.segments[0])?v.origin:void 0)?null!=(g=e.segments[0])?g.origin:void 0:e.segments[0].origin.iata,orgn_airpt:(null!=(_=e.segments[0])?_.original_origin:void 0)||e.segments[0].origin.iata,orgn_nm:(null!=(b=e.segments[0])?b.origin_name:void 0)||e.segments[0].origin.cityName,distance:t>0?t:void 0,adt:r,cld:n,inf:o,psng_age:c([[r,25],[n,7],[o,1]]),vld_car:e.carier,stops:null!=(S=e.stops)?S.join(","):void 0,d_stops:e.depart_stops_count,r_stops:e.return_stops_count,td:I?(0,d.diff)(I,i):null,host:(0,m.getTopLevelDomain)(),brand:y.BRAND,lang:p.default.language||"ru"})},s=function(e,t){return void 0===t&&(t=0),(0,g.default)(v.default,i(e,t))},e.exports={targetParams:s}},129304:function(e,t,r){"use strict";var n,a,i,o,c,s,u,l,f;a=r(740537);var d=r(63607);n=d.TripDirectionType,i=function(e){return e[0].origin.iata===e[1].destination.iata&&e[0].destination.iata===e[1].origin.iata?n.RoundTrip:n.Multiway},s=function(e){return e[0].origin===e[1].destination&&e[0].destination===e[1].origin?n.RoundTrip:n.Multiway},u=function(e){var t;if(!(t=e.segments))return!1;switch(!1){case 1!==t.length:return n.OneWay;case 2!==t.length:if(t[0]&&t[1]&&t[0].origin&&t[0].destination&&t[1].origin&&t[1].destination){if(t[0].origin.iata&&t[0].destination.iata&&t[1].origin.iata&&t[1].destination.iata)return i(t);if("string"==typeof t[0].origin&&"string"==typeof t[0].destination&&"string"==typeof t[1].origin&&"string"==typeof t[1].destination)return s(t)}break;default:return n.Multiway}},o=function(e){var t,r,n;if(!(null!=e?e.passengers:void 0))return 0;for(n in t=0,r=e.passengers)t+=r[n];return t},c=function(e){var t,r;switch(r=u(e),t=e.segments,r){case n.OneWay:case n.RoundTrip:return[t[0].origin,t[0].destination];case n.Multiway:return t.reduce((function(e,r,n){var a;return(null!=(a=t[n-1])?a.destination:void 0)===r.origin?e.push(r.destination):e.push(r.origin,r.destination),e}),[])}},l=function(e){var t,r;return(r=(t=new Date(e)).getTimezoneOffset())>0&&t.setTime(t.getTime()+6e4*r),t},f=function(e,t){var r,i,o,s;if(void 0===t&&(t=!1),e)return i=u(e)===n.RoundTrip?"⇄":"→",r=function(){var t,r,n,i;for(i=[],t=0,r=(n=e.segments).length;t<r;t++)s=n[t],i.push(a.format(l(s.date),"DD.MM"));return i}().join(" - "),o=c(e).join(" "+i+" "),t?r+", "+o:o+", "+r},e.exports={getTripType:u,getRouteArray:c,searchParamsToTitle:f,getPassengersAmount:o}},16368:function(e,t,r){"use strict";var n,a,i,o,c,s,u;i=r(797972);var l=r(525930);u=l.svg,s=l.rect,l.g,n=r(859941),o=r(37102),a=r(553631),c=r(650047),e.exports=i.createFactory(c({displayName:"AxisX",propTypes:{values:n.array.isRequired,onClick:n.func,onHover:n.func,maxValue:n.number.isRequired,width:n.number.isRequired,step:n.number.isRequired,highlightedPaddingTop:n.number,sizeType:n.string.isRequired,offsetX:n.number,minHeight:n.number,marginRight:n.number,graphClassName:n.string},mixins:[a],render:function(){var e,t,r,n,a;return u({className:"graph__axis-x"},u({height:100-this.props.highlightedPaddingTop+"%",y:this.props.highlightedPaddingTop+"%",x:""+this.props.offsetX+this.props.sizeType},function(){var i,c,u,l;for(u=this.props.values,l=[],r=i=0,c=u.length;i<c;r=++i){var f=u[r];n=f.key,a=f.value,e=f.className,(t=a?100*Math.min(1,a/this.props.maxValue):0)<this.props.minHeight&&(t=this.props.minHeight),"--prediction"===this.props.graphClassName?l.push([s({className:o("graph__col",{"--empty":!a},e),key:n,onClick:this.handleClick.bind(this,r),onMouseOver:this.handleMouseOver.bind(this,r),onMouseOut:this.handleMouseOut,width:""+(this.props.width+this.props.marginRight)+this.props.sizeType,height:"100%",y:"0%",x:""+this.props.step*r+this.props.sizeType}),s({className:"graph__col-white",key:n+"1",width:""+(this.props.width+this.props.marginRight)+this.props.sizeType,height:100-t+"%",y:"0%",x:""+this.props.step*r+this.props.sizeType}),s({className:"graph__col-white",key:n+"2",width:"1"+this.props.sizeType,height:"100%",y:"0%",x:""+this.props.step*r+this.props.sizeType})]):l.push(s({className:o("graph__col",{"--empty":!a},e),key:n,onClick:this.handleClick.bind(this,r),onMouseOver:this.handleMouseOver.bind(this,r),onMouseOut:this.handleMouseOut,width:""+this.props.width+this.props.sizeType,height:t+"%",y:100-t+"%",x:""+this.props.step*r+this.props.sizeType}))}return l}.call(this)),this.props.children)},handleMouseOver:function(e,t){return this.props.onHover(e,t.target)},handleMouseOut:function(){return this.props.onHover(null)},handleClick:function(e){return this.props.onClick(e,this.props.values[e])}}))},502142:function(e,t,r){"use strict";var n,a,i,o,c,s=r(35220)(r(681854));i=r(797972);var u=r(525930);c=u.div,a=r(859941),o=r(650047),n=i.createFactory(s.default),e.exports=i.createFactory(o({displayName:"AxisY",propTypes:{values:a.array.isRequired,maxValue:a.number.isRequired,minNeighborRelation:a.number,highlightedPaddingTop:a.number},render:function(){var e,t;return c({className:"graph__axis-y"},function(){var r,a,i,o;for(i=this._filterTooNearValues(),o=[],e=r=0,a=i.length;r<a;e=++r)t=i[e],o.push(c({className:"graph__y-item",style:{top:this._top(t)},key:"graph__axis-y-"+e},n({unifiedPrice:t})));return o}.call(this))},_filterTooNearValues:function(){var e,t,r,n,a;if(this.props.minNeighborRelation&&this.props.values.length>1){for(n=[(a=this.props.values.sort((function(e,t){return e-t})))[0]],e=t=1,r=a.length;1<=r?t<=r:t>=r;e=1<=r?++t:--t)(a[e]-n[n.length-1])/this.props.maxValue>=this.props.minNeighborRelation&&n.push(a[e]);return n}return this.props.values},_top:function(e){var t;return t=this.props.maxValue?e/this.props.maxValue*100:0,this.props.highlightedPaddingTop&&(t=t*(100-this.props.highlightedPaddingTop)/100),100-t+"%"}}))},120677:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c,s,u,l,f,d,p,v,g,h=n(r(114558)),m=n(r(681854)),y=n(r(983065)),_=r(445549);f=r(797972),u=r(859941);var b=r(525930);v=b.div,b.br,c=r(624370),i=r(502142),a=r(16368),r(37102);var S=r(41889);g=S.percentile,p=r(650047),l=r(224562).Provider,r(190815).default,r(662472),d=f.createFactory(y.default),o=f.createFactory(m.default),f.createFactory(l),s=function(){};var T=f.createFactory(p({displayName:"Graph",propTypes:{data:u.array,onClick:u.func,highlighted:u.arrayOf(u.number),marginRatio:u.number,rectWidth:u.number,sizeType:u.oneOf(["px","%"]),highlightedPaddingTop:u.number,offsetX:u.number,cutTopPercentile:u.number,hasTooltips:u.bool,minHeight:u.number,className:u.string},getDefaultProps:function(){return{onClick:s,marginRatio:1/3,highlightedPaddingTop:10,className:"",sizeType:"%",offsetX:0,cutTopPercentile:.95,hasTooltips:!1,minHeight:0}},getInitialState:function(){return{hoveredColumn:null}},render:function(){var e,t,r,n,s,u;if(!this.props.data)return null;var l=this._getYValues(),p=(0,h.default)(l,2);r=p[0],n=p[1];var g=this._getColSize();return s=g.step,t=g.marginRight,u=g.width,v({className:"graph "+this.props.className},v({className:"graph__wrap"},i({values:[r,n],minNeighborRelation:.1,maxValue:r,highlightedPaddingTop:this.props.highlightedPaddingTop}),a({values:this.props.data,maxValue:r,onClick:this.props.onClick,onHover:this.handleHover,step:s,width:u,marginRight:t,graphClassName:this.props.className,highlightedPaddingTop:this.props.highlightedPaddingTop,sizeType:this.props.sizeType,offsetX:this.props.offsetX,minHeight:this.props.minHeight},c({dataSize:this.props.data.length,highlighted:this.props.highlighted,marginRight:t,step:s})),this.props.children),this.props.hasTooltips?(e=this.props.data[this.state.hoveredColumn],d({tooltip:f.createFactory((function(){return v({className:"graph__tooltip"},e.value?[(0,_.Trans)({i18nKey:e.isRoundTrip?"graphMinPriceLabelWithBr":"graphMinPriceLabel",ns:"common",values:{dates:e.titleDates},components:[o({key:"graphMinPriceLabel",unifiedPrice:e.value})]})]:e.titleDates)})),nodeToShow:this.hoveredCalendarItem,showByProps:!0,isVisible:!!this.hoveredCalendarItem,noAnimation:!0})):[])},handleHover:function(e,t){return this.hoveredCalendarItem=t,this.setState({hoveredColumn:e})},_getYValues:function(){var e,t,r;return(e=function(){var e,t,n,a;for(a=[],e=0,t=(n=this.props.data).length;e<t;e++)(r=n[e].value)&&a.push(r);return a}.call(this)).length?(t=e.sort((function(e,t){return e-t})),[g(t,this.props.cutTopPercentile),t[0]]):[0,0]},_getColSize:function(){var e,t,r;return this.props.rectWidth?t=(r=this.props.rectWidth)+(e=r*this.props.marginRatio):r=(t=1/this.props.data.length*100)-(e=t*this.props.marginRatio),{step:t,marginRight:e,width:r}}}));t.default=T},624370:function(e,t,r){"use strict";var n,a,i,o,c=r(35220)(r(114558));r(797972);var s=r(525930);o=s.rect,i=s.line,a=s.g,r(859941),n=function(e){e.dataSize;var t,r,n=e.highlighted,a=e.step,i=e.marginRight,o=(0,c.default)(n,2);return t=o[0],r=o[1],{width:(Math.abs(r-t)+1)*a-i,left:t*a}},e.exports=function(e){var t,r,c=e.highlighted;if(!c||2!==c.length)return null;var s=n.apply(this,arguments);return r=s.width,t=s.left,a(null,o({className:"graph__highlighted",key:"graph__highlighted",width:r+"%",height:"100%",x:t+"%",y:0}),i({className:"graph__highlighted-border",key:"graph__highlighted-border-1",x1:t+"%",x2:t+"%",y1:"0%",y2:"100%"}),i({className:"graph__highlighted-border",key:"graph__highlighted-border-2",x1:t+r+"%",x2:t+r+"%",y1:"0%",y2:"100%"}))}},321536:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c,s=n(r(371530)),u=n(r(947981)),l=n(r(797972)),f=r(525930),d=n(r(859941)),p=n(r(37102)),v=r(740537),g=r(372662),h=n(r(120677)),m=n(r(442942)),y=n(r(74953)),_=n(r(268554)),b=r(2705),S=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};a=l.default.createFactory(_.default),c=l.default.createFactory(y.default),i=l.default.createFactory(m.default),o={wide:{width:820,days:84,colWidth:8},small:{width:729,days:35,colWidth:18}};var T=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleTripDurationChange=r.handleTripDurationChange.bind((0,s.default)(r)),r.handleSliderChange=r.handleSliderChange.bind((0,s.default)(r)),r.handleColumnClick=r.handleColumnClick.bind((0,s.default)(r)),r.handleResize=r.handleResize.bind((0,s.default)(r)),r.state=r.getInitialState(),r}(0,u.default)(t,e);var r=t.prototype;return r.getInitialState=function(){var e,t=this._getGraphParams(this.props.isSmallScreen);return e=t.width,{daysInViewport:t.days,sliderWidth:e,graphStartDay:this.props.initialGraphStartDay||this._getGraphStartDay()}},r.componentDidUpdate=function(e,t){if(this.props.isSmallScreen!==e.isSmallScreen)return this.handleResize()},r.handleTripDurationChange=function(e){return S(this,t),this.props.onParamsChange({tripDuration:e})},r.handleSliderChange=function(e){return S(this,t),this.setState({graphStartDay:e}),this.props.onParamsChange({initialGraphStartDay:e})},r.handleColumnClick=function(e,r){var n,a;if(S(this,t),n=r.departDate,this.props.onParamsChange({departDate:n}),null!=this.props.tripDuration&&(a=(0,v.addDays)(n,this.props.tripDuration)),this.props.onDatesSelect(n,a),this._sendColumnMetrics(r),!this.props.isExpanded)return this.props.onExpand()},r.handleResize=function(){var e,r;S(this,t);var n=this._getGraphParams(this.props.isSmallScreen);return r=n.width,e={daysInViewport:n.days,sliderWidth:r},this.props.initialGraphStartDay||(e.graphStartDay=this._getGraphStartDay()),this.setState(e)},r.render=function(){var e,t;return t=this._rectWidth(),e=this._getGraphOffset(),(0,f.div)({className:(0,p.default)("prediction__graph",{"--loader":this.props.isLoading})},(0,f.div)({className:"prediction__expanded-header"},null!=this.props.tripDuration?i({t:this.props.t,value:this.props.tripDuration,onChange:this.handleTripDurationChange}):null),(0,h.default)({className:"--prediction",data:this._presentColumns(),rectWidth:t,sizeType:"px",marginRatio:1/t,highlightedPaddingTop:0,offsetX:e,onClick:this.handleColumnClick,hasTooltips:!0,minHeight:15},c({t:this.props.t,localeContext:this.props.localeContext,data:this.props.prices,rectWidth:t,offsetX:e,beginningOfPeriod:this._getBeginningOfPeriod()})),a({t:this.props.t,localeContext:this.props.localeContext,startFrom:this.state.graphStartDay,daysInViewport:this.state.daysInViewport,width:this.state.sliderWidth,data:this.props.prices,onChange:this.handleSliderChange,beginningOfPeriod:this._getBeginningOfPeriod()}))},r._getGraphParams=function(e){return o[e?"small":"wide"]},r._getGraphStartDay=function(){var e,t,r;return e=this._getGraphParams(this.props.isSmallScreen).days,r=(0,v.addYears)(new Date,1),t=new Date(this.props.departDate),(0,v.addDays)(t,this.props.tripDuration)>r?(0,v.addDays)(r,-e):t<(0,v.addDays)(new Date,e/2)?new Date:(0,v.addDays)(t,-e/2)},r._getBeginningOfPeriod=function(){return new Date},r._getGraphOffset=function(){var e;return this._getGraphParams(this.props.isSmallScreen).days,(0,v.isEqualDates)(this.state.graphStartDay,this._getBeginningOfPeriod())?0:(e=this._rectWidth()+1,(0,v.diff)(this._getBeginningOfPeriod(),this.state.graphStartDay,!0)*-e)},r._rectWidth=function(){return this._getGraphParams(this.props.isSmallScreen).colWidth},r._isRoundTrip=function(){return null!=this.props.tripDuration},r._presentColumns=function(){var e,t,r,n,a,i,o,c,s,u,l,f;for(o=this.props.localeContext,s=[],a=r=0,i=(c=this.props.prices).length;r<i;a=++r){var d=c[a];t=d.departDate,f=d.value,u=this._isRoundTrip()?(0,v.addDays)(t,this.props.tripDuration):null,e=this._getColClass(t),l=this._isRoundTrip()?(0,g.format)(o,"interval_date",new g.Interval({start:t,end:u})):(0,g.format)(o,"ts_day_month_short_weekday",t),n=this._isRoundTrip(),s.push({isRoundTrip:n,titleDates:l,key:a,value:f,className:e,departDate:t,returnDate:u})}return s},r._getColClass=function(e){var t,r,n=this.props;switch(t=n.departDate,r=n.tripDuration,!1){case!(0,v.isEqualDates)(e,t):return"--active";case!(r&&t<e&&e<(0,v.addDays)(t,r+1)):return"--active-light";default:return""}},r._sendColumnMetrics=function(e){var t,r,n;return this.props.isExpanded?(n=e.value,t=e.departDate,r={departDate:(0,g.format)(this.props.localeContext,"ts_date_numeric",t)},null!=n&&(r.value=n),(0,b.UNSAFE_reachGoal)("PREDICTION_COLUMN_CLICK",r)):(0,b.UNSAFE_reachGoal)("PREDICTION_EXPAND_ON_COLUMN")},t}(l.default.Component);return e.displayName="CalendarGraph",e.propTypes={t:d.default.func.isRequired,prices:d.default.array.isRequired,tripDuration:d.default.number,departDate:d.default.instanceOf(Date).isRequired,initialGraphStartDay:d.default.instanceOf(Date),onParamsChange:d.default.func.isRequired,onExpand:d.default.func.isRequired,isSmallScreen:d.default.bool.isRequired,isLoading:d.default.bool.isRequired,isExpanded:d.default.bool.isRequired,onDatesSelect:d.default.func.isRequired},e}.call(void 0);t.default=T},268554:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c=n(r(114558)),s=n(r(947981)),u=n(r(797972)),l=n(r(859941)),f=r(525930),d=r(41889),p=r(740537),v=r(372662),g=r(2705),h=n(r(887059)),m=n(r(79182));r(588349),o=u.default.createFactory(m.default),i=366,a=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}(0,s.default)(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(e,t){return this._isPropChanged(["data","width","daysInViewport"],e)},r.render=function(){var e,t,r,n,a,s,u,l,d=this;return s=this.props.localeContext,r=Math.ceil(this.props.daysInViewport/i*this.props.width),e=this.props.width-r,l=this.props.beginningOfPeriod.getDate(),(0,f.div)({className:this.blockClassName()},(0,f.svg)({className:this.elementClassName("graph"),viewBox:"0 0 "+this.props.width+" "+this.props.height,width:this.props.width,height:this.props.height},(0,f.polyline)({points:this._getPoints()})),(0,f.div)({style:{width:e-2},className:this.elementClassName("wrap")},o({range:{min:0,max:i-this.props.daysInViewport},start:[this._getStart()],step:1,connect:!1,onUpdate:function(e){var t=(0,c.default)(e,1)[0];return d.props.onChange((0,p.addDays)(d.props.beginningOfPeriod,t))},onChange:function(){return(0,g.UNSAFE_reachGoal)("PREDICTION_SLIDER_MOVE")}})),(0,f.div)({className:this.elementClassName("months"),style:{left:"-"+l/i*100+"%"}},function(){var e,r;for(r=[],a=e=0;e<=12;a=++e)t=(0,p.addMonths)(this.props.beginningOfPeriod,a),u=(0,v.format)(s,"ts_month_full",t),n=1*l>2&&!a,r.push((0,f.span)({key:a,className:this.elementClassName("month-name"),style:{width:(0,p.daysInMonth)(t)/i*100+"%"}},n?"":u));return r}.call(this)))},r._getStart=function(){return(0,p.isEqualDates)(this.props.startFrom,this.props.beginningOfPeriod)?0:(0,p.diff)(this.props.beginningOfPeriod,this.props.startFrom,!0)},r._getPoints=function(){var e,t,r,n,a,i,o,c,s,u,l,f,p,v,g;for(t=[],i=0;i<this.props.data.length;)r=this.props.data.slice(i,i+this.props.datesPerChunk),e=(n=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)(p=r[e].value)&&n.push(p);return n}()).length>0?(f=n.reduce((function(e,t){return e+t}),0),Math.round(f/n.length)):0,t.push(e),i+=this.props.datesPerChunk;return 0===(l=function(){var e,r,n;for(n=[],e=0,r=t.length;e<r;e++)(u=t[e])>0&&n.push(u);return n}().sort((function(e,t){return e-t}))).length?"":(s=l[0],o=(0,d.percentile)(l,this.props.cutTopPercentile),c=(0,d.percentile)(l,.5),function(){var e,r,n;for(n=[],i=e=0,r=t.length;e<r;i=++e)(p=t[i])||(p=c),a=s===o?.5:(p-s)/(o-s),g=this.props.height*(1-a),g=Math.min(this.props.height-1,Math.max(1,g)),v=i/(t.length-1)*this.props.width,n.push(v+","+g);return n}.call(this).join(" "))},r._isPropChanged=function(e,t){var r=this;return e.some((function(e){return r.props[e]!==t[e]}))},t}(u.default.Component);return e.displayName="CalendarSlider",e.propTypes={t:l.default.func.isRequired,data:l.default.array.isRequired,beginningOfPeriod:l.default.instanceOf(Date).isRequired,startFrom:l.default.instanceOf(Date),onChange:l.default.func,height:l.default.number,width:l.default.number,daysInViewport:l.default.number.isRequired,datesPerChunk:l.default.number,cutTopPercentile:l.default.number},e.defaultProps={width:820,height:18,datesPerChunk:10,cutTopPercentile:.9,beginningOfPeriod:new Date,startFrom:new Date,onChange:function(){}},e}.call(void 0);var y=(0,h.default)(a);t.default=y},442942:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(371530)),i=n(r(947981)),o=n(r(797972)),c=n(r(859941)),s=r(525930),u=n(r(37102)),l=r(2705),f=n(r(887059));r(258997);var d,p=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};d=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this)._handleFocus=r._handleFocus.bind((0,a.default)(r)),r._handleBlur=r._handleBlur.bind((0,a.default)(r)),r._handleKeyPress=r._handleKeyPress.bind((0,a.default)(r)),r._handleChange=r._handleChange.bind((0,a.default)(r)),r.state=r.getInitialState(),r}(0,i.default)(t,e);var r=t.prototype;return r.getInitialState=function(){return{focus:!1,value:this.props.value}},r.UNSAFE_componentWillReceiveProps=function(e){if(!this.state.focus)return this.setState({value:e.value})},r.render=function(){var e,t=this;return e=this.state.focus?this.state.value:this.state.value?this.props.t("prediction:forSomeDays",{count:this.state.value}):this.props.t("prediction:sameDay"),(0,s.div)({className:this.blockClassName()},(0,s.span)({className:(0,u.default)(this.elementClassName("button --dec"),{"is-disabled":this.props.value<=0}),onClick:this._handleButton.bind(this,-1)}),(0,s.input)({ref:function(e){return t.input=e},className:this.elementClassName("input"),onFocus:this._handleFocus,onBlur:this._handleBlur,value:e,onChange:this._handleChange,onKeyPress:this._handleKeyPress}),(0,s.span)({className:(0,u.default)(this.elementClassName("button --inc"),{"is-disabled":this.props.value>this.props.maxValue}),onClick:this._handleButton.bind(this,1)}))},r._handleFocus=function(){var e=this;return p(this,t),this.setState({focus:!0}),setTimeout((function(){var t;return null!=(t=e.input)?t.setSelectionRange(0,9999):void 0}),100)},r._handleBlur=function(){return p(this,t),this._submit(this.state.value)},r._submit=function(e){if(e!==+this.props.value)return(0,l.UNSAFE_reachGoal)("PREDICTION_INPUT_VALUE_CHANGE",{value:e,oldValue:this.props.value}),0<=e&&e<=this.props.maxValue?this.props.onChange(e):e>this.props.maxValue?this._setValue(this.props.maxValue):this._setValue(this.props.value),this.setState({focus:!1})},r._handleKeyPress=function(e){var r=e.key;if(p(this,t),"Enter"===r)return this._submit(this.state.value)},r._handleChange=function(e){var r=e.target;return p(this,t),+r.value>=0?this._setValue(r.value):this._setValue("")},r._handleButton=function(e){var t;if((0,l.UNSAFE_reachGoal)("PREDICTION_DURATION_CHANGE",{delta:e}),0<=(t=this.state.value+e)&&t<=this.props.maxValue)return this._submit(t),this._setValue(t)},r._setValue=function(e){return 0<=(e=+e)?this.setState({value:e}):this.setState({value:""})},t}(o.default.Component);return e.displayName="DurationInput",e.propTypes={t:c.default.func.isRequired,value:c.default.number.isRequired,onChange:c.default.func.isRequired,maxValue:c.default.number},e.defaultProps={maxValue:365},e}.call(void 0);var v=(0,f.default)(d);t.default=v},74953:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o=n(r(947981)),c=n(r(797972)),s=n(r(859941)),u=r(525930),l=n(r(37102)),f=r(740537),d=r(372662),p=n(r(681854)),v=n(r(887059));r(50168),a=c.default.createFactory(p.default),i=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}(0,o.default)(t,e);var r=t.prototype;return r.render=function(){var e,t,r,n,i,o,c,s,f,d,p;for(f=this.props.rectWidth+1,o=0,r=0,i=(n=this._presentLabels()).length;r<i;r++)(c=n[r].price)&&(o=Math.min(o||Infinity,c));return(0,u.div)({className:this.blockClassName()},(0,u.div)({className:this.elementClassName("wrap"),style:{transform:"translateX("+this.props.offsetX+"px)"}},function(){var r,i,v;for(v=[],t=r=0,i=n.length;r<i;t=++r){var g=n[t];e=g.from,p=g.to,d=g.title,c=g.price,s=p-e>25,v.push((0,u.div)({className:(0,l.default)(this.elementClassName("item"),{"--good":o&&c<=o,"--bad":o&&c>o,"--unknown":!c||!o}),key:t,style:{transform:"translateX("+(e*f-1)+"px)",width:(p-e)*f-1+"px"}},s?(0,u.div)({className:this.elementClassName("item-text")},d,(0,u.span)({className:this.elementClassName("item-price")}," — ",c?a({unifiedPrice:c}):this.props.t("prediction:noPrices"))):[]))}return v}.call(this)))},r._presentLabels=function(){var e,t,r,n,a,i,o,c,s,u,l;for(o=this.props.localeContext,s=(0,d.format)(o,"ts_month_full",this.props.beginningOfPeriod),i=[{from:0,to:r=(0,f.daysInMonth)(this.props.beginningOfPeriod)-this.props.beginningOfPeriod.getDate()+1,title:s,price:(c=this._getMonthesMinPrice())[0]}],t=(0,f.isLeap)((0,f.addYears)(this.props.beginningOfPeriod,1))?366:365,n=a=1;a<=11;n=++a)e=(0,f.addMonths)(this.props.beginningOfPeriod,n),l=r+(0,f.daysInMonth)(e),u=(0,d.format)(o,"ts_month_full",e),i.push({price:c[n],from:r,to:l,title:u}),r=l;return i.push({price:c[c.length-1],from:r,to:t,title:s}),i},r._getMonthesMinPrice=function(){var e,t,r,n,a,i,o,c;for(i=[],e=this.props.beginningOfPeriod.getMonth(),r=0,n=0,a=(o=this.props.data).length;n<a;n++){var s=o[n];t=s.departDate,c=s.value,e!==t.getMonth()&&(i[r]||(i[r]=0),r++,e=t.getMonth()),c&&(i[r]=Math.min(i[r]||Infinity,c))}return i},t}(c.default.Component);return e.displayName="MonthsLabels",e.propTypes={t:s.default.func.isRequired,rectWidth:s.default.number.isRequired,data:s.default.array.isRequired,beginningOfPeriod:s.default.instanceOf(Date).isRequired,offsetX:s.default.number.isRequired},e}.call(void 0);var g=(0,v.default)(i);t.default=g},463196:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c,s,u,l,f=n(r(114558)),d=n(r(371530)),p=n(r(947981)),v=n(r(797972)),g=n(r(859941)),h=r(525930),m=n(r(37102)),y=r(740537),_=r(372662),b=n(r(681854)),S=n(r(887059)),T=r(429998),O=r(243016),P=n(r(202693)),E=n(r(371121)),k=r(224562),C=r(718123);r(119603),s=function(e){return e instanceof Date&&(0===e.getDay()||6===e.getDay())},c=v.default.createFactory(E.default),i=v.default.createFactory(b.default),o=v.default.createFactory(P.default),a=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleDateMouseLeave=r.handleDateMouseLeave.bind((0,d.default)(r)),r.state=r.getInitialState(),r}(0,p.default)(t,e);var r=t.prototype;return r.getInitialState=function(){return{hoverDate:void 0}},r.handlePriceClick=function(e,t,r){return this.props.reachGoal("PREDICTION_PRICE_MATRIX_PRICE_CLICK",{price:e,departDate:t,returnDate:r}),this.props.onDatesSelect(t,r),this.props.onParamsChange({selectedFlight:{departDate:t,returnDate:r}})},r.handleDateMouseEnter=function(e,t){return this.setState({hoverDate:[e,t]})},r.handleDateMouseLeave=function(){return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),this.setState({hoverDate:!1})},r.handleControlClick=function(e,t){var r,n,a;if(this.props.reachGoal("PREDICTION_PRICE_MATRIX_CONTROL_CLICK",{step:t,direction:e}),r={depart:new Date(this.props.departDateStart),return:new Date(this.props.returnDateStart)},n=function(){switch(t){case"next":return 1;case"prev":return-1}}(),r[e])return r[e].setDate(r[e].getDate()+n),this.props.onParamsChange(((a={})[e+"DateStart"]=r[e],a))},r.render=function(){var e,t;return e=this.getDates(this.props.departDateStart),t=this.getDates(this.props.returnDateStart),(0,h.div)({className:this.blockClassName()},this.renderControls(),(0,h.div)({className:(0,m.default)(this.elementClassName("wrap"),{"--oneway":this.isOneway()})},this.renderHeadingDates(e,"depart"),(0,h.div)({className:this.elementClassName("x-wrap")},(0,h.div)({className:this.elementClassName("prices-wrap")},this.renderPrices(e,t)),this.renderHeadingDates(t,"return"))))},r.renderHeadingDates=function(e,t){var r,n,a;return a=this.props.localeContext,(0,h.div)({className:this.elementClassName(t+"-dates")},function(){var i,o,c;for(c=[],i=0,o=e.length;i<o;i++)r=e[i],n=function(){switch(t){case"depart":return this.isCrossHover(r,null);case"return":return this.isCrossHover(null,r)}}.call(this),c.push((0,h.div)({key:r.getTime(),className:(0,m.default)(this.elementClassName("date"),{"--weekend":s(r),"is-crosshover":n})},(0,h.span)(null,(0,_.format)(a,"ts_day_short",r)),(0,_.format)(a,"ts_day_month_short",r)));return c}.call(this))},r.renderPrices=function(e,t){var r;return(0,h.div)({className:this.elementClassName("prices")},function(){var n,a,i;if(t.length>0){for(i=[],n=0,a=t.length;n<a;n++)(r=t[n])&&i.push((0,h.div)({key:r,className:this.elementClassName("row")},this.renderDepartPrices(e,r)));return i}return(0,h.div)({className:this.elementClassName("row")},this.renderDepartPrices(e))}.call(this))},r.renderPrice=function(e,t,r){var n;return n=this.getDateData(e,t),(0,h.div)({key:(0,O.getKey)(e,t),className:(0,m.default)(this.elementClassName("item"),{"--loading":this.props.isLoading&&!(null!=n?n.value:void 0)&&!(null!=n?n.unavailable:void 0),"--cheap":(0,O.isCheap)(null!=n?n.value:void 0,r),"--unavailable":null!=n?n.unavailable:void 0,"--empty":!this.props.isLoading&&!(null!=n?n.value:void 0)&&!(null!=n?n.unavailable:void 0),"is-crosshover":this.isCrossHover(e,t),"is-current":this.isCurrentDate(e,t)}),onMouseEnter:this.handleDateMouseEnter.bind(this,e,t),onMouseLeave:this.handleDateMouseLeave,onClick:this.handlePriceClick.bind(this,null!=n?n.value:void 0,e,t)},(0,h.span)({className:this.elementClassName("item-inner")},(null!=n?n.value:void 0)?i({unifiedPrice:n.value,type:"short"}):!this.props.isLoading||(null!=n?n.value:void 0)||(null!=n?n.unavailable:void 0)?"":"%*$&#"))},r.renderDepartPrices=function(e,t){var r,n,a,i,o;for(void 0===t&&(t=null),r=(0,O.getCheapestValue)(this.props.prices),o=[],a=0,i=e.length;a<i;a++)n=e[a],o.push(this.renderPrice(n,t,r));return o},r.renderControls=function(){return(0,h.div)({className:(0,m.default)(this.elementClassName("control-wrap"),{"--oneway":this.isOneway()})},c({t:this.props.t,className:this.elementClassName("direct"),titleClassName:this.elementClassName("tumbler-title")}),o({label:this.props.t("prediction:depart"),type:"depart",departDateStart:this.props.departDateStart,returnDateStart:this.props.returnDateStart,onClick:this.handleControlClick.bind(this,"depart"),daysInRow:this.props.daysInRow}),this.props.returnDateStart?o({label:this.props.t("prediction:return"),type:"return",departDateStart:this.props.departDateStart,returnDateStart:this.props.returnDateStart,onClick:this.handleControlClick.bind(this,"return"),daysInRow:this.props.daysInRow}):void 0)},r.getDates=function(e){var t,r,n;return e?(t=(this.props.daysInRow-1)/2,r=(0,y.addDays)(e,-t),n=(0,y.addDays)(e,t),(0,y.getDatesRange)(r,n)):[]},r.isCrossHover=function(e,t){var r,n,a;if(!(null!=(a=this.state)?a.hoverDate:void 0))return!1;var i=(0,f.default)(this.state.hoverDate,2);return r=i[0],n=i[1],t&&(null!=t?t.getDay():void 0)===(null!=n?n.getDay():void 0)&&(e>=r||null===e)||(null!=e?e.getDay():void 0)===(null!=r?r.getDay():void 0)&&t<=n},r.isCurrentDate=function(e,t){var r,n,a,i=this.props.selectedFlight;return n=i.departDate,a=i.returnDate,r=!0,t&&(r=+a==+t),+n==+e&&r},r.isOneway=function(){return!this.props.returnDateStart},r.getDateData=function(e,t){var r,n,a,i,o,c;return c=(new Date).setHours(0,0,0,0),r=(0,O.getKey)(e),(t?(o=(0,O.getKey)(t),null!=(n=this.props.prices)&&null!=(a=n[r])?a[o]:void 0):null!=(i=this.props.prices)?i[r]:void 0)||(t?{unavailable:t<e||e<c}:{unavailable:e<c})},t}(v.default.Component);return e.displayName="CalendarMatrix",e.propTypes={t:g.default.func.isRequired,prices:g.default.object,onParamsChange:g.default.func.isRequired,departDateStart:g.default.instanceOf(Date).isRequired,returnDateStart:g.default.instanceOf(Date),daysInRow:g.default.number,isLoading:g.default.bool,selectedFlight:g.default.shape({departDate:g.default.instanceOf(Date).isRequired,returnDate:g.default.instanceOf(Date)}).isRequired,onDatesSelect:g.default.func.isRequired},e.defaultProps={daysInRow:7},e}.call(void 0),l=function(e){return{prices:(0,T.prepareMatrixPrices)(e)}},u=function(e){return{reachGoal:function(t){return e((0,C.reachGoal)(t))}}};var w=(0,k.connect)(l,u)((0,S.default)(a));t.default=w},202693:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(r(947981)),o=n(r(797972)),c=n(r(859941)),s=r(525930),u=n(r(887059)),l=r(740537);r(265989),a=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this).state={isDisabled:!1,isDepartLimited:!1,isReturnLimited:!1},r}(0,i.default)(t,e);var r=t.prototype;return r.UNSAFE_componentWillReceiveProps=function(e){var t;return t=(0,l.addDays)((new Date).setHours(0,0,0,0),Math.floor(Math.abs((this.props.daysInRow-1)/2))),this.setState({isDisabled:e.returnDateStart&&e.departDateStart>=e.returnDateStart,isDepartLimited:e.departDateStart<=t,isReturnLimited:e.returnDateStart&&e.returnDateStart<=t})},r.render=function(){return(0,s.div)({className:this.elementClassName(this.props.type+"-controls")},(0,s.button)({className:this.elementClassName("prev-control"),disabled:this.isPrevDisabled(),onClick:this.handleClick.bind(this,"prev")}),(0,s.button)({className:this.elementClassName("next-control"),disabled:this.isNextDisabled(),onClick:this.handleClick.bind(this,"next")}),(0,s.span)({className:this.elementClassName("control-label")},this.props.label))},r.handleClick=function(e){return this.props.onClick(e)},r.isPrevDisabled=function(){return{depart:this.state.isDepartLimited,return:this.state.isDisabled||this.state.isReturnLimited}[this.props.type]},r.isNextDisabled=function(){return{depart:this.state.isDisabled,return:!1}[this.props.type]},t}(o.default.Component);return e.displayName="CalendarMatrixControl",e.propTypes={label:c.default.string.isRequired,type:c.default.string.isRequired,onClick:c.default.func,departDateStart:c.default.object.isRequired,returnDateStart:c.default.object,daysInRow:c.default.number},e.defaultProps={onClick:function(){}},e}.call(void 0);var f=(0,u.default)(a);t.default=f},371121:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c,s,u,l,f,d=n(r(371530)),p=n(r(947981)),v=n(r(797972)),g=n(r(859941)),h=r(525930),m=n(r(37102)),y=r(217624),_=r(429998),b=r(243016),S=r(224562),T=r(134215),O=r(718123);i=v.default.createFactory(y.Switch),o={DEFAULT:{},ENABLE_CHEAP_DIRECT:{tumblerTitle:"cheapDirect",isOnlyDirect:!0},NO_DIRECT:{tumblerTitle:"noDirect"},DISABLE_NO_DIRECT:{tumblerTitle:"noDirect",isOnlyDirect:!1},CHEAP_DIRECT:{tumblerTitle:"cheapDirect"}},c=function(e){var t;return!!(t=(0,_.matrixPickPrice)(e,!1))&&0!==t.number_of_changes},s=function(e){var t,r,n;for(t in e)if(n=e[t],Array.isArray(n)){if(c(n))return!0}else for(r in n)if(e=n[r],c(e))return!0;return!1},u=function(e){var t;return t=!1,(0,b.eachPrice)(e,(function(e){if(0===e.number_of_changes)return t=!0,!1})),t},a=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleChange=r.handleChange.bind((0,d.default)(r)),r.state={forced:!1},r}(0,p.default)(t,e);var r=t.prototype;return r.render=function(){var e,t,r,n=this.getTumblerState(),a=n.disableTumbler;e=void 0!==a&&a;var o=n.isOnlyDirect;t=void 0===o?void 0:o;var c=n.tumblerTitle;return r=void 0===c?"":c,(this.state.forced||void 0===t)&&(t=this.props.isOnlyDirect),(0,h.div)(null,i({className:this.props.className,checked:t,disabled:e,name:"only-direct",onChange:this.handleChange,label:this.props.t("prediction:directFlightsTumbler")}),r?(0,h.div)({className:(0,m.default)("tooltip","--bottom","--on-hover",this.props.titleClassName)},this.props.t("prediction:"+r)):void 0)},r.handleChange=function(e){var r=e.target;return function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t),this.setState({forced:!0}),this.props.updateMatrixOnlyDirect(r.checked)},r.getTumblerState=function(){var e,t;if(e=s(this.props.prices),(t=u(this.props.prices))&&e)return o.DEFAULT;if(this.state.forced){if(!t)return o.NO_DIRECT;if(t&&!e)return o.CHEAP_DIRECT}else{if(!t)return o.DISABLE_NO_DIRECT;if(t&&!e)return o.ENABLE_CHEAP_DIRECT}return o.DEFAULT},t}(v.default.Component);return e.displayName="DirectFlightsTumbler",e.propTypes={t:g.default.func.isRequired,prices:g.default.object,isOnlyDirect:g.default.bool.isRequired,updateMatrixOnlyDirect:g.default.func.isRequired,className:g.default.string,titleClassName:g.default.string},e}.call(void 0),f=function(e){var t=e.prediction.matrix;return{prices:t.prices,isOnlyDirect:t.isOnlyDirect}},l=function(e){return{updateMatrixOnlyDirect:function(t){return e((0,T.updateMatrixOnlyDirect)(t)),e((0,O.reachGoal)("PREDICTION_PRICE_MATRIX_ONLY_DIRECT_CHANGE",{isOnlyDirect:t}))}}};var P=(0,S.connect)(f,l)(a);t.default=P},799317:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=n(r(435850)),o=n(r(947981)),c=n(r(797972)),s=n(r(859941)),u=r(525930),l=n(r(37102)),f=r(740537),d=r(2705),p=n(r(681854)),v=n(r(127631));r(983342);var g,h,m,y,_,b=r(224562),S=r(429998),T=r(243016);h=c.default.createFactory(p.default),m=c.default.createFactory(v.default),g="minimized-calendar-matrix",y=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}(0,o.default)(t,e);var r=t.prototype;return r.handleDateClick=function(e,t,r){return this.props.onExpand&&this.props.onExpand(),(0,d.UNSAFE_reachGoal)("PREDICTION_PRICE_MATRIX_EXPAND_CLICK",{price:e,departDate:t,returnDate:r}),this.props.onDatesSelect(t,r),this.props.onParamsChange({selectedFlight:{departDate:t,returnDate:r}})},r.render=function(){var e,t;return e=(0,T.getCheapestValue)(this.props.prices),(0,u.div)({className:(0,l.default)(g,{"--oneway":this.isOneWay()})},(0,u.div)({className:g+"__wrap"},function(){var r,n,a,i;for(i=[],r=0,n=(a=this._getCheapestDatesData()).length;r<n;r++)t=a[r],i.push(this.renderDate(t,e));return i}.call(this)))},r.renderDate=function(e,t){var r,n,a,i,o,c,s;return r=e.depart_date,i=e.return_date,s=e.value,c=e.unavailable,o=(new Date).setHours(0,0,0,0),a=(0,T.getKey)(r,i),n=(0,f.isEqualDates)(r,this.props.selectedFlight.departDate)&&(!i||(0,f.isEqualDates)(i,this.props.selectedFlight.returnDate)),(0,u.div)({key:a,className:(0,l.default)(g+"__item",{"--cheap":(0,T.isCheap)(s,t),"--unavailable":c,"--empty":!s&&!c,"--expired":(0,f.diff)(o,r)>0,"is-current":n}),onClick:this.handleDateClick.bind(this,s,r,i)},r?[s?h({unifiedPrice:s,key:"price-"+a}):void 0,m({departDate:r,returnDate:i,t:this.props.t,key:"dates-"+a})]:"")},r._assignDates=function(e,t,r){if(void 0===r&&(r=null),e)return(0,i.default)(e,{depart_date:t,return_date:r})},r._getDatesData=function(e){var t,r,n,a,i,o,c;for(o=[],n=0,a=e.length;n<a;n++)if(r=e[n],this.isOneWay())o.push(this._assignDates(this.props.prices[(0,T.getKey)(r)],r));else for(c in i=this.props.prices[(0,T.getKey)(r)])t=i[c],o.push(this._assignDates(t,r,new Date(c)));return o},r._stubDateData=function(e){var t,r,n,a=this.props.initialDates;return r=a.departDate,(n=a.returnDate)&&(t=(0,f.addDays)(e,(0,f.diff)(n,r))),{depart_date:e,return_date:t}},r._getCheapestDateData=function(e){var t,r,n,a,i;for(i=null,r=0,n=(a=this._getDatesData(e)).length;r<n;r++)(t=a[r])&&(!i||t.value<i.value)&&(i=t);return null!=i?i:this._stubDateData(e[0])},r._getCurrentDateData=function(){var e,t,r,n,a=this.props.initialDates;return t=a.departDate,(e=(n=a.returnDate)?null!=(r=this.props.prices[(0,T.getKey)(t)])?r[(0,T.getKey)(n)]:void 0:this.props.prices[(0,T.getKey)(t)])?this._assignDates(e,t,n):this._stubDateData(t)},r._getCheapestDatesData=function(){var e;return e=this.props.initialDates.departDate,[this._getCheapestDateData([(0,f.addDays)(e,-3)]),this._getCheapestDateData([(0,f.addDays)(e,-2)]),this._getCheapestDateData([(0,f.addDays)(e,-1)]),this._getCurrentDateData(),this._getCheapestDateData([(0,f.addDays)(e,1)]),this._getCheapestDateData([(0,f.addDays)(e,2)]),this._getCheapestDateData([(0,f.addDays)(e,3)])]},r.isOneWay=function(){return!this.props.returnDateStart},t}(c.default.PureComponent);return e.displayName="MinimizedCalendarMatrix",e.propTypes={t:s.default.func.isRequired,prices:s.default.object,initialDates:s.default.shape({departDate:s.default.instanceOf(Date).isRequired,returnDate:s.default.instanceOf(Date)}).isRequired,departDateStart:s.default.instanceOf(Date).isRequired,returnDateStart:s.default.instanceOf(Date),selectedFlight:s.default.shape({departDate:s.default.instanceOf(Date).isRequired,returnDate:s.default.instanceOf(Date)}).isRequired,onExpand:s.default.func,onParamsChange:s.default.func,onDatesSelect:s.default.func.isRequired},e}.call(void 0),_=function(e){var t,r,n=(0,a.default)(e.searchParams.segments,2);return r=n[0],t=n[1],{initialDates:{departDate:new Date(r.date),returnDate:t?new Date(t.date):null},prices:(0,S.prepareMatrixPrices)(e,"initialPrices")}};var O=(0,b.connect)(_)(y);t.default=O},429998:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareMatrixPrices=t.matrixPickPrice=void 0;var a,i,o=n(r(861233));a=function(e,t,r){var n,a,i,c,s,u,l,f,d,p,v,g=r.passengers;return u=g.children,f=g.infants,0!==u||0!==f?e:Object.keys(t).length?(s=function(){var e;for(d in e=[],t)v=t[d],e.push({number_of_changes:+d,value:v});return e}(),l=r.segments[0].date,c=r.segments.length>1?(p=r.segments[1].date,e[l]?((n={})[""+p]={$set:s},n):{$set:(a={},a[""+p]=s,a)}):{$set:s},(0,o.default)(e,((i={})[""+l]=c,i))):e},t.matrixPickPrice=s=function(e,t){return t&&(e=e.filter((function(e){return 0===e.number_of_changes}))),0===e.length?null:e.reduce((function(e,t){return(e||e.value)&&e.value<t.value?e:t}))},i=function(e,t){var r,n,a,i,o,c;for(r in i={},e)if(a=e[r],Array.isArray(a))(n=s(a,t))&&(i[r]=n);else for(o in null==i[r]&&(i[r]={}),c=a)a=c[o],(n=s(a,t))&&(i[r][o]=n);return i},t.prepareMatrixPrices=c=function(e,t){var r;return void 0===t&&(t="prices"),r=e.prediction.matrix[t]||{},i(a(r,e.cheapestStops,e.searchParams),e.prediction.matrix.isOnlyDirect)};var c=c;t.prepareMatrixPrices=c;var s=s;t.matrixPickPrice=s},85425:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(r(797972));var a,i,o,c=n(r(859941)),s=r(525930),u=n(r(37102));r(42803),a={matrix:"matrix",graph:"graph"},i=function(e){var t,r;return(0,s.div)({className:(0,u.default)("calendar-type-switcher",e.className)},function(){var n;for(r in n=[],a)t=a[r],n.push((0,s.a)({className:(0,u.default)("calendar-type-switcher__item",{"is-active":r===e.activeType}),href:"#calendar-"+r,key:r,onClick:o.bind(null,e,r)},e.t("prediction:"+t)));return n}())},o=function(e,t,r){var n=e.onChange;return r.preventDefault(),n(t)},i.displayName="CalendarTypeSwitcher",i.propTypes={t:c.default.func.isRequired,activeType:c.default.oneOf(Object.keys(a)).isRequired,onChange:c.default.func.isRequired};var l=i;t.default=l},152797:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorServer=t.ErrorConnection=void 0;var a=n(r(947981)),i=n(r(701978)),o=function(e){function t(){var t;return(t=e.call(this,"ServerError")||this).name="ServerError",t.message="serverError.message",t.shortMessage="serverError.shortMessage",t.description="serverError.description",t}return(0,a.default)(t,e),t}((0,i.default)(Error));t.ErrorServer=o;var c=function(e){function t(){var t;return(t=e.call(this,"ConnectionError")||this).name="ConnectionError",t.message="connectionError.message",t.shortMessage="connectionError.shortMessage",t.description="connectionError.description",t}return(0,a.default)(t,e),t}((0,i.default)(Error));t.ErrorConnection=c},613938:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c=n(r(371530)),s=n(r(947981)),u=n(r(797972)),l=n(r(859941)),f=n(r(37102)),d=r(525930),p=n(r(887059));r(136654),a={blue:"--blue",white:"--white"},o={fast:"--fast"},i=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleScroll=r.handleScroll.bind((0,c.default)(r)),r.state={isSticky:!1},r}(0,s.default)(t,e);var r=t.prototype;return r.componentWillUnmount=function(){if(this.props.sticky)return window.removeEventListener("scroll",this.handleScroll)},r.componentDidMount=function(){if(this.props.sticky)return window.addEventListener("scroll",this.handleScroll)},r.handleScroll=function(){!function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")}(this,t)},r.render=function(){var e,t;return t=!this.state.resetLoader&&this.props.startAnimation,e=!this.props.startAnimation,(0,d.div)({className:(0,f.default)(this.blockClassName(),{"--sticky":this.state.isSticky})},(0,d.div)({className:(0,f.default)(this.elementClassName("stripes"),{"--animation-started":t,"--animation-finished":e},a[this.props.color]||"",o[this.props.speed]||"")}),(0,d.div)({className:(0,f.default)(this.elementClassName("bar"),{"--animation-started":t,"--animation-finished":e},a[this.props.background]||"")}))},t}(u.default.Component);return e.displayName="Loader",e.propTypes={startAnimation:l.default.bool,sticky:l.default.bool,color:l.default.string,speed:l.default.string,background:l.default.string},e.defaultProps={startAnimation:!1,sticky:!0},e}.call(void 0);var v=(0,p.default)(i);t.default=v},226829:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,n;return t=i(e),r=o(e.searchParams),{graph:c(e,t.departDate,r),initialFlight:t,hasMatrixPrices:Boolean(e.prediction.matrix.initialPrices),searchParams:e.searchParams,searchId:e.searchId,showCountdown:"FINISHED"!==(n=e.searchStatus)&&"EXPIRED"!==n&&"INITED"!==n&&"FAILED"!==n,showCalendar:e.searchParams.tripClass===v.TripClass.Economy&&!(0,d.isOpenJaw)(e.searchParams.segments)&&"INITED"!==e.searchStatus,cheapestStops:e.cheapestStops,searchStatus:e.searchStatus,formParams:e.aviaParams}};var a,i,o,c,s=n(r(114558)),u=r(740537),l=r(774953),f=n(r(861233)),d=r(828451),p=(r(243016),r(495256)),v=r(650832);i=(0,l.createSelector)((function(e){return e.searchParams}),(function(e){var t,r,n=(0,s.default)(e.segments,2);return t=n[0],r=n[1],{departDate:(0,p.dateWithoutTimezone)(t.date),returnDate:r?(0,p.dateWithoutTimezone)(r.date):null,tripClass:e.tripClass,origin:t.origin,originCityIata:e.originCityIata,destinationCityIata:e.destinationCityIata,destination:t.destination,price:null,isPlacesRestored:e.isPlacesRestored}})),o=function(e){var t,r,n,a=e.segments;if(!(null!=a?a.length:void 0))return null;var i=(0,s.default)(a,2);return t=i[0],(n=i[1])?(r=new Date(n.date))?(0,u.diff)(r,new Date(t.date),!0):void 0:null},a=function(e,t,r){var n,a,i;return Object.keys(r).length?(e=e.slice(),a=(0,u.diff)(t,new Date),i=Math.min.apply(null,function(){var e;for(n in e=[],r)i=r[n],e.push(i);return e}()),(0,f.default)(e,{$splice:[[a,1,{departDate:t,value:i}]]})):e},c=(0,l.createSelector)((function(e){return e.prediction.graph}),(function(e){return e.cheapestStops}),(function(e,t){return t}),(function(e,t,r){return r}),(function(e,t,r,n){var i=e.prices,o=e.initialPrices,c=e.tripDuration;return i?(n===c&&(i=a(i,r,t)),{prices:i,tripDuration:c,initialPrices:a(o,r,t)}):{prices:[],initialPrices:[],tripDuration:c}}))},365090:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c,s,u,l,f=r(740537),d=r(650832),p=n(r(10520));l=r(897360).default,a=r(565569).API_HOST,o=(i="https://lyssa."+a)+"/v1/latest_prices?show_errors=true&",c=i+"/price_matrix?",s=function(e,t){var r,n,a,i,o;for(o={},r=0,i=e.length;r<i;r++)null==o[a=(n=e[r])[t]]&&(o[a]=[]),o[a].push(n);return o},u=function(e){var t,r,n;for(n in r={},e)t=e[n],"null"===n?r=t:r[n]=t;return r};var v=function(){function e(e){this.props=e,this.graphCache={},this.matrixCache={}}var t=e.prototype;return t._prepareGraphParams=function(e){var t,r=e.origin,n=e.destination,a=e.tripDuration;return t={origin_iata:r,destination_iata:n,affiliate:e.isAffiliate,only_direct:e.onlyDirect,trip_class:e.tripClass===d.TripClass.Economy?0:1},a||0===a?t.min_trip_duration=t.max_trip_duration=a:t.one_way=!0,t},t._prepareMatrixParams=function(e){var t,r,n,a;return t=(r=e.departRange?e.departRange:6)?(r-1)/2:3,n=(a=e.returnRange?e.returnRange:6)?(a-1)/2:3,{origin_iata:e.originCityIata,destination_iata:e.destinationCityIata,depart_start:(0,f.format)((0,f.addDays)(e.departDate,-t),"YYYY-MM-DD"),return_start:e.returnDate?(0,f.format)((0,f.addDays)(e.returnDate,-n),"YYYY-MM-DD"):void 0,depart_range:r,return_range:e.returnDate?a:void 0,affiliate:l.isAffiliate(l.marker())}},t._castMatrixData=function(e){var t,r,n;for(t in n=s(e,"depart_date"))r=n[t],n[t]=u(s(r,"return_date"));return n},t._prepareQuery=function(e){var t,r;return function(){var n;for(t in n=[],e)void 0!==(r=e[t])&&n.push(t+"="+encodeURIComponent(r));return n}().join("&")},t.abort=function(){if(this._graphXHR&&this._graphXHR.cancel(),this._matrixXHR)return this._matrixXHR.cancel()},t._getCache=function(e,t){var r=t.tripDuration,n=t.departDate,a=t.returnDate;return"graph"===e?null!=r?this.graphCache[r]:this.graphCache:"matrix"===e&&this._hasMatrixCache(n,a)?this.matrixCache:void 0},t._hasMatrixCache=function(e,t){var r,n,a,i,o,c;return void 0===t&&(t=null),n=(0,f.format)((0,f.addDays)(e,-3),"YYYY-MM-DD"),r=(0,f.format)((0,f.addDays)(e,3),"YYYY-MM-DD"),t?(c=(0,f.format)((0,f.addDays)(t,-3),"YYYY-MM-DD"),o=(0,f.format)((0,f.addDays)(t,3),"YYYY-MM-DD"),null!=(null!=(a=this.matrixCache[n])?a[c]:void 0)&&null!=(null!=(i=this.matrixCache[r])?i[o]:void 0)):null!=this.matrixCache[n]&&null!=this.matrixCache[r]},t.fetch=function(e,t){var r,n,a;switch(void 0===t&&(t="graph"),n=null,a=null,t){case"graph":n=this.props.onGraphResponse,a=this._makeGraphRequest;break;case"matrix":n=this.props.onMatrixResponse,a=this._makeMatrixRequest}if(!(r=this._getCache(t,e))||!Object.keys(r).length)return this.abort(),a.call(this,e,n);n(null,null,r)},t._mergeMatrixCache=function(e,t,r){var n,a,i,o,c,s;if(void 0===r&&(r=!1),r){for(n in o=[],t)a=t[n],o.push(e[n]||(e[n]=a));return o}for(n in c=[],t)i=t[n],e[n]||(e[n]={}),c.push(function(){var t,r;for(s in r=[],i)a=i[s],r.push((t=e[n])[s]||(t[s]=a));return r}());return c},t._makeMatrixRequest=function(e,t,r){var n,a,i=this;return void 0===r&&(r=2),n=this._prepareMatrixParams(e),a=c+this._prepareQuery(n),this._matrixXHR=p.default.CancelToken.source(),p.default.get(a,{cancelToken:this._matrixXHR.token}).then((function(r){var n;if(0!==r.status)return n=r.data,Object.keys(n.errors).length>0&&console.warn("Price matrix prices errors: ",n.errors),i._mergeMatrixCache(i.matrixCache,i._castMatrixData(n.prices),!e.returnDate),t(null,r,i.matrixCache)})).catch((function(n){var o;return r>0?(o=i._makeMatrixRequest.bind(i,e,t),setTimeout((function(){return console.debug("["+r+"] Retry",a),o(r-1)}),1e3)):n?(console.warn("Price matrix connection error",n),t(n)):(console.warn("Price matrix server error",n),t(null,response))})).finally((function(){return i._matrixXHR=null}))},t._makeGraphRequest=function(e,t,r){var n,a,i=this;return void 0===r&&(r=2),n=this._prepareGraphParams(e),a=o+this._prepareQuery(n),this._graphXHR=p.default.CancelToken.source(),p.default.get(a,{cancelToken:this._graphXHR.token}).then((function(r){var a;if(0!==r.status)return a=r.data,Object.keys(a.errors).length>0&&console.warn("Graph prices errors: ",a.errors),n.one_way?i.graphCache=a.prices:i.graphCache[e.tripDuration]=a.prices,t(null,null,a.prices)})).catch((function(n){var o;return r>0?(o=i._makeGraphRequest.bind(i,e,t),setTimeout((function(){return console.debug("["+r+"] Retry",a),o(r-1)}),1e3)):n?(console.warn("Min prices connection error",n),t(n)):(console.warn("Min prices server error",n),t(null,response))})).finally((function(){return i._graphXHR=null}))},t.getCache=function(e){return this._getCache("graph",{tripDuration:e})},t.getRequestsQuantity=function(){return Object.keys(this.getCache()||{}).length},e}();t.default=v},989104:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=n(r(371530)),o=n(r(947981)),c=n(r(859941)),s=n(r(797972)),u=r(525930),l=n(r(37102)),f=r(812619),d=n(r(294650)),p=n(r(405947)),v=r(224562),g=n(r(861233)),h=r(740537),m=r(445549),y=n(r(382697)),_=r(844770),b=r(454184),S=r(149739),T=r(215196),O=n(r(887059)),P=r(134215),E=r(724573),k=r(977485),C=r(718123),w=n(r(365090)),D=n(r(290927)),I=n(r(311126)),A=r(152797),x=n(r(226829)),j=n(r(799317)),R=n(r(463196)),M=n(r(321536));r(579219);var F,N,L,B,U,H,W,G,K,V,Y,q=function(e,t){if(!(e instanceof t))throw new Error("Bound instance method accessed before binding")};Y=r(897360).default,L=s.default.createFactory(f.CSSTransition),G=s.default.createFactory(I.default),H=s.default.createFactory(j.default),U=s.default.createFactory(R.default),B=s.default.createFactory(M.default),K=s.default.createFactory(D.default),F="is-calendar-hidden",N="is-prediction-expanded",W=function(){var e=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleResize=r.handleResize.bind((0,i.default)(r)),r.handlePricesResponse=r.handlePricesResponse.bind((0,i.default)(r)),r.handleErrorRefreshClick=r.handleErrorRefreshClick.bind((0,i.default)(r)),r.handleExpand=r.handleExpand.bind((0,i.default)(r)),r.handleCalendarTypeChange=r.handleCalendarTypeChange.bind((0,i.default)(r)),r.handleDatesSelect=r.handleDatesSelect.bind((0,i.default)(r)),r._performCalendarRequest=r._performCalendarRequest.bind((0,i.default)(r)),r.state=r.getInitialState(),r}(0,o.default)(t,e);var r=t.prototype;return r.getInitialState=function(){return{isExpanded:!1,isSmallScreen:this.props.matchMedia.matches,isLoading:!0,calendarType:y.default.get("calendar_type")||"matrix",error:null,cheapestStops:{},graph:{initialGraphStartDay:null,departDate:this.props.initialFlight.departDate},matrix:{selectedFlight:{departDate:this.props.initialFlight.departDate,returnDate:this.props.initialFlight.returnDate},departDateStart:this.props.initialFlight.departDate,returnDateStart:this.props.initialFlight.returnDate}}},r.componentDidMount=function(){return this.props.matchMedia.addListener(this.handleResize),this.minPrices=new w.default({onGraphResponse:this.handlePricesResponse.bind(this,"graph"),onMatrixResponse:this.handlePricesResponse.bind(this,"matrix")}),this._performCalendarRequest(),this.setBodyClassnames()},r.componentDidCatch=function(e,t){return this.setState({error:new A.ErrorServer,isLoading:!1}),T.ErrorsTracker.error("prediction error",{error:e})},r.componentDidUpdate=function(e,t){if(this._resetPrediction(e)||(e.graph.tripDuration!==this.props.graph.tripDuration&&this.props.graph.initialPrices.length&&this._performCalendarGraphRequest(),t.matrix.departDateStart===this.state.matrix.departDateStart&&t.matrix.returnDateStart===this.state.matrix.returnDateStart||!this.props.hasMatrixPrices||this._performCalendarMatrixRequest()),t.isExpanded!==this.state.isExpanded||t.calendarType!==this.state.calendarType)return this.setBodyClassnames()},r.componentWillUnmount=function(){var e;return this.props.matchMedia.removeListener(this.handleResize),null!=(e=this.minPrices)&&e.abort(),this.props.removeBodyClass(N)},r._isOneWay=function(){return!this.props.initialFlight.returnDate},r._resetPrediction=function(e){return!(!this.props.searchId||this.props.searchId===e.searchId||"STARTED"!==this.props.searchStatus||(this.minPrices=new w.default({onGraphResponse:this.handlePricesResponse.bind(this,"graph"),onMatrixResponse:this.handlePricesResponse.bind(this,"matrix")}),this.setState(this.getInitialState(),this._performCalendarRequest),0))},r.render=function(){return this.state.isSmallScreen?null:Object.keys(this.props.initialFlight).length?(0,u.div)({className:this.blockClassName()},(0,u.div)({className:(0,l.default)(this.elementClassName("wrap"),"--"+this.state.calendarType,{"is-hidden":!(this.props.showCalendar||this.props.showCountdown)})},K({t:this.props.t,showCountdown:this.props.showCountdown,showCalendar:this.props.showCalendar,onExpand:this.handleExpand,calendarType:this.state.calendarType,isExpanded:this.state.isExpanded,initialFlight:this.props.initialFlight,error:this.state.error,onRefresh:this.handleErrorRefreshClick,searchId:this.props.searchId}),G({t:this.props.t,isVisible:this.props.showCalendar,calendarType:this.state.calendarType,error:this.state.error,onRefresh:this.handleErrorRefreshClick,onCalendarTypeChange:this.handleCalendarTypeChange},"graph"===this.state.calendarType?B({t:this.props.t,localeContext:this.props.localeContext,prices:this.props.graph.prices,cheapestStops:this.props.cheapestStops,passengers:this.props.searchParams.passengers,departDate:this.state.graph.departDate,tripDuration:this.props.graph.tripDuration,initialGraphStartDay:this.state.graph.initialGraphStartDay,isSmallScreen:this.state.isSmallScreen,isLoading:this.state.isLoading,isExpanded:this.state.isExpanded,onParamsChange:this.handleCalendarParamsChange.bind(this,"graph"),onExpand:this.handleExpand,onDatesSelect:this.handleDatesSelect}):(0,u.div)(null,L({timeout:300,classNames:"is",unmountOnExit:!0,in:this.state.isExpanded},U({t:this.props.t,localeContext:this.props.localeContext,departDateStart:this.state.matrix.departDateStart,returnDateStart:this.state.matrix.returnDateStart,selectedFlight:this.state.matrix.selectedFlight,isLoading:this.state.isLoading,onParamsChange:this.handleCalendarParamsChange.bind(this,"matrix"),key:"matrix",onDatesSelect:this.handleDatesSelect})),L({timeout:300,classNames:"is",unmountOnExit:!0,in:!this.state.isExpanded},H({t:this.props.t,departDateStart:this.state.matrix.departDateStart,returnDateStart:this.state.matrix.returnDateStart,selectedFlight:this.state.matrix.selectedFlight,onExpand:this.handleExpand,onParamsChange:this.handleCalendarParamsChange.bind(this,"matrix"),key:"matrix-minimized",onDatesSelect:this.handleDatesSelect})))),(0,u.div)({className:this.elementClassName("canvas")},this._adultsOnly()?void 0:(0,u.div)({className:(0,l.default)(this.elementClassName("notice"),{"--oneway":this._isOneWay()})},this.props.t("prediction:approximatePrices"))))):null},r.handleResize=function(e){var r;return q(this,t),(r=e.matches)&&this.state.isExpanded&&this.handleExpand(this.state.calendarType),this.setState({isSmallScreen:r})},r.handleCalendarParamsChange=function(e,t,r){var n;if(void 0===r&&(r=function(){}),this.setState(((n={})[""+e]=(0,g.default)(this.state[e],{$merge:t}),n),r),t.tripDuration&&"graph"===e)return this.props.updateGraphTripDuration(t.tripDuration)},r.handlePricesResponse=function(e,r,n,a){var i,o;return q(this,t),a=(0,d.default)(a),i=r?new A.ErrorConnection:n&&200!==n.status?new A.ErrorServer:(this._adultsOnly()&&this.props.searchParams.passengers.adults>1&&(a=this["_"+e+"PricesForAdults"](a)),o=this._preparePrices(e,a,this.state.tripDuration),this.props.updatePrices(e,o),null),this.setState({isLoading:!1,error:i})},r.handleErrorRefreshClick=function(){return q(this,t),this._performCalendarGraphRequest(),this.props.reachGoal("PREDICTION_MIN_PRICES_REFRESH")},r.handleExpand=function(e){var r;return q(this,t),this.props.reachGoal("PREDICTION_EXPAND_CLICK",{isOpening:!this.state.isExpanded}),r=(e=e&&"string"==typeof e?e:this.state.calendarType)!==this.state.calendarType||!this.state.isExpanded,this.setState({isExpanded:r,calendarType:e},this._performCalendarRequest)},r.handleCalendarTypeChange=function(e){return q(this,t),this.props.reachGoal("PREDICTION_CHANGED_TO_"+e.toUpperCase()),y.default.set("calendar_type",e),this.setState({calendarType:e},this._performCalendarRequest)},r.handleDatesSelect=function(e,r){var n;return q(this,t),n=(0,S.updateSegmentDate)("departDate",e,this.props.formParams.segments),r&&(n=(0,S.updateSegmentDate)("returnDate",r,n)),this.props.updateFormParams({segments:n})},r._performCalendarRequest=function(){switch(q(this,t),this.state.calendarType){case"graph":return this._performCalendarGraphRequest();case"matrix":return this._performCalendarMatrixRequest()}},r._performCalendarGraphRequest=function(){var e;if(this.props.showCalendar){var t=this.props.searchParams.segments[0];return e={origin:t.origin,destination:t.destination,tripClass:this.props.searchParams.trip_class,isAffiliate:this.props.isAffiliate,tripDuration:this.props.graph.tripDuration,onlyDirect:!1},this.setState({isLoading:!0}),this.minPrices.abort(),this.minPrices.fetch(e,"graph")}},r._performCalendarMatrixRequest=function(){var e;if(this.props.showCalendar&&this.props.initialFlight.isPlacesRestored)return e=(0,a.default)({},this.props.initialFlight,{departDate:this.state.matrix.departDateStart,returnDate:this.state.matrix.returnDateStart}),this.setState({isLoading:!0}),this.minPrices.abort(),this.minPrices.fetch(e,"matrix")},r._preparePrices=function(e,t,r){var n,a,i,o,c,s,u,l,f,d,p,v;if("matrix"===e)return t;for(n=new Date,a=(0,h.isLeap)((0,h.addYears)(n,1))?365:364,f={},c=0,l=t.length;c<l;c++){var g=t[c];o=g.depart_date,v=g.value,f[o]=v}for(p=[],u=s=0,d=a;0<=d?s<=d:s>=d;u=0<=d?++s:--s)i=(0,h.addDays)(n,u),v=f[(0,h.format)(i,"YYYY-MM-DD")]||0,p.push({departDate:i,value:v});return p},r._adultsOnly=function(){return!(this.props.searchParams.passengers.children||this.props.searchParams.passengers.infants)},r._priceForAdults=function(e){return(0,g.default)(e,{value:{$set:e.value*this.props.searchParams.passengers.adults}})},r._graphPricesForAdults=function(e){var t,r,n,a;for(a=[],t=0,r=e.length;t<r;t++)n=e[t],a.push(this._priceForAdults(n));return a},r._matrixPricesForAdults=function(e){var t,r,n,a,i,o;if(a={},this._isOneWay())for(t in e)n=e[t],a[t]=function(){var e,t,a;for(a=[],e=0,t=n.length;e<t;e++)r=n[e],a.push(this._priceForAdults(r));return a}.call(this);else for(t in e)for(i in o=e[t],null==a[t]&&(a[t]={}),o)n=o[i],a[t][i]=function(){var e,t,a;for(a=[],e=0,t=n.length;e<t;e++)r=n[e],a.push(this._priceForAdults(r));return a}.call(this);return a},r.setBodyClassnames=function(){return this.props.showCalendar?this.props.removeBodyClass(F):this.props.addBodyClass(F),this.state.isExpanded?this.props.addBodyClass(N):this.props.removeBodyClass(N),"matrix"===this.state.calendarType?(this.props.removeBodyClass("is-calendar-graph"),this.props.addBodyClass("is-calendar-matrix")):"graph"===this.state.calendarType?(this.props.removeBodyClass("is-calendar-matrix"),this.props.addBodyClass("is-calendar-graph")):void 0},t}(s.default.Component);return e.displayName="Prediction",e.propTypes={searchParams:c.default.object.isRequired,isAffiliate:c.default.bool.isRequired,searchId:c.default.string,initialFlight:c.default.object.isRequired,showCountdown:c.default.bool,showCalendar:c.default.bool,graph:c.default.shape({initialPrices:c.default.array,prices:c.default.array,tripDuration:c.default.number}),hasMatrixPrices:c.default.bool.isRequired,cheapestStops:c.default.object,matchMedia:c.default.object},e.defaultProps={matchMedia:matchMedia("(max-width: 1023px)"),isAffiliate:Y.isAffiliate(Y.marker()),matrix:{prices:{},initialPrices:{}},graph:{prices:[],initialPrices:[],tripDuration:null}},e}.call(void 0),V=function(e){return{updatePrices:function(t,r){switch(t){case"graph":return e((0,P.updateGraphPrices)(r));case"matrix":return e((0,P.updateMatrixPrices)(r));default:return function(){}}},removeBodyClass:function(t){return e((0,b.removeBodyClass)(t))},addBodyClass:function(t){return e((0,b.addBodyClass)(t))},updateGraphTripDuration:function(t){return e((0,P.updateGraphTripDuration)(t))},updateFormParams:function(t){return e((0,E.updateAviaParams)(t)),e((0,k.updateTabParams)("avia",{showFormHint:!0}))},reachGoal:function(t,r){return e((0,C.reachGoal)(t,r))}}};var z=(0,p.default)([(0,m.withTranslation)("prediction"),_.withLocaleContext,(0,v.connect)(x.default,V)])((0,O.default)(W));t.default=z},127534:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(r(797972));var a,i,o=r(525930),c=n(r(859941));i=function(e){return e.error.name.replace(/[A-Z]/g,(function(e,t){return(t>0?"-":"")+e.toLowerCase()}))},(a=function(e){var t,r;return e.error?(0,o.div)({className:"prediction__error --"+i(e)},(0,o.div)({className:"prediction__error-image"}),(0,o.div)({className:"prediction__error-message"},e.t("prediction:"+e.error.message)),(0,o.div)({className:"prediction__error-body"},function(){var n,a,i,c;for(i=e.t(e.error.description).split("<br/>"),c=[],t=n=0,a=i.length;n<a;t=++n)r=i[t],c.push((0,o.div)({key:"prediction__error-body-line-"+t},r));return c}()),(0,o.button)({className:"prediction__error-button",onClick:e.onRefresh},e.t("prediction:refresh"))):null}).displayName="PredictionError",a.propTypes={t:c.default.func.isRequired,error:c.default.object,onRefresh:c.default.func.isRequired};var s=a;t.default=s},311126:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i,o,c=n(r(797972)),s=n(r(859941)),u=r(525930),l=(n(r(37102)),n(r(127534))),f=n(r(85425));a=c.default.createFactory(f.default),i=c.default.createFactory(l.default),(o=function(e){return e.isVisible?(0,u.div)({className:"prediction__expanded"},(0,u.div)({className:"prediction__expanded-inner"},a({t:e.t,className:"prediction__switcher",activeType:e.calendarType,onChange:e.onCalendarTypeChange}),e.error?i({t:e.t,error:e.error,onRefresh:e.onRefresh}):(0,u.div)(null,e.children))):null}).displayName="PredictionExpanded",o.propTypes={t:s.default.func.isRequired,isVisible:s.default.bool.isRequired,error:s.default.object,onRefresh:s.default.func,calendarType:s.default.string.isRequired,onCalendarTypeChange:s.default.func};var d=o;t.default=d},243016:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCheap=t.getKey=t.getCheapestValue=t.eachPrice=t.CHEAPEST_TICKET_FACTOR=void 0;var n=r(740537);t.CHEAPEST_TICKET_FACTOR=1.02;var a=function e(t,r){var n,a,i,o;if(Array.isArray(t))for(n=0,o=t.length;n<o;n++)if((a=t[n]).hasOwnProperty("value")){if(!1===r(a))return}else e(a,r);else for(i in t)if((a=t[i]).hasOwnProperty("value")){if(!1===r(a))return}else e(a,r)};t.eachPrice=a,t.getCheapestValue=function(e){var t;return e&&Object.keys(e).length?(t=[],a(e,(function(e){var r=e.value;if(r)return t.push(r)})),Math.min.apply(null,t)):Infinity},t.isCheap=function(e,t){return!!e&&e<=Math.round(1.02*t)},t.getKey=function(e,t){var r,a;try{return a=(0,n.format)(e,"YYYY-MM-DD"),t&&(a+="-"+(0,n.format)(t,"YYYY-MM-DD")),a}catch(n){return r=n,console.error(r),console.log("date1: "+e+"; date2: "+t)}}},446595:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=n(r(797972)),o=n(r(859941)),c=n(r(225385)),s=r(445549);r(769418);var u=(0,c.default)("prediction-advice"),l=function(e){return i.default.createElement("span",{className:u("link",{"--selected":"matrix"!==e.calendarType}),onClick:function(){return e.onExpand("matrix")},role:"presentation"},e.children)},f=function(e){return i.default.createElement("span",{className:u("link",{"--selected":"graph"!==e.calendarType}),onClick:function(){return e.onExpand("graph")},role:"presentation"},e.children)},d=function(e){var t=e.t;return i.default.createElement("div",{className:u()},i.default.createElement("div",{className:u("icon")}),i.default.createElement("div",null,i.default.createElement("div",{className:u("title")},t("prediction:adviceTitle")),i.default.createElement("div",{className:u("desc")},i.default.createElement(s.Trans,{i18nKey:"adviceDescription",ns:"prediction",components:[i.default.createElement(l,(0,a.default)({key:"predictionTableBtn"},e)),i.default.createElement(f,(0,a.default)({key:"predictionGraphBtn"},e))]}))))};d.propTypes={t:o.default.func.isRequired,calendarType:o.default.string.isRequired,onExpand:o.default.func.isRequired};var p=d;t.default=p},827025:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(947981)),i=n(r(797972)),o=n(r(225385)),c=r(445549);r(207586);var s=(0,o.default)("countdown"),u=["Kupibilet","OneTwoTrip","Tinkoff","SuperKassa","S7 Airlines","Mytrip","Mego.travel","Kiwi","Nordwind","OZON.travel","Biletix","Pobeda","City.Travel","Aviakassa","Svyaznoy Travel","Aeroflot","Tickets.ru","Utair","Red Wings","SmartFares","Trip.com","KLM AirFrance"],l=1e3,f=function(e){function t(t){var r;return(r=e.call(this,t)||this).displayName="Countdown",r.state={timer:45},r}(0,a.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;this.tickStartTime=Date.now(),this.timeout=setTimeout((function(){return e.countdownTick()}),l)},r.componentDidUpdate=function(e,t){var r=this;if(t.timer!==this.state.timer&&this.state.timer>0){var n=Date.now(),a=0;n-this.tickStartTime>l&&n-this.tickStartTime<2e3&&(a=n-this.tickStartTime-l),this.tickStartTime=Date.now(),this.timeout=setTimeout((function(){return r.countdownTick()}),l-a)}},r.componentWillUnmount=function(){clearTimeout(this.timeout)},r.countdownTick=function(){this.setState({timer:this.state.timer-1})},r.render=function(){if(0===this.state.timer)return null;var e=u[+this.state.timer%u.length];return i.default.createElement("div",{className:s()},i.default.createElement("div",{className:s("timer")},this.state.timer),i.default.createElement("div",{className:s("title")},i.default.createElement(c.Trans,{ns:"prediction",i18nKey:"countdownTitle",values:{gateName:e},components:[i.default.createElement("div",{key:"countdownGateTitle",className:s("gate")})]})))},t}(i.default.Component);t.default=f},290927:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(947981)),i=n(r(797972)),o=r(224562),c=n(r(859941)),s=n(r(225385)),u=r(392220),l=n(r(827025)),f=n(r(446595));r(69934);var d=(0,s.default)("prediction-header"),p=function(e){function t(){return e.apply(this,arguments)||this}(0,a.default)(t,e);var r=t.prototype;return r.getButton=function(){var e=this.props.t;return this.props.error&&!this.props.isExpanded?i.default.createElement(u.Button,{className:d("refresh-button"),mod:u.ButtonMod.SecondaryOutline,size:u.ButtonSize.Medium,onClick:this.props.onRefresh,role:"presentation"},e("prediction:refresh")):this.props.showCalendar?i.default.createElement(u.Button,{className:d("expand-button"),mod:u.ButtonMod.SecondaryOutline,size:u.ButtonSize.Medium,onClick:this.props.onExpand,role:"presentation"},i.default.createElement("div",{"aria-hidden":!0,className:d("expand-button-icon")}),i.default.createElement("span",{className:d("expand-button-text")},this.props.isExpanded?e("common:rollUp"):e("common:show"))):null},r.render=function(){return i.default.createElement("div",{className:d()},i.default.createElement("div",{className:d("wrapper")},i.default.createElement("div",{className:d("left-col")},this.props.showCountdown?i.default.createElement(l.default,null):i.default.createElement(f.default,{t:this.props.t,onExpand:this.props.onExpand,calendarType:this.props.calendarType})),i.default.createElement("div",{className:d("right-col")},this.getButton(this.props))))},t}(i.default.Component);p.displayName="PredictionHeader",p.propTypes={t:c.default.func.isRequired,calendarType:c.default.string.isRequired,showCountdown:c.default.bool.isRequired,showCalendar:c.default.bool.isRequired,isExpanded:c.default.bool.isRequired,onExpand:c.default.func,error:c.default.object,onRefresh:c.default.func},p.defaultProps={onExpand:function(){},onRefresh:function(){},error:null};var v=(0,o.connect)((function(e,t){var r=t.calendarType,n=e.prediction[r].initialPrices;if(n&&!Array.isArray(n)){var a=[];return Object.keys(n).forEach((function(e){var t=n[e];Array.isArray(t)?a=a.concat(t):Object.keys(t).forEach((function(e){var r=t[e];a=a.concat(r)}))})),{initialPrices:a}}return{initialPrices:n}}))(p);t.default=v},983065:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),i=n(r(859941)),o=n(r(512945)),c=n(r(478086)),s=function(e){return a.default.createElement(o.default,{replaceTo:a.default.createElement("div",{className:e.wrapperClassName},e.children)},a.default.createElement(c.default,e))};s.propTypes={children:i.default.oneOfType([i.default.array,i.default.element]),wrapperClassName:i.default.string},s.defaultProps={children:null,wrapperClassName:""};var u=s;t.default=u},52367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.historyAPI=void 0;var n,a=r(511115);t.historyAPI=n,window.historyAPI?t.historyAPI=n=window.historyAPI:(t.historyAPI=n=(0,a.createBrowserHistory)(),window.historyAPI=n)},26817:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUBSCRIBE_DIALOG=void 0,t.UNSUBSCRIBE_DIALOG="unsubscribeDialog"},55567:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(385882)),i=n(r(971410)),o=n(r(10520)),c=r(721193),s=n(r(275347)),u=r(543358),l=n(r(702944)),f=r(405628),d=r(518428),p=r(785843),v=function(e){var t=e.fetchHotels,r=e.fetchCountries,n=e.fetchNationalParks,a=e.query,i=e.locale;if(!t){var o=["city","airport"];r&&o.push("country"),n&&o.push("national_park");var u=(0,f.selectAutocompleteUrl)(l.default)+"/v2/places.json?",v=(0,d.getLocale)(i);return u+(0,c.stringify)({locale:v,max:7,types:o,term:a},{arrayFormat:"bracket"})}return"https://engine.hotellook.com/api/v2/lookup.json?"+(0,c.stringify)({brand:p.BRAND,lang:i?i.toLowerCase():s.default.language,limit:3,query:a})},g=function(){function e(e){var t=this;this.cancelTokenSource=void 0,this.stopCancellation=void 0,this.fetchCountries=!1,this.fetchNationalParks=!1,this.fetchHotels=!1,this.locale=void 0,this.requests=[],this.callbacks=[],this.onServerResponse=function(e){return t.callbacks.push(e)},this.performRequest=function(){var e=(0,i.default)(a.default.mark((function e(r){var n,i,c,s,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",["skip",[]]);case 2:return!t.stopCancellation&&t.cancelTokenSource&&t.cancelTokenSource.cancel(),t.cancelTokenSource=o.default.CancelToken.source(),n=r.trim().toLowerCase(),i=v({fetchHotels:t.fetchHotels,fetchCountries:t.fetchCountries,fetchNationalParks:t.fetchNationalParks,query:n,locale:t.locale}),c=i+"&"+Math.random().toString(36).substring(7),t.requests.push(c),e.prev=8,e.next=11,o.default.get(i,{cancelToken:t.cancelTokenSource.token});case 11:return s=e.sent,[],u=t.fetchHotels?t.processHotelsResponse(r.trim().toLowerCase(),s.data):t.processPlacesResponse(r.trim().toLowerCase(),s.data),t.cancelTokenSource=null,t.callbacks.forEach((function(e){e(u)})),t.callbacks=[],t.requests=t.requests.filter((function(e){return e!==c})),e.abrupt("return",["ok",u]);case 21:return e.prev=21,e.t0=e.catch(8),t.requests=t.requests.filter((function(e){return e!==c})),e.abrupt("return",["error",[e.t0]]);case 25:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(t){return e.apply(this,arguments)}}(),this.processHotelsResponse=function(e,t){var r=t.results,n=r.hotels,a=r.locations,i=n.map((function(e){return{iata:e.id,name:e.label,type:u.PlaceType.Hotel,cityName:e.locationName,locationId:+e.locationId}})),o=a.map((function(e){return{iata:e.iata[0]||"",name:e.cityName,hotelsCount:+e.hotelsCount,countryIata:e.countryCode,countryName:e.countryName,cityName:e.cityName,type:u.PlaceType.HotelCity,locationId:+e.id}}));return i.concat(o)},this.processPlacesResponse=function(e,r){return r||Array.isArray(r)?r.map((function(n){if(t.isNationalPark(n))return t.mapNationalParkToPlace(n);var a,i,o=n.type,c=n.weight,s=n.name,l=n.main_airport_name,f=!!l&&l.toLowerCase().includes(e)&&!s.toLowerCase().includes(e);return{iata:n.code,cityIata:n.city_code||n.iata,coordinates:n.coordinates,countryIata:n.country_code,countryName:n.country_name,cityName:n.city_name,cases:n.cases,inMetropolis:o===u.PlaceType.Airport&&(i=n,r.some((function(e){return e.type===u.PlaceType.City&&e.code===i.city_code}))),isMetropolis:o===u.PlaceType.City&&(a=n,r.some((function(e){return e.type===u.PlaceType.Airport&&e.city_code===a.code}))),name:f?l:s,type:o,weight:c}})):[]},this.fetchCountries=e.fetchCountries||!1,this.fetchNationalParks=e.fetchNationalParks||!1,this.locale=e.locale,this.fetchHotels=e.fetchHotels||!1,this.stopCancellation=e.stopCancellation||!1}e.getSuggestion=function(e,t,r){var n;return 3===t.length&&(n=e.find((function(e){return(!r||r===e.type)&&e.iata.toLocaleLowerCase()===t.toLocaleLowerCase()}))),n||e[0]};var t=e.prototype;return t.isInProgress=function(){return!!this.requests.length},t.isNationalPark=function(e){return"national_park"===e.type},t.mapNationalParkToPlace=function(e){return{iata:e.id,name:e.name,type:u.PlaceType.NationalPark,slug:e.slug,id:e.id}},e}();t.default=g},858565:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(385882)),i=n(r(971410)),o=n(r(947981)),c=n(r(797972)),s=n(r(225385)),u=n(r(131672)),l=r(681334),f=r(612821),d=r(529288);r(215293);var p=(0,s.default)("adfox-banner"),v=function(e){function t(t){var r;return(r=e.call(this,t)||this).RESOURCE_ID="adfox",r.OWNER_ID=327101,r.dynamicBannersRef=void 0,r.bannersInstancesRef=void 0,r.blocksIdsRef=void 0,r.componentDidMount=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.handleLoad(),e.next=3,u.default.waitForResource(r.RESOURCE_ID);case 3:r.initBanner();case 4:case"end":return e.stop()}}),e)}))),r.handleBannerRender=function(e){var t=r.props.onRender;(void 0===t?l.noop:t)(e)},r.handleClick=function(){var e=r.props.onClick;(void 0===e?l.noop:e)()},r.initBanner=function(){var e,t,n,a;window.yaContextCb&&window.Ya&&window.Ya.adfoxCode&&(null===(e=window)||void 0===e||null===(t=e.Ya)||void 0===t||null===(n=t.adfoxCode)||void 0===n||null===(a=n.hbCallbacks)||void 0===a||a.push((function(){if(r.dynamicBannersRef.current){var e=r.props,t=e.searchParams,n=e.aviaParams;Object.keys(r.dynamicBannersRef.current).forEach((function(e){var a,i,o,c,s=null===(a=r.dynamicBannersRef.current)||void 0===a?void 0:a[e],u=s.containerId,l=s.params,d=s.dimensions,p=s.adUnits,v=(0,f.getTargetingParams)({adParams:l,searchParams:t,aviaParams:n});null===(i=window)||void 0===i||null===(o=i.yaContextCb)||void 0===o||null===(c=o.push)||void 0===c||c.call(o,(function(){var t,n,a;(0,f.initializeAdFoxHeaderBindings)(u,p);var i=null===(t=window.Ya)||void 0===t||null===(n=t.adfoxCode)||void 0===n||null===(a=n.createAdaptive)||void 0===a?void 0:a.call(n,{ownerId:r.OWNER_ID,containerId:u,params:v,onLoad:function(t){r.blocksIdsRef.current&&(r.blocksIdsRef.current[e]=t.bundleParams.blockId)},onRender:function(){var t;r.handleBannerRender({responsive:e,blockId:null===(t=r.blocksIdsRef.current)||void 0===t?void 0:t[e]})}},d,{tabletWidth:1023,phoneWidth:767,isAutoReloads:!0});r.bannersInstancesRef.current&&(r.bannersInstancesRef.current[e]=i)}))}))}})))},u.default.loadScript("https://yastatic.net/pcode/adfox/loader.js",{id:r.RESOURCE_ID,crossorigin:"anonymous"}),r.dynamicBannersRef=c.default.createRef(),r.dynamicBannersRef.current=(0,f.createAdFoxDynamicAdaptiveBanners)(t.banners,t.adUnits),r.bannersInstancesRef=c.default.createRef(),r.bannersInstancesRef.current={},r.blocksIdsRef=c.default.createRef(),r.blocksIdsRef.current={},r}(0,o.default)(t,e);var r=t.prototype;return r.componentWillUnmount=function(){var e=this;Object.keys(this.props.banners).forEach((function(t){var r,n;null===(r=e.bannersInstancesRef.current)||void 0===r||null===(n=r[t])||void 0===n||n.destroy()}))},r.handleLoad=function(){var e=this.props.onLoad;(void 0===e?l.noop:e)()},r.render=function(){var e=this;return c.default.createElement(c.default.Fragment,null,this.dynamicBannersRef.current&&Object.keys(this.dynamicBannersRef.current).map((function(t){var r;return c.default.createElement("div",{key:t,className:p(null),id:null===(r=e.dynamicBannersRef.current)||void 0===r?void 0:r[t].containerId,onClick:e.handleClick})})))},t}(c.default.PureComponent),g=(0,d.withGdpr)(v);t.default=g},662774:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AdFoxAdaptiveKey=void 0,t.AdFoxAdaptiveKey=r,function(e){e.Desktop="desktop",e.Tablet="tablet",e.Mobile="phone"}(r||(t.AdFoxAdaptiveKey=r={}))},11764:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useSubscribeButtonVisible=t.useSubscribeButton=void 0;var a=r(797972),i=r(224562),o=n(r(702944)),c=r(680013),s=r(841511),u=r(520072),l=r(423343),f=r(26817);t.useSubscribeButton=function(){var e=(0,i.useDispatch)(),t=!!(0,i.useSelector)(c.getCurrentDirectionSubscription),r=(0,a.useCallback)((function(){return e(t?(0,u.openPopup)(f.UNSUBSCRIBE_DIALOG):(0,s.followThePrice)())}),[e,t]);return{hasSameSubscription:t,handleSubscribeClick:r}},t.useSubscribeButtonVisible=function(){var e=(0,i.useSelector)(l.getIsMultiway);return o.default.is("avs-feat-subscription")&&!e}},104189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAVBAR_WITH_OFFSET_HEIGHT=t.FORM_FIELDS_HEIGHT=t.DEFAULT_PAGE_HEADER_PARAMS=t.DEFAULT_BRAND_NAME=t.DEFAULT_AVAILABLE_TABS=void 0;var n,a=r(785843),i=["avia","hotel"];t.DEFAULT_AVAILABLE_TABS=i,a.IS_AVIASALES?n="aviasales":a.IS_WAYAWAY&&(n="wayaway");var o=n;t.DEFAULT_BRAND_NAME=o;var c={tabs:{},activeForm:"avia",showHeader:!1,mainTitleTag:"h1",availableTabs:i,brandName:o};t.DEFAULT_PAGE_HEADER_PARAMS=c,t.NAVBAR_WITH_OFFSET_HEIGHT=70,t.FORM_FIELDS_HEIGHT=60},39757:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LoginPopupTriggerType=void 0,t.LoginPopupTriggerType=r,function(e){e.FollowDirection="follow_direction",e.FollowTicket="follow_ticket",e.MainPageLoginButton="main_page_login_button",e.HeaderDropdown="login_header_dropdown"}(r||(t.LoginPopupTriggerType=r={}))},359759:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SERP_IN_MODAL=void 0,t.SERP_IN_MODAL="serpInModal"},131672:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=new(n(r(266940)).default);t.default=a},870986:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=t.isScriptAlreadyLoaded=void 0;var a=n(r(101339));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={element:document.body,async:!0,defer:!1};t.loadScript=function(e,t){var r=o(o({},c),t),n=document.createElement("script");return n.async=r.async,n.defer=r.defer,n.src=e,r.id&&(n.id=r.id),r.crossorigin&&(n.crossOrigin=r.crossorigin),r.element.appendChild(n),n},t.isScriptAlreadyLoaded=function(e){return Array.from(document.scripts).reduce((function(t,r){return t||e.test(r.src)}),!1)}},266940:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=n(r(860606)),o=r(870986);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(){function e(){var e=this;this.state={},this.handleScriptLoaded=function(t,r){return void 0===r&&(r=function(){}),function(n){t&&e.state[t]&&(e.state[t].isLoaded=!0,r())}}}var t=e.prototype;return t.loadScript=function(e,t){void 0===t&&(t={});try{var r=(0,o.loadScript)(e,s(s({},t),{},{element:document.body}));t.id&&(this.state[t.id]={script:r,isLoaded:!1}),r.addEventListener("load",this.handleScriptLoaded(t.id))}catch(e){i.default.warn("Load script error",e)}},t.loadAll=function(){this.loadScript("//static.criteo.net/js/ld/publishertag.js",{id:"criteo"}),this.loadScript("https://www.googletagservices.com/tag/js/gpt.js",{id:"googletagservices"})},t.waitForResource=function(e){var t=this;return new Promise((function(r,n){var a=t.state[e];a||n("Unknown resource id "+e),a.isLoaded?setTimeout((function(){return r(a.script)}),50):(a.script.addEventListener("load",t.handleScriptLoaded(e,(function(){setTimeout((function(){return r(a.script)}),50)}))),a.script.addEventListener("error",(function(){return n("Cannot load id "+e)})))}))},e}();t.default=u},682439:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.sendGtmEvent=void 0;var a=n(r(101339));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.sendGtmEvent=function(e,t){var r,n;null===(r=window)||void 0===r||null===(n=r.dataLayer)||void 0===n||n.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({event:e},t))}},844770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WithLocaleContext",{enumerable:!0,get:function(){return n.WithLocaleContext}}),Object.defineProperty(t,"withLocaleContext",{enumerable:!0,get:function(){return n.withLocaleContext}});var n=r(823755)},823755:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.withLocaleContext=void 0;var a=n(r(435850)),i=n(r(797972)),o=r(317637);t.withLocaleContext=function(e){var t=e.displayName||e.name||"Unknown",r=function(t){var r=(0,o.useLocaleContext)();return i.default.createElement(e,(0,a.default)({localeContext:r},t))};return r.displayName="withLocaleContext"+t,r}},20344:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(554422);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},641631:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UserTheme=void 0,t.UserTheme=r,function(e){e.LIGHT="light",e.DARK="dark"}(r||(t.UserTheme=r={}))},619251:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieDomain=void 0,t.getCookieDomain=function(){var e=window.location.hostname,t=e.split(".").slice(-2).join(".");return t===e?t:"."+t}},813836:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCookieDomain",{enumerable:!0,get:function(){return n.getCookieDomain}});var n=r(619251)},783293:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTopLevelDomain=void 0,t.getTopLevelDomain=function(){var e=window.location.hostname.split(".");return e.length>3?e.slice(-2).join("."):e[e.length-1]}},123766:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getExpFlagsReady=void 0;var a=n(r(299657)),i=n(r(702944));t.getExpFlagsReady=function(){return new Promise((function(e){var t=0;!function r(){var n=i.default.findBy((function(e){return/^.*-exp-.*/.test(e)})).reduce((function(e,t){return t.evaluationResult&&t.evaluationResult.variantKey&&(e[t.evaluationResult.flagKey]=t.evaluationResult.variantKey),e}),{});t+=1,!(0,a.default)(n)||t>10?e(n):setTimeout(r,500)}()}))}},563676:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketsApiUrl=void 0;var n=r(565569),a=r(52210);t.getTicketsApiUrl=function(){var e="https://tickets-api."+n.API_HOST;return(0,a.getDebugSettingsFromClient)().searchHost||e}},763530:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeWithResolver=void 0;var a=n(r(218043)).default.convert({fixed:!1});t.memoizeWithResolver=a},681334:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},246418:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.Repeat=void 0;var a=n(r(101339)),i=n(r(385882)),o=n(r(971410)),c=n(r(762410)),s=r(878835);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={repeats:3,interval:1e3};t.Repeat=function(e){var t=this;this.emitter=void 0,this.config=void 0,this.cancelled=!1,this.run=(0,o.default)(i.default.mark((function e(){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config.repeats,e.next=3,Promise.resolve();case 3:if(!r){e.next=13;break}if(!t.cancelled){e.next=6;break}return e.abrupt("return");case 6:return n=0==(r-=1),t.emitter.emit("check",t.config.callback(n)),e.next=11,(0,s.afterPromise)(t.config.interval);case 11:e.next=3;break;case 13:case"end":return e.stop()}}),e)}))),this.cancel=function(){return t.cancelled=!0,t},this.on=function(e,r){return t.emitter.on(e,r),t},this.off=function(e,r){return t.emitter.off(e,r),t},this.emitter=new c.default,this.config=l(l({},f),e),this.run()}},50505:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.isShortUrlPossible=function(e,t){if(void 0===t&&(t=!1),!e||!e.segments)return!1;for(var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.segments);!(r=n()).done;){var a,i,o,c,s=r.value;if(!(t||null!=s&&null!==(a=s.origin)&&void 0!==a&&a.iata&&null!=s&&null!==(i=s.destination)&&void 0!==i&&i.iata))return!1;if(!(null!=s&&null!==(o=s.origin)&&void 0!==o&&o.iata||null!=s&&null!==(c=s.destination)&&void 0!==c&&c.iata))return!1}return!0},t.parseShortUrlDate=function(e){if(!e)return null;var t=e.match(/.{2}/g)||[],r=(0,a.default)(t,2),n=r[0],f=void 0===n?0:n,d=r[1],p=void 0===d?0:d,v=(0,l.getToday)(),g=v.getFullYear(),h=(0,c.default)(v),m=[g,p,f].join("-"),y=(0,u.parse)(m,"yyyy-MM-dd",new Date);return(0,s.default)(y)?(0,o.default)(y,h)<0?(0,i.default)(y,1):y:null};var a=n(r(114558)),i=n(r(7890)),o=n(r(997170)),c=n(r(609516)),s=n(r(282679)),u=r(969699),l=r(963342);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},101785:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/([a-z\u0430-\u044F]{3})(\d{4})([a-z\u0430-\u044F]{3})(\d{4}|-)?(?:([a-z\u0430-\u044F]{3})(\d{4}|-)?)?(?:([a-z\u0430-\u044F]{3})(\d{4}|-)?)?(?:([a-z\u0430-\u044F]{3})(\d{4}|-)?)?(?:([a-z\u0430-\u044F]{3})(\d{4}|-)?)?(?:([a-z\u0430-\u044F]{3})(\d{4})?)?(b|f|y|c|w)?(\d)(\d)?(\d)?/i},908813:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localeSortWithLang=t.localeSortByWithLang=t.localeSortBy=t.localeSort=void 0;var n=r(139375),a=function(e,t){return e.slice().sort((function(e,r){return e.localeCompare(r,t)}))};t.localeSort=a,t.localeSortWithLang=function(e){return a(e,(0,n.getLang)())};var i=function(e,t,r){return t.slice().sort((function(t,n){var a="function"==typeof e?e(t):t[e],i="function"==typeof e?e(n):n[e];return a.localeCompare(i,r)}))};t.localeSortBy=i,t.localeSortByWithLang=function(e,t){return i(e,t,(0,n.getLang)())}},140218:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.templateWithOptions=void 0;var a=n(r(334989)).default.convert({fixed:!1});t.templateWithOptions=a},490546:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTripClassNameFromCode=t.checkTripClass=void 0;var n=r(650832),a=function(e){void 0===e&&(e="Y");var t=String(e).toUpperCase();return"1"===t?n.TripClass.Business:Object.values(n.TripClass).includes(t)?t:n.TripClass.Economy};t.checkTripClass=a,t.getTripClassNameFromCode=function(e,t){return void 0===e&&(e="Y"),t[a(e)]}},828451:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.isOpenJaw=t.getTripClass=t.getTicketDeparture=t.getTicketArrival=t.getPassengers=t.createPlaceByIata=t.buildChildrenString=t.MAX_PASSENGERS=void 0;var a=n(r(968598));t.isOpenJaw=function(e){if(0===e.length)return!1;if(e&&e.length>2)return!0;if(e&&2===e.length){var t=e[0],r=e[e.length-1];return!!(t.origin&&t.destination&&r.origin&&r.destination)&&(t.origin.iata!==r.destination.iata||t.destination.iata!==r.origin.iata)}return!1},t.MAX_PASSENGERS=9,t.getTicketDeparture=function(e){return e[0].segment[0].flight[0].departure},t.getTicketArrival=function(e){var t=e[0].segment[0].flight;return t[t.length-1].arrival},t.buildChildrenString=function(e,t,r){if(void 0===e&&(e=""),!t)return e;for(var n=[],i=0;i<t;i+=1){var o=Array.isArray(r)?r[i]:r;(0,a.default)(o)||n.push(o.toString())}return e.length&&n.length?e+","+n.join(","):n.join(",")},t.createPlaceByIata=function(e){return e&&"string"==typeof e?{iata:e,search:"",name:""}:null},t.getTripClass=function(e){return e?"b"===e?"C":e.toUpperCase():"Y"},t.getPassengers=function(e,t,r){return[e,t,r].reduce((function(e,t){return e+t}),0)>9?{adults:1,children:0,infants:0}:{adults:e,children:t,infants:r>e?e:r}}},826183:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.sendAnalyticsEventSaga=y;var i=n(r(385882)),o=n(r(101339)),c=r(982175),s=r(111035),u=r(863974),l=r(131052),f=r(587273),d=r(424319),p=a.mark(y);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=u.userService.$guestiaId,m=u.userService.$premiumStateId;function y(e,t){var r,n,a,o,u,v;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=e.service||s.Service.Serp,n=h.getState(),a=m.getState(),o=g(g({guestiaId:n,premiumStateId:a},e),{},{service:r}),u=g(g({},t),{},{is_mobile:(0,f.isMobile)()}),window.abBranch&&(u.ab_branch=window.abBranch),i.next=8,(0,c.select)(d.getDeviceSearchId);case 8:return(v=i.sent)&&(u.device_search_id=v),i.next=12,(0,c.call)(s.sendAnalyticsEvent,o,u);case 12:return i.next=14,(0,c.select)(l.getDebugMetrics);case 14:i.sent&&console.log("EVENT:",o.service+" "+o.category+" "+o.label+" "+o.action,g({},u));case 16:case"end":return i.stop()}}),p)}},729801:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.feedbackAnsweredEvent=O,t.feedbackStartedEvent=T;var a=n(r(101339)),i=n(r(385882)),o=r(67085),c=r(982175),s=r(111035),u=r(826183),l=r(817431),f=r(742029),d=r(335085);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=i.default.mark(S),h=i.default.mark(T),m=i.default.mark(O),y="feedback",_="gates_feedback",b={service:y,feedback_type:"after_click"};function S(){var e,t,r,n,a;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,c.select)(f.getPopupData,"gateFeedback");case 2:if(!(e=i.sent)){i.next=9;break}return t=e.gateId,r=e.searchId,n=e.clickId,i.next=7,(0,c.select)(d.getFeedbackDeviceClickId);case 7:return a=i.sent,i.abrupt("return",{search_id:r,gate_id:t,click_id:n,device_click_id:a});case 9:return i.abrupt("return",null);case 10:case"end":return i.stop()}}),g)}function T(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.STARTED_EVENT_FEEDBACK,i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={service:s.Service.Feedback,category:y,label:_,action:"started"},e.next=3,(0,o.call)(S);case 3:if(!(r=e.sent)){e.next=8;break}return n=v(v({},r),b),e.next=8,(0,o.call)(u.sendAnalyticsEventSaga,t,n);case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function O(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.ANSWERED_EVENT_FEEDBACK,i.default.mark((function e(t){var r,n,a,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.answerInfo,n={service:s.Service.Feedback,category:y,label:_,action:"answered"},e.next=4,(0,o.call)(S);case 4:if(!(a=e.sent)){e.next=9;break}return c=v(v({question:r.question,question_index:r.questionIndex,answer:r.answer,text_comment:r.textComment},a),b),e.next=9,(0,o.call)(u.sendAnalyticsEventSaga,n,c);case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),m)}},21992:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.sendResetFiltersAnalytics=h;var i=n(r(385882)),o=n(r(114558)),c=r(982175),s=n(r(626514)),u=n(r(796211)),l=r(539786),f=r(424319),d=r(826183),p=r(25614),v=r(242608),g=a.mark(h);function h(){var e,t,r,n,a,h,m,y,_,b,S,T,O,P;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e={category:"search",label:"filter",action:"applied"},i.next=3,(0,c.select)(f.getDeviceSearchId);case 3:return t=i.sent,i.next=6,(0,c.select)(l.getSearchId);case 6:return r=i.sent,n=(0,u.default)(JSON.stringify({})),i.next=10,(0,c.select)(p.getTicketsState);case 10:return a=i.sent,h=a.ticketsList,m=a.proposals,y=a.ticketsProposals,_=(0,o.default)(h,1),b=_[0],S=(0,s.default)(y[b]),T=S?m[S]:null,O=null==T?void 0:T.unifiedPrice,P={device_search_id:t,search_id:r,minprice_signature:b||null,min_unified_price:O||null,state:null,state_total:null,state_total_signature:n,source:v.ChangeFiltersSource.GeneralFilters},i.next=21,(0,c.call)(d.sendAnalyticsEventSaga,e,P);case 21:case"end":return i.stop()}}),g)}},687004:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.loginPopupClosedEvent=_,t.loginPopupShowedEvent=y;var i=n(r(385882)),o=n(r(101339)),c=r(982175),s=r(111035),u=r(826183),l=r(539786),f=r(705238),d=a.mark(y),p=a.mark(_);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={category:"profile",service:s.Service.Usercom},m=function(e){var t=f.gdprService.$mailoutAcceptedAnalytics.getState();return g(g({},e),{},{mailout_accepted:t})};function y(e){var t,r,n,a;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.source,r=g(g({},h),{},{label:"login_popup",action:"showed"}),i.next=4,(0,c.select)(l.getSearchId);case 4:return n=i.sent,a=m({source:t,search_id:n}),i.next=8,(0,c.call)(u.sendAnalyticsEventSaga,r,a);case 8:case"end":return i.stop()}}),d)}function _(e){var t,r,n,a;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.source,r=g(g({},h),{},{label:"login_popup",action:"closed"}),i.next=4,(0,c.select)(l.getSearchId);case 4:return n=i.sent,a=m({source:t,search_id:n}),i.next=8,(0,c.call)(u.sendAnalyticsEventSaga,r,a);case 8:case"end":return i.stop()}}),p)}},366526:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mobileAppRedirectClickEvent=f,t.mobileAppRedirectShowEvent=l;var a=n(r(385882)),i=r(982175),o=r(539786),c=r(826183),s=a.default.mark(l),u=a.default.mark(f);function l(e){var t,r,n;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={category:"feature",label:"app_redirect",action:"showed"},a.next=3,(0,i.select)(o.getSearchId);case 3:return r=a.sent,n={searchId:r,view:e},a.next=7,(0,i.call)(c.sendAnalyticsEventSaga,t,n);case 7:case"end":return a.stop()}}),s)}function f(e){var t,r,n;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={category:"feature",label:"app_redirect",action:"clicked"},a.next=3,(0,i.select)(o.getSearchId);case 3:return r=a.sent,n={searchId:r,view:e},a.next=7,(0,i.call)(c.sendAnalyticsEventSaga,t,n);case 7:case"end":return a.stop()}}),u)}},722026:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.directionSubscriptionRemovedEvent=S,t.ticketSubscriptionAppliedEvent=P,t.ticketSubscriptionFailedEvent=E,t.ticketSubscriptionPopupClosedEvent=O,t.ticketSubscriptionPopupShownEvent=T,t.ticketSubscriptionRemovedEvent=k;var a=n(r(385882)),i=r(982175),o=r(111035),c=r(826183),s=r(539786),u=r(767747),l=r(587273),f=r(863974),d=r(841511),p=a.default.mark(S),v=a.default.mark(T),g=a.default.mark(O),h=a.default.mark(P),m=a.default.mark(E),y=a.default.mark(k),_=f.userService.$userCandidateEmail,b=f.userService.$userActiveEmail;function S(e,t){var r,n,u,f;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={category:"subscription",label:"subscription",action:"removed",service:o.Service.Usercom},a.next=3,(0,i.select)(s.getSearchId);case 3:return n=a.sent,u="direct","flexibility"in e?(u="direct",null!=e.flexibility&&(u="close_dates")):"months"in e&&(u="flex"),f={subscription_id:e.id,search_id:n,source:t,price_alert_type:u,isMobile:(0,l.isMobile)()},a.next=9,(0,i.put)((0,d.priceAlertSubscriptionDeleted)());case 9:return a.next=11,(0,i.call)(c.sendAnalyticsEventSaga,r,f);case 11:case"end":return a.stop()}}),p)}function T(){var e,t,r,n,f;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e={category:"subscription",label:"subscription_popup",action:"showed",service:o.Service.Usercom},a.next=3,(0,i.select)(s.getSearchId);case 3:return t=a.sent,r=_.getState(),n=b.getState(),f={search_id:t,source:u.SubscriptionsPopupTriggerType.Follow,email_precompeted:Boolean(r||n),isMobile:(0,l.isMobile)(),subscription_type:"price_alert_ticket",mailout_accepted:null},a.next=9,(0,i.call)(c.sendAnalyticsEventSaga,e,f);case 9:case"end":return a.stop()}}),v)}function O(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e={category:"subscription",label:"subscription_popup",action:"closed",service:o.Service.Usercom},n.next=3,(0,i.select)(s.getSearchId);case 3:return t=n.sent,r={search_id:t,isMobile:(0,l.isMobile)(),subscription_type:"price_alert_ticket",mailout_accepted:null},n.next=7,(0,i.call)(c.sendAnalyticsEventSaga,e,r);case 7:case"end":return n.stop()}}),g)}function P(e,t,r){var n,u,f,d;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={category:"subscription",label:"subscription",action:"applied",service:o.Service.Usercom},t.next=3,(0,i.select)(s.getSearchId);case 3:return u=t.sent,f=b.getState(),d={subscription_id:e.id,search_id:u,source:r,isMobile:(0,l.isMobile)(),mailout_accepted:null,price_alert_type:"ticket",email:f},t.next=8,(0,i.call)(c.sendAnalyticsEventSaga,n,d);case 8:case"end":return t.stop()}}),h)}function E(e){var t,r,n,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={category:"subscription",label:"subscription",action:"failed",service:o.Service.Usercom},a.next=3,(0,i.select)(s.getSearchId);case 3:return r=a.sent,n=b.getState(),u={search_id:r,price_alert_type:"ticket",error_info:e,email:n,isMobile:(0,l.isMobile)(),mailout_accepted:null},a.next=8,(0,i.call)(c.sendAnalyticsEventSaga,t,u);case 8:case"end":return a.stop()}}),m)}function k(e,t){var r,n,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={category:"subscription",label:"subscription",action:"removed",service:o.Service.Usercom},a.next=3,(0,i.select)(s.getSearchId);case 3:return n=a.sent,u={subscription_id:e.id,search_id:n,source:t,price_alert_type:"ticket",isMobile:(0,l.isMobile)()},a.next=7,(0,i.call)(c.sendAnalyticsEventSaga,r,u);case 7:case"end":return a.stop()}}),y)}},610832:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.showB2BInfoBannerEvent=d;var a=n(r(385882)),i=r(982175),o=n(r(154331)),c=r(826183),s=r(223002),u=r(543358),l=n(r(702944)),f=a.default.mark(d);function d(){var e,t,r,n,d,p,v;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l.default.is("b2b-feat-ticketMainModalBanner")){a.next=3;break}return a.abrupt("return");case 3:return r={category:"banner",label:"b2b_info_banner_on_avia_ticket",action:"shown"},a.next=6,(0,i.select)(s.getAviaFormParams);case 6:return n=a.sent,d=o.default.userAgent(),p=d.platform,v={platform:p,origin_iata:null===(e=n.segments[0][u.PlaceField.Origin])||void 0===e?void 0:e.iata,destination_iata:null===(t=n.segments[0][u.PlaceField.Destination])||void 0===t?void 0:t.iata},a.next=11,(0,i.call)(c.sendAnalyticsEventSaga,r,v);case 11:case"end":return a.stop()}}),f)}},466778:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.bookingRedirectStartedEvent=O;var i,o=n(r(385882)),c=n(r(101339)),s=n(r(796211)),u=r(982175),l=r(804701),f=r(785843),d=r(682439),p=r(826183),v=r(539786),g=r(25614),h=r(148860),m=r(747596),y=r(667929),_=a.mark(O);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=((i={})[h.BuyEvents.BuyButton]="buy_button",i[h.BuyEvents.ContextMenu]="buy_button",i[h.BuyEvents.FareCard]="fare_card",i[h.BuyEvents.Proposal]="proposal",i[h.BuyEvents.AirlineLogo]="airline_logo",i[h.BuyEvents.ComparisonTicketBuyButton]="comparison_ticket_buy_button",i[h.BuyEvents.VersusDrawer]="versus_drawer",i);function O(e,t,r,n,a){var i,c,b,O,P,E,k,C,w,D,I,A;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return O={category:"search",label:"booking_redirect",action:"started"},o.next=3,(0,u.select)(v.getSearchId);case 3:return P=o.sent,o.next=6,(0,u.select)(v.getIsSearchFinished);case 6:return E=o.sent,o.next=9,(0,u.select)(v.getIsSearchExpired);case 9:return k=o.sent,o.next=12,(0,u.select)(g.getTicketsList);case 12:return C=o.sent,w=C.findIndex((function(e){return e===t})),D=(0,s.default)(P+t+Date.now()),o.next=17,(0,u.put)((0,y.updateDeviceClickIdFeedback)(D));case 17:return I={search_id:P,source:T[e],context_menu:e===h.BuyEvents.ContextMenu,ticket_signature:t,proposal_productivity:null===(i=r.debugInfo)||void 0===i?void 0:i.productivity,proposal_multiplier:null===(c=r.debugInfo)||void 0===c?void 0:c.multiplier,gate_id:r.agentId,device_click_id:D,fare_baggage:r.minimumFare.baggage,fare_handbags:r.minimumFare.handbags,fare_change:r.minimumFare.changeBeforeFlight,fare_return:r.minimumFare.returnBeforeFlight},a&&(0,m.setLocalStorageJSONItem)("bookingRedirectData",{deeplink:a,payload:I}),A=S(S({},I),{},{proposal_weight:r.weight,proposal_position:n,unified_price:r.unifiedPrice,is_search_finished:E,is_search_expired:k,baggage_option:null===(b=r.worstBags)||void 0===b?void 0:b[l.BagsType.Baggage],ticket_position:w,cashback:r.cashback}),f.IS_WAYAWAY&&(0,d.sendGtmEvent)("booking_redirect--started",A),o.next=23,(0,u.call)(p.sendAnalyticsEventSaga,O,A);case 23:case"end":return o.stop()}}),_)}},178856:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.layoverInfoShowedEvent=u;var a=n(r(385882)),i=r(982175),o=r(826183),c=r(539786),s=a.default.mark(u);function u(e,t){var r,n,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={category:"ticket",label:"layover_info",action:"showed"},a.next=3,(0,i.select)(c.getSearchId);case 3:return n=a.sent,u={search_id:n,source:"ticket_info",ticket_signature:e,layover_info:t},a.next=7,(0,i.call)(o.sendAnalyticsEventSaga,r,u);case 7:case"end":return a.stop()}}),s)}},942974:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.proposalsInfoShowedEvent=l;var a=n(r(385882)),i=r(982175),o=r(826183),c=r(539786),s=r(931162),u=a.default.mark(l);function l(e,t,r){var n,l,f;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={category:"ticket",label:"proposals_info",action:"showed"},a.next=3,(0,i.select)(c.getSearchId);case 3:return l=a.sent,f={search_id:l,source:r,ticket_signature:e,baggage_state:t===s.TariffType.HasBaggage},a.next=7,(0,i.call)(o.sendAnalyticsEventSaga,n,f);case 7:case"end":return a.stop()}}),u)}},397792:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.restrictionInformerClickedEvent=u;var a=n(r(385882)),i=r(982175),o=r(826183),c=r(539786),s=a.default.mark(u);function u(e,t){var r,n,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={category:"ticket",label:"restriction_info",action:"showed"},a.next=3,(0,i.select)(c.getSearchId);case 3:return n=a.sent,u={search_id:n,source:"ticket_info",ticket_signature:e,restriction_tag:t},a.next=7,(0,i.call)(o.sendAnalyticsEventSaga,r,u);case 7:case"end":return a.stop()}}),s)}},374831:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketSharingStartedEvent=u;var a=n(r(385882)),i=r(982175),o=r(826183),c=r(539786),s=a.default.mark(u);function u(e,t){var r,n,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={category:"search",label:"ticket_sharing",action:"started"},a.next=3,(0,i.select)(c.getSearchId);case 3:return n=a.sent,u={search_id:n,ticket_signature:e,way:t.toLowerCase()},a.next=7,(0,i.call)(o.sendAnalyticsEventSaga,r,u);case 7:case"end":return a.stop()}}),s)}},219691:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.listingTicketShowedEvent=C,t.ticketInfoShowedEvent=w;var a=n(r(114558)),i=n(r(101339)),o=n(r(385882)),c=r(982175),s=n(r(796211)),u=n(r(272115)),l=r(785843),f=r(682439),d=r(826183),p=r(694630),v=r(539786),g=r(742029),h=r(185658),m=r(104185),y=r(234743),_=r(402590),b=r(759249);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=o.default.mark(C),P=o.default.mark(w),E=o.default.mark(D),k=[_.CHANGE_TICKET_SELECTED_TARIFF,b.SELECT_FARE_PROPOSAL];function C(){var e,t,r,n=arguments;return o.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e={category:"listing",label:"ticket",action:"showed"},t=["flightTerms","badPartner","fromMainAirline","fare_key"],a.t0=c.call,a.t1=u.default,a.t2=t,a.next=7,D.apply(void 0,n);case 7:return a.t3=a.sent,a.next=10,(0,a.t0)(a.t1,a.t2,a.t3);case 10:return r=a.sent,a.next=13,(0,c.call)(d.sendAnalyticsEventSaga,e,r);case 13:case"end":return a.stop()}}),O)}function w(e,t){var r,n,a,i,s,u,p,v,h=arguments;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:for(r={category:"ticket",label:"ticket_info",action:"showed"},n=h.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=h[i];return o.next=4,D.apply(void 0,a);case 4:return s=o.sent,o.next=7,(0,c.select)(g.getPopupIsOpen,"ticket");case 7:if(!o.sent){o.next=14;break}return o.next=11,(0,c.select)(g.getPopupData,"ticket");case 11:u=o.sent,p=u.source,s.source=p;case 14:return v=t.length>0,s.layover_upsell_option=v?t.reduce((function(e,t){var r;return t.boundaries?T(T({},e),{},((r={})[t.id]={delta_price:Number(t.boundaries.enableMinPrice)-s.price},r)):e}),{}):null,s.layover_upsell_available=v,k.includes(e)&&(s.source="change_fare"),l.IS_WAYAWAY&&(0,f.sendGtmEvent)("ticket_info--showed",s),o.next=21,(0,c.call)(d.sendAnalyticsEventSaga,r,s);case 21:case"end":return o.stop()}}),P)}function D(e,t,r,n,i){var u,l,f,d,g,_,b,S,O;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.select)(p.getTicketEventData,e,t,r,n,i);case 2:return u=o.sent,o.next=5,(0,c.select)(p.getProposalsByCurrentTariff,e,t,r,n);case 5:return l=o.sent,f=(0,a.default)(l,1),d=f[0],o.next=10,(0,c.select)(v.getSearchEventData);case 10:return g=o.sent,o.next=13,(0,c.select)(h.getFiltersState);case 13:return _=o.sent,b=(0,s.default)(JSON.stringify(_)),o.next=17,(0,c.select)(m.getRawProposalsByTicketExtraFares,e);case 17:return S=o.sent,O=(0,y.getUpsellOptions)(S,d),o.abrupt("return",T(T(T(T({},u),g),O),{},{filter_state_signature:b}));case 20:case"end":return o.stop()}}),E)}},495256:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.dateWithoutTimezone=void 0;var a=n(r(436452));t.dateWithoutTimezone=function(e){var t=new Date;try{t=(0,a.default)(e)&&e||e&&new Date(e)||t}catch(e){}return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}},41889:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.percentile=void 0,t.percentile=function(e,t){if(0===e.length)return 0;if(t<=0)return e[0];if(t>=1)return e[e.length-1];var r=(e.length-1)*t,n=Math.floor(r),a=n+1,i=r%1;return a>=e.length?e[n]:e[n]*(1-i)+e[a]*i}},887059:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.prototype.blockClassName=function(t){return void 0===t&&(t=this.constructor.displayName),e.__blockClassName=t.replace(/\.?([A-Z]+)/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^-/,"")},e.prototype.elementClassName=function(t){return e.__blockClassName||this.blockClassName(),e.__blockClassName+"__"+t},e}},2705:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.UNSAFE_sendTiming=t.UNSAFE_reachGoal=void 0;var a=n(r(190815)),i=r(718123);t.UNSAFE_reachGoal=function(e,t){return a.default.dispatch((0,i.reachGoal)(e,t))},t.UNSAFE_sendTiming=function(e,t){return a.default.dispatch((0,i.sendTiming)(e,t))}},676930:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setNextAdvertisement=t.resetAdvertisement=t.adPlacementShowed=t.adPlacementRequested=t.adPlacementClicked=void 0;var n=r(498441);t.adPlacementRequested=function(e,t,r){return{type:n.AD_PLACEMENT_REQUESTED,adType:e,placement:t,context:r}},t.adPlacementShowed=function(e,t,r){return{type:n.AD_PLACEMENT_SHOWED,adType:e,placement:t,context:r}},t.adPlacementClicked=function(e,t,r){return{type:n.AD_PLACEMENT_CLICKED,adType:e,placement:t,context:r}},t.setNextAdvertisement=function(e){return{type:n.SET_NEXT_ADVERTISEMENT,index:e}},t.resetAdvertisement=function(){return{type:n.RESET_ADVERTISEMENT}}},418310:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerSubmitAviaForm=t.swapAviaPlaces=t.setHistoryItem=t.resetAviaFieldFocusState=t.monthsMount=t.focusAviaField=t.closeSerpModal=t.changeShouldSearchHotels=t.changeMaxVisibleLastSearches=t.changeDateInputMonth=t.changeAviaPlace=t.changeAviaDate=t.changeActiveDateInput=void 0;var n=r(543358),a=r(779143);t.swapAviaPlaces=function(){return{type:a.SWAP_AVIA_PLACES}},t.changeAviaPlace=function(e,t){return{type:a.AVIA_PLACE_CHANGE,placeType:e,place:t}},t.setHistoryItem=function(e,t){return{type:a.SET_HISTORY_ITEM,placeType:e,item:t}},t.triggerSubmitAviaForm=function(){return{type:n.TRIGGER_SUBMIT_AVIA_FORM}},t.changeActiveDateInput=function(e,t){return{type:a.ACTIVE_DATE_INPUT_CHANGE,activeInput:e,month:t}},t.focusAviaField=function(e){return{type:a.FOCUS_AVIA_FIELD,field:e}},t.resetAviaFieldFocusState=function(){return{type:a.RESET_AVIA_FIELD_FOCUS_STATE}},t.changeDateInputMonth=function(e,t,r){return{type:a.CHANGE_DATE_INPUT_MONTH,activeInput:e,month:t,direction:r}},t.changeAviaDate=function(e,t){return{type:a.AVIA_DATE_CHANGE,dateType:e,date:t}},t.monthsMount=function(){return{type:a.AVIA_FORM_MONTHS_MOUNT}},t.changeMaxVisibleLastSearches=function(e){return{type:a.CHANGE_MAX_VISIBLE_LAST_SEARCHES,maxVisibleLastSearches:e}},t.changeShouldSearchHotels=function(e){return{type:a.CHANGE_SHOULD_SEARCH_HOTELS,shouldSearchHotels:e}},t.closeSerpModal=function(){return{type:a.CLOSE_SERP_MODAL}}},724573:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.updateAviaParams=t.aviaFormSubmit=void 0;var a=r(298716),i=n(r(702944)),o=r(405628),c=r(587273),s=r(671747),u=r(894436),l=r(61303),f=r(639662),d=r(386452),p=r(734682),v=r(779143);t.updateAviaParams=function(e){return{type:v.UPDATE_AVIA_PARAMS,params:e}},t.aviaFormSubmit=function(e){return function(t,r){var n=r(),v=n.pageHeader.tabs.avia.action,g=n.aviaParams,h=n.currentPage,m=(0,o.selectIsAutosearchEnabled)(i.default),y=(0,l.getShouldSearchHotels)(n),_=["main","content"].includes(h)&&y&&(0,c.isDesktopOrTablet)(),b=d.$currency.getState(),S=(0,s.getCurrencies)(n),T=function(e){return(0,a.convertPrice)(e,"rub",b,S).value},O={},P=["main","content","search"].includes(h)?"search_form":void 0;if(P&&e)P="search_form.explore_history",O={source:"history",value:T(e.price),currency:b};else{var E=(0,u.getCalendarPrice)(n);null!==E&&(O={source:"calendar",value:E?T(E):void 0,currency:b})}var k="user_account"===h||"content"===h&&i.default.is("serp-exp-travelRestrictions");t(m?(0,f.showAllTickets)():(0,p.startSearch)(g,{actionUrl:v,shouldSearchHotels:_,searchTriggerSource:P,expectedPriceData:O,openWithoutSPA:(0,o.startSearchWithoutSPAExperiment)(h,k)}))}}},454184:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeBodyClass=t.addBodyClass=void 0,t.addBodyClass=function(e){var t;return"string"==typeof e?document.body.classList.add(e):(t=document.body.classList).add.apply(t,e),{type:"ADD_BODY_CLASS"}},t.removeBodyClass=function(e){var t;return"string"==typeof e?document.body.classList.remove(e):(t=document.body.classList).remove.apply(t,e),{type:"REMOVE_BODY_CLASS"}}},13786:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateBrandTicketData=t.setBrandTicketShown=t.removeBrandTicket=t.brandTicketShown=t.brandTicketClick=t.addBrandTicket=void 0;var n=r(145726);t.addBrandTicket=function(e,t){return{type:n.ADD_BRAND_TICKET,ticket:e,campaign:t}},t.removeBrandTicket=function(){return{type:n.REMOVE_BRAND_TICKET}},t.brandTicketShown=function(){return{type:n.BRAND_TICKET_SHOWN}},t.setBrandTicketShown=function(){return{type:n.SET_BRAND_TICKET_SHOWN}},t.brandTicketClick=function(){return{type:n.BRAND_TICKET_CLICK}},t.updateBrandTicketData=function(e){return{type:n.UPDATE_BRAND_TICKET_DATA,data:e}}},966326:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateBrandTicketCampaigns=t.resetBrandTicketCampaigns=void 0;var n=r(957608);t.updateBrandTicketCampaigns=function(e){return{type:n.UPDATE_BRAND_TICKET_CAMPAIGNS,campaigns:e}},t.resetBrandTicketCampaigns=function(){return{type:n.RESET_BRAND_TICKET_CAMPAIGNS}}},132032:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateOneWayPrices=t.resetMonthCalendarPrices=t.priceSwitcherCheck=t.fetchYearPrices=t.fetchMonthPrices=void 0;var n=r(302407);t.fetchYearPrices=function(){return{type:n.FETCH_YEAR_PRICES}},t.fetchMonthPrices=function(e,t){return{type:n.FETCH_MONTH_PRICES,dateType:e,fromMonth:t}},t.resetMonthCalendarPrices=function(e){return{type:n.RESET_MONTH_CALENDAR_PRICES,dateType:e}},t.updateOneWayPrices=function(e){return{type:n.UPDATE_ONE_WAY_PRICES,checked:e}},t.priceSwitcherCheck=function(e,t,r,a){return{type:n.PRICE_SWITCHER_CHECK,checked:e,activeInput:t,tab:r,month:a}}},810767:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.cashbackInformerInView=void 0;var a=n(r(101339)),i=r(125634);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.cashbackInformerInView=function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:i.CASHBACK_INFORMER_IN_VIEW},e)}},586391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCheapestStops=t.resetCheapestStops=void 0;var n=r(545619);t.updateCheapestStops=function(e){return{type:n.UPDATE_CHEAPEST_STOPS,cheapestStops:e}},t.resetCheapestStops=function(){return{type:n.RESET_CHEAPEST_STOPS}}},64084:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCheapestTicket=void 0;var n=r(802797);t.updateCheapestTicket=function(e){return{type:n.UPDATE_CHEAPEST_TICKET,ticket:e}}},222098:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrencies=void 0;var n=r(204212);t.updateCurrencies=function(e){return{type:n.UPDATE_CURRENCIES,currencies:e}}},999361:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentPage=t.parsePathnameAndUpdateCurrentPage=t.parsePathname=void 0;var a=n(r(385882)),i=n(r(971410)),o=r(721193),c=r(520072),s=r(742029),u=r(359759),l=r(937725),f=function(){var e=window.location.pathname;return"/"===e||e.startsWith("/map")||e.startsWith("/parks")?"main":e.startsWith("/search")?"search":e.startsWith("/my")?"user_account":e.startsWith("/guides")?"guides":e.startsWith("/hotels")?"hotels":"content"};t.parsePathname=f;var d=function(e){return{type:l.UPDATE_CURRENT_PAGE,page:e}};t.updateCurrentPage=d,t.parsePathnameAndUpdateCurrentPage=function(){return function(){var e=(0,i.default)(a.default.mark((function e(t,r){var n,i,l,p,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r(),l=f(),p=(0,s.getPopupIsOpen)(i,u.SERP_IN_MODAL),v=(0,o.parse)(window.location.search),!(null!=(n=null==v?void 0:v.with_request)&&n)&&p&&t((0,c.closePopup)(u.SERP_IN_MODAL)),e.next=8,t(d(l));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}},27908:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDebugSetting=t.resetDebugSearchSettings=t.clearDebugSearchSettings=void 0;var n=r(400587);t.setDebugSetting=function(e,t){return{type:n.SET_DEBUG_SETTING,name:e,value:t}},t.resetDebugSearchSettings=function(){return{type:n.RESET_DEBUG_SEARCH_SETTINGS}},t.clearDebugSearchSettings=function(){return{type:n.CLEAR_DEBUG_SEARCH_SETTINGS}}},926938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDeviceSearchId=t.resetDeviceSearchId=void 0;var n=r(169822);t.updateDeviceSearchId=function(e){return{type:n.UPDATE_DEVICE_SEARCH_ID,deviceSearchId:e}},t.resetDeviceSearchId=function(){return{type:n.RESET_DEVICE_SEARCH_ID}}},465081:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.tripClassInformerShow=t.onChangeTripClass=void 0;var a=n(r(101339)),i=r(718123),o=r(734682),c=r(430162);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.tripClassInformerShow=function(){return function(e){e((0,i.reachGoal)("TRIP_CLASSES_INFORMER_IS_SHOWN"))}},t.onChangeTripClass=function(e){return function(t,r){var n=r(),a=(0,c.currentSearchFormParamsSelector)(n);a&&t((0,o.startSearch)(u(u({},a),{},{tripClass:e}),{searchTriggerSource:"trip_class_informer"}))}}},61875:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setError=t.resetError=void 0;var n=r(224049);t.setError=function(e,t){return{type:n.SET_ERROR,searchClientError:e,explosionError:t}},t.resetError=function(){return{type:n.RESET_ERROR}}},19678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setErrorDuringSearch=void 0;var n=r(786275);t.setErrorDuringSearch=function(){return{type:n.SET_ERROR_DURING_SEARCH}}},954854:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateExpectedPrice=t.resetExpectedPrice=void 0;var n=r(299261);t.updateExpectedPrice=function(e){return{type:n.UPDATE_EXPECTED_PRICE,payload:e}},t.resetExpectedPrice=function(){return{type:n.RESET_EXPECTED_PRICE}}},841511:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.suspendSubscriptions=t.subscriptionsPopupSubmit=t.subscriptionsPopupClose=t.showSubscriptionsError=t.showPriceAlertSubscription=t.priceAlertSubscriptionDeleted=t.priceAlertSubscriptionCreated=t.hideSubscriptionsError=t.followThePrice=void 0;var n=r(767747);t.followThePrice=function(){return{type:n.FOLLOW_THE_PRICE}},t.showPriceAlertSubscription=function(e){return{type:n.SHOW_PRICE_ALERT_SUBSCRIPTION,payload:e}},t.priceAlertSubscriptionCreated=function(e){return{type:n.PRICE_ALERT_SUBSCRIPTION_CREATED,payload:e}},t.priceAlertSubscriptionDeleted=function(){return{type:n.PRICE_ALERT_SUBSCRIPTION_DELETED}},t.suspendSubscriptions=function(e){return{type:n.SUSPEND_SUBSCRIPTION,trigger:e}},t.subscriptionsPopupSubmit=function(e){return{type:n.SUBSCRIPTIONS_POPUP_SUBMIT,payload:e}},t.subscriptionsPopupClose=function(){return{type:n.SUBSCRIPTIONS_POPUP_CLOSE}},t.showSubscriptionsError=function(e){return{type:n.SHOW_SUBSCRIPTIONS_ERROR,error:e}},t.hideSubscriptionsError=function(){return{type:n.HIDE_SUBSCRIPTIONS_ERROR}}},142464:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fBPixelViewContent=t.fBPixelStartSearch=t.fBPixelInitiateCheckout=void 0;var n=r(238841);t.fBPixelStartSearch=function(){return{type:n.FB_PIXEL_START_SEARCH}},t.fBPixelViewContent=function(e){return{type:n.FB_PIXEL_VIEW_CONTENT,ticketSign:e}},t.fBPixelInitiateCheckout=function(e,t){return{type:n.FB_PIXEL_INITIATE_CHECKOUT,ticketSign:e,proposalId:t}}},20069:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showFiltersTooltip=t.hideFiltersTooltip=void 0;var n=r(983675);t.showFiltersTooltip=function(e){return{type:n.SHOW_FILTERS_TOOLTIP,payload:{filter:e}}},t.hideFiltersTooltip=function(){return{type:n.HIDE_FILTERS_TOOLTIP}}},445586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstTicketArrived=void 0;var n=r(46936);t.firstTicketArrived=function(e){return{type:n.FIRST_TICKET_ARRIVED,timestamp:e}}},667929:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateGateFeedbackData=t.updateDeviceClickIdFeedback=t.submitGateFeedback=t.startEventFeedback=t.sendGateFeedback=t.answeredEventFeedback=void 0;var n=r(817431);t.updateGateFeedbackData=function(e){return{type:n.UPDATE_GATE_FEEDBACK_DATA,data:e}},t.submitGateFeedback=function(){return{type:n.SUBMIT_GATE_FEEDBACK}},t.sendGateFeedback=function(){return{type:n.SEND_GATE_FEEDBACK}},t.startEventFeedback=function(){return{type:n.STARTED_EVENT_FEEDBACK}},t.answeredEventFeedback=function(e){return{type:n.ANSWERED_EVENT_FEEDBACK,answerInfo:e}},t.updateDeviceClickIdFeedback=function(e){return{type:n.UPDATE_DEVICE_CLICK_ID_FEEDBACK,deviceClickId:e}}},663894:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAgents=void 0;var n=r(103873);t.addAgents=function(e){return{type:n.ADD_AGENTS,agents:e}}},220270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGatesMeta=void 0;var n=r(778007);t.addGatesMeta=function(e){return{type:n.ADD_GATES_META,meta:e}}},837182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGeoIpCountry=void 0;var n=r(366571);t.setGeoIpCountry=function(e){return{type:n.GEO_IP_COUNTRY_SET,geoIpCountry:e}}},123813:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showHighlightedTicket=t.showAllTicketsHighlightedTicket=t.notFoundHighlightedTicket=t.foundHighlightedTicket=t.closeHighlightedTicket=void 0;var n=r(952801);t.showHighlightedTicket=function(){return{type:n.SHOW_HIGHLIGHTED_TICKET}},t.closeHighlightedTicket=function(){return{type:n.CLOSE_HIGHLIGHTED_TICKET}},t.notFoundHighlightedTicket=function(){return{type:n.NOT_FOUND_HIGHLIGHTED_TICKET}},t.foundHighlightedTicket=function(e){return{type:n.FOUND_HIGHLIGHTED_TICKET,priceDiff:e}},t.showAllTicketsHighlightedTicket=function(){return{type:n.SHOW_ALL_TICKETS_HIGHLIGHTED_TICKET}}},658296:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeHighlightedTicketParams=t.removeHighlightedTicketOverlay=t.addHighlightedTicketParams=void 0;var n=r(223969);t.addHighlightedTicketParams=function(e){return{type:n.ADD_HIGHLIGHTED_TICKET_PARAMS,params:e}},t.removeHighlightedTicketParams=function(){return{type:n.REMOVE_HIGHLIGHTED_TICKET_PARAMS}},t.removeHighlightedTicketOverlay=function(){return{type:n.REMOVE_HIGHLIGHTED_TICKET_OVERLAY}}},103306:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateHotelParams=void 0;var n=r(716792);t.updateHotelParams=function(e){return{type:n.UPDATE_HOTEL_PARAMS,params:e}}},556054:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.loaded=t.changeLanguage=void 0;var a=n(r(275347)),i=n(r(382697)),o=r(688833);t.changeLanguage=function(e){return function(){e!==a.default.language&&(i.default.set("language",e,{path:"/"}),window.location.reload())}},t.loaded=function(){return function(){(0,o.setCurrentLocale)()}}},971437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMarker=void 0;var n=r(257126);t.updateMarker=function(e){return{type:n.UPDATE_MARKER,marker:e}}},718123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTiming=t.reachGoal=void 0;var n=r(526946);t.reachGoal=function(e,t){return{type:n.REACH_GOAL,event:e,data:t}},t.sendTiming=function(e,t){return{type:n.SEND_TIMING,event:e,data:t}}},417201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMultiwayParams=t.multiwayFormSubmit=void 0;var n=r(405628),a=r(828451),i=r(379803),o=r(734682),c=r(724573);t.updateMultiwayParams=function(e){return{type:i.UPDATE_MULTIWAY_PARAMS,params:e}},t.multiwayFormSubmit=function(){return function(e,t){var r=t(),i=r.pageHeader.tabs.multiway.action,s=r.multiwayParams,u=r.currentPage,l=["main","content"].includes(u)?"search_form":void 0;(0,a.isOpenJaw)(s.segments)||e((0,c.updateAviaParams)({segments:s.segments})),e((0,o.startSearch)(s,{actionUrl:i,searchTriggerSource:l,openWithoutSPA:(0,n.startSearchWithoutSPAExperiment)(u)}))}}},977485:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTabParams=t.updatePageHeaderReducedState=t.updatePageHeader=t.updateActiveForm=t.expandPageHeader=t.collapsePageHeader=void 0;var n=r(513125);t.updatePageHeader=function(e){return{type:n.UPDATE_PAGE_HEADER,data:e}},t.updateTabParams=function(e,t){return{type:n.UPDATE_TAB_PARAMS,tab:e,params:t}},t.collapsePageHeader=function(){return{type:n.COLLAPSE_PAGE_HEADER}},t.expandPageHeader=function(){return{type:n.EXPAND_PAGE_HEADER}},t.updatePageHeaderReducedState=function(){return{type:n.UPDATE_PAGE_HEADER_REDUCED_STATE}},t.updateActiveForm=function(e){return{type:n.UPDATE_ACTIVE_FORM,activeForm:e}}},520072:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePopupData=t.openPopup=t.closePopup=t.clearAllPopups=void 0;var n=r(637745);t.openPopup=function(e,t,r){return{type:n.OPEN_POPUP,popupType:e,data:t,payload:r}},t.closePopup=function(e,t){return{type:n.CLOSE_POPUP,popupType:e,payload:t}},t.updatePopupData=function(e,t){return{type:n.UPDATE_POPUP_DATA,popupType:e,data:t}},t.clearAllPopups=function(){return{type:n.CLEAR_ALL_POPUPS}}},134215:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMatrixPrices=t.updateMatrixOnlyDirect=t.updateGraphTripDuration=t.updateGraphPrices=t.resetPrediction=void 0;var n=r(918249);t.updateGraphPrices=function(e){return{type:n.UPDATE_GRAPH_PRICES,prices:e}},t.updateMatrixPrices=function(e){return{type:n.UPDATE_MATRIX_PRICES,prices:e}},t.updateGraphTripDuration=function(e){return{type:n.UPDATE_GRAPH_TRIP_DURATION,tripDuration:e}},t.updateMatrixOnlyDirect=function(e){return{type:n.UPDATE_MATRIX_ONLY_DIRECT,isOnlyDirect:e}},t.resetPrediction=function(){return{type:n.RESET_PREDICTION}}},373662:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeRequiredTicketSign=t.addRequiredTicketSign=void 0;var n=r(821277);t.addRequiredTicketSign=function(e){return{type:n.REQUIRED_TICKET_SIGN_ADD,sign:e}},t.removeRequiredTicketSign=function(e){return{type:n.REQUIRED_TICKET_SIGN_REMOVE,sign:e}}},799613:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSearchExpiringDate=void 0;var n=r(26690);t.setSearchExpiringDate=function(e){return{type:n.SET_SEARCH_EXPIRING_DATE,date:e}}},428965:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetSearchId=void 0;var n=r(159853);t.resetSearchId=function(){return{type:n.RESET_SEARCH_ID}}},164231:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchMeta=void 0;var n=r(486362);t.updateSearchMeta=function(e){return{type:n.UPDATE_SEARCH_META,meta:e}}},73131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchParamsSegments=t.updateSearchParams=void 0;var n=r(294317);t.updateSearchParams=function(e){return{type:n.UPDATE_SEARCH_PARAMS,data:e}},t.updateSearchParamsSegments=function(e){return{type:n.UPDATE_SEARCH_PARAMS_SEGMENTS,segments:e}}},683253:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.directScheduleChunksLoaded=t.collectSearchResults=t.chunksLoaded=t.abortSearch=void 0;var n=r(165652);t.collectSearchResults=function(){return{type:n.COLLECT_SEARCH_RESULTS}},t.abortSearch=function(){return{type:n.ABORT_SEARCH}},t.chunksLoaded=function(e){return{type:n.CHUNKS_LOADED,chunks:e}},t.directScheduleChunksLoaded=function(e){return{type:n.DIRECT_SCHEDULE_CHUNKS_LOADED,chunks:e}}},37423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchResultsPage=t.resetSearchResultsPage=void 0;var n=r(829181);t.updateSearchResultsPage=function(e){return{type:n.UPDATE_SEARCH_RESULTS_PAGE,page:e}},t.resetSearchResultsPage=function(){return{type:n.RESET_SEARCH_RESULTS_PAGE}}},627275:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchResultsRequestStatus=t.resetSearchResultsRequestStatus=void 0;var n=r(485432);t.updateSearchResultsRequestStatus=function(e,t){return{type:n.UPDATE_SEARCH_RESULTS_REQUEST_STATUS,status:e,lastRequestTriggerSource:t}},t.resetSearchResultsRequestStatus=function(){return{type:n.RESET_SEARCH_RESULTS_REQUEST_STATUS}}},260159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchStatus=void 0;var n=r(990647);t.updateSearchStatus=function(e){return{type:n.UPDATE_SEARCH_STATUS,status:e}}},760542:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSearchTriggerSource=t.resetSearchTriggerSource=void 0;var n=r(126154);t.updateSearchTriggerSource=function(e){return{type:n.UPDATE_SEARCH_TRIGGER_SOURCE,source:e}},t.resetSearchTriggerSource=function(){return{type:n.RESET_SEARCH_TRIGGER_SOURCE}}},753222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMoreTicketsClick=void 0;var n=r(803936);t.showMoreTicketsClick=function(){return{type:n.SHOW_MORE_TICKETS_CLICK}}},725425:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.openHotelsWindow=void 0;var a=n(r(101339)),i=n(r(275347)),o=r(386452),c=n(r(878835)),s=r(915071),u=n(r(201634)),l=r(215196),f=r(565569),d=r(863974),p=r(785843);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=d.userService.$premiumHotelPartnerDeeplinks,m=d.userService.$hotelPartner,y=d.userService.$hotelSearchFlag,_={AS:{utm:"avs_form_prod",utmSource:"aviasales"},WA:{utm:"wa_form_prod",utmSource:"wayaway"},JR:{utm:"jr_form_prod",utmSource:"jetradar"}};t.openHotelsWindow=function(e){return function(t,r){var n=r(),a=i.default.language,d="";switch(n.currentPage){case"main":d="homepage";break;case"search":d="search";break;default:d="content"}(0,c.default)(1e3,(function(){try{var t,r,n=h.getState(),i=m.getState(),c=y.getState(),v=null==n?void 0:n[i],b=null!=(t=null==v?void 0:v.query)?t:{},S=_[p.BRAND];window.location.assign((0,s.createBookingUrlFromSearchParams)({searchParams:e,params:g({currency:o.$currency.getState(),utmCampaign:"checkbox",utmMedium:d,language:a},S),special:g({flags:JSON.stringify(c?{ab:c}:{})},b),urlHost:null!=(r=null==v?void 0:v.url)?r:"https://hotels."+f.API_HOST+"/hotels"})),u.default.triggerEvent("avia_form","searchHotels","openPopup")}catch(e){l.ErrorsTracker.warning("Can't open hotels search")}}))}}},397402:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.suggestFuzzyPlace=t.pageLoadStartSearch=void 0;var a=n(r(114558)),i=n(r(385882)),o=n(r(101339)),c=n(r(971410)),s=r(543358),u=n(r(55567)),l=r(658296),f=r(149739),d=n(r(825499)),p=r(734682);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.pageLoadStartSearch=function(e){return function(){var t=(0,c.default)(i.default.mark((function t(r,n){var a,o,c,s,u,f;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n(),o=a.pageHeader.activeForm,c=a[o+"Params"],s=a.pageHeader.tabs[o].action,t.next=6,h(c.segments);case 6:u=t.sent,f=d.default.parse(e.t),r((0,p.startSearch)(g(g({},c),{},{segments:u}),g({actionUrl:s},y(e,f)))),f&&r((0,l.addHighlightedTicketParams)(f));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()};var h=function(){var e=(0,c.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null==t?void 0:t.map(function(){var e=(0,c.default)(i.default.mark((function e(t){var r,n,o,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([m(t[s.PlaceField.Origin]),m(t[s.PlaceField.Destination])]);case 2:return r=e.sent,n=(0,a.default)(r,2),o=n[0],c=n[1],e.abrupt("return",g(g({},t),{},{origin:o,destination:c}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(null!=r?r:[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,c.default)(i.default.mark((function e(t){var r,n,o,c,s,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!(0,f.isEmptyPlace)(t)){e.next=13;break}return r=new u.default({fetchCountries:!1,stopCancellation:!0}),n=t.name,e.next=7,r.performRequest(n);case 7:if(o=e.sent,c=(0,a.default)(o,2),s=c[0],l=c[1],"ok"!==s){e.next=13;break}return e.abrupt("return",u.default.getSuggestion(l,n));case 13:return e.abrupt("return",g(g({},t),{},{iata:t.iata.toUpperCase()}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.suggestFuzzyPlace=m;var y=function(e,t){return{searchTriggerSource:b(e,t),expectedPriceData:S(e,t),deviceSearchId:_(e)}},_=function(e){return e.deviceSearchId?e.deviceSearchId:null},b=function(e,t){return e.requestSource?e.requestSource:t?"ticket_url":void 0},S=function(e,t){var r,n;return t?{currency:"rub",value:+t.price,source:"ticket"}:{currency:null!=(r=e.expectedPriceCurrency)?r:void 0,value:e.expectedPriceValue?parseInt(e.expectedPriceValue,10):void 0,source:null!=(n=e.expectedPriceSource)?n:void 0}}},777162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startExternalSearch=void 0;var n=r(800373),a=r(725425);t.startExternalSearch=function(e,t,r){return function(i){r?((0,n.openInNewTab)(t,/http(|s)/.test(t)),i((0,a.openHotelsWindow)(e))):window.location.assign(t)}}},734682:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.startSearchFromStandaloneNodes=t.startSearch=t.startAviaSearch=t.restartSearch=t.clearSearch=void 0;var a=n(r(101339)),i=r(603117),o=r(721193),c=n(r(299657)),s=r(39569),u=n(r(702944)),l=r(582750),f=r(141568),d=r(405628),p=r(215196),v=r(639662),g=r(187068),h=r(877321),m=r(800373),y=r(425944),_=r(159538),b=r(430162),S=r(777162),T=r(626698),O=r(260159),P=r(724573),E=r(417201),k=r(760542),C=r(954854),w=r(683253),D=r(926938),I=r(424319);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=r(204333),R="/search",M=function(e){return-1===e.indexOf("?")?"?":"&"},F=function(e){return{type:f.START_SEARCH,params:e}};t.startAviaSearch=F;var N=function(e,t){return void 0===t&&(t={}),function(r,n){var a,i,f=t,b=f.actionUrl,O=void 0===b?R:b,P=f.shouldSearchHotels,E=void 0!==P&&P,w=f.searchTriggerSource,I=f.expectedPriceData,A=f.deviceSearchId,N=f.openWithoutSPA,L=void 0!==N&&N,B=n(),U=(0,g.getExploreFiltersState)(B),H=(0,d.selectIsAutosearchEnabled)(u.default),W=(0,y.noHotelPartnerCheckbox)(null===(a=e.segments)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.destination),G=E&&!W;if((0,m.isValidParams)(e)){G&&(0,m.setSearchHotelsCookies)(),r(F(e));var K=j(e);(0,m.setSearchCookies)(K,e);var V=O===R&&H?"":O;if(H||(V+=K),!H&&!(0,c.default)(U)){var Y=(0,h.getSearchUrlWithExploreFilters)(V,U);Y&&(V=Y)}var q=(0,m.buildUtmQueryString)(location.search);if(q&&(V+="?"+q),w&&(V+=M(V)+"request_source="+w),A&&(V+=M(V)+"device_search_id="+A),I){var z=I.value,X=I.currency,Q=I.source;z&&(V+=M(V)+"expected_price_value="+z),X&&(V+=M(V)+"expected_price_currency="+X),Q&&(V+=M(V)+"expected_price_source="+Q)}if(e.paymentMethod&&e.paymentMethod!==s.PaymentMethod.All&&(V+=M(V)+"payment_method="+e.paymentMethod),H){var $=(0,o.parse)(V),Z=(0,o.parse)(window.location.search);V="/?"+(0,o.stringify)(x(x(x({},$),Z),{},{params:K.replace("/",""),with_request:!0}))}else{var J=(0,o.parseUrl)(V),ee=(0,o.parse)(window.location.search);V=(0,o.stringifyUrl)({url:J.url,query:x(x({},J.query),ee)})}var te=[],re=[];if(e.segments.forEach((function(e,t){var r,n;(null===(r=e.origin)||void 0===r?void 0:r.type)===s.PlaceType.Airport&&te.push(t),(null===(n=e.destination)||void 0===n?void 0:n.type)===s.PlaceType.Airport&&re.push(t)})),te.length&&(V+=M(V)+"origin_airports="+te.join(",")),re.length&&(V+=M(V)+"destination_airports="+re.join(",")),O!==R&&!H)return r((0,S.startExternalSearch)(e,V,G));if(G)return r((0,T.startSearchWithHotels)(e,V));if(r(w?(0,k.updateSearchTriggerSource)(w):(0,k.resetSearchTriggerSource)()),r(I?(0,C.updateExpectedPrice)(I):(0,C.resetExpectedPrice)()),r(A?(0,D.updateDeviceSearchId)(A):(0,D.updateDeviceSearchId)((0,l.genUUID)())),L&&!H)return(0,m.openInCurrentTab)(V);H&&r((0,v.setFullSearchUrl)(V)),r((0,_.startSPASearch)(e,V))}else p.ErrorsTracker.info("Bad search params. Can't start search",e)}};t.startSearch=N,t.startSearchFromStandaloneNodes=function(e){return function(t,r){var n=r(),a=n.currentPage,i=n.pageHeader.tabs.avia.action,o="content"===a&&u.default.is("serp-exp-travelRestrictions");t(N(e,{actionUrl:i,openWithoutSPA:o}))}},t.restartSearch=function(e){return function(t,r){var n=r();if((0,I.getDeviceSearchId)(n)){var a=(0,b.currentSearchFormParamsSelector)(n);a&&(t(L()),t(N(a,{searchTriggerSource:e})))}}};var L=function(){return function(e){e((0,w.abortSearch)()),e((0,i.batchActions)([(0,D.resetDeviceSearchId)(),(0,O.updateSearchStatus)(s.SearchStatus.Finished),(0,P.updateAviaParams)({startSearch:!1}),(0,E.updateMultiwayParams)({startSearch:!1})]))}};t.clearSearch=L},800373:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.setSearchHotelsCookies=t.setSearchCookies=t.openInNewTab=t.openInCurrentTab=t.isValidSegment=t.isValidParams=t.getOriginUrl=t.formatSegments=t.buildUtmQueryString=void 0;var a=n(r(101339)),i=r(543358),o=r(149739),c=r(813836),s=n(r(474606)),u=r(215196),l=r(255285);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e,t){if(void 0===t&&(t=!1),!e)return!1;var r=e.date,n=e.origin,a=e.destination;return!(!(r&&n&&a)||(0,o.isEmptyPlace)(n)||(0,o.isEmptyPlace)(a)||!(!t||n.name&&a.name))};t.isValidSegment=p,t.isValidParams=function(e,t){return void 0===t&&(t=!1),!(!e.segments||!Array.isArray(e.segments))&&e.segments.every((function(e){return p(e,t)}))},t.setSearchCookies=function(e,t){try{var r=t.segments[0].date,n=new Date(new Date(r).setHours(23,59)),a=new Date((new Date).setMonth((new Date).getMonth()+3));s.default.set("search_init_stamp",Date.now(),{domain:(0,c.getCookieDomain)(),path:"/",expires:600}),s.default.set("last_search",e.replace("/",""),{domain:(0,c.getCookieDomain)(),path:"/",expires:n>a?a:n})}catch(e){u.ErrorsTracker.warning("Can't set last_search cookie")}},t.setSearchHotelsCookies=function(){s.default.set(l.SEARCH_HOTELS_COOKIE,!0,{path:"/",expires:86400})},t.openInNewTab=function(e,t){void 0===t&&(t=!1);var r=document.createElement("a");r.target="_blank";var n=t?e:""+v()+e;r.href=n,r.id="openinnewtablink",r.rel="noopener noreferrer",document.body.appendChild(r),r.click()},t.openInCurrentTab=function(e){var t=/http(|s)/.test(e)?e:""+v()+e;window.location.href=t};var v=function(){if(window.location.origin)return window.location.origin;var e=window.location.port?":"+window.location.port:"";return window.location.protocol+"//"+window.location.hostname+e};t.getOriginUrl=v,t.buildUtmQueryString=function(e){var t=e.match(/utm_(\w+)(=[^&]*)?/g);return t?t.join("&"):""},t.formatSegments=function(e){return e.map((function(e){var t=e.origin,r=e.destination,n=e.date;return d(d(d({},g(i.PlaceField.Origin,t)),g(i.PlaceField.Destination,r)),{},{date:(0,o.formatSegmentDateToString)(n)})}))};var g=function(e,t){var r;return(r={})[e]=t.cityIata||t.iata,r["original_"+e]=t.iata,r[e+"_country"]=t.countryIata,r[e+"_type"]=t.type,r}},626698:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startSearchWithHotels=void 0;var n=r(800373),a=r(725425);t.startSearchWithHotels=function(e,t){return function(r,i){i().currentPage,(0,n.openInNewTab)(t,/http(|s)/.test(t)),r((0,a.openHotelsWindow)(e))}}},159538:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.updateHistoryOnStartSearch=t.startSPASearch=void 0;var a=n(r(101339)),i=r(721193),o=n(r(275347)),c=r(603117),s=n(r(531760)),u=r(386452),l=r(359759),f=n(r(129304)),d=r(52367),p=n(r(878835)),v=n(r(702944)),g=r(405628),h=r(423343),m=r(223002),y=r(651828),_=r(452130),b=r(828451),S=r(977485),T=r(724573),O=r(417201),P=r(999361),E=r(73131),k=r(676930),C=r(134215),w=r(586391),D=r(61875),I=r(658296),A=r(683253),x=r(13786),j=r(800373),R=r(428965),M=r(520072),F=r(37423),N=r(966326),L=r(627275),B=r(142464);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.startSPASearch=function(e,t){return function(r,n){var a=n(),s=(0,i.parse)(window.location.search),d=(0,m.getActiveForm)(a),U=(0,h.getIsMultiway)(a),G=(0,g.selectIsAutosearchEnabled)(v.default);G||(window.isMainPage=!1,window.isSearchPage=!0,(0,p.default)(300,(function(){return window.scroll({top:0,left:0,behavior:"smooth"})}))),G&&!U||W(t);var K=(0,b.isOpenJaw)(null==e?void 0:e.segments);"multiway"!==d&&K?r((0,S.updateActiveForm)("multiway")):"avia"===d||K||r((0,S.updateActiveForm)("avia")),r(K?(0,O.updateMultiwayParams)(e):(0,T.updateAviaParams)(e));var V=H(H({},e),{},{segments:(0,j.formatSegments)(e.segments),trip_class:e.tripClass,tripType:f.default.getTripType(e),locale:o.default.language,host:"search.aviasales.ru",currency:u.$currency.getState(),market:(0,_.getMarket)(),formParams:e}),Y=[(0,C.resetPrediction)(),(0,w.resetCheapestStops)(),(0,k.resetAdvertisement)(),(0,x.removeBrandTicket)(),(0,D.resetError)(),(0,M.clearAllPopups)(),(0,y.resetFiltersBoundaries)(),(0,y.resetFiltersState)(),(0,L.resetSearchResultsRequestStatus)(),(0,N.resetBrandTicketCampaigns)()];a.searchId&&(Y.push((0,I.removeHighlightedTicketParams)()),Y.push((0,R.resetSearchId)())),G||Y.push((0,P.updateCurrentPage)("search")),r((0,c.batchActions)(Y)),r((0,E.updateSearchParams)({params:V})),G&&(U||null!=s&&s.with_request)&&r((0,M.openPopup)(l.SERP_IN_MODAL)),r((0,A.collectSearchResults)()),r((0,B.fBPixelStartSearch)()),r((0,F.resetSearchResultsPage)())}};var W=function(e){var t=(0,g.selectIsAutosearchEnabled)(v.default),r=window.location.pathname===e;if(t){var n=(0,i.parse)(window.location.search.slice(1)),a=(0,i.parse)(e.replace("/",""));r=(0,s.default)(n,a)}var o=r?"replace":"push";d.historyAPI[o](e,{type:"search"})};t.updateHistoryOnStartSearch=W},150834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribeDirectionById=t.unsubscribeCurrentDirection=t.setDirectionSubscriptionsFetchStatus=t.setDirectionSubscriptionsCreateStatus=t.removeDirectionSubscription=t.createCurrentDirectionSubscription=t.clearDirectionSubscriptions=t.addDirectionSubscriptions=void 0;var n=r(653846);t.createCurrentDirectionSubscription=function(e){return{type:n.CREATE_CURRRENT_DIRECTION_SUBSCRIPTION,payload:e}},t.unsubscribeCurrentDirection=function(e){return{type:n.UNSUBSCRIBE_CURRENT_DIRECTION,triggerSource:e}},t.unsubscribeDirectionById=function(e,t){return{type:n.UNSUBSCRIBE_DIRECTION_BY_ID,subscriptionId:e,triggerSource:t}},t.addDirectionSubscriptions=function(e){return{type:n.DIRECTION_SUBSCRIPTIONS_ADD,directionSubscriptions:e}},t.removeDirectionSubscription=function(e){return{type:n.DIRECTION_SUBSCRIPTIONS_REMOVE,subscriptionId:e}},t.clearDirectionSubscriptions=function(){return{type:n.DIRECTION_SUBSCRIPTIONS_CLEAR}},t.setDirectionSubscriptionsFetchStatus=function(e,t){return{type:n.DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS,fetchStatus:e,message:t}},t.setDirectionSubscriptionsCreateStatus=function(e,t,r){return{type:n.DIRECTION_SUBSCRIPTIONS_SET_CREATE_STATUS,createStatus:e,message:t,id:r}}},617853:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribeFlexibleById=t.setFlexibleSubscriptionsFetchStatus=t.setFlexibleSubscriptionsCreateStatus=t.removeFlexibleSubscription=t.createCurrentFlexibleSubscription=t.clearFlexibleSubscriptions=t.addFlexibleSubscriptions=void 0;var n=r(736778);t.createCurrentFlexibleSubscription=function(e){return{type:n.CREATE_CURRRENT_FLEXIBLE_SUBSCRIPTION,payload:e}},t.unsubscribeFlexibleById=function(e,t){return{type:n.UNSUBSCRIBE_FLEXIBLE_BY_ID,subscriptionId:e,triggerSource:t}},t.addFlexibleSubscriptions=function(e){return{type:n.FLEXIBLE_SUBSCRIPTIONS_ADD,flexibleSubscriptions:e}},t.removeFlexibleSubscription=function(e){return{type:n.FLEXIBLE_SUBSCRIPTIONS_REMOVE,subscriptionId:e}},t.clearFlexibleSubscriptions=function(){return{type:n.FLEXIBLE_SUBSCRIPTIONS_CLEAR}},t.setFlexibleSubscriptionsFetchStatus=function(e,t){return{type:n.FLEXIBLE_SUBSCRIPTIONS_SET_FETCH_STATUS,fetchStatus:e,message:t}},t.setFlexibleSubscriptionsCreateStatus=function(e,t,r){return{type:n.FLEXIBLE_SUBSCRIPTIONS_SET_CREATE_STATUS,createStatus:e,message:t,id:r}}},336451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAllSubscriptions=t.actualizeSubscriber=void 0;var n=r(122456);t.fetchAllSubscriptions=function(){return{type:n.FETCH_ALL_SUBSCRIPTIONS}},t.actualizeSubscriber=function(){return{type:n.SUBSCRIPTIONS_ACTUALIZE_SUBSCRIBER}}},108926:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsubscribeTicketByTicketSign=t.setTicketSubscriptionsFetchStatus=t.setTicketSubscriptionsCreateStatus=t.setTicketHasSubscription=t.removeTicketSubscription=t.createTicketSubscription=t.clearTicketSubscription=t.addTicketSubscription=void 0;var n=r(58892);t.createTicketSubscription=function(e,t){return{type:n.TICKET_SUBSCRIPTIONS_CREATE,ticketSign:e,triggerType:t}},t.addTicketSubscription=function(e){return{type:n.TICKET_SUBSCRIPTIONS_ADD,ticketSubscriptions:e}},t.clearTicketSubscription=function(){return{type:n.TICKET_SUBSCRIPTIONS_CLEAR}},t.unsubscribeTicketByTicketSign=function(e,t){return{type:n.TICKET_SUBSCRIPTIONS_UNSUBSCRIBE_BY_TICKET_SIGN,ticketSign:e,triggerType:t}},t.removeTicketSubscription=function(e){return{type:n.TICKET_SUBSCRIPTIONS_REMOVE,subscriptionId:e}},t.setTicketSubscriptionsFetchStatus=function(e,t){return{type:n.TICKET_SUBSCRIPTIONS_SET_FETCH_STATUS,fetchStatus:e,message:t}},t.setTicketSubscriptionsCreateStatus=function(e,t){return{type:n.TICKET_SUBSCRIPTIONS_SET_CREATE_STATUS,createStatus:e,message:t}},t.setTicketHasSubscription=function(e,t){return{type:n.SET_TICKET_HAS_SUBSCRIPTION,ticketSign:e,value:t}}},387438:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerInactiveUser=t.spawnSuspendHandlers=t.abortSuspendHandlers=void 0;var n=r(367617);t.spawnSuspendHandlers=function(){return{type:n.SPAWN_SUSPEND_HANDLERS}},t.abortSuspendHandlers=function(){return{type:n.ABORT_SUSPEND_HANDLERS}},t.triggerInactiveUser=function(){return{type:n.TRIGGER_INACTIVE_USER}}},553104:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketWarningTagTooltipShown=t.ticketTransferTagClick=t.ticketSubscription=t.ticketSignificantUpdate=t.ticketShareTooltipShown=t.ticketShare=t.ticketRefreshClick=t.ticketInfoToggle=t.ticketInView=t.ticketFlightInfoClicked=t.ticketDowngradedTooltipShow=t.ticketDirectScheduleClick=t.ticketDeeplinkInfoToggle=t.ticketComparisonClick=t.ticketBuyClick=t.ticketB2BShowInfoModal=t.ticketB2BInfoBannerShown=t.ticketB2BInfoBannerClose=t.ticketAlertClick=t.requiredTicketFetched=t.proposalDebugClick=t.moreProposalsClick=void 0;var a=n(r(101339)),i=r(148860);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.ticketSubscription=function(e,t){return{type:i.TICKET_SUBSCRIPTION_CLICK,ticketSign:e,triggerType:t}},t.ticketComparisonClick=function(e,t){return{type:i.TICKET_COMPARISON_CLICK,isCompared:e,ticket:t}},t.ticketRefreshClick=function(){return{type:i.TICKET_REFRESH_CLICK}},t.ticketWarningTagTooltipShown=function(e){return{type:i.TICKET_WARNING_TAG_TOOLTIP_SHOWN,key:e}},t.ticketFlightInfoClicked=function(e,t,r,n){return{type:i.TICKET_FLIGHT_INFO_CLICKED,segmentIndex:e,flightIndex:t,proposalId:r,fareOptions:n}},t.ticketShareTooltipShown=function(e){return{type:i.TICKET_SHARE_TOOLTIP_SHOWN,ticketSign:e}},t.ticketShare=function(e,t){return{type:i.TICKET_SHARE,network:e,ticketSign:t}},t.ticketBuyClick=function(e,t){return{type:i.TICKET_BUY_CLICK,data:t,event:e}},t.ticketDowngradedTooltipShow=function(e,t,r,n){return{type:i.TICKET_DOWNGRADED_TOOLTIP_SHOW,ticketIndex:e,ticketSign:t,gateId:r,proposalIndex:n}},t.ticketInView=function(e){return c({type:i.TICKET_IN_VIEW},e)},t.ticketInfoToggle=function(e){return c({type:i.TICKET_INFO_TOGGLE},e)},t.ticketDeeplinkInfoToggle=function(e){return c({type:i.TICKET_INFO_DEEPLINK_TOGGLE},e)},t.ticketSignificantUpdate=function(e){return c({type:i.TICKET_SIGNIFICANT_UPDATE},e)},t.proposalDebugClick=function(e,t){return{type:i.PROPOSAL_DEBUG_CLICK,ticketSign:e,proposalId:t}},t.moreProposalsClick=function(e,t,r){return{type:i.MORE_PROPOSALS_CLICK,ticketSign:e,ticketIndex:t,currentTariff:r}},t.ticketDirectScheduleClick=function(e,t,r,n,a){return{type:i.TICKET_DIRECT_SCHEDULE_CLICK,item:e,segmentIndex:t,directSchedule:r,ticketsToRender:n,selectedTariff:a}},t.ticketAlertClick=function(e,t,r){return{type:i.TICKET_ALERT_CLICK,ticketSign:e,ticketIndex:t,data:r}},t.ticketTransferTagClick=function(e,t,r){return{type:i.TICKET_TRANSFER_TAG_CLICK,ticketSign:e,ticketIndex:t,data:r}},t.ticketB2BShowInfoModal=function(e,t){return{type:i.TICKET_B2B_SHOW_INFO_MODAL,ticketSign:e,price:t}},t.ticketB2BInfoBannerShown=function(){return{type:i.TICKET_B2B_INFO_BANNER_SHOWN}},t.ticketB2BInfoBannerClose=function(){return{type:i.TICKET_B2B_INFO_BANNER_CLOSE}},t.requiredTicketFetched=function(e,t){return{type:i.FETCH_REQUIRED_TICKET_SUCCEED,ticketSign:e,ticketIndex:t}}},544112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTicketDeeplinkInfo=t.removeTicketDeeplinkInfo=void 0;var n=r(395166);t.updateTicketDeeplinkInfo=function(e){return{type:n.TICKET_DEEPLINK_INFO_UPDATE,ticketSign:e}},t.removeTicketDeeplinkInfo=function(){return{type:n.TICKET_DEEPLINK_INFO_REMOVE}}},214743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTicketSelectedTariffs=t.resetTicketSelectedTariffs=t.removeTicketSelectedTariff=t.changeTicketSelectedTariff=void 0;var n=r(402590);t.changeTicketSelectedTariff=function(e,t){return{type:n.CHANGE_TICKET_SELECTED_TARIFF,ticketSign:e,tariffType:t}},t.removeTicketSelectedTariff=function(e){return{type:n.REMOVE_TICKET_SELECTED_TARIFF,ticketSign:e}},t.resetTicketSelectedTariffs=function(){return{type:n.RESET_TICKET_SELECTED_TARIFFS}},t.setTicketSelectedTariffs=function(e){return{type:n.SET_TICKET_SELECTED_TARIFFS,selectedTariffs:e}}},888884:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addTicketShortUrl=void 0;var n=r(952200);t.addTicketShortUrl=function(e,t){return{type:n.ADD_TICKET_SHORT_URL,sign:e,url:t}}},749748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTicketsAndDicts=t.updateBaseTicketsAndDicts=t.resetTicketsAndDicts=void 0;var n=r(340227);t.updateTicketsAndDicts=function(e,t){return{type:n.UPDATE_TICKETS_AND_DICTS,ticketsState:e,dicts:t}},t.updateBaseTicketsAndDicts=function(e,t){return{type:n.UPDATE_BASE_TICKETS_AND_DICTS,ticketsState:e,dicts:t}},t.resetTicketsAndDicts=function(){return{type:n.RESET_TICKETS_AND_DICTS}}},646268:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTicketComparisonTicket=t.showComparisonTicket=t.removeTicketComparisonTicket=t.openTicketsComparison=t.closeTicketsComparison=t.addTicketComparisonTicket=void 0;var n=r(635912);t.addTicketComparisonTicket=function(e){return{type:n.ADD_TICKETS_COMPARISON_TICKET,ticket:e}},t.removeTicketComparisonTicket=function(e){return{type:n.REMOVE_TICKETS_COMPARISON_TICKET,ticketSign:e}},t.updateTicketComparisonTicket=function(e,t){return{type:n.UPDATE_TICKETS_COMPARISON_TICKET,ticketSign:e,ticket:t}},t.showComparisonTicket=function(e,t){return{type:n.SHOW_COMPARISON_TICKET,ticketSign:e,ticketUrl:t}},t.openTicketsComparison=function(){return{type:n.OPEN_TICKETS_COMPARISON}},t.closeTicketsComparison=function(){return{type:n.CLOSE_TICKETS_COMPARISON}}},865726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.travelRestrictionsUpload=t.travelRestrictionsModalFooterClick=t.travelRestrictionInformerClick=t.applyCovidFilter=void 0;var n=r(937579);t.applyCovidFilter=function(){return{type:n.APPLY_COVID_FILTER}},t.travelRestrictionsUpload=function(e){var t=e.data;return{type:n.TRAVEL_RESTRICTIONS_UPLOAD,data:t}},t.travelRestrictionInformerClick=function(e,t){return{type:n.TRAVEL_RESTRICTIONS_INFORMER_CLICK,tag:e,ticketSign:t}},t.travelRestrictionsModalFooterClick=function(e){return{type:n.TRAVEL_RESTRICTIONS_MODAL_FOOTER_CLICK,popupType:e}}},335280:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tripParamsParsed=void 0;var n=r(113790);t.tripParamsParsed=function(e){return{type:n.TRIP_PARAMS_PARSED,params:e}}},984139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setUserTheme=void 0;var n=r(824203);t.setUserTheme=function(e){return{type:n.USER_THEME_SET,theme:e}}},988603:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEARCH_EXPIRED_TIMEOUT=void 0,t.SEARCH_EXPIRED_TIMEOUT=9e5},280327:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.B2B_BANNER_HIDE_DURATION=void 0,t.B2B_BANNER_HIDE_DURATION=2592e6},771726:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=n(r(114558)),o=n(r(257110)),c=r(39569),s=r(863974),u=r(990647);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){return function(t){return function(r){if(r.type===u.UPDATE_SEARCH_STATUS&&r.status===c.SearchStatus.Finished){var n=e.getState(),a=n.searchId,l=n.searchParams,d=n.cheapestTicket;d&&a&&l&&s.userService.saveSearch({searchId:a,searchParams:l,cheapestTicket:(p=d,h=(0,i.default)(p,2),m=h[0],y=h[1],_=y.reduce((function(e,t){return t.unifiedPrice<e.unifiedPrice?t:e}),y[0]),b=f(f({},_),{},{currency:_.currency,gate_id:_.agentId,price:_.price,unified_price:_.unifiedPrice,searchPrice:_.searchPrice,is_charter:(0,o.default)("charter",_.tags),url:_.id}),S=m.segments.map((function(e){return{flight:e.flights}})),f(f({},m),{},{segment:S,terms:(v={},v[_.agentId]=b,v),xterms:(g={},g[_.agentId]=b,g)}))})}var p,v,g,h,m,y,_,b,S;return t(r)}}}},69087:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=n(r(474606)),o=r(526946);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=r(113040),l=!!i.default.get("console_metrics"),f=function(e,t,r,n){l&&console.log("EVENT:",{event:t,data:r},n),e(t,r,n)},d=function(e,t){u.reach_goal(e,s({},t))};t.default=function(e){return function(e){return function(t){switch(t.type){case o.REACH_GOAL:f(d,t.event,t.data);break;case o.REACH_GOAL_ONCE:f(u.reach_goal_once,t.event,s({},t.data));break;case o.SEND_TIMING:f(u.send_timing,t.event,t.data);break;case"GEOIP_ORIGIN_SUBSTITUTION":f(d,t.type,t.origin)}return e(t)}}}},557393:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=m),t.type){case s.SET_NEXT_ADVERTISEMENT:var r,n=t.index,a=h[n],i=a.indexOf(e[n])+1;return l(l({},e),{},((r={})[n]=i>a.length-1?null:a[i],r));case s.RESET_ADVERTISEMENT:return m;default:return e}};var a,i=n(r(101339)),o=n(r(114558)),c=r(452130),s=r(498441);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f,d="ru"===(0,c.getMarket)(),p=d?{type:"AdYandex",ownerId:327101,containerId:"adfox_164750276771474832",params:{p1:"ctbnp",p2:"hoia"}}:{type:"AdDoubleClick",placement:"/68258039/729x250-Top-ASnew",id:"google_tag_id_doubleclick_small_desktop",size:[729,250],metricsName:"first_place"},v=d?{type:"AdYandex",ownerId:327101,containerId:"adfox_164752489937119114",params:{p1:"ctcbd",p2:"hoib"}}:{type:"AdDoubleClick",placement:"/68258039/Mobile_web_AS",id:"google_tag_id_doubleclick_small_mobile",size:["fluid"],metricsName:"first_place"},g=d?{type:"AdYandex",ownerId:327101,containerId:"adfox_164786711329457958",params:{p1:"ctdyz",p2:"honk"}}:{type:"AdDoubleClick",placement:"/68258039/729x250-Ticket-ASnew",id:"google_tag_id_doubleclick_big",size:[729,250],metricsName:"third_place"},h=((a={})[s.AdvertisementSlotName.Product0Desktop]=[p,{type:"AdTopPlacement"}],a[s.AdvertisementSlotName.Product0Mobile]=[v,{type:"AdTopPlacement"}],a[s.AdvertisementSlotName.Product3]=[g,{type:"AdMediaAlpha"}],a[s.AdvertisementSlotName.ExtraContent]=[{type:"AdDoubleClick",id:"left-col-rek",size:[160,600],placement:"/68258039/160x600-AS",metricsName:"search_results-right",zoneid:926725},{type:"AdDoubleClick",id:"left-col-rek2",size:[160,600],placement:"/68258039/160x600-AS_s2",metricsName:"search_results-right"},{type:"AdDoubleClick",id:"left-col-rek3",size:[160,600],placement:"/68258039/160x600-AS_s3",metricsName:"search_results-right"}],a[s.AdvertisementSlotName.BottomInline]=[{type:"AdMediaAlpha"}],a[s.AdvertisementSlotName.HomeBottomInline]=[],a),m=Object.freeze((f={},Object.keys(h).forEach((function(e){var t=(0,o.default)(h[e],1);f[e]=t[0]})),f))},74789:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.airlinesReducer=void 0;var a=n(r(101339)),i=r(340227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({});t.initialState=s,t.airlinesReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.UPDATE_TICKETS_AND_DICTS:case i.UPDATE_BASE_TICKETS_AND_DICTS:return c(c({},e),t.dicts.airlines);case i.RESET_TICKETS_AND_DICTS:return s;default:return e}}},811797:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.airportsReducer=void 0;var a=n(r(101339)),i=r(340227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({});t.initialState=s,t.airportsReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.UPDATE_TICKETS_AND_DICTS:case i.UPDATE_BASE_TICKETS_AND_DICTS:return c(c({},e),t.dicts.airports);case i.RESET_TICKETS_AND_DICTS:return s;default:return e}}},756002:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.alliancesReducer=void 0;var a=n(r(101339)),i=r(340227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({});t.initialState=s,t.alliancesReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.UPDATE_TICKETS_AND_DICTS:case i.UPDATE_BASE_TICKETS_AND_DICTS:return c(c({},e),t.dicts.alliances);case i.RESET_TICKETS_AND_DICTS:return s;default:return e}}},835970:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(39569),o=r(543358),c=r(149739),s=r(828451),u=r(779143),l=r(113790);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=r(129304).getTripType,v={passengers:{adults:1,children:0,infants:0},tripClass:i.TripClass.Economy,segments:[],paymentMethod:i.PaymentMethod.All,shouldSearchHotels:!1};t.default=function(e,t){switch(void 0===e&&(e=v),t.type){case l.TRIP_PARAMS_PARSED:var r=t.params,n={segments:r.segments,tripClass:r.tripClass,tripType:r.tripType,paymentMethod:r.paymentMethod,passengers:r.passengers,shouldSearchHotels:r.searchHotels};if(!(0,s.isOpenJaw)(r.segments))return d(d({},e),n);var a=(0,c.getPlace)(n.segments,o.PlaceField.Origin),i=(0,c.getPlace)(n.segments,o.PlaceField.Destination),f=d(d({},n.segments[0]),{},{origin:a,destination:i}),g=d(d({},n.segments[1]),{},{origin:i,destination:a});return d(d(d({},e),n),{},{segments:[f,g]});case u.UPDATE_AVIA_PARAMS:return d(d(d({},e),t.params),{},{tripType:p(t.params)||e.tripType});case u.ACTIVE_DATE_INPUT_CHANGE:return d(d({},e),{},{activeDateInput:t.activeInput});case u.FOCUS_AVIA_FIELD:return d(d({},e),{},{fieldToFocus:t.field});case u.RESET_AVIA_FIELD_FOCUS_STATE:return d(d({},e),{},{fieldToFocus:""});case u.CHANGE_MAX_VISIBLE_LAST_SEARCHES:return d(d({},e),{},{maxVisibleLastSearches:t.maxVisibleLastSearches});case u.CHANGE_SHOULD_SEARCH_HOTELS:return d(d({},e),{},{shouldSearchHotels:t.shouldSearchHotels});default:return e}}},732170:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(145726);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e,t){switch(void 0===e&&(e=null),t.type){case i.ADD_BRAND_TICKET:return{isShown:!1,ticket:t.ticket,campaign:t.campaign};case i.REMOVE_BRAND_TICKET:return null;case i.SET_BRAND_TICKET_SHOWN:return e?c(c({},e),{},{isShown:!0}):null;case i.UPDATE_BRAND_TICKET_DATA:return e?c(c({},e),t.data):null;default:return e}}},596509:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brandTicketCampaignsReducer=void 0;var n=r(957608),a=[];t.brandTicketCampaignsReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case n.UPDATE_BRAND_TICKET_CAMPAIGNS:return t.campaigns;case n.RESET_BRAND_TICKET_CAMPAIGNS:return a;default:return e}}},613845:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserHistoryReducer=void 0;var n=r(197783),a={state:null};t.browserHistoryReducer=function(e,t){return void 0===e&&(e=a),t.type===n.UPDATE_BROWSER_HISTORY_STATE?{state:t.state}:e}},296015:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=!1),t.type){case"SHOW_CALENDAR_LOADER":return!0;case"HIDE_CALENDAR_LOADER":return!1;default:return e}},t.initialState=void 0,t.initialState=!1},810854:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a,i,o,c,s=n(r(101339)),u=n(r(294650)),l=r(543358),f=r(149739),d=r(302407);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=Object.freeze(((c={})[l.Calendar.Year]={},c[l.Calendar.Months]=((o={})[l.DateType.DepartDate]=((a={})[d.DepartPricesType.OW]={},a[d.DepartPricesType.RT]={},a),o[l.DateType.ReturnDate]=((i={})[d.ReturnPricesType.WD]={},i[d.ReturnPricesType.ND]={},i),o),c.oneWayPrices=!1,c));t.initialState=g,t.default=function(e,t){switch(void 0===e&&(e=g),t.type){case d.UPDATE_ONE_WAY_PRICES:return v(v({},e),{},{oneWayPrices:t.checked});case d.SET_YEAR_CALENDAR_PRICES:return v(v({},e),{},{year:t.prices});case d.SET_MONTH_CALENDAR_PRICES:var r=t.monthsPrices,n=t.dateType,a=t.oneWay,i=t.withDepart,o=(0,f.getPriceTypeFromParams)(n,a,i),c=(0,u.default)(e.months);return o?(c[n][o]=v(v({},c[n][o]),r),v(v({},e),{},{months:c})):c;case d.RESET_MONTH_CALENDAR_PRICES:var s,l=t.dateType;return l?(s=v({},e.months))[l]=v({},g.months[l]):s=v({},g.months),v(v({},e),{},{months:s});default:return e}}},266608:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(545619),a=Object.freeze({});t.initialState=a,t.default=function(e,t){switch(void 0===e&&(e=a),t.type){case n.UPDATE_CHEAPEST_STOPS:return t.cheapestStops;case n.RESET_CHEAPEST_STOPS:return a;default:return e}}},314028:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return void 0===e&&(e=null),t.type===n.UPDATE_CHEAPEST_TICKET?t.ticket:e},t.initialState=void 0;var n=r(802797);t.initialState=null},686320:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.citiesReducer=void 0;var a=n(r(101339)),i=r(340227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({});t.initialState=s,t.citiesReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.UPDATE_TICKETS_AND_DICTS:case i.UPDATE_BASE_TICKETS_AND_DICTS:return c(c({},e),t.dicts.ticketCities);case i.RESET_TICKETS_AND_DICTS:return s;default:return e}}},821194:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.countriesReducer=void 0;var a=n(r(101339)),i=r(340227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({});t.initialState=s,t.countriesReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.UPDATE_TICKETS_AND_DICTS:case i.UPDATE_BASE_TICKETS_AND_DICTS:return c(c({},e),t.dicts.countries);case i.RESET_TICKETS_AND_DICTS:return s;default:return e}}},264775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return void 0===e&&(e=a),t.type===n.UPDATE_CURRENCIES?t.currencies:e},t.initialState=void 0;var n=r(204212),a=Object.freeze({});t.initialState=a},681290:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(937725),a=window.currentPage||"content";t.initialState=a,t.default=function(e,t){return void 0===e&&(e=a),t.type===n.UPDATE_CURRENT_PAGE?t.page:e}},677391:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=u),t.type){case o.SET_DEBUG_SETTING:var r;return s(s({},e),{},((r={})[t.name]=""!==t.value?t.value:void 0,r));case o.RESET_DEBUG_SEARCH_SETTINGS:var n=e;return{debugUrl:n.debugUrl,debugMetrics:n.debugMetrics,turnOffAnnoyingPopups:n.turnOffAnnoyingPopups,experimentGroups:n.experimentGroups};case o.CLEAR_DEBUG_SEARCH_SETTINGS:return{};default:return e}},t.initialState=void 0;var a=n(r(101339)),i=r(52210),o=r(400587);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=Object.freeze((0,i.getDebugSettingsFromClient)());t.initialState=u},401529:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deviceSearchId=function(e,t){switch(void 0===e&&(e=null),t.type){case a.UPDATE_DEVICE_SEARCH_ID:return(0,n.emitSeleneEvent)({type:"service/helios/deviceSearchId/changed",payload:t.deviceSearchId}),t.deviceSearchId;case a.RESET_DEVICE_SEARCH_ID:return(0,n.emitSeleneEvent)({type:"service/helios/deviceSearchId/changed",payload:null}),null;default:return e}};var n=r(754266),a=r(169822)},582163:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=s),t.type){case i.SHOW_EMAIL_CHANGE_NOTIFY:return{visible:!0,status:t.status,errorType:t.errorType};case i.HIDE_EMAIL_CHANGE_NOTIFY:return c(c({},e),{},{visible:!1});default:return e}};var a=n(r(101339)),i=r(549145);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={visible:!1}},244031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=null),t.type){case n.SET_ERROR:return t.explosionError;case n.RESET_ERROR:return null;default:return e}},t.initialState=void 0;var n=r(224049);t.initialState=null},681410:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.expectedPrice=void 0;var n=r(299261),a={};t.initialState=a,t.expectedPrice=function(e,t){switch(void 0===e&&(e=a),t.type){case n.UPDATE_EXPECTED_PRICE:return t.payload;case n.RESET_EXPECTED_PRICE:return a;default:return e}}},947420:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=c),t.type){case i.SHOW_SUBSCRIPTIONS_ERROR:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({error:t.error},e);case i.HIDE_SUBSCRIPTIONS_ERROR:return c;default:return e}},t.initialState=void 0;var a=n(r(101339)),i=r(767747);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var c={};t.initialState=c},372205:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.filtersTooltipReducer=void 0;var a=n(r(101339)),i=r(983675);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({visible:!1,filter:null});t.filtersTooltipReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.SHOW_FILTERS_TOOLTIP:return{visible:!0,filter:t.payload.filter};case i.HIDE_FILTERS_TOOLTIP:return c(c({},e),{},{visible:!1});default:return e}}},686625:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return void 0===e&&(e=null),t.type===n.FIRST_TICKET_ARRIVED?t.timestamp:e},t.initialState=void 0;var n=r(46936);t.initialState=null},589095:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;switch(void 0===e&&(e=u),t.type){case o.FLIGHT_INFO_FETCH_SUCCESSED:return s(s({},e),{},((r={})[t.flightNumber]={data:t.data,status:i.RequestStatus.Success},r));case o.FLIGHT_INFO_FETCH_START:var n;return s(s({},e),{},((n={})[t.flightNumber]={status:i.RequestStatus.Pending,data:{}},n));case o.FLIGHT_INFO_FETCH_FAILED:var a;return s(s({},e),{},((a={})[t.flightNumber]={status:i.RequestStatus.Failure,data:{}},a));default:return e}},t.initialState=void 0;var a=n(r(101339)),i=r(20344),o=r(890018);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=Object.freeze({});t.initialState=u},464785:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.gateFeedback=void 0;var a=n(r(101339)),i=r(817431);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={deviceClickId:null};t.gateFeedback=function(e,t){return void 0===e&&(e=s),t.type===i.UPDATE_DEVICE_CLICK_ID_FEEDBACK?c(c({},e),{},{deviceClickId:t.deviceClickId}):e}},50932:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.gatesReducer=void 0;var a=n(r(101339)),i=r(103873),o=r(340227);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e,t){return Object.keys(t).reduce((function(r,n){return e[n]||(r[n]=t[n]),r}),{})},l=Object.freeze({});t.initialState=l,t.gatesReducer=function(e,t){switch(void 0===e&&(e=l),t.type){case o.UPDATE_TICKETS_AND_DICTS:case o.UPDATE_BASE_TICKETS_AND_DICTS:return s(s({},e),u(e,t.dicts.gates));case i.ADD_AGENTS:return s(s({},e),u(e,t.agents));case o.RESET_TICKETS_AND_DICTS:return l;default:return e}}},906690:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.gatesMetaReducer=void 0;var a=n(r(101339)),i=r(778007),o=r(340227);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=Object.freeze({});t.initialState=u,t.gatesMetaReducer=function(e,t){switch(void 0===e&&(e=u),t.type){case o.UPDATE_TICKETS_AND_DICTS:case o.UPDATE_BASE_TICKETS_AND_DICTS:return s(s({},e),t.dicts.gatesMeta);case i.ADD_GATES_META:return s(s({},e),t.meta);case o.RESET_TICKETS_AND_DICTS:return u;default:return e}}},170703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.geoIpCountryReducer=void 0;var n=r(366571);t.initialState=null,t.geoIpCountryReducer=function(e,t){return void 0===e&&(e=null),t.type===n.GEO_IP_COUNTRY_SET?t.geoIpCountry:e}},738212:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=s),t.type){case i.ADD_HIGHLIGHTED_TICKET_PARAMS:return c(c({},t.params),{},{isOverlayShown:!0});case i.REMOVE_HIGHLIGHTED_TICKET_PARAMS:return s;case i.REMOVE_HIGHLIGHTED_TICKET_OVERLAY:return c(c({},e),{},{isOverlayShown:!1});default:return e}},t.initialState=void 0;var a=n(r(101339)),i=r(223969);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=null;t.initialState=s},34701:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(740537),o=r(543358),c=r(149739),s=r(255285),u=r(113790);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=r(129304).getTripType,p={adults:1,children:0,childrenAge:[],destination:s.DEFAULT_PLACE};function v(e,t){for(var r=[],n=0;n<e;n++)r.push(t);return r}t.default=function(e,t){switch(void 0===e&&(e=p),t.type){case u.TRIP_PARAMS_PARSED:var r=t.params,n=(0,c.getDate)(r.segments,o.DateType.DepartDate),a=(0,c.getDate)(r.segments,o.DateType.ReturnDate);!a&&n&&(a=(0,i.addDays)(n,1));var s=r.passengers,l=s.adults,g=void 0===l?1:l,h=s.children,m=void 0===h?0:h,y=s.infants,_=void 0===y?0:y;return{checkIn:n,checkOut:a,adults:g,childrenAge:[].concat(v(m,7),v(_,2)).slice(0,3),children:Math.min(3,m+_),destination:(0,c.getPlace)(r.segments,o.PlaceField.Destination)};case"UPDATE_HOTEL_PARAMS":return f(f(f({},e),t.params),{},{tripType:d(t.params)});case"RESET_HOTEL_PARAMS":return p;default:return e}}},640002:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a=n(r(897360)),i=r(257126),o=a.default.marker();t.initialState=o,t.default=function(e,t){return void 0===e&&(e=o),t.type===i.UPDATE_MARKER?t.marker:e}},328490:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a=n(r(101339)),i=r(39569),o=r(255285),c=r(379803),s=r(113790);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=r(129304).getTripType,d={passengers:{adults:1,children:0,infants:0},tripClass:i.TripClass.Economy,segments:[],paymentMethod:i.PaymentMethod.All};t.initialState=d,t.default=function(e,t){switch(void 0===e&&(e=d),t.type){case s.TRIP_PARAMS_PARSED:var r=t.params;return l(l({},{tripClass:r.tripClass,tripType:r.tripType,paymentMethod:r.paymentMethod,passengers:r.passengers}),{},{segments:r.segments.length?r.segments:[o.DEFAULT_SEGMENT]});case c.UPDATE_MULTIWAY_PARAMS:return l(l(l({},e),t.params),{},{tripType:f(t.params)||e.tripType});case c.RESET_MULTIWAY_PARAMS:return d;default:return e}}},796534:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var a=n(r(101339)),i=n(r(861233)),o=r(104189),c=n(r(897360)),s=r(425944),u=r(828451),l=r(513125),f=r(113790);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v,g=Object.freeze({tabs:{avia:h(v=(0,s.getPageData)(),"avia"),hotel:h(v,"hotel"),multiway:h(v,"multiway")},availableTabs:v.availableTabs||o.DEFAULT_AVAILABLE_TABS,showHeader:v.showHeader,activeForm:v.activeForm,mainTitleTag:v.mainTitleTag,marker:c.default.marker(),brandName:v.brandName||o.DEFAULT_BRAND_NAME});function h(e,t){var r=e[t]||{};return{type:t,HTMLTitle:r.HTMLTitle,callToAction:r.callToAction,mainTitle:r.mainTitle,action:r.action,link:r.link,showFormHint:!1}}t.initialState=g,t.default=function(e,t){var r;switch(void 0===e&&(e=g),t.type){case f.TRIP_PARAMS_PARSED:var n=function(e){if(window.location.pathname.startsWith("/map"))return"avia";var t={avia:"avia",hotel:"hotel",multi:"multiway"}[window.location.hash.substr(1)]||"avia";return(0,u.isOpenJaw)(e)&&~["avia",void 0].indexOf(t)?"multiway":t}(t.params.segments);return p(p({},e),{},{activeForm:n});case l.UPDATE_PAGE_HEADER:return p(p(p({},e),t.data),{},{prevActiveForm:e.activeForm});case l.UPDATE_TAB_PARAMS:var a=e.tabs[t.tab];return(0,i.default)(e,{tabs:(r={},r[t.tab]={$set:p(p({},a),t.params)},r)});case l.COLLAPSE_PAGE_HEADER:return p(p({},e),{},{isCollapsed:!0});case l.EXPAND_PAGE_HEADER:return p(p({},e),{},{isCollapsed:!1});default:return e}}},607691:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.popups=function(e,t){var r,n,a,o,u,l;switch(void 0===e&&(e=s),t.type){case i.OPEN_POPUP:return c(c({},e),{},((n={})[t.popupType]={isOpen:!0,data:t.data||(null===(r=e[t.popupType])||void 0===r?void 0:r.data)},n));case i.CLOSE_POPUP:return c(c({},e),{},((o={})[t.popupType]={isOpen:!1,data:null===(a=e[t.popupType])||void 0===a?void 0:a.data},o));case i.UPDATE_POPUP_DATA:return c(c({},e),{},((l={})[t.popupType]={isOpen:(null===(u=e[t.popupType])||void 0===u?void 0:u.isOpen)||!1,data:t.data},l));case i.CLEAR_ALL_POPUPS:return s;default:return e}};var a=n(r(101339)),i=r(637745);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={}},686664:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=l),t.type){case s.UPDATE_MATRIX_PRICES:return(0,i.default)(e,{matrix:{prices:{$set:t.prices},initialPrices:{$set:null!=e.matrix.initialPrices?e.matrix.initialPrices:t.prices}}});case s.UPDATE_GRAPH_PRICES:return(0,i.default)(e,{graph:{prices:{$set:t.prices},initialPrices:{$set:null!=e.graph.initialPrices?e.graph.initialPrices:t.prices}}});case s.UPDATE_MATRIX_ONLY_DIRECT:return(0,i.default)(e,{matrix:{isOnlyDirect:{$set:t.isOnlyDirect}}});case s.UPDATE_GRAPH_TRIP_DURATION:return(0,i.default)(e,{graph:{tripDuration:{$set:t.tripDuration}}});case u.UPDATE_SEARCH_PARAMS:var r=(0,a.default)(t.data.params.segments,2),n=r[0],f=r[1],d=(0,c.dateWithoutTimezone)(n.date),p=null;if(f){var v=(0,c.dateWithoutTimezone)(f.date);p=(0,o.diff)(v,d)}return(0,i.default)(e,{graph:{tripDuration:{$set:p}}});case s.RESET_PREDICTION:return l;default:return e}},t.initialState=void 0;var a=n(r(114558)),i=n(r(861233)),o=r(740537),c=r(495256),s=r(918249),u=r(294317),l=Object.freeze({matrix:{initialPrices:null,prices:null,isOnlyDirect:!1},graph:{initialPrices:null,prices:null,tripDuration:null}});t.initialState=l},707129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requiredTicketSignsReducer=void 0;var n=r(821277),a=[];t.requiredTicketSignsReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case n.REQUIRED_TICKET_SIGN_ADD:return e.includes(t.sign)?e:[].concat(e,[t.sign]);case n.REQUIRED_TICKET_SIGN_REMOVE:return e.filter((function(e){return e!==t.sign}));default:return e}}},29050:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resultsUrlReducer=t.initialState=void 0;var n=r(782708),a=r(486362),i=null;t.initialState=i,t.resultsUrlReducer=function(e,t){switch(void 0===e&&(e=i),t.type){case a.UPDATE_SEARCH_META:return t.meta.results_url;case n.RESET_RESULTS_URL:return i;default:return e}}},942093:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.explosionReducer=void 0;var a=r(79651),i=r(949793),o=r(439094),c=r(774466),s=r(170703),u=r(246685),l=r(892341),f=r(158521),d=r(337343),p=n(r(840502)),v=n(r(256349)),g=r(74789),h=r(756002),m=n(r(557393)),y=r(579960),_=r(372205),b=n(r(686664)),S=r(906690),T=r(956843),O=n(r(677391)),P=n(r(480524)),E=n(r(796534)),k=n(r(810854)),C=n(r(835970)),w=n(r(34701)),D=n(r(328490)),I=n(r(589095)),A=n(r(314028)),x=r(183790),j=r(811797),R=r(821194),M=r(50932),F=n(r(264775)),N=n(r(738212)),L=n(r(266608)),B=n(r(244031)),U=n(r(686625)),H=n(r(296015)),W=n(r(681290)),G=n(r(304452)),K=n(r(507250)),V=n(r(582163)),Y=r(660898),q=n(r(732170)),z=n(r(318006)),X=n(r(521422)),Q=n(r(986359)),$=n(r(947420)),Z=n(r(725784)),J=r(894547),ee=n(r(640002)),te=r(681410),re=r(607691),ne=r(401529),ae=r(464785),ie=r(434478),oe=r(864112),ce=r(596509),se=r(707129),ue=r(43515),le=r(613845),fe=r(686320),de=r(29050),pe=r(57621),ve={searchParams:p.default,searchStatus:v.default,airlines:g.airlinesReducer,alliances:h.alliancesReducer,ticketCities:fe.citiesReducer,advertisement:m.default,tickets:y.ticketsReducer,filtersTooltip:_.filtersTooltipReducer,prediction:b.default,gatesMeta:S.gatesMetaReducer,serverInfo:T.serverInfoReducer,debugSettings:O.default,userTheme:P.default,pageHeader:E.default,calendarPrices:k.default,aviaParams:C.default,hotelParams:w.default,multiwayParams:D.default,flightInfo:I.default,cheapestTicket:A.default,searchId:x.searchIdReducer,highlightedTicketParams:N.default,airports:j.airportsReducer,countries:R.countriesReducer,gates:M.gatesReducer,currencies:F.default,cheapestStops:L.default,error:B.default,firstTicketArrivedAt:U.default,calendarLoader:H.default,currentPage:W.default,ticketShortUrls:G.default,emailChangeNotify:V.default,ticketSubscriptions:z.default,flexibleSubscriptions:Q.default,directionSubscriptions:X.default,explosionSubscriptions:$.default,ticketsComparison:K.default,searchExpiringDate:Y.searchExpiringDate,searchTriggerSource:Z.default,brandTicket:q.default,ticketSelectedTariffs:J.ticketSelectedTariffs,ticketSelectedFareProposals:c.selectedFareProposalsReducer,marker:ee.default,expectedPrice:te.expectedPrice,popups:re.popups,deviceSearchId:ne.deviceSearchId,gateFeedback:ae.gateFeedback,searchTags:ie.searchTagsReducer,filtersBoundaries:a.filtersBoundaries,filtersState:a.filtersState,exploreFiltersState:i.exploreFiltersState,searchResultsPage:oe.searchResultsPageReducer,searchResultsRequestStatus:ue.searchResultsRequestStatusReducer,brandTicketCampaigns:ce.brandTicketCampaignsReducer,requiredTicketSigns:se.requiredTicketSignsReducer,browserHistory:le.browserHistoryReducer,autosearch:o.autosearchReducer,geoIpCountry:s.geoIpCountryReducer,directFlight:u.directFlightReducer,resultsUrl:de.resultsUrlReducer,directFlightTicket:l.directFlightTicketReducer,directScheduleTickets:f.directScheduleTicketsReducer,directFlightSearchStatus:d.directFlightSearchStatusReducer,ticketDeeplinkInfo:pe.ticketDeeplinkReducer};t.explosionReducer=ve},660898:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchExpiringDate=void 0;var n=r(26690),a=r(988603),i=(new Date).getTime(),o=new Date(i+a.SEARCH_EXPIRED_TIMEOUT);t.searchExpiringDate=function(e,t){return void 0===e&&(e=o),t.type===n.SET_SEARCH_EXPIRING_DATE?t.date:e}},183790:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchIdReducer=t.initialState=void 0;var n=r(159853),a=r(486362),i=null;t.initialState=i,t.searchIdReducer=function(e,t){switch(void 0===e&&(e=i),t.type){case a.UPDATE_SEARCH_META:return t.meta.search_id;case n.RESET_SEARCH_ID:return i;default:return e}}},840502:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=null),t.type){case i.UPDATE_SEARCH_PARAMS:return s(c({},t.data.params));case i.UPDATE_SEARCH_PARAMS_SEGMENTS:return e?s(c(c({},e),{},{segments:t.segments})):e;default:return e}},t.initialState=void 0;var a=n(r(101339)),i=r(294317);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){return e.isOneWay=!(e.segments.length>1),e.segments[0].destination_name&&(e.destinationName=e.segments[0].destination_name),e.segments[0].destination_cases&&(e.destinationCases=e.segments[0].destination_cases),e.segments[0].origin_name&&(e.originName=e.segments[0].origin_name),e.segments[0].origin_cases&&(e.originCases=e.segments[0].origin_cases),e.isPlacesRestored=!0,e.originCityIata=e.segments[0].origin_city_iata||e.segments[0].origin,e.destinationCityIata=e.segments[0].destination_city_iata||e.segments[0].destination,e}t.initialState=null},864112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchResultsPageReducer=void 0;var n=r(829181),a=Object.freeze({page:1});t.searchResultsPageReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case n.UPDATE_SEARCH_RESULTS_PAGE:return{page:t.page};case n.RESET_SEARCH_RESULTS_PAGE:return a;default:return e}}},43515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchResultsRequestStatusReducer=void 0;var n=r(20344),a=r(485432),i=Object.freeze({status:n.RequestStatus.Idle});t.searchResultsRequestStatusReducer=function(e,t){switch(void 0===e&&(e=i),t.type){case a.UPDATE_SEARCH_RESULTS_REQUEST_STATUS:return{status:t.status,lastRequestTriggerSource:t.lastRequestTriggerSource};case a.RESET_SEARCH_RESULTS_REQUEST_STATUS:return i;default:return e}}},256349:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(39569),a=r(990647),i=r(197783),o=n.SearchStatus.Inited;t.initialState=o,t.default=function(e,t){switch(void 0===e&&(e=o),t.type){case a.UPDATE_SEARCH_STATUS:return t.status;case i.UPDATE_BROWSER_HISTORY:return o;default:return e}}},434478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchTagsReducer=t.initialState=void 0;var n=r(486362),a=[];t.initialState=a,t.searchTagsReducer=function(e,t){return void 0===e&&(e=a),t.type===n.UPDATE_SEARCH_META&&t.meta.tags?[].concat(t.meta.tags):e}},725784:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(126154);t.initialState=null,t.default=function(e,t){switch(void 0===e&&(e=null),t.type){case n.UPDATE_SEARCH_TRIGGER_SOURCE:return t.source;case n.RESET_SEARCH_TRIGGER_SOURCE:return null;default:return e}}},956843:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.serverInfoReducer=t.initialState=void 0;var a=n(r(101339)),i=r(486362);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var c=Object.freeze({server_name:null,data_center:null,search_start_time:null});t.initialState=c,t.serverInfoReducer=function(e,t){return void 0===e&&(e=c),t.type===i.UPDATE_SEARCH_META&&t.meta.debug?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t.meta.debug):e}},521422:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(20344),o=r(653846);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={directionSubscriptions:[],fetchStatus:i.RequestStatus.Idle};t.default=function(e,t){switch(void 0===e&&(e=u),t.type){case o.DIRECTION_SUBSCRIPTIONS_ADD:return s(s({},e),{},{directionSubscriptions:e.directionSubscriptions.concat(t.directionSubscriptions)});case o.DIRECTION_SUBSCRIPTIONS_REMOVE:return s(s({},e),{},{directionSubscriptions:e.directionSubscriptions.filter((function(e){return e.id!==t.subscriptionId}))});case o.DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS:return s(s({},e),{},{fetchStatus:t.fetchStatus});case o.DIRECTION_SUBSCRIPTIONS_CLEAR:return s(s({},e),{},{directionSubscriptions:[]});default:return e}}},986359:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(20344),o=r(736778);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={flexibleSubscriptions:[],fetchStatus:i.RequestStatus.Idle};t.default=function(e,t){switch(void 0===e&&(e=u),t.type){case o.FLEXIBLE_SUBSCRIPTIONS_ADD:return s(s({},e),{},{flexibleSubscriptions:e.flexibleSubscriptions.concat(t.flexibleSubscriptions)});case o.FLEXIBLE_SUBSCRIPTIONS_REMOVE:return s(s({},e),{},{flexibleSubscriptions:e.flexibleSubscriptions.filter((function(e){return e.id!==t.subscriptionId}))});case o.FLEXIBLE_SUBSCRIPTIONS_SET_FETCH_STATUS:return s(s({},e),{},{fetchStatus:t.fetchStatus});case o.FLEXIBLE_SUBSCRIPTIONS_CLEAR:return s(s({},e),{},{flexibleSubscriptions:[]});default:return e}}},318006:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(20344),o=r(58892);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={ticketSubscriptions:[],hasSubscriptions:{},fetchStatus:i.RequestStatus.Idle},l=function(e){return e.reduce((function(e,t){return e[t.sign]=!0,e}),{})};t.default=function(e,t){var r;switch(void 0===e&&(e=u),t.type){case o.SET_TICKET_HAS_SUBSCRIPTION:return s(s({},e),{},{hasSubscriptions:s(s({},e.hasSubscriptions),{},(r={},r[t.ticketSign]=t.value,r))});case o.TICKET_SUBSCRIPTIONS_ADD:var n=Array.isArray(t.ticketSubscriptions)?t.ticketSubscriptions:[t.ticketSubscriptions],a=[].concat(e.ticketSubscriptions,n);return s(s({},e),{},{hasSubscriptions:l(a),ticketSubscriptions:a});case o.TICKET_SUBSCRIPTIONS_REMOVE:var i=e.ticketSubscriptions.filter((function(e){return e.id!==t.subscriptionId}));return s(s({},e),{},{hasSubscriptions:l(i),ticketSubscriptions:i});case o.TICKET_SUBSCRIPTIONS_SET_FETCH_STATUS:return s(s({},e),{},{fetchStatus:t.fetchStatus});case o.TICKET_SUBSCRIPTIONS_CLEAR:return u;default:return e}}},57621:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketDeeplinkReducer=t.initialState=void 0;var a=n(r(101339)),i=r(395166);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={ticketSign:null};t.initialState=s,t.ticketDeeplinkReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.TICKET_DEEPLINK_INFO_UPDATE:return c(c({},e),{},{ticketSign:t.ticketSign});case i.TICKET_DEEPLINK_INFO_REMOVE:return s;default:return e}}},894547:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketSelectedTariffs=void 0;var a=n(r(377754)),i=n(r(101339)),o=r(402590);function c(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={};t.ticketSelectedTariffs=function(e,t){var r;switch(void 0===e&&(e=l),t.type){case o.CHANGE_TICKET_SELECTED_TARIFF:return u(u({},e),{},((r={})[t.ticketSign]=t.tariffType,r));case o.REMOVE_TICKET_SELECTED_TARIFF:var n=e,i=t.ticketSign;return n[i],(0,a.default)(n,[i].map(c));case o.SET_TICKET_SELECTED_TARIFFS:return t.selectedTariffs;case o.RESET_TICKET_SELECTED_TARIFFS:return l;default:return e}}},304452:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339)),i=r(952200);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({});t.default=function(e,t){var r;return void 0===e&&(e=s),t.type===i.ADD_TICKET_SHORT_URL?c(c({},e),{},((r={})[t.sign]=t.url,r)):e}},579960:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketsReducer=t.initialState=void 0;var a=n(r(101339)),i=r(340227);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=Object.freeze({ticketsList:[],directFlightsCheapestTicketSigns:[],tickets:{},proposals:{},ticketsProposals:{},meta:{directCount:0,filteredTicketsCount:0,totalTicketsCount:0,cheapestTicketSign:null},softTickets:{tickets:[],appliedFilters:[]}});t.initialState=s,t.ticketsReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.UPDATE_TICKETS_AND_DICTS:return c(c({},t.ticketsState),{},{tickets:c(c({},e.tickets),t.ticketsState.tickets),proposals:c(c({},e.proposals),t.ticketsState.proposals),ticketsProposals:c(c({},e.ticketsProposals),t.ticketsState.ticketsProposals)});case i.UPDATE_BASE_TICKETS_AND_DICTS:return c(c({},e),{},{tickets:c(c({},e.tickets),t.ticketsState.tickets),proposals:c(c({},e.proposals),t.ticketsState.proposals),ticketsProposals:c(c({},e.ticketsProposals),t.ticketsState.ticketsProposals)});case i.RESET_TICKETS_AND_DICTS:return s;default:return e}}},507250:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){switch(void 0===e&&(e=u),t.type){case o.ADD_TICKETS_COMPARISON_TICKET:return s(s({},e),{},{tickets:[t.ticket].concat(e.tickets)});case o.REMOVE_TICKETS_COMPARISON_TICKET:return s(s({},e),{},{tickets:e.tickets.filter((function(e){return e.ticket[0].sign!==t.ticketSign}))});case o.UPDATE_TICKETS_COMPARISON_TICKET:return s(s({},e),{},{tickets:e.tickets.map((function(e){return e.ticket[0].sign===t.ticketSign?t.ticket:e}))});case o.OPEN_TICKETS_COMPARISON:return s(s({},e),{},{isOpen:!0});case o.CLOSE_TICKETS_COMPARISON:return s(s({},e),{},{isOpen:!1});default:return e}},t.initialState=void 0;var a=n(r(101339)),i=r(986106),o=r(635912);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u={tickets:(0,i.initComparisonTickets)(),isOpen:!1};t.initialState=u},480524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var n=r(747596),a=r(641631),i=r(824203),o=(0,n.getLocalStorageItem)("userTheme")||a.UserTheme.LIGHT;t.initialState=o,t.default=function(e,t){return void 0===e&&(e=o),t.type===i.USER_THEME_SET?t.theme:e}},404230:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.advertisementSaga=_;var a=n(r(385882)),i=r(67085),o=r(826183),c=r(498441),s=r(539786),u=r(424319),l=a.default.mark(g),f=a.default.mark(h),d=a.default.mark(m),p=a.default.mark(y),v=a.default.mark(_);function g(e){var t,r,n,c,f,d,p,v;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.action,r=e.type,n=e.placement,c=e.context,f={category:"ad",label:"placement",action:t},a.next=4,(0,i.select)(u.getDeviceSearchId);case 4:return d=a.sent,a.next=7,(0,i.select)(s.getSearchId);case 7:return p=a.sent,v={device_search_id:d,search_id:p,placement:n,type:r,ad_context:c||null},a.next=11,(0,i.call)(o.sendAnalyticsEventSaga,f,v);case 11:case"end":return a.stop()}}),l)}function h(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.AD_PLACEMENT_REQUESTED,a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.adType,n=t.placement,o=t.context,e.next=3,(0,i.call)(g,{action:"requested",type:r,placement:n,context:o});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}function m(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.AD_PLACEMENT_SHOWED,a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.adType,n=t.placement,o=t.context,e.next=3,(0,i.call)(g,{action:"showed",type:r,placement:n,context:o});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function y(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.AD_PLACEMENT_CLICKED,a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.adType,n=t.placement,o=t.context,e.next=3,(0,i.call)(g,{action:"clicked",type:r,placement:n,context:o});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function _(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(h);case 2:return e.next=4,(0,i.fork)(m);case 4:return e.next=6,(0,i.fork)(y);case 6:case"end":return e.stop()}}),v)}},312982:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=le;var i=n(r(101339)),o=n(r(377754)),c=n(r(385882)),s=r(67085),u=r(721193),l=n(r(531760)),f=n(r(109723)),d=r(149739),p=r(405628),v=n(r(702944)),g=r(543358),h=r(6805),m=r(170769),y=r(255285),_=n(r(474606)),b=r(52367),S=r(423343),T=r(50505),O=r(945143),P=n(r(204333)),E=r(302407),k=r(132032),C=r(779143),w=r(513125),D=r(379803),I=r(223002),A=r(724573),x=r(718123),j=r(418310),R=r(894436),M=r(825310),F=r(999361);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=a.mark(Z),U=a.mark(J),H=a.mark(ee),W=a.mark(te),G=a.mark(re),K=a.mark(ne),V=a.mark(ae),Y=a.mark(ie),q=a.mark(oe),z=a.mark(ce),X=a.mark(se),Q=a.mark(ue),$=a.mark(le);function Z(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(E.PRICE_SWITCHER_CHECK,c.default.mark((function e(t){var r,n,a,i,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.checked,n=t.activeInput,a=t.tab,i=t.month,e.next=3,(0,s.put)((0,k.updateOneWayPrices)(r));case 3:if(o=(0,d.convertDateFieldName)(n),"months"!==a){e.next=7;break}return e.next=7,(0,s.put)((0,k.fetchYearPrices)());case 7:if("calendar"!==a||!i){e.next=10;break}return e.next=10,(0,s.put)((0,k.fetchMonthPrices)(o,i));case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),B)}function J(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(C.SET_HISTORY_ITEM,c.default.mark((function e(t){var r,n,a,i,o,u;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.item,n=t.placeType,e.next=3,(0,s.select)(I.getAviaFormParams);case 3:return a=e.sent,i={iata:r.originCityIata,name:r.originName||"",type:g.PlaceType.City,cityIata:r.originCityIata,countryIata:r.originCountryIata},o={iata:r.destinationCityIata,name:r.destinationName||"",type:g.PlaceType.City,cityIata:r.destinationCityIata,countryIata:r.destinationCountryIata},u=(0,d.updateSegmentDate)(g.DateType.DepartDate,r.departureDate,a.segments),u=(0,d.updateSegmentDate)(g.DateType.ReturnDate,r.returnDate,u),u=(0,d.updateSegmentPlace)(g.PlaceField.Origin,i,u),u=(0,d.updateSegmentPlace)(g.PlaceField.Destination,o,u),e.next=12,(0,s.put)((0,x.reachGoal)("avia_form--autocomplete-history-item-"+n+"--click"));case 12:return e.next=14,(0,s.put)((0,A.updateAviaParams)({segments:u,passengers:r.passengers,tripClass:r.tripClass}));case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),U)}function ee(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(C.AVIA_PLACE_CHANGE,c.default.mark((function e(t){var r,n,a,i,o,u,l;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.place,n=t.placeType,a=(0,p.selectIsPricesWidgetEnabled)(v.default),e.next=4,(0,s.select)(M.getCurrentPage);case 4:return i=e.sent,o="main"===i&&a,e.next=9,(0,s.put)((0,k.resetMonthCalendarPrices)());case 9:if(!r||"history"!==r.type){e.next=13;break}return e.next=12,(0,s.put)((0,j.setHistoryItem)(n,r));case 12:return e.abrupt("return");case 13:return e.next=15,(0,s.select)(I.getAviaFormParams);case 15:return u=e.sent,l=(0,d.updateSegmentPlace)(n,r,u.segments),n!==g.PlaceField.Destination||o||(0,d.isOpenSearchPlace)(r)||(0,d.isEmptyPlace)(r)||((0,d.isOpenSearchDate)((0,d.getDate)(l,g.DateType.DepartDate))&&(l=(0,d.updateSegmentDate)(g.DateType.ReturnDate,void 0,l),l=(0,d.updateSegmentDate)(g.DateType.DepartDate,void 0,l)),(0,d.isOpenSearchDate)((0,d.getDate)(l,g.DateType.ReturnDate))&&(l=(0,d.updateSegmentDate)(g.DateType.ReturnDate,void 0,l))),e.next=20,(0,s.put)((0,A.updateAviaParams)({segments:l}));case 20:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),H)}function te(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(C.SWAP_AVIA_PLACES,c.default.mark((function e(t){var r,n,a,i;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)(I.getAviaFormParams);case 2:return r=e.sent,n=(0,p.selectIsPricesWidgetEnabled)(v.default),a=(0,d.getPlace)(r.segments,g.PlaceField.Destination),a=(0,d.isOpenSearchPlace)(a)||(0,d.isNationalPark)(a)?y.DEFAULT_PLACE:a,i=(0,d.updateSegmentPlace)(g.PlaceField.Origin,a,r.segments),i=(0,d.updateSegmentPlace)(g.PlaceField.Destination,(0,d.getPlace)(r.segments,g.PlaceField.Origin),i),!n&&(0,d.isOpenSearchDate)((0,d.getDate)(i,g.DateType.DepartDate))&&(i=(0,d.updateSegmentDate)(g.DateType.ReturnDate,void 0,i),i=(0,d.updateSegmentDate)(g.DateType.DepartDate,void 0,i)),!n&&(0,d.isOpenSearchDate)((0,d.getDate)(i,g.DateType.ReturnDate))&&(i=(0,d.updateSegmentDate)(g.DateType.ReturnDate,void 0,i)),e.next=12,(0,s.put)((0,k.resetMonthCalendarPrices)());case 12:return e.next=14,(0,s.put)((0,A.updateAviaParams)({segments:i}));case 14:return e.next=16,(0,s.put)((0,x.reachGoal)("avia_form--swapPlaces--click"));case 16:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),W)}function re(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(C.AVIA_FORM_MONTHS_MOUNT,c.default.mark((function e(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.put)((0,k.fetchYearPrices)());case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),G)}function ne(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(C.ACTIVE_DATE_INPUT_CHANGE,c.default.mark((function e(t){var r,n,a;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeInput,n=t.month,!r||!n){e.next=5;break}return a=(0,d.convertDateFieldName)(r),e.next=5,(0,s.put)((0,k.fetchMonthPrices)(a,n));case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),K)}function ae(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(C.CHANGE_DATE_INPUT_MONTH,c.default.mark((function e(t){var r,n,a,i;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.month,n=t.direction,a=t.activeInput,e.next=3,(0,s.delay)(400);case 3:if(!n){e.next=8;break}return e.next=6,(0,s.put)((0,x.reachGoal)("avia_form--departDateMonthChange--click",{month:r,type:n}));case 6:e.next=10;break;case 8:return e.next=10,(0,s.put)((0,x.reachGoal)("avia_form--departDateMonthChange--select",{month:r}));case 10:return i=(0,d.convertDateFieldName)(a),e.next=13,(0,s.put)((0,k.fetchMonthPrices)(i,r));case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),V)}function ie(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(C.AVIA_DATE_CHANGE,c.default.mark((function e(t){var r,n,a,i,o;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dateType,n=t.date,e.next=3,(0,s.select)(I.getAviaFormParams);case 3:return a=e.sent,e.next=6,(0,s.select)(R.getCalendarPrices);case 6:return i=e.sent,o=(0,d.updateSegmentDate)(r,n,a.segments),e.next=10,(0,s.put)((0,A.updateAviaParams)({segments:o}));case 10:if(r!==g.DateType.DepartDate||!Object.keys(i.months.returnDate.withDepart).length){e.next=13;break}return e.next=13,(0,s.put)((0,k.resetMonthCalendarPrices)(g.DateType.ReturnDate));case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Y)}function oe(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(C.CHANGE_SHOULD_SEARCH_HOTELS,c.default.mark((function e(t){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.shouldSearchHotels?_.default.expire(y.SEARCH_HOTELS_COOKIE,{path:"/"}):_.default.set(y.SEARCH_HOTELS_COOKIE,!0,{path:"/",expires:604800});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),q)}function ce(){var e,t,r,n;return c.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.select)(I.getActiveForm);case 2:return e=a.sent,a.next=5,(0,s.select)(S.getMultiwayParams);case 5:return t=a.sent,a.next=8,(0,s.select)(I.getAviaFormParams);case 8:if(r=a.sent,n=!0,"multiway"!==e||!(0,T.isShortUrlPossible)(t,n)){a.next=12;break}return a.abrupt("return",{params:(0,h.mapSearchParamsDate)(t),query:(0,P.default)(t,n).replace("/","")});case 12:if("avia"!==e||!(0,T.isShortUrlPossible)(r,n)){a.next=14;break}return a.abrupt("return",{params:(0,h.mapSearchParamsDate)(r),query:(0,P.default)(r,n).replace("/","")});case 14:return a.abrupt("return",{params:null,query:null});case 15:case"end":return a.stop()}}),z)}function se(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(C.CLOSE_SERP_MODAL,c.default.mark((function e(){var t,r;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,f.default)(["params",O.ExploreFilter.Direct,O.ExploreFilter.WithoutVisa,O.ExploreFilter.Baggage],(0,u.parse)(window.location.search.slice(1))),e.next=3,(0,s.select)(I.getAviaFormParams);case 3:return r=e.sent,e.next=6,(0,s.call)(m.resetPriceTitle);case 6:b.historyAPI.push({search:(0,u.stringify)(t,{skipNull:!0}),state:{type:"formChange",aviaParams:r}});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),X)}function ue(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)([C.UPDATE_AVIA_PARAMS,D.UPDATE_MULTIWAY_PARAMS,w.UPDATE_ACTIVE_FORM],c.default.mark((function e(){var t,r,n,a,i,f,h,m,y,_,S,T,O,P,E,k,C;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,F.parsePathname)(),n=(0,p.selectIsAutosearchEnabled)(v.default),"main"===r){e.next=5;break}return e.abrupt("return");case 5:return a=window.location.search.slice(1),i=window.location.pathname,(f=(0,u.parse)(a)).params,h=(0,o.default)(f,["params"]),e.next=11,(0,s.call)(ce);case 11:if(m=e.sent,y=m.params,_=m.query,S=!(null!==(t=b.historyAPI.location)&&void 0!==t&&t.state),T=L(L({},h),{},{params:_}),O=(0,d.getPlace)((null==y?void 0:y.segments)||[],g.PlaceField.Destination),n||null==h||!h.with_request){e.next=20;break}return b.historyAPI.push({pathname:"search/"+_,search:(0,u.stringify)(h),state:{type:"formChange",aviaParams:y}}),e.abrupt("return");case 20:if(!(0,d.isNationalPark)(O)||null==O||!O.slug||i==="/parks/"+O.slug){e.next=23;break}return b.historyAPI.push({pathname:"/parks/"+O.slug,search:(0,u.stringify)(T),state:{type:"formChange",aviaParams:y}}),e.abrupt("return");case 23:if(!(0,d.isAnywhere)(O)||"/map"===i){e.next=26;break}return b.historyAPI.push({pathname:"/map",search:(0,u.stringify)(T),state:{type:"formChange",aviaParams:y}}),e.abrupt("return");case 26:if(!S){e.next=29;break}return b.historyAPI.replace({pathname:window.location.pathname,search:(0,u.stringify)(T),state:{type:"formChange",aviaParams:y}}),e.abrupt("return");case 29:P=window.location.pathname.startsWith("/map"),E=window.location.pathname.startsWith("/parks"),k=null;try{y&&!(0,l.default)(T,f)?k=T:y&&E&&((0,d.isNationalPark)(O)||(k=T))}catch(e){}k&&(C=window.location.pathname,(P&&!(0,d.isAnywhere)(O)||E&&!(0,d.isNationalPark)(O))&&(C="/"),b.historyAPI.push({pathname:C,search:(0,u.stringify)(k),state:{type:"formChange",aviaParams:y}}));case 34:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),Q)}function le(){return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.fork)(se);case 2:return e.next=4,(0,s.fork)(Z);case 4:return e.next=6,(0,s.fork)(J);case 6:return e.next=8,(0,s.fork)(ee);case 8:return e.next=10,(0,s.fork)(te);case 10:return e.next=12,(0,s.fork)(re);case 12:return e.next=14,(0,s.fork)(ne);case 14:return e.next=16,(0,s.fork)(ae);case 16:return e.next=18,(0,s.fork)(ie);case 18:return e.next=20,(0,s.fork)(oe);case 20:return e.next=22,(0,s.fork)(ue);case 22:case"end":return e.stop()}}),$)}},100270:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.brandBookSaga=l;var i=n(r(385882)),o=r(67085),c=r(826183),s=r(844271),u=a.mark(l);function l(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.USER_SAW_BRAND_BOOK_EASTER_EGG,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.call)(c.sendAnalyticsEventSaga,{category:"easter_egg",label:"brand_book",action:"showed"},{userEvent:!0});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}},549102:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.brandTicketSaga=f;var a=n(r(385882)),i=r(67085),o=r(764461),c=r(460064),s=r(286681),u=r(159058),l=a.default.mark(f);function f(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(s.brandTicketClickSaga);case 2:return e.next=4,(0,i.fork)(u.brandTicketShownSaga);case 4:return e.next=6,(0,i.fork)(o.brandTicketAddedSaga);case 6:return e.next=8,(0,i.fork)(c.brandTicketCampaignsSaga);case 8:case"end":return e.stop()}}),l)}},764461:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.brandTicketAddedSaga=_;var i=n(r(101339)),o=n(r(385882)),c=n(r(971410)),s=r(982175),u=n(r(702944)),l=r(13786),f=r(25614),d=r(145726),p=a.mark(m),v=a.mark(_);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(d.ADD_BRAND_TICKET,o.default.mark((function e(t){var r,n,a,i,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.campaign,n=t.ticket,e.next=3,(0,s.call)((0,c.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.add("avs-feat-brandTicketSpecialOffer",!1,{campaignName:r.name}).update(["avs-feat-brandTicketSpecialOffer"]);case 2:case"end":return e.stop()}}),e)}))));case 3:if(!u.default.isReady("avs-feat-brandTicketSpecialOffer")||!Boolean(u.default.get("avs-feat-brandTicketSpecialOffer"))){e.next=13;break}return a=u.default.get("avs-feat-brandTicketSpecialOffer"),i=h(h({},r),{},{meta:a}),e.next=8,(0,s.select)(f.getTicketBySign,n[0].sign);case 8:return d=e.sent,(p=y(a,n,d))&&(i=h(h({},i),{},{strike_price:p})),e.next=13,(0,s.put)((0,l.updateBrandTicketData)({campaign:i}));case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}var y=function(e,t,r){var n=e.strike_price_from_gate,a=t[1][0].unifiedPrice,i=r[1].find((function(e){return e.agentId===Number(n)&&e.unifiedPrice>a}));return null==i?void 0:i.unifiedPrice};function _(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.fork)(m);case 2:case"end":return e.stop()}}),v)}},460064:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.brandTicketCampaignsSaga=d;var i=n(r(385882)),o=r(982175),c=r(966326),s=r(486362),u=a.mark(f),l=a.mark(d);function f(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(s.UPDATE_SEARCH_META,i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.meta.brand_ticket_campaigns,n=void 0===r?[]:r,e.next=3,(0,o.put)((0,c.updateBrandTicketCampaigns)(n));case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(f);case 2:case"end":return e.stop()}}),l)}},286681:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.brandTicketClickSaga=h;var i=n(r(385882)),o=r(982175),c=r(676930),s=r(498441),u=r(587273),l=r(107),f=r(185387),d=r(145726),p=a.mark(g),v=a.mark(h);function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(d.BRAND_TICKET_CLICK,i.default.mark((function e(){var t,r,n,a,d,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(l.getBrandTicketData);case 2:return t=e.sent,r=t.ticket[1][0],e.next=6,(0,o.select)(l.getBrandTicketMetricsData);case 6:if(!(n=e.sent)){e.next=11;break}return a=(0,u.isMobile)()?s.AdvertisementSlotName.Product0Mobile:s.AdvertisementSlotName.Product0Desktop,e.next=11,(0,o.put)((0,c.adPlacementClicked)("AdTopPlacement",a,n));case 11:return e.next=13,(0,o.select)((function(e){return(0,f.getDeeplinkFn)(e,t.ticket[0],t.campaign)}));case 13:d=e.sent,(p=window.open(d(r),"_blank"))&&p.focus();case 16:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(g);case 2:case"end":return e.stop()}}),v)}},159058:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.brandTicketShownSaga=h;var i=n(r(385882)),o=r(982175),c=r(676930),s=r(498441),u=r(587273),l=r(13786),f=r(107),d=r(145726),p=a.mark(g),v=a.mark(h);function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(d.BRAND_TICKET_SHOWN,i.default.mark((function e(){var t,r,n,a,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(f.getBrandTicketData);case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,(0,o.put)((0,l.setBrandTicketShown)());case 6:t.campaign.pixel_adriver&&(r=new Image,(n=t.campaign.pixel_adriver).replace("http://","https://"),n=n.replace("%rnd%",Math.floor(1e9*Math.random()).toString()),r.setAttribute("src",n));case 7:return e.next=9,(0,o.select)(f.getBrandTicketMetricsData);case 9:if(!(a=e.sent)){e.next=14;break}return d=(0,u.isMobile)()?s.AdvertisementSlotName.Product0Mobile:s.AdvertisementSlotName.Product0Desktop,e.next=14,(0,o.put)((0,c.adPlacementShowed)("AdTopPlacement",d,a));case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(g);case 2:case"end":return e.stop()}}),v)}},6805:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.browserHistorySaga=_,t.mapSearchParamsDate=void 0;var i=n(r(101339)),o=n(r(385882)),c=r(67085),s=n(r(702944)),u=n(r(772667)),l=r(405628),f=r(639662),d=r(197783),p=r(734682);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=a.mark(y),m=a.mark(_);function y(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(d.UPDATE_BROWSER_HISTORY,o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,l.selectIsAutosearchEnabled)(s.default),r=(0,u.default)(window.location.pathname),!t){e.next=6;break}return e.next=5,(0,c.put)((0,f.startAutosearch)());case 5:return e.abrupt("return");case 6:return e.next=8,(0,c.put)((0,p.startSearch)(b(r)));case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function _(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(y);case 2:case"end":return e.stop()}}),m)}var b=function(e){if(!e||!e.segments)return e;var t=e.segments.map((function(e){var t=e.date;return e.date&&"string"==typeof e.date&&(t=new Date(e.date)),g(g({},e),{},{date:t})}));return g(g({},e),{},{segments:t})};t.mapSearchParamsDate=b},453637:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=k;var i=n(r(385882)),o=n(r(101339)),c=n(r(10520)),s=r(740537),u=r(67085),l=r(543358),f=r(149739),d=n(r(860606)),p=r(302407),v=r(223002),g=r(894436),h=r(41889),m=a.mark(P),y=a.mark(E),_=a.mark(k);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T={},O=function(e,t,r){var n=t.reduce((function(t,r){var n,a,i,o=new Date(r.depart_date),c=(0,s.format)(o,"YYYY-MM-DD"),u=c.substr(0,7)+"-01",f=r.return_date?new Date(r.return_date):void 0,d=((n={originalPrice:r.price,isMin:!1,price:r.price})[l.DateType.DepartDate]=o,n[l.DateType.ReturnDate]=f,n);if(e===l.DateType.ReturnDate){var p,v;if(!f)return t;var g=(0,s.format)(f,"YYYY-MM-DD"),h=g.substr(0,7)+"-01";return S(S({},t),{},((v={})[h]=S(S({},t[h]),{},((p={})[g]=d,p)),v))}return S(S({},t),{},((i={})[u]=S(S({},t[u]),{},((a={})[c]=d,a)),i))}),{});return Object.keys(n).forEach((function(e){var t=Object.values(n[e]).map((function(e){return e.price})).sort((function(e,t){return e-t})),r=(0,h.percentile)(t,.2);Object.keys(n[e]).forEach((function(t){n[e][t].isMin=n[e][t].price<=r}))})),r.forEach((function(e){n[e]||(n[e]={})})),n};function P(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(p.FETCH_YEAR_PRICES,i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.put)({type:p.SET_YEAR_CALENDAR_PRICES,prices:{}});case 2:return e.next=4,(0,u.select)(v.getAviaFormPlace,l.PlaceField.Origin);case 4:if(e.sent.iata){e.next=8;break}e.next=33;break;case 8:return e.next=10,(0,u.put)({type:"SHOW_CALENDAR_LOADER"});case 10:return e.prev=10,e.next=13,(0,u.select)(g.getYearPricesUrl);case 13:if(t=e.sent,e.t0=T[t],e.t0){e.next=19;break}return e.next=18,(0,u.call)(c.default,t);case 18:e.t0=e.sent;case 19:return r=e.t0,n=r.data.year,e.next=23,(0,u.put)({type:p.SET_YEAR_CALENDAR_PRICES,prices:n});case 23:T[t]=r,e.next=29;break;case 26:e.prev=26,e.t1=e.catch(10),d.default.warn("Month picker prices error",e.t1);case 29:return e.prev=29,e.next=32,(0,u.put)({type:"HIDE_CALENDAR_LOADER"});case 32:return e.finish(29);case 33:case"end":return e.stop()}}),e,null,[[10,26,29,33]])})));case 2:case"end":return e.stop()}}),m)}function E(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(p.FETCH_MONTH_PRICES,i.default.mark((function e(t){var r,n,a,o,s,d,h,m,y,_,b,T,P;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dateType,n=t.fromMonth,e.next=3,(0,u.select)(v.getAviaFormParams);case 3:return a=e.sent,o=(0,f.getPlace)(a.segments,l.PlaceField.Destination),e.next=7,(0,u.select)(g.getCalendarPrices);case 7:if(s=e.sent,d=!(!a.segments.length||!a.segments[0].date),h=s.oneWayPrices,o.type!==l.PlaceType.City&&o.type!==l.PlaceType.Airport||!o.cityIata&&!o.iata){e.next=39;break}if(m=(0,f.getPriceTypeFromParams)(r,h,d)){e.next=14;break}return e.abrupt("return");case 14:return y=s.months[r][m],e.next=17,(0,u.select)(g.getMonthsToFetch,r,n);case 17:if(!(_=e.sent).length){e.next=39;break}return e.next=21,(0,u.put)({type:"SHOW_CALENDAR_LOADER"});case 21:return e.prev=21,e.next=24,(0,u.select)(g.getMonthPricesUrl,r,n);case 24:return b=e.sent,e.next=27,(0,u.call)(c.default,b);case 27:return T=e.sent,P=S(S({},y),O(r,T.data.prices,_)),e.next=31,(0,u.put)({type:p.SET_MONTH_CALENDAR_PRICES,monthsPrices:P,dateType:r,oneWay:h,withDepart:d});case 31:return e.next=33,(0,u.put)({type:"HIDE_CALENDAR_LOADER"});case 33:e.next=39;break;case 35:return e.prev=35,e.t0=e.catch(21),e.next=39,(0,u.put)({type:"HIDE_CALENDAR_LOADER"});case 39:case"end":return e.stop()}}),e,null,[[21,35]])})));case 2:case"end":return e.stop()}}),y)}function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fork)(E);case 2:return e.next=4,(0,u.fork)(P);case 4:case"end":return e.stop()}}),_)}},961237:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.cashbackInformerShowEventSaga=p;var i=n(r(385882)),o=r(982175),c=r(215196),s=r(125634),u=r(826183),l=a.mark(d),f=a.mark(p);function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.CASHBACK_INFORMER_IN_VIEW,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,n={category:"search",label:"cashback_prop",action:"showed"},a={source:r},e.next=5,(0,o.call)(u.sendAnalyticsEventSaga,n,a);case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),l)}function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.fork)(d);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),c.ErrorsTracker.warning("An error occurred during cashbackInformerShowEventSaga execution",e.t0);case 8:case"end":return e.stop()}}),f,null,[[0,5]])}},443247:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.cheapestStopsSaga=m;var i=n(r(385882)),o=n(r(101339)),c=r(67085),s=r(586391),u=r(95419),l=r(340227),f=r(25614),d=a.mark(h),p=a.mark(m);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(l.UPDATE_TICKETS_AND_DICTS,i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)(u.getCheapestStops);case 2:return t=e.sent,e.next=5,(0,c.select)(f.getTicketsTuples);case 5:return r=e.sent,n=r.reduce((function(e,t){var r=t[0].max_stops,n=t[1][0].unifiedPrice;return(!e[r]||n<e[r])&&(e[r]=n),e}),g({},t)),e.next=9,(0,c.put)((0,s.updateCheapestStops)(n));case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function m(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(h);case 2:case"end":return e.stop()}}),p)}},278021:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.currencySaga=_;var i=n(r(385882)),o=r(67085),c=r(173400),s=r(47379),u=r(754266),l=r(386452),f=r(520072),d=r(637745),p=r(734682),v=a.mark(m),g=a.mark(y),h=a.mark(_);function m(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)((0,c.observableToChannel)(l.$currency.updates),i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,p.restartSearch)("currency_change"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),v)}function y(){var e,t,r,n,a;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/currency/show_confirmation_popup");case 2:e=i.sent;case 3:return i.prev=4,i.next=7,(0,o.take)(e);case 7:return t=i.sent,i.next=10,(0,o.put)((0,f.openPopup)("currencyChange"));case 10:return i.next=12,(0,o.take)(d.CLOSE_POPUP);case 12:if(r=i.sent,n=r.popupType,a=r.payload,"currencyChange"!==n||"confirmed"!==(null==a?void 0:a.type)){i.next=18;break}return i.next=18,(0,u.emitSeleneEvent)({type:"service/helios/currency/currency_change_confirmed",payload:t});case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(4),e.close();case 23:i.next=3;break;case 25:case"end":return i.stop()}}),g,null,[[4,20]])}function _(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(m);case 2:return e.next=4,(0,o.fork)(y);case 4:case"end":return e.stop()}}),h)}},591041:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.debugSaga=I;var i=n(r(385882)),o=r(62495),c=r(67085),s=r(52210),u=r(173400),l=r(863974),f=n(r(702944)),d=r(323057),p=r(754266),v=r(400587),g=r(131052),h=r(27908),m=r(734682),y=a.mark(k),_=a.mark(C),b=a.mark(w),S=a.mark(D),T=a.mark(I),O=l.userService.$authStatus,P=l.userService.$isAviasalesEmail,E=l.userService.userLoggedOut;function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(v.RESET_DEBUG_SEARCH_SETTINGS,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)(g.getDebugSettings);case 2:return t=e.sent,e.next=5,(0,c.call)(s.setDebugSettingToClient,t);case 5:return e.next=7,(0,c.call)(p.emitSeleneEvent,{type:"service/helios/serp/debug_settings/search_settings_reset"});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),y)}function C(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(v.SET_DEBUG_SETTING,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.name,t.value,e.next=3,(0,c.select)(g.getDebugSettings);case 3:return r=e.sent,e.next=6,(0,c.call)(s.setDebugSettingToClient,r);case 6:return e.next=8,(0,c.call)(p.emitSeleneEvent,{type:"service/helios/serp/debug_settings/changed",payload:{settings:r}});case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function w(){var e,t,r,n,a;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=(0,o.eventChannel)((function(e){return O.watch((function(t){t===l.AuthStatus.Authorized&&e(t)})).unsubscribe}));case 1:return i.next=4,(0,c.take)(e);case 4:return t=P.getState(),r=f.default.is("avs-feat-userProfile"),n=t||d.isTrustedEnv||!r,i.next=9,(0,c.select)(g.getDebugSettings);case 9:if(a=i.sent,!n||"gateErrors"in a){i.next=15;break}return i.next=13,(0,c.put)((0,h.setDebugSetting)("gateErrors",!0));case 13:return i.next=15,(0,c.put)((0,m.restartSearch)("debug_settings"));case 15:i.next=1;break;case 17:case"end":return i.stop()}}),b)}function D(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,u.observableToChannel)(E);case 1:return t.next=4,(0,c.take)(e);case 4:return t.next=6,(0,c.put)((0,h.clearDebugSearchSettings)());case 6:return t.next=8,(0,c.call)(p.emitSeleneEvent,{type:"service/helios/serp/debug_settings/reset"});case 8:(0,s.clearDebugSettingsFromClient)(),t.next=1;break;case 11:case"end":return t.stop()}}),S)}function I(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(k);case 2:return e.next=4,(0,c.fork)(C);case 4:return e.next=6,(0,c.fork)(w);case 6:return e.next=8,(0,c.fork)(D);case 8:case"end":return e.stop()}}),T)}},316629:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var i=n(r(385882)),o=r(67085),c=r(39569),s=r(224049),u=r(260159),l=r(25614),f=r(19678),d=a.mark(v),p=a.mark(g);function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.SET_ERROR,i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.searchClientError,e.next=3,(0,o.select)(l.getTicketsTotalCount);case 3:if(!(e.sent>0)){e.next=10;break}return e.next=7,(0,o.put)((0,u.updateSearchStatus)(c.SearchStatus.Finished));case 7:return e.next=9,(0,o.put)((0,f.setErrorDuringSearch)());case 9:return e.abrupt("return");case 10:return e.next=12,(0,o.put)((0,u.updateSearchStatus)(c.SearchStatus.Failed));case 12:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(v);case 2:case"end":return e.stop()}}),p)}},943560:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.errorDuringSearchSaga=_;var i=n(r(385882)),o=n(r(114558)),c=r(67085),s=n(r(275347)),u=r(39569),l=r(192980),f=r(637928),d=r(786275),p=r(718123),v=r(734682),g=r(990647),h=a.mark(y),m=a.mark(_);function y(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(d.SET_ERROR_DURING_SEARCH,i.default.mark((function e(){var t,r,n,a,d,h,m;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)((function(e){return e.currentPage}));case 2:if("search"!==e.sent){e.next=34;break}return t="errorDuringSearch",e.next=7,(0,c.call)(l.showNotification,{id:t,message:s.default.t("notify_error_during_search:description"),autoClose:!1,icon:"warning",buttons:{reload:{text:s.default.t("notify_error_during_search:button")}}});case 7:return e.next=9,(0,c.call)(f.observableToChannel,l.notificationButtonClicked);case 9:r=e.sent;case 10:return e.next=13,(0,c.race)([(0,c.take)(r),(0,c.take)(g.UPDATE_SEARCH_STATUS)]);case 13:if(a=e.sent,d=(0,o.default)(a,2),h=d[0],!(m=d[1])){e.next=23;break}if(m.status!==u.SearchStatus.Started){e.next=22;break}return e.next=21,(0,c.call)(l.removeNotification,t);case 21:return e.abrupt("return");case 22:return e.abrupt("continue",10);case 23:if((null==h||null===(n=h.value)||void 0===n?void 0:n.notificationId)===t){e.next=25;break}return e.abrupt("continue",10);case 25:return e.next=27,(0,c.call)((function(){return window.scroll({top:0,left:0,behavior:"smooth"})}));case 27:return e.next=29,(0,c.put)((0,v.restartSearch)("refresh_error"));case 29:return e.next=31,(0,c.put)((0,p.reachGoal)("NOTIFY_ERROR_DURING_SEARCH_REFRESH"));case 31:return e.abrupt("return");case 34:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function _(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(y);case 2:case"end":return e.stop()}}),m)}},110737:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.exploreSaga=M;var i=n(r(385882)),o=n(r(114558)),c=r(67085),s=n(r(193578)),u=n(r(299657)),l=r(39569),f=r(543358),d=r(405628),p=r(61303),v=r(113790),g=r(779143),h=r(825310),m=n(r(702944)),y=r(513125),_=r(223002),b=r(977485),S=a.mark(w),T=a.mark(A),O=a.mark(x),P=a.mark(j),E=a.mark(R),k=a.mark(M),C=function(e,t){return!((null==t?void 0:t.type)!==l.PlaceType.Anywhere&&(null==e||!e.iata||null==t||!t.iata||(0,s.default)([e.iata,e.cityIata],[t.iata,t.cityIata]).filter((function(e){return Boolean(e)})).length>0))};function w(e){var t,r,n,a,s,l,p;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.segments&&!(0,u.default)(e.segments)){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,(0,c.select)(h.getCurrentPage);case 4:return t=i.sent,i.next=7,(0,c.select)(_.getActiveForm);case 7:if(r=i.sent,"main"===t&&"avia"===r){i.next=10;break}return i.abrupt("return");case 10:if((0,d.selectHasExploreWidgets)(m.default)){i.next=13;break}return i.abrupt("return");case 13:if(n=(0,o.default)(e.segments,1),a=n[0],s=a[f.PlaceField.Origin],l=a[f.PlaceField.Destination],p=C(s,l),document.documentElement.classList.toggle("--explore",p),document.documentElement.classList.toggle("--compact-form",p),!p){i.next=24;break}return i.next=22,(0,c.put)((0,b.collapsePageHeader)());case 22:i.next=26;break;case 24:return i.next=26,(0,c.put)((0,b.expandPageHeader)());case 26:case"end":return i.stop()}}),S)}var D=function(e){return Boolean(null==e?void 0:e.iata)},I=function(e){return Boolean(!(null!=e&&e.iata)&&(null==e?void 0:e.type)!==l.PlaceType.Anywhere)};function A(e){var t,r,n,a,s,l,p;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.segments&&!(0,u.default)(e.segments)){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,(0,c.select)(h.getCurrentPage);case 4:return t=i.sent,i.next=7,(0,c.select)(_.getActiveForm);case 7:if(r=i.sent,"main"===t&&"avia"===r){i.next=10;break}return i.abrupt("return");case 10:if((0,d.selectHasMainContent)(m.default)){i.next=13;break}return i.abrupt("return");case 13:n=(0,o.default)(e.segments,1),a=n[0],s=a[f.PlaceField.Origin],l=a[f.PlaceField.Destination],p=D(s)&&I(l),document.documentElement.classList.toggle("--main",p);case 18:case"end":return i.stop()}}),T)}function x(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(g.UPDATE_AVIA_PARAMS,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.next=3,w(r);case 3:return e.next=5,A(r);case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}function j(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(v.TRIP_PARAMS_PARSED,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.next=3,w(r);case 3:return e.next=5,A(r);case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}function R(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(y.UPDATE_PAGE_HEADER,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)(_.getActiveForm);case 2:if("avia"===e.sent){e.next=10;break}return document.documentElement.classList.remove("--explore"),document.documentElement.classList.remove("--compact-form"),e.next=8,(0,c.put)((0,b.expandPageHeader)());case 8:e.next=15;break;case 10:return e.next=12,(0,c.select)(p.getAviaParams);case 12:return t=e.sent,e.next=15,w(t);case 15:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),E)}function M(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(x);case 2:return e.next=4,(0,c.fork)(j);case 4:return e.next=6,(0,c.fork)(R);case 6:case"end":return e.stop()}}),k)}},49040:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.activateSubscriptionEmail=ne,t.default=ue,t.fetchSubscriptionsOnUserInfoSuccess=oe,t.openPriceAlertSubscriptionModal=ce,t.showErrorNotify=ie,t.showSuccessPopup=ae;var i=n(r(101339)),o=n(r(385882)),c=r(67085),s=n(r(275347)),u=r(62495),l=r(610532),f=r(391241),d=r(20344),p=n(r(702944)),v=n(r(101785)),g=r(441412),h=r(595173),m=r(168585),y=r(405628),_=r(192980),b=r(863974),S=r(73292),T=n(r(633869)),O=r(767747),P=r(653846),E=r(841511),k=r(520072),C=r(150834),w=r(617853),D=r(336451),I=r(742029),A=r(430162),x=r(680013),j=r(38062),R=r(539786);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=a.mark(te),L=a.mark(re),B=a.mark(ne),U=a.mark(ae),H=a.mark(ie),W=a.mark(oe),G=a.mark(ce),K=a.mark(se),V=a.mark(ue),Y=b.userService.$authStatus,q=b.userService.$emailActivationError,z=b.userService.$isAuthorized,X=b.userService.$userCandidateEmail,Q=b.userService.$userEmailActivationStatus,$=b.userService.activateEmail,Z=function(e){var t=e.match(v.default);if(t&&t.length)return"flex_subscr_"+t[0]},J=function(e,t){return{iata:null==e?void 0:e[t],country:null==e?void 0:e[t+"_country"],name:null==e?void 0:e[t+"_name"],placeType:null==e?void 0:e[t+"_type"],cases:null==e?void 0:e[t+"_cases"]}},ee=function(e){var t=null==e?void 0:e.segments[0],r=null==e?void 0:e.segments[1];return t?{origin:J(t,l.PlaceField.Origin),destination:J(t,l.PlaceField.Destination),departureDate:null!=t&&t.date?t.date:"",returnDate:null!=r&&r.date?r.date:""}:{}};function te(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLeading)(O.FOLLOW_THE_PRICE,o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=O.SubscriptionsPopupTriggerType.Follow,!z.getState()){e.next=20;break}return e.next=4,(0,c.select)(x.getDirectionSubscriptionsFetchStatus);case 4:r=e.sent;case 5:if(r===d.RequestStatus.Success){e.next=13;break}return e.next=8,(0,c.take)(P.DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS);case 8:return e.next=10,(0,c.select)(x.getDirectionSubscriptionsFetchStatus);case 10:r=e.sent,e.next=5;break;case 13:return e.next=15,(0,c.select)(x.getCurrentDirectionSubscription);case 15:if(!e.sent){e.next=20;break}return e.next=19,(0,c.put)((0,C.unsubscribeCurrentDirection)(t));case 19:return e.abrupt("return");case 20:return e.next=22,(0,c.fork)(ce,t);case 22:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),N)}function re(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLeading)(O.SUSPEND_SUBSCRIPTION,o.default.mark((function e(t){var r,n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.trigger,e.next=3,(0,c.select)(A.getSearchParams);case 3:if("multiway"!==(null==(n=e.sent)?void 0:n.tripType)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,c.select)(I.hasOpenedPopupExcludingTicketPopups);case 8:if(!e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,c.call)(Z,window.location.pathname);case 13:if(!(a=e.sent)){e.next=20;break}return e.next=17,(0,c.call)(T.default.getItem,a);case 17:if(!e.sent){e.next=20;break}return e.abrupt("return");case 20:if(!z.getState()){e.next=37;break}return e.next=23,(0,c.select)(x.getDirectionSubscriptionsFetchStatus);case 23:i=e.sent;case 24:if(i===d.RequestStatus.Success){e.next=32;break}return e.next=27,(0,c.take)(P.DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS);case 27:return e.next=29,(0,c.select)(x.getDirectionSubscriptionsFetchStatus);case 29:i=e.sent,e.next=24;break;case 32:return e.next=34,(0,c.select)(x.getCurrentDirectionSubscription);case 34:if(!e.sent){e.next=37;break}return e.abrupt("return");case 37:return e.next=39,(0,c.fork)(ce,r);case 39:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),L)}function ne(e){var t,r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=Q.getState(),r=X.getState(),e!==r||t!==f.EmailStatus.Active){n.next=4;break}return n.abrupt("return",{status:d.RequestStatus.Success});case 4:return n.prev=4,n.next=7,(0,c.call)($,e);case 7:return n.abrupt("return",{status:d.RequestStatus.Success});case 10:return n.prev=10,n.t0=n.catch(4),n.abrupt("return",{status:d.RequestStatus.Failure,message:q.getState()});case 13:case"end":return n.stop()}}),B,null,[[4,10]])}function ae(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Q.getState(),t.next=3,(0,c.put)((0,k.openPopup)("subscriptionsSuccess",{type:e===f.EmailStatus.Active?g.SubscriptionsSuccessPopupType.FullSuccess:g.SubscriptionsSuccessPopupType.NeedToActivate}));case 3:return t.next=5,(0,c.take)(O.SUBSCRIPTIONS_POPUP_CLOSE);case 5:return t.next=7,(0,c.put)((0,k.closePopup)("subscriptionsSuccess"));case 7:case"end":return t.stop()}}),U)}function ie(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.call)(_.showNotification,{id:"create_subscription_error",message:s.default.t("create_subscription:errors.generalError"),buttons:{ok:{text:s.default.t("create_subscription:notifies.okBtn")}},autoClose:!1,icon:"error"});case 2:case"end":return e.stop()}}),H)}function oe(){var e,t,r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=(0,u.eventChannel)((function(e){return Y.watch((function(t){t===b.AuthStatus.Authorized&&e(t)})).unsubscribe}));case 1:return n.next=4,(0,c.take)(e);case 4:return n.next=6,(0,c.select)((function(e){return e.currentPage}));case 6:if(t=n.sent,r=(0,y.selectIsAutosearchEnabled)(p.default),"search"!==t&&!r){n.next=13;break}return n.next=11,(0,c.call)(S.subscriptionsService.inputs.fetchSubscriptions);case 11:return n.next=13,(0,c.put)((0,D.fetchAllSubscriptions)());case 13:n.next=1;break;case 15:case"end":return n.stop()}}),W)}function ce(e,t){var r,n,a,i,s,u,l;return o.default.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.select)(R.getSearchId);case 2:return r=o.sent,o.next=5,(0,c.select)(A.getSearchParams);case 5:return n=o.sent,o.next=8,(0,c.select)(h.getIsBaggageFilterSelected);case 8:return a=o.sent,o.next=11,(0,c.select)(j.getCheapestTicketPrice);case 11:return i=o.sent,o.next=14,(0,c.select)(m.getTransfersCountFilterState);case 14:return s=o.sent,u=1===(null==s?void 0:s.length)&&s.includes("0"),l=p.default.is("avs-feat-subscription"),o.next=19,(0,c.select)(x.getCurrentDirectionSubscription);case 19:if(o.sent||!l){o.next=23;break}return o.next=23,(0,c.put)((0,E.showPriceAlertSubscription)({eventData:{searchId:r,pageName:"search",popupShowedSource:e,loginSource:null!=t?t:"widget_subscription"},searchData:F({tripClass:null==n?void 0:n.tripClass,passengers:null==n?void 0:n.passengers,baggage:a,price:i,directOnly:u},ee(n))}));case 23:case"end":return o.stop()}}),G)}function se(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLeading)(O.PRICE_ALERT_SUBSCRIPTION_CREATED,o.default.mark((function e(t){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.payload).isFlexSubscription){e.next=12;break}return e.next=4,(0,c.call)(Z,window.location.pathname);case 4:if(!(n=e.sent)){e.next=8;break}return e.next=8,(0,c.call)(T.default.setItem,n,"1");case 8:return e.next=10,(0,c.put)((0,w.addFlexibleSubscriptions)(r.subscription));case 10:e.next=14;break;case 12:return e.next=14,(0,c.put)((0,C.addDirectionSubscriptions)(r.subscription));case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),K)}function ue(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(te);case 2:return e.next=4,(0,c.fork)(re);case 4:return e.next=6,(0,c.fork)(oe);case 6:return e.next=8,(0,c.fork)(se);case 8:case"end":return e.stop()}}),V)}},110345:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.facebookPixelSaga=y;var a=n(r(385882)),i=r(982175),o=n(r(533909)),c=r(238841),s=r(358098),u=a.default.mark(v),l=a.default.mark(g),f=a.default.mark(h),d=a.default.mark(m),p=a.default.mark(y);function v(e,t){return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!window.fbq){r.next=5;break}return r.next=4,(0,i.call)(window.fbq,"trackSingle","1766865490309293",e,t);case 4:return r.abrupt("return");case 5:return r.next=7,(0,i.delay)(700);case 7:r.next=0;break;case 9:case"end":return r.stop()}}),u)}function g(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.FB_PIXEL_START_SEARCH,a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null;case 1:if(!(0,o.default)(r)){e.next=11;break}return e.next=4,(0,i.select)(s.getFBPixelStartSearchData);case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("break",11);case 7:return e.next=9,(0,i.delay)(700);case 9:e.next=1;break;case 11:return e.next=13,(0,i.fork)(v,"Search",r);case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),l)}function h(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.FB_PIXEL_VIEW_CONTENT,a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,e.next=3,(0,i.select)(s.getFBPixelViewContentData,r);case 3:return n=e.sent,e.next=6,(0,i.fork)(v,"ViewContent",n);case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}function m(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.FB_PIXEL_INITIATE_CHECKOUT,a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,n=t.proposalId,e.next=3,(0,i.select)(s.getFBPixelInitiateCheckoutData,r,n);case 3:return o=e.sent,e.next=6,(0,i.fork)(v,"InitiateCheckout",o);case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function y(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(g);case 2:return e.next=4,(0,i.fork)(h);case 4:return e.next=6,(0,i.fork)(m);case 6:case"end":return e.stop()}}),p)}},480470:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.filtersSaga=p;var i=n(r(385882)),o=r(982175),c=r(39569),s=r(990647),u=r(520072),l=a.mark(d),f=a.mark(p);function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.UPDATE_SEARCH_STATUS,i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.status!==c.SearchStatus.Expired){e.next=4;break}return e.next=4,(0,o.put)((0,u.closePopup)("filters"));case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),l)}function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(d);case 2:case"end":return e.stop()}}),f)}},963657:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.flagrSaga=p;var i=n(r(385882)),o=r(982175),c=n(r(702944)),s=r(294317),u=r(430162),l=a.mark(d),f=a.mark(p);function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(s.UPDATE_SEARCH_PARAMS_SEGMENTS,i.default.mark((function e(){var t,r,n,a,s,l,f,d,p,v,g;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(u.getSearchParams);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:r=t.segments[0],n=r.origin,a=r.origin_country,s=r.origin_countryIata,l=r.destination,f=r.destination_country,d=r.destination_countryIata,p=r.date,v=a===f?"domestic":"international",g=Math.round((new Date(p).getTime()-Date.now())/864e5),c.default.updateBasicContext({origin:n,destination:l,originCountry:a||s,destinationCountry:f||d,tripType:t.tripType,directionType:v,searchDepth:g});case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),l)}function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(d);case 2:case"end":return e.stop()}}),f)}},679277:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=R;var i=n(r(377754)),o=n(r(385882)),c=n(r(101339)),s=n(r(10520)),u=r(62495),l=r(67085),f=r(702145),d=r(817431),p=r(667929),v=r(729801),g=r(565569),h=r(742029),m=r(520072),y=r(637745),_=a.mark(D),b=a.mark(I),S=a.mark(A),T=a.mark(x),O=a.mark(j),P=a.mark(R);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C="https://agent-feedback."+g.API_HOST+"/apply";function w(e,t){return void 0===t&&(t=!1),(0,u.eventChannel)((function(r){return window.addEventListener(e,r,t),function(){return window.removeEventListener(e,r,t)}}))}function D(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.call)(w,"message");case 2:return e=t.sent,t.next=5,(0,l.spawn)(o.default.mark((function t(){var r,n,a,i,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,l.take)(e);case 3:return r=t.sent,n=r.data,a=r.origin,t.next=8,(0,l.select)(h.getPopupData,"gateFeedback");case 8:if(i=t.sent,c=null!=n&&n.clickId?n.clickId:null==n?void 0:n.str_click_id,a!==window.location.origin||!c){t.next=13;break}return t.next=13,(0,l.put)((0,m.updatePopupData)("gateFeedback",k(k({},i),{},{clickId:c})));case 13:t.next=0;break;case 15:case"end":return t.stop()}}),t)})));case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),_)}function I(){var e;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.takeEvery)(y.OPEN_POPUP,o.default.mark((function t(r){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("gateFeedback"!==r.popupType){t.next=4;break}return t.next=3,(0,l.call)(D);case 3:e=t.sent;case 4:case"end":return t.stop()}}),t)})));case 2:return t.next=4,(0,l.takeEvery)(y.CLOSE_POPUP,(function(t){"gateFeedback"===t.popupType&&void 0!==e&&e.close()}));case 4:case"end":return t.stop()}}),b)}function A(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeLeading)(d.UPDATE_GATE_FEEDBACK_DATA,o.default.mark((function e(t){var r,n,a,c,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,e.next=3,(0,l.select)(h.getPopupData,"gateFeedback");case 3:return n=e.sent,a=r.answers,c=(0,i.default)(r,["answers"]),s=k(k(k({},n),c),{},{answers:a?[].concat(n.answers,a):n.answers}),e.next=8,(0,l.put)((0,m.updatePopupData)("gateFeedback",s));case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),S)}function x(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeLeading)(d.SUBMIT_GATE_FEEDBACK,o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.put)((0,p.sendGateFeedback)());case 2:return e.next=4,(0,l.put)((0,m.closePopup)("gateFeedback"));case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),T)}function j(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeLeading)(d.SEND_GATE_FEEDBACK,o.default.mark((function e(){var t,r,n,a,i,c,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.select)(h.getPopupData,"gateFeedback");case 3:if(!(t=e.sent)){e.next=9;break}return r=t.gateId,n=t.searchId,a=t.clickId,i=t.host,c=t.answers,u=(0,f.convertToSnakeCase)({gateId:r,searchId:n,clickId:a,answers:c,host:i}),e.next=9,(0,l.call)(s.default.post,C,u);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn("Could not send gate feedback data",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));case 2:case"end":return e.stop()}}),O)}function R(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.fork)(I);case 2:return e.next=4,(0,l.fork)(A);case 4:return e.next=6,(0,l.fork)(x);case 6:return e.next=8,(0,l.fork)(j);case 8:return e.next=10,(0,l.fork)(v.feedbackStartedEvent);case 10:return e.next=12,(0,l.fork)(v.feedbackAnsweredEvent);case 12:case"end":return e.stop()}}),P)}},592261:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var i=n(r(385882)),o=r(67085),c=n(r(382697)),s=r(578377),u=r(219270),l=r(536842),f=r(734682),d=r(718123),p=a.mark(h),v=a.mark(m),g=a.mark(y);function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.VERIFY_GOOGLE_RECAPTCHA,i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.token,e.next=3,(0,o.put)((0,d.reachGoal)("google-recaptcha-server-validation-on-search--started"));case 3:return e.next=5,(0,o.call)(s.verifyGoogleRecaptchaOnServer,r);case 5:if(!((n=e.sent)&&n.data&&n.data.token)){e.next=18;break}return e.next=9,(0,o.put)((0,d.reachGoal)("google-recaptcha-server-validation-on-search--passed"));case 9:return c.default.set(u.GOOGLE_RECAPTCHA_COOKIE_NAME,n.data.token,{path:"/"}),e.next=12,(0,o.call)(s.removeRecaptchaStyles);case 12:return e.next=14,(0,o.delay)(1e3);case 14:return e.next=16,(0,o.put)((0,f.restartSearch)("search_captcha"));case 16:e.next=23;break;case 18:return e.next=20,(0,o.put)((0,d.reachGoal)("google-recaptcha-server-validation-on-search--failed"));case 20:return e.next=22,(0,o.delay)(1e3);case 22:window.location.reload();case 23:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function m(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.GOOGLE_RECAPTCHA_SHOWN,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,d.reachGoal)("google-recaptcha-client-validation-on-search--shown"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),v)}function y(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(h);case 2:return e.next=4,(0,o.fork)(m);case 4:case"end":return e.stop()}}),g)}},262100:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.highlightedTicketSaga=M;var i=n(r(385882)),o=r(67085),c=r(242608),s=r(47379),u=r(718123),l=r(952801),f=r(496630),d=r(658296),p=r(454184),v=r(223969),g=r(373662),h=a.mark(k),m=a.mark(C),y=a.mark(w),_=a.mark(D),b=a.mark(I),S=a.mark(A),T=a.mark(x),O=a.mark(j),P=a.mark(R),E=a.mark(M);function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(l.SHOW_HIGHLIGHTED_TICKET,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,u.reachGoal)("highlighted_ticket--showed"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function C(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(l.CLOSE_HIGHLIGHTED_TICKET,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,d.removeHighlightedTicketParams)());case 2:return e.next=4,(0,o.put)((0,u.reachGoal)("highlighted_ticket--closed"));case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),m)}function w(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(l.SHOW_ALL_TICKETS_HIGHLIGHTED_TICKET,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,d.removeHighlightedTicketOverlay)());case 2:return e.next=4,(0,o.put)((0,p.removeBodyClass)("is-highlighted-ticket"));case 4:return e.next=6,(0,o.put)((0,u.reachGoal)("highlighted_ticket--closed"));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),y)}function D(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(l.NOT_FOUND_HIGHLIGHTED_TICKET,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,u.reachGoal)("highlighted_ticket--not-found"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function I(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(l.FOUND_HIGHLIGHTED_TICKET,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.priceDiff,e.next=3,(0,o.put)((0,u.reachGoal)("highlighted_ticket--found",{priceDiff:r}));case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),b)}function A(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(v.ADD_HIGHLIGHTED_TICKET_PARAMS,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params.sign,e.next=3,(0,o.put)((0,g.addRequiredTicketSign)(r));case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),S)}function x(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(v.REMOVE_HIGHLIGHTED_TICKET_PARAMS,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(f.getHighlightedTicketParamsSign);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,o.put)((0,g.removeRequiredTicketSign)(t));case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),T)}function j(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.FILTERS_CHANGE,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(f.getHighlightedTicketParamsSign);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,o.put)((0,d.removeHighlightedTicketParams)());case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}function R(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/serp/highlighted_ticket_params/remove");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,o.take)(e);case 7:return t.next=9,(0,o.select)(f.getHighlightedTicketParamsSign);case 9:if(t.sent){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,(0,o.put)((0,d.removeHighlightedTicketParams)());case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),e.close();case 19:t.next=3;break;case 21:case"end":return t.stop()}}),P,null,[[4,16]])}function M(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(k);case 2:return e.next=4,(0,o.fork)(C);case 4:return e.next=6,(0,o.fork)(w);case 6:return e.next=8,(0,o.fork)(D);case 8:return e.next=10,(0,o.fork)(I);case 10:return e.next=12,(0,o.fork)(A);case 12:return e.next=14,(0,o.fork)(x);case 14:return e.next=16,(0,o.fork)(j);case 16:return e.next=18,(0,o.fork)(R);case 18:case"end":return e.stop()}}),E)}},664187:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.hotelSearchSaga=f;var a=n(r(385882)),i=r(67085),o=r(754266),c=r(716792),s=a.default.mark(l),u=a.default.mark(f);function l(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.SUBMIT_HOTEL_FORM,(function(e){var t=e.params,r=t.destination,n=t.checkInDate,a=t.checkOutDate,i=t.guests;(0,o.emitSeleneEvent)({type:"service/helios/hotel_form/start_search",payload:{hotelFormState:{destination:r,checkInDate:n,checkOutDate:a,guests:i}}})}));case 2:case"end":return e.stop()}}),s)}function f(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(l);case 2:case"end":return e.stop()}}),u)}},5720:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.changeUserLanguageSaga=u;var a=n(r(385882)),i=r(982175),o=r(100859),c=r(466575),s=a.default.mark(u);function u(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)([c.CHANGE_USER_LANGUAGE],(function(e){var t=e.language;(0,o.setDateFnsLocale)(t)}));case 2:case"end":return e.stop()}}),s)}},596172:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.loginPopup=m,t.loginPopupSaga=b;var a=n(r(385882)),i=r(67085),o=r(982175),c=r(687004),s=r(863974),u=r(520072),l=r(637745),f=a.default.mark(m),d=a.default.mark(y),p=a.default.mark(_),v=a.default.mark(b),g=s.userService.$isAuthorized,h=s.userService.waitAuthStatus;function m(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!g.getState()){t.next=3;break}return t.abrupt("return",g.getState());case 3:return t.next=5,(0,i.put)((0,u.openPopup)("loginForm",{source:e}));case 5:return t.next=7,(0,i.race)({auth:(0,i.call)(h,[s.AuthStatus.Authorized]),cancel:(0,i.take)(l.CLOSE_POPUP)});case 7:if(!t.sent.cancel){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,(0,i.put)((0,u.closePopup)("loginForm"));case 13:return t.abrupt("return",g.getState());case 14:case"end":return t.stop()}}),f)}function y(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.OPEN_POPUP,a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loginForm"!==t.popupType||!t.data){e.next=3;break}return e.next=3,(0,i.fork)(c.loginPopupShowedEvent,t.data);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function _(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.CLOSE_POPUP,a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("loginForm"!==t.popupType||!t.data){e.next=3;break}return e.next=3,(0,i.fork)(c.loginPopupClosedEvent,t.data);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function b(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(y);case 2:return e.next=4,(0,i.fork)(_);case 4:case"end":return e.stop()}}),v)}},361294:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.markerSaga=d;var i=n(r(385882)),o=r(982175),c=n(r(897360)),s=r(257126),u=a.mark(f),l=a.mark(d);function f(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(s.UPDATE_MARKER,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.marker,e.next=3,(0,o.call)([c.default,"_setMarker"],r);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(f);case 2:case"end":return e.stop()}}),l)}},612932:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.mobileAppRedirectSaga=m;var i=n(r(385882)),o=r(67085),c=r(366526),s=r(825310),u=r(539786),l=r(295659),f=r(486362),d=a.mark(g),p=a.mark(h),v=a.mark(m);function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.MOBILE_APP_REDIRECT_SHOWED,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.view,e.next=3,(0,o.select)(s.getCurrentPage);case 3:return n=e.sent,e.next=6,(0,o.select)(u.getSearchId);case 6:if(a=e.sent,"search"!==n||a){e.next=10;break}return e.next=10,(0,o.take)(f.UPDATE_SEARCH_META);case 10:return e.next=12,(0,o.fork)(c.mobileAppRedirectShowEvent,r);case 12:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.MOBILE_APP_REDIRECT_CLICKED,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.view,e.next=3,(0,o.select)(s.getCurrentPage);case 3:return n=e.sent,e.next=6,(0,o.select)(u.getSearchId);case 6:if(a=e.sent,"search"!==n||a){e.next=10;break}return e.next=10,(0,o.take)(f.UPDATE_SEARCH_META);case 10:return e.next=12,(0,o.fork)(c.mobileAppRedirectClickEvent,r);case 12:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function m(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(g);case 2:return e.next=4,(0,o.fork)(h);case 4:case"end":return e.stop()}}),v)}},383396:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=v;var i=n(r(385882)),o=r(67085),c=r(405628),s=r(825310),u=n(r(702944)),l=r(513125),f=a.mark(p),d=a.mark(v);function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.UPDATE_PAGE_HEADER_REDUCED_STATE,i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(s.getCurrentPage);case 2:t=e.sent,r=(0,c.selectIsPremiumBannerEnabled)(u.default),"main"===t&&r&&(!0,n=void 0,(n=document.querySelector("[data-reduced-page-header]"))&&(n.dataset.reducedPageHeader=JSON.stringify(true)));case 6:case"end":return e.stop()}var n}),e)})));case 2:case"end":return e.stop()}}),f)}function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(p);case 2:case"end":return e.stop()}}),d)}},28515:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.pinFlightSignsSaga=S;var i=n(r(385882)),o=r(67085),c=n(r(275347)),s=r(39569),u=r(242608),l=r(651828),f=r(192980),d=r(637928),p=r(505006),v=r(990647),g=a.mark(_),h=a.mark(b),m=a.mark(S),y="pinFlightSigns";function _(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([u.FILTERS_CHANGE],i.default.mark((function e(){var t,r,n,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null!=(t=(0,o.select)(p.getPinFlightSigns))?t:[];case 2:if(null!=(r=e.sent)&&r.length){e.next=7;break}return e.next=6,(0,o.call)(f.removeNotification,y);case 6:return e.abrupt("return");case 7:return n=r.map((function(e){var t=e.split(":");return t[2]+" - "+t[3]})),a=n.join(", "),e.next=11,(0,o.call)(f.showNotification,{id:"pinFlightSigns",message:c.default.t("notify_pinned_flights:description",{count:r.length,route:a}),autoClose:!1,icon:"pin",buttons:{ok:{text:c.default.t("notify_pinned_flights:button")}}});case 11:return e.next=13,(0,o.call)(d.observableToChannel,f.notificationButtonClicked);case 13:s=e.sent;case 14:return e.next=17,(0,o.take)(s);case 17:if(e.sent.value.notificationId===y){e.next=21;break}return e.abrupt("continue",14);case 21:return e.next=23,(0,o.put)((0,l.changeFilters)({pinFlightSignatures:[]}));case 23:return e.abrupt("return");case 26:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),g)}function b(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)([v.UPDATE_SEARCH_STATUS,u.RESET_FILTERS_STATE],i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==v.UPDATE_SEARCH_STATUS||t.status===s.SearchStatus.Started){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,o.call)(f.removeNotification,y);case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function S(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(_);case 2:return e.next=4,(0,o.fork)(b);case 4:case"end":return e.stop()}}),m)}},703647:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.poletelyPromoSaga=b;var i=n(r(385882)),o=r(67085),c=r(111035),s=r(178745),u=r(825310),l=r(863974),f=a.mark(m),d=a.mark(y),p=a.mark(_),v=a.mark(b),g=l.userService.$guestiaId,h=l.userService.$premiumStateId;function m(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(s.OPEN_POLETELY_PROMO_BLOG_PAGE,i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(u.getCurrentPage);case 2:return t=e.sent,r=g.getState(),n=h.getState(),e.next=7,(0,c.sendAnalyticsEvent)({service:c.Service.Explore,category:"poletely_promo",label:"poletely_promo",action:"blog",guestiaId:r,premiumStateId:n},{pageName:t,userEvent:!0,source:null});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}function y(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(s.OPEN_POLETELY_PROMO_LANDING_PAGE,i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(u.getCurrentPage);case 2:return t=e.sent,r=g.getState(),n=h.getState(),e.next=7,(0,c.sendAnalyticsEvent)({service:c.Service.Explore,category:"poletely_promo",label:"poletely_promo",action:"landing",guestiaId:r,premiumStateId:n},{pageName:t,userEvent:!0,source:null});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function _(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(s.SHOW_POLETELY_PROMO,i.default.mark((function e(){var t,r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(u.getCurrentPage);case 2:return t=e.sent,r=g.getState(),n=h.getState(),e.next=7,(0,c.sendAnalyticsEvent)({service:c.Service.Explore,category:"poletely_promo",label:"poletely_promo",action:"showed",guestiaId:r,premiumStateId:n},{pageName:t,userEvent:!0,source:null});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function b(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.initAnalytics)(c.Service.Explore,{debug:!(window.env&&window.env.includes("prod")&&"localhost"!==window.location.hostname)});case 2:return e.next=4,(0,o.fork)(m);case 4:return e.next=6,(0,o.fork)(y);case 6:return e.next=8,(0,o.fork)(_);case 8:case"end":return e.stop()}}),v)}},835287:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.popupsSaga=D;var i=n(r(385882)),o=r(982175),c=n(r(299657)),s=r(587273),u=r(754266),l=r(721196),f=r(214743),d=r(982564),p=r(556696),v=n(r(702944)),g=r(520072),h=r(553104),m=r(742029),y=r(902411),_=r(694630),b=r(25614),S=r(637745),T=a.mark(k),O=a.mark(C),P=a.mark(w),E=a.mark(D);function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(S.OPEN_POPUP,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.popupType,!(0,s.isMobile)()){e.next=3;break}return e.abrupt("return");case 3:if("ticketContent"!==r){e.next=18;break}case 4:return e.next=7,(0,o.take)([S.OPEN_POPUP,S.CLOSE_POPUP]);case 7:if(e.sent.type!==S.CLOSE_POPUP){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,(0,o.put)((0,g.closePopup)(r));case 12:return e.next=14,(0,o.take)(S.CLOSE_POPUP);case 14:return e.next=16,(0,o.put)((0,g.openPopup)(r));case 16:e.next=4;break;case 18:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),T)}function C(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)([S.CLOSE_POPUP,S.OPEN_POPUP,S.UPDATE_POPUP_DATA],i.default.mark((function e(t){var r,n,a,s,u,l,f,d,g,T,O,P,E,k;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,"ticket"===(n=t.popupType)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,o.select)(m.getPopupData,n);case 5:if(a=e.sent){e.next=8;break}return e.abrupt("return");case 8:return s=a.ticketSign,u=a.ticketIndex,e.next=11,(0,o.select)(p.getIsTicketDeeplink);case 11:if(l=e.sent,f=v.default.is("serp-exp-ticketPreviewV3"),!l||!f){e.next=17;break}return e.next=16,(0,o.put)((0,h.ticketDeeplinkInfoToggle)({isOpen:r!==S.CLOSE_POPUP,ticketIndex:u,ticketSign:s}));case 16:return e.abrupt("return");case 17:return e.next=19,(0,o.select)(b.getTicketProposals,s);case 19:return d=e.sent,e.next=22,(0,o.select)(b.getTicketBySign,s);case 22:if(g=e.sent,!(0,c.default)(d)){e.next=25;break}return e.abrupt("return");case 25:return e.next=27,(0,o.select)(_.getTicketTupleToRender,s,d);case 27:return T=e.sent,e.next=30,(0,o.select)(y.prepareTicketProposals,T);case 30:return O=e.sent,P=O.currentTariff,E=O.tariffs,k=g.hashsum,e.next=36,(0,o.put)((0,h.ticketInfoToggle)({isOpen:r!==S.CLOSE_POPUP,ticketIndex:u,ticketSign:s,proposalsByTariffs:E,currentTariff:P,hash:k}));case 36:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}function w(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(S.CLOSE_POPUP,i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ticket"!==t.popupType){e.next=12;break}return e.next=4,(0,o.select)(l.getDirectFlight);case 4:if(!e.sent){e.next=10;break}return e.next=8,(0,o.put)((0,f.resetTicketSelectedTariffs)());case 8:return e.next=10,(0,o.put)((0,d.resetSelectedFareProposals)());case 10:return e.next=12,(0,u.emitSeleneEvent)({type:"service/helios/serp/ticket/ticket_popup_closed"});case 12:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}function D(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(k);case 2:return e.next=4,(0,o.fork)(C);case 4:return e.next=6,(0,o.fork)(w);case 6:case"end":return e.stop()}}),E)}},613932:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=ne;var i=n(r(385882)),o=r(67085),c=n(r(860606)),s=n(r(849854)),u=n(r(453637)),l=n(r(312982)),f=n(r(383396)),d=n(r(552765)),p=n(r(49040)),v=n(r(316629)),g=r(480470),h=n(r(430494)),m=r(266545),y=r(266384),_=r(943560),b=r(130221),S=r(28515),T=n(r(592261)),O=r(262100),P=r(6805),E=n(r(679277)),k=r(81947),C=r(549102),w=n(r(9818)),D=r(767686),I=r(731494),A=r(443247),x=r(591041),j=r(361294),R=r(612932),M=r(835287),F=r(975741),N=r(804225),L=r(963657),B=r(341704),U=r(703647),H=r(278021),W=r(100270),G=r(233945),K=r(840831),V=r(5720),Y=r(110345),q=r(404230),z=r(596172),X=r(8166),Q=r(110737),$=r(360894),Z=r(961237),J=r(776149),ee=r(664187),te=r(345904),re=a.mark(ne);function ne(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[s.default,C.brandTicketSaga,u.default,l.default,f.default,d.default,p.default,v.default,g.filtersSaga,h.default,m.travelpayoutsBarSaga,y.searchStatusSaga,_.errorDuringSearchSaga,b.userThemeSaga,S.pinFlightSignsSaga,T.default,O.highlightedTicketSaga,P.browserHistorySaga,E.default,k.suspendSaga,G.searchResultsSaga,w.default,$.ticketFaresSaga,D.searchMetaSaga,I.stoyanAnalSaga,A.cheapestStopsSaga,x.debugSaga,j.markerSaga,R.mobileAppRedirectSaga,M.popupsSaga,F.seleneWidgetsSaga,N.searchExpireSaga,L.flagrSaga,B.travelRestrictionsSaga,H.currencySaga,U.poletelyPromoSaga,W.brandBookSaga,K.showMoreTicketsSaga,V.changeUserLanguageSaga,Y.facebookPixelSaga,q.advertisementSaga,z.loginPopupSaga,X.serpModalSaga,Q.exploreSaga,Z.cashbackInformerShowEventSaga,J.ticketPreviewSaga,ee.hotelSearchSaga,te.ticketDeeplinkSaga],t.next=3,(0,o.all)(e.map((function(e){return(0,o.spawn)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,(0,o.call)(e);case 4:return t.abrupt("break",13);case 7:t.prev=7,t.t0=t.catch(1),c.default.error("Saga "+e.name+" error",t.t0),console.error("Saga "+e.name+" error",t.t0);case 11:t.next=0;break;case 13:case"end":return t.stop()}}),t,null,[[1,7]])})))})));case 3:case"end":return t.stop()}}),re)}},804225:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.searchExpireSaga=_;var a=n(r(385882)),i=r(982175),o=r(39569),c=r(799613),s=r(260159),u=r(988603),l=r(25614),f=r(486362),d=r(165652),p=r(990647),v=a.default.mark(m),g=a.default.mark(y),h=a.default.mark(_);function m(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,i.take)(p.UPDATE_SEARCH_STATUS);case 3:e=r.sent,t=e.status,r.t0=t,r.next=r.t0===o.SearchStatus.Failed?8:r.t0===o.SearchStatus.Finished?9:15;break;case 8:return r.abrupt("return",!0);case 9:return r.next=11,(0,i.select)(l.getIsEmptySearch);case 11:if(!r.sent){r.next=14;break}return r.abrupt("return",!0);case 14:case 15:return r.abrupt("break",16);case 16:r.next=0;break;case 18:case"end":return r.stop()}}),v)}function y(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(f.UPDATE_SEARCH_META,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new Date).getTime(),e.next=3,(0,i.put)((0,c.setSearchExpiringDate)(new Date(t+u.SEARCH_EXPIRED_TIMEOUT)));case 3:return e.next=5,(0,i.race)({countdown:(0,i.delay)(u.SEARCH_EXPIRED_TIMEOUT),searchStarted:(0,i.take)(d.COLLECT_SEARCH_RESULTS),noTicketsRecieved:m()});case 5:if(!e.sent.countdown){e.next=10;break}return e.next=10,(0,i.put)((0,s.updateSearchStatus)(o.SearchStatus.Expired));case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),g)}function _(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(y);case 2:case"end":return e.stop()}}),h)}},767686:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectionPlaceByIata=void 0,t.searchMetaSaga=P;var i=n(r(101339)),o=n(r(385882)),c=r(982175),s=n(r(275347)),u=r(543358),l=r(152263),f=r(486362),d=r(430162),p=r(73131),v=r(718123),g=r(539786);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=a.mark(S),_=a.mark(T),b=a.mark(P);function S(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(f.UPDATE_SEARCH_META,o.default.mark((function e(t){var r,n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.meta,e.next=3,T(r.places);case 3:return e.next=5,(0,c.select)(g.getPassengersAmount);case 5:return n=e.sent,e.next=8,(0,c.select)(d.getTripClass);case 8:return a=e.sent,e.next=11,(0,c.put)((0,v.reachGoal)("SEARCH_REALLY_STARTED",{search_id:r.search_id,passengers_amount:n,trip_class:a}));case 11:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),y)}function T(e){var t,r;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.select)(d.getSearchParams);case 2:if(t=n.sent){n.next=5;break}return n.abrupt("return");case 5:return r=t.segments.map((function(t){var r=O(u.PlaceField.Origin,t,e),n=O(u.PlaceField.Destination,t,e);return m(m(m({},t),r),n)})),n.next=8,(0,c.put)((0,p.updateSearchParamsSegments)(r));case 8:case"end":return n.stop()}}),_)}var O=function(e,t,r){var n,a,i,o=t["original_"+e],c=r.airports[o],f=c?r.cities[c.city_code]:r.cities[o],d=f?r.countries[f.country]:void 0,p=t[e+"_type"],v=r.airports[o],g=r.cities[o];return i=v&&g?null!=p?p:u.PlaceType.City:v?u.PlaceType.Airport:u.PlaceType.City,(a={})[""+e]=(null==f?void 0:f.code)||o,a[e+"_type"]=i,a[e+"_country"]=null==d?void 0:d.code,a[e+"_name"]=f&&(null==f?void 0:f.name)&&(null===(n=f.name[s.default.language])||void 0===n?void 0:n.default),a[e+"_cases"]=(null==f?void 0:f.name)&&(0,l.mapLocalizableContextStringToOldCases)(f.name,s.default.language,o),a};function P(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(S);case 2:case"end":return e.stop()}}),b)}t.getDirectionPlaceByIata=O},266384:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.searchStatusSaga=j;var i=n(r(385882)),o=r(67085),c=r(39569),s=r(47379),u=r(754266),l=r(430162),f=r(454184),d=r(405628),p=r(742029),v=r(359759),g=r(639662),h=n(r(702944)),m=r(260159),y=r(990647),_=r(734682),b=r(718123),S=r(539786),T=a.mark(w),O=a.mark(D),P=a.mark(I),E=a.mark(A),k=a.mark(x),C=a.mark(j);function w(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(y.UPDATE_SEARCH_STATUS,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.status,n=(0,d.selectIsAutosearchEnabled)(h.default),e.next=4,(0,o.select)((function(e){return(0,p.getPopupIsOpen)(e,v.SERP_IN_MODAL)}));case 4:if(a=e.sent,n&&!a||r!==c.SearchStatus.Expired){e.next=8;break}return e.next=8,(0,u.emitSeleneEvent)({type:"service/helios/serp/expired_dialog/shown"});case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),T)}function D(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/serp/search/expired");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,o.take)(e);case 7:return t.next=9,(0,o.put)((0,m.updateSearchStatus)(c.SearchStatus.Expired));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),O,null,[[4,11]])}function I(){var e,t,r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/serp/expired_dialog/submit");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,o.take)(e);case 7:return t=(0,d.selectIsAutosearchEnabled)(h.default),n.next=10,(0,o.call)((function(){return window.scroll({top:0,left:0,behavior:"smooth"})}));case 10:return n.next=12,(0,o.select)(S.getSearchId);case 12:return r=n.sent,n.next=15,(0,o.put)((0,b.reachGoal)("EXPIRED_REFRESH",{search_id:r}));case 15:if(!t){n.next=20;break}return n.next=18,(0,o.put)((0,g.startAutosearch)());case 18:n.next=22;break;case 20:return n.next=22,(0,o.put)((0,_.restartSearch)("expired_search"));case 22:n.next=27;break;case 24:n.prev=24,n.t0=n.catch(4),e.close();case 27:n.next=3;break;case 29:case"end":return n.stop()}}),P,null,[[4,24]])}function A(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(y.UPDATE_SEARCH_STATUS,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.status!==c.SearchStatus.Started){e.next=10;break}return e.next=4,(0,o.select)(l.getTripTypeFromSearch);case 4:return r=e.sent,e.next=7,(0,o.put)((0,f.removeBodyClass)(["--oneway","--roundtrip","--multiway"]));case 7:if(!r){e.next=10;break}return e.next=10,(0,o.put)((0,f.addBodyClass)("--"+r));case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),E)}function x(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(y.UPDATE_SEARCH_STATUS,i.default.mark((function e(t){var r,n,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.status,a=null===(r=h.default.get("ex-exp-autosearchWidget"))||void 0===r?void 0:r.enabled,s=n===c.SearchStatus.Started||n===c.SearchStatus.Shown,a||!s){e.next=6;break}return e.next=6,(0,o.call)((function(){document.body.style.overflow=""}));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),k)}function j(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(w);case 2:return e.next=4,(0,o.fork)(I);case 4:return e.next=6,(0,o.fork)(A);case 6:return e.next=8,(0,o.fork)(x);case 8:return e.next=10,(0,o.fork)(D);case 10:case"end":return e.stop()}}),C)}},840314:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.activeFormShouldChangeSaga=v,t.updateActiveFormSaga=p;var i=n(r(385882)),o=r(67085),c=r(513125),s=r(977485),u=r(754266),l=r(47379),f=a.mark(p),d=a.mark(v);function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.UPDATE_ACTIVE_FORM,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.activeForm,e.next=3,(0,o.call)(u.emitSeleneEvent,{type:"service/helios/active_form/changed",payload:r});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}function v(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.call)(l.createSeleneChannel,"service/helios/active_form/should_change");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,o.take)(e);case 7:return t=r.sent,r.next=10,(0,o.put)((0,s.updatePageHeader)({activeForm:t}));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),d,null,[[4,12]])}},957062:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.formParamsChanged=t.emitMultiwaySegmentsChangedFx=void 0;var a=r(944246),i=n(r(102118)),o=r(754266),c=(0,a.createEvent)({name:"formParamsChanged",sid:"28umcy"});t.formParamsChanged=c;var s=(0,a.createStore)(null,{name:"$formParams",sid:"7r1i3e"}),u=(0,a.attach)({and:{mapParams:function(e){return{type:"service/helios/avia_form/changed",payload:e.formParams}},effect:o.emitSeleneEventFx},or:{name:"emitAviaFormChangedFx",sid:"w2u965"}}),l=(0,a.attach)({and:{mapParams:function(e){return{payload:e,type:"service/helios/avia_form/multiway_segments_changed"}},effect:o.emitSeleneEventFx},or:{name:"emitMultiwaySegmentsChangedFx",sid:"-jgrw9p"}});t.emitMultiwaySegmentsChangedFx=l,s.on(u,(function(e,t){return t.formParams})),(0,a.guard)({and:[{source:(0,a.sample)({and:[{source:s,clock:c,fn:function(e,t){return{prevFormParams:e,formParams:t}}}],or:{name:"source",sid:"-relqex"}}),filter:function(e){var t=e.prevFormParams,r=e.formParams;return!(0,i.default)(t,r)},target:u}],or:{sid:"z9ctem"}})},645058:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.aviaFormChangedSaga=I,t.aviaFormFocusFieldSaga=j,t.aviaFormSubmittedSaga=x,t.aviaParamsSaga=R,t.multiwayFormChangedSaga=A,t.multiwayParamsSaga=M,t.shouldSearchHotelsChangedSaga=F;var i=n(r(385882)),o=r(67085),c=n(r(702944)),s=r(47379),u=r(754266),l=r(724573),f=r(418310),d=r(61303),p=r(223002),v=r(417201),g=r(405628),h=r(779143),m=r(543358),y=r(317875),_=r(957062),b=r(379803),S=r(825310),T=r(423343),O=a.mark(I),P=a.mark(A),E=a.mark(x),k=a.mark(j),C=a.mark(R),w=a.mark(M),D=a.mark(F);function I(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([h.UPDATE_AVIA_PARAMS,h.ACTIVE_DATE_INPUT_CHANGE],i.default.mark((function e(){var t,r,n,a,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(p.getAviaFormParams);case 2:return t=e.sent,e.next=5,(0,o.select)(d.getAviaParamsActiveDateInput);case 5:return r=e.sent,e.next=8,(0,o.select)(S.getCurrentPage);case 8:if(n=e.sent,a="main"===n,!((0,g.selectIsAutosearchEnabled)(c.default)&&a&&r)){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,(0,o.call)(y.prepareFormParams,t);case 15:s=e.sent,(0,_.formParamsChanged)(s);case 17:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}function A(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([b.UPDATE_MULTIWAY_PARAMS],i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(T.getMultiwayParams);case 2:return t=e.sent,e.next=5,(0,o.call)(y.prepareMultiwayFormParams,t);case 5:r=e.sent,(0,_.emitMultiwaySegmentsChangedFx)(r);case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}function x(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(m.TRIGGER_SUBMIT_AVIA_FORM,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.call)(y.prepareFormParams);case 2:return t=e.sent,e.next=5,(0,u.emitSeleneEvent)({type:"service/helios/avia_form/submitted",payload:t});case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),E)}function j(){var e,t,r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/avia_form/should_focus_field");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,o.take)(e);case 7:return t=n.sent,r=t.field,n.next=11,(0,o.put)((0,f.focusAviaField)(r));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),e.close();case 16:n.next=3;break;case 18:case"end":return n.stop()}}),k,null,[[4,13]])}function R(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/avia_form/update_avia_params");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,o.take)(e);case 7:return t=r.sent,r.next=10,(0,o.put)((0,l.updateAviaParams)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),C,null,[[4,12]])}function M(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/avia_form/update_multiway_params");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,o.take)(e);case 7:return t=r.sent,r.next=10,(0,o.put)((0,v.updateMultiwayParams)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),w,null,[[4,12]])}function F(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/avia_form/hotels_search/change");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,o.take)(e);case 7:return t=r.sent,r.next=10,(0,o.put)((0,f.changeShouldSearchHotels)(t.shouldSearchHotels));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),D,null,[[4,12]])}},341212:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.b2bBannerClickedSaga=p;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(742029),s=r(553104),u=r(902411),l=r(694630),f=r(104185),d=a.default.mark(p);function p(){var e,t,r,n,p,v,g,h,m,y;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/serp/b2b_banner/clicked");case 2:e=a.sent;case 3:return a.prev=4,a.next=7,(0,i.take)(e);case 7:return a.next=9,(0,i.select)(c.getPopupData,"ticket");case 9:return t=a.sent,r=t.ticketSign,a.next=13,(0,i.select)(l.getTicketTupleToRender,r);case 13:return n=a.sent,a.next=16,(0,i.select)(u.prepareTicketProposals,n);case 16:return p=a.sent,v=p.tariffs,g=p.currentTariff,h=v[g][0],a.next=22,(0,i.select)(f.getSelectedFareProposal,r);case 22:if(m=a.sent,y=(0,f.isFaresExperimentEnabled)()?m:h,!r||!y){a.next=27;break}return a.next=27,(0,i.put)((0,s.ticketB2BShowInfoModal)(r,y.price));case 27:a.next=32;break;case 29:a.prev=29,a.t0=a.catch(4),e.close();case 32:a.next=3;break;case 34:case"end":return a.stop()}}),d,null,[[4,29]])}},807314:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.b2bInfoModalSaga=v;var i=n(r(385882)),o=n(r(101339)),c=r(67085),s=r(148860),u=r(754266),l=r(984908),f=a.mark(v);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(s.TICKET_B2B_SHOW_INFO_MODAL,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,n=t.price,e.next=3,(0,c.call)(l.prepareFormParams);case 3:a=e.sent,(0,u.emitSeleneEvent)({payload:p(p({},a),{},{price:n,ticketSign:r}),type:"service/helios/b2b/b2b_info_modal/shown"});case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}},984908:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareFormParams=u;var a=n(r(385882)),i=r(67085),o=r(223002),c=r(539786),s=a.default.mark(u);function u(){var e,t,r,n,u;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.select)(o.getAviaFormParams);case 2:return e=a.sent,a.next=5,(0,i.select)(c.getSearchId);case 5:return t=a.sent,r=e.tripClass,n=e.passengers,u=e.segments.map((function(e){var t=e.date,r=e.origin,n=e.destination;return{date:t,origin:{iata:null==r?void 0:r.iata,name:null==r?void 0:r.name,type:null==r?void 0:r.type},destination:{iata:null==n?void 0:n.iata,name:null==n?void 0:n.name,type:null==n?void 0:n.type}}})),a.abrupt("return",{searchId:t,tripClass:r,passengers:n,segments:u});case 9:case"end":return a.stop()}}),s)}},412337:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.b2bSignInModalSaga=l;var i=n(r(385882)),o=r(67085),c=r(407526),s=r(754266),u=a.mark(l);function l(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.B2B_SHOW_SIGN_IN_MODAL,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.emitSeleneEvent)({payload:{show:!0},type:"service/helios/b2b/b2b_signin_modal/shown"});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}},969400:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrencyRatesSaga=u;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(222098),s=a.default.mark(u);function u(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/currency/update_currency_rates");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,i.take)(e);case 7:return t=n.sent,r=t.currencyRates,n.next=11,(0,i.put)((0,c.updateCurrencies)(r));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),e.close();case 16:n.next=3;break;case 18:case"end":return n.stop()}}),s,null,[[4,13]])}},466642:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.changeExploreFiltersSaga=u;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(875174),s=a.default.mark(u);function u(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/serp/explore_filters/should_change");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,c.changeExploreFilters)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),s,null,[[4,12]])}},586084:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.filtersChangedSaga=b,t.filtersRelaxSaga=S,t.filtersResetSaga=T,t.sortingChangedSaga=E,t.updateFiltersBoundariesSaga=P,t.updateFiltersStateSaga=O;var a=n(r(385882)),i=r(67085),o=r(242608),c=r(754266),s=r(47379),u=r(651828),l=r(627275),f=r(554422),d=r(21992),p=r(718123),v=a.default.mark(b),g=a.default.mark(S),h=a.default.mark(T),m=a.default.mark(O),y=a.default.mark(P),_=a.default.mark(E);function b(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(o.FILTERS_CHANGE,(function(e){var t=e.payload,r=t.filters,n=t.source;(0,c.emitSeleneEvent)({type:"service/helios/serp/filters/changed",payload:{changes:r,source:n}})}));case 2:case"end":return e.stop()}}),v)}function S(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(o.FILTERS_RELAX,a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.call)(d.sendResetFiltersAnalytics);case 2:return e.next=4,(0,i.put)((0,p.reachGoal)("SYSTEM_MESSAGE_TRIGGER_CLICK"));case 4:return e.next=6,(0,i.call)(c.emitSeleneEvent,{type:"service/helios/serp/filters/relax"});case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),g)}function T(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/serp/filters/reset");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,u.resetFiltersState)());case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),h,null,[[4,11]])}function O(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/serp/filters/state_updated");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,u.updateFiltersState)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),m,null,[[4,12]])}function P(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/serp/filters/boundaries_updated");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,u.updateFiltersBoundaries)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),y,null,[[4,12]])}function E(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/serp/sorting/changed");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,l.updateSearchResultsRequestStatus)(f.RequestStatus.Pending,"filtersUpdate"));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),_,null,[[4,11]])}},317875:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareFormParams=h,t.prepareMultiwayFormParams=function(e){var t=(void 0===e?{}:e).segments;return{segments:(null!=t?t:[]).map((function(e){return v(v({},e),{},{origin:g(e.origin),destination:g(e.destination)})}))}};var i=n(r(385882)),o=n(r(114558)),c=n(r(101339)),s=r(67085),u=r(902093),l=r(223002),f=r(149739),d=a.mark(h);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){if(e)return(0,f.isAnywhere)(e)||(0,f.isNationalPark)(e)?e:v(v({},e),{},{cityIata:e.type===u.PlaceType.City?e.iata:e.cityIata,countryIata:e.type===u.PlaceType.Country?e.iata:e.countryIata})};function h(e){var t,r,n,a,c,u,f,p,h;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return void 0===e&&(e={}),i.next=3,(0,s.select)(l.getAviaFormParams);case 3:return t=i.sent,r=v(v({},t),e),n=r.segments,a=r.tripClass,c=r.passengers,u=r.paymentMethod,f=(0,o.default)(n,2),p=f[0],h=f[1],i.abrupt("return",{tripClass:a,passengers:c,paymentMethod:u,origin:g(null==p?void 0:p.origin),destination:g(null==p?void 0:p.destination),departDate:null==p?void 0:p.date,returnDate:null==h?void 0:h.date});case 7:case"end":return i.stop()}}),d)}},136877:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.gdprSaga=l,t.initThirdPartySaga=f;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(705238),s=a.default.mark(l),u=a.default.mark(f);function l(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/gdpr/inited");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,i.take)(e);case 7:return t=n.sent,r=t.isGdprCountry,n.next=11,(0,i.call)(c.gdprService.gdprCountryUpdated,r);case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),e.close();case 16:n.next=3;break;case 18:case"end":return n.stop()}}),s,null,[[4,13]])}function f(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/gdpr/third/party/init");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.call)(c.gdprService.initThirdParty);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),u,null,[[4,11]])}},431628:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.geoIpCountryInitiatedSaga=u;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(837182),s=a.default.mark(u);function u(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/geo_ip_country/initiated");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,i.take)(e);case 7:return t=n.sent,r=t.geoIpCountry,n.next=11,(0,i.put)((0,c.setGeoIpCountry)(r));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),e.close();case 16:n.next=3;break;case 18:case"end":return n.stop()}}),s,null,[[4,13]])}},363322:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hotelParamsChanged=void 0;var n=r(944246),a=r(173400),i=r(754266),o=(0,n.createStore)(null,{and:{updateFilter:a.deepEqualUpdateFilter},name:"$hotelFormParams",sid:"dlgog2"}),c=(0,n.createEvent)({name:"hotelParamsChanged",sid:"b6kqkx"});t.hotelParamsChanged=c,(0,n.sample)({and:[{clock:c,target:o}],or:{sid:"-2xxdms"}});var s=(0,n.attach)({and:{mapParams:function(e){return{type:"service/helios/hotel_form/changed",payload:e}},effect:i.emitSeleneEventFx},or:{name:"emitHotelFormChangedFx",sid:"-4hgpau"}});(0,n.sample)({and:[{source:o,filter:function(e){return null!==e},target:s}],or:{sid:"-2f8dgi"}})},715144:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.hotelFormChangedSaga=y,t.hotelParamsSaga=_;var i=n(r(101339)),o=n(r(385882)),c=r(67085),s=r(47379),u=r(255285),l=r(103306),f=r(716792),d=r(672951),p=r(363322);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=a.mark(y),m=a.mark(_);function y(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(f.UPDATE_HOTEL_PARAMS,o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)(d.getHotelParams);case 2:t=e.sent,(0,p.hotelParamsChanged)(t);case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function _(){var e,t,r,n;return o.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,c.call)(s.createSeleneChannel,"service/helios/hotel_form/update_hotel_params");case 2:e=a.sent;case 3:return a.prev=4,a.next=7,(0,c.take)(e);case 7:return r=a.sent,n=null!=(t=r.destination)?t:u.DEFAULT_PLACE,a.next=11,(0,c.put)((0,l.updateHotelParams)(g(g({},r),{},{destination:n})));case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),e.close();case 16:a.next=3;break;case 18:case"end":return a.stop()}}),m,null,[[4,13]])}},498173:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.initSeleneWidgetsSaga=g;var i=n(r(385882)),o=r(67085),c=r(457834),s=r(38474),u=r(754266),l=n(r(702944)),f=r(705238),d=r(73292),p=r(405628),v=a.mark(g);function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.INIT_SELENE_WIDGETS,i.default.mark((function e(){var t,r,n,a,c,v,g,h;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(s.getUserTheme);case 2:return t=e.sent,e.next=5,(0,o.select)((function(e){return e.currentPage}));case 5:for(r=e.sent,n=(0,p.selectIsAutosearchEnabled)(l.default),a="search"===r,c="user_account"===r&&window.location.href.includes("subscriptions"),(a||n||c)&&d.subscriptionsService.inputs.init(),f.gdprService.init({showSubscriptionInLogin:l.default.is("usc-feat-showSubscriptionInLogin")}),v=0,g=[{type:"service/helios/theme/init",payload:{theme:t}}];v<g.length;v++)h=g[v],(0,u.emitSeleneEvent)(h);case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),v)}},100795:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.changeLanguageSaga=u;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(556054),s=a.default.mark(u);function u(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/language/language_should_change");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.call)((0,c.changeLanguage)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),s,null,[[4,12]])}},601061:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.showPremiumPaySaga=l;var a=n(r(385882)),i=r(67085),o=r(173400),c=r(754266),s=r(958227),u=a.default.mark(l);function l(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)((0,o.observableToChannel)(s.premiumService.showPremiumPay),(function(e){var t=e.value;(0,c.emitSeleneEvent)({type:"service/helios/premium/pay_show_called",payload:t})}));case 2:case"end":return e.stop()}}),u)}},498862:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.priceAlertSubscriptionCreateSaga=v,t.priceAlertSubscriptionCreatedSaga=g,t.priceAlertSubscriptionDeletedSaga=h;var a=n(r(385882)),i=r(67085),o=r(767747),c=r(754266),s=r(47379),u=r(841511),l=r(336451),f=a.default.mark(v),d=a.default.mark(g),p=a.default.mark(h);function v(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(o.SHOW_PRICE_ALERT_SUBSCRIPTION,(function(e){var t=e.payload;(0,c.emitSeleneEvent)({type:"service/helios/subscriptions/create",payload:t})}));case 2:case"end":return e.stop()}}),f)}function g(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/subscriptions/created");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,l.fetchAllSubscriptions)());case 10:return r.next=12,(0,i.put)((0,u.priceAlertSubscriptionCreated)(t));case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),e.close();case 17:r.next=3;break;case 19:case"end":return r.stop()}}),d,null,[[4,14]])}function h(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(o.PRICE_ALERT_SUBSCRIPTION_DELETED,(function(){(0,c.emitSeleneEvent)({type:"service/helios/subscriptions/deleted"})}));case 2:case"end":return e.stop()}}),p)}},23890:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.searchChunksLoadedSaga=N,t.searchContinueStatusChangedSaga=W,t.searchFailedSaga=U,t.searchFinishedSaga=L,t.searchMetaLoadedSaga=F,t.searchRestartSaga=B,t.searchStartedSaga=M,t.searchStatusChangedSaga=H,t.startSearchSaga=R;var a=n(r(385882)),i=r(67085),o=r(39569),c=r(47379),s=r(825310),u=r(223002),l=r(405628),f=n(r(702944)),d=r(734682),p=r(141568),v=r(754266),g=r(164231),h=r(683253),m=r(260159),y=r(233945),_=r(61875),b=r(627275),S=r(554422),T=r(317875),O=r(990647),P=r(539786),E=a.default.mark(R),k=a.default.mark(M),C=a.default.mark(F),w=a.default.mark(N),D=a.default.mark(L),I=a.default.mark(B),A=a.default.mark(U),x=a.default.mark(H),j=a.default.mark(W);function R(){var e,t,r,n,o,f,p,v,g,h,m,y;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/search/should_start");case 2:e=a.sent;case 3:return a.prev=4,a.next=7,(0,i.take)(e);case 7:return t=a.sent,a.next=10,(0,i.select)(s.getCurrentPage);case 10:return r=a.sent,a.next=13,(0,i.select)(u.getActiveForm);case 13:return n=a.sent,o=t.segments,a.next=17,(0,i.select)(u.getAviaFormParams);case 17:return f=a.sent,p=f.shouldSearchHotels,v=f.passengers,g=f.tripClass,h=f.paymentMethod,m={passengers:v,tripClass:g,paymentMethod:h,segments:o},y={searchTriggerSource:t.requestSource,expectedPriceData:t.expectedPrice,shouldSearchHotels:"avia"===n&&p,openWithoutSPA:(0,l.startSearchWithoutSPAExperiment)(r)},a.next=26,(0,i.put)((0,d.startSearch)(m,y));case 26:a.next=31;break;case 28:a.prev=28,a.t0=a.catch(4),e.close();case 31:a.next=3;break;case 33:case"end":return a.stop()}}),E,null,[[4,28]])}function M(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(p.START_SEARCH,a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,e.next=3,(0,i.select)(s.getCurrentPage);case 3:if(!("main"===(n=e.sent)||"search"===n&&f.default.is("serp-exp-travelRestrictions"))){e.next=10;break}return e.next=7,(0,i.call)(T.prepareFormParams,r);case 7:return o=e.sent,e.next=10,(0,v.emitSeleneEvent)({type:"service/helios/search/started",payload:o});case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),k)}function F(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/api/meta_loaded");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,g.updateSearchMeta)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),C,null,[[4,12]])}function N(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/api/chunks_loaded");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,h.chunksLoaded)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),w,null,[[4,12]])}function L(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/api/search_finished");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.select)(P.getSearchStatus);case 9:if(t.sent===o.SearchStatus.Finished){t.next=13;break}return t.next=13,(0,i.put)((0,m.updateSearchStatus)(o.SearchStatus.Finished));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),e.close();case 18:t.next=3;break;case 20:case"end":return t.stop()}}),D,null,[[4,15]])}function B(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/api/restart");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,d.restartSearch)("aviacashback_change"));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),I,null,[[4,11]])}function U(){var e,t,r,n;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/api/search_failed");case 2:e=a.sent;case 3:return a.prev=4,a.next=7,(0,i.take)(e);case 7:return t=a.sent,r=t.type,n=(0,y.mapClientErrorToExplosionError)(r),a.next=12,(0,i.put)((0,_.setError)(r,n));case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),e.close();case 17:a.next=3;break;case 19:case"end":return a.stop()}}),A,null,[[4,14]])}function H(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(O.UPDATE_SEARCH_STATUS,a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.status,e.next=3,(0,v.emitSeleneEvent)({type:"service/helios/serp/search_status/changed",payload:r});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),x)}function W(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/continue_status/changed");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,i.take)(e);case 7:if(t=n.sent,r=t.source,!f.default.is("serp-exp-chipsFilters")||"filters"!==r&&"sorting"!==r){n.next=13;break}return n.next=13,(0,i.put)((0,b.updateSearchResultsRequestStatus)(S.RequestStatus.Pending,"filtersUpdate"));case 13:if("direct_schedule"!==r){n.next=16;break}return n.next=16,(0,i.put)((0,b.updateSearchResultsRequestStatus)(S.RequestStatus.Pending,"directSchedule"));case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(4),e.close();case 21:n.next=3;break;case 23:case"end":return n.stop()}}),j,null,[[4,18]])}},820656:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.searchParamsUpdatedSaga=f;var i=n(r(385882)),o=r(982175),c=r(754266),s=r(430162),u=r(294317),l=a.mark(f);function f(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([u.UPDATE_SEARCH_PARAMS],i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(s.getSearchParams);case 2:return t=e.sent,e.next=5,(0,c.emitSeleneEvent)({type:"service/helios/serp/api/search_params_updated",payload:t});case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),l)}},975741:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.seleneWidgetsSaga=j;var a=n(r(385882)),i=r(67085),o=r(832943),c=r(439094),s=r(431628),u=r(460246),l=r(555586),f=r(3643),d=r(498173),p=r(645058),v=r(23890),g=r(969400),h=r(586084),m=r(466642),y=r(481218),_=r(840314),b=r(601061),S=r(916768),T=r(498862),O=r(136877),P=r(837533),E=r(807314),k=r(412337),C=r(820656),w=r(100795),D=r(341212),I=r(798295),A=r(715144),x=a.default.mark(j);function j(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(d.initSeleneWidgetsSaga);case 2:return e.next=4,(0,i.fork)(o.tripParamsParsedSaga);case 4:return e.next=6,(0,i.fork)(v.startSearchSaga);case 6:return e.next=8,(0,i.fork)(v.searchContinueStatusChangedSaga);case 8:return e.next=10,(0,i.fork)(p.aviaFormChangedSaga);case 10:return e.next=12,(0,i.fork)(p.multiwayFormChangedSaga);case 12:return e.next=14,(0,i.fork)(g.updateCurrencyRatesSaga);case 14:return e.next=16,(0,i.fork)(h.filtersChangedSaga);case 16:return e.next=18,(0,i.fork)(h.filtersResetSaga);case 18:return e.next=20,(0,i.fork)(h.filtersRelaxSaga);case 20:return e.next=22,(0,i.fork)(h.updateFiltersStateSaga);case 22:return e.next=24,(0,i.fork)(h.updateFiltersBoundariesSaga);case 24:return e.next=26,(0,i.fork)(h.sortingChangedSaga);case 26:return e.next=28,(0,i.fork)(m.changeExploreFiltersSaga);case 28:return e.next=30,(0,i.fork)(_.activeFormShouldChangeSaga);case 30:return e.next=32,(0,i.fork)(_.updateActiveFormSaga);case 32:return e.next=34,(0,i.fork)(p.aviaFormFocusFieldSaga);case 34:return e.next=36,(0,i.fork)(p.aviaFormSubmittedSaga);case 36:return e.next=38,(0,i.fork)(v.searchStartedSaga);case 38:return e.next=40,(0,i.fork)(y.updateThemeSaga);case 40:return e.next=42,(0,i.fork)(y.changeThemeSaga);case 42:return e.next=44,(0,i.fork)(T.priceAlertSubscriptionCreateSaga);case 44:return e.next=46,(0,i.fork)(T.priceAlertSubscriptionCreatedSaga);case 46:return e.next=48,(0,i.fork)(T.priceAlertSubscriptionDeletedSaga);case 48:return e.next=50,(0,i.fork)(b.showPremiumPaySaga);case 50:return e.next=52,(0,i.fork)(v.searchMetaLoadedSaga);case 52:return e.next=54,(0,i.fork)(v.searchChunksLoadedSaga);case 54:return e.next=56,(0,i.fork)(u.directScheduleSearchChunksLoadedSaga);case 56:return e.next=58,(0,i.fork)(v.searchFinishedSaga);case 58:return e.next=60,(0,i.fork)(v.searchFailedSaga);case 60:return e.next=62,(0,i.fork)(c.autosearchSaga);case 62:return e.next=64,(0,i.fork)(O.gdprSaga);case 64:return e.next=66,(0,i.fork)(O.initThirdPartySaga);case 66:return e.next=68,(0,i.fork)(v.searchStatusChangedSaga);case 68:return e.next=70,(0,i.fork)(P.softTicketsUpdatedSaga);case 70:return e.next=72,(0,i.fork)(E.b2bInfoModalSaga);case 72:return e.next=74,(0,i.fork)(S.actualizeSubscriberSaga);case 74:return e.next=76,(0,i.fork)(k.b2bSignInModalSaga);case 76:return e.next=78,(0,i.fork)(s.geoIpCountryInitiatedSaga);case 78:return e.next=80,(0,i.fork)(v.searchRestartSaga);case 80:return e.next=82,(0,i.fork)(u.directScheduleUpdatedSaga);case 82:return e.next=84,(0,i.fork)(u.directScheduleResetSaga);case 84:return e.next=86,(0,i.fork)(l.directScheduleTicketUpdatedSaga);case 86:return e.next=88,(0,i.fork)(l.directScheduleTicketClickedSaga);case 88:return e.next=90,(0,i.fork)(l.directScheduleTicketResetSaga);case 90:return e.next=92,(0,i.fork)(u.directScheduleTicketSelectedTariffChangeSaga);case 92:return e.next=94,(0,i.fork)(f.directScheduleFlightRequestStarted);case 94:return e.next=96,(0,i.fork)(f.directScheduleFlightRequestFailed);case 96:return e.next=98,(0,i.fork)(C.searchParamsUpdatedSaga);case 98:return e.next=100,(0,i.fork)(w.changeLanguageSaga);case 100:return e.next=102,(0,i.fork)(p.aviaParamsSaga);case 102:return e.next=104,(0,i.fork)(p.multiwayParamsSaga);case 104:return e.next=106,(0,i.fork)(p.shouldSearchHotelsChangedSaga);case 106:return e.next=108,(0,i.fork)(D.b2bBannerClickedSaga);case 108:return e.next=110,(0,i.fork)(I.ticketSubscriptionClickedSaga);case 110:return e.next=112,(0,i.fork)(I.ticketsSubscriptionChangedSaga);case 112:return e.next=114,(0,i.fork)(A.hotelFormChangedSaga);case 114:return e.next=116,(0,i.fork)(A.hotelParamsSaga);case 116:case"end":return e.stop()}}),x)}},837533:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.softTicketsUpdatedSaga=u;var a=n(r(385882)),i=r(67085),o=r(754266),c=r(340227),s=a.default.mark(u);function u(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(c.UPDATE_TICKETS_AND_DICTS,(function(e){var t=e.ticketsState;(0,o.emitSeleneEvent)({type:"service/helios/serp/soft_tickets/updated",payload:t.softTickets})}));case 2:case"end":return e.stop()}}),s)}},481218:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.changeThemeSaga=p,t.updateThemeSaga=d;var a=n(r(385882)),i=r(67085),o=r(824203),c=r(754266),s=r(47379),u=r(984139),l=a.default.mark(d),f=a.default.mark(p);function d(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(o.USER_THEME_SET,(function(e){var t=e.theme;(0,c.emitSeleneEvent)({type:"service/helios/theme/changed",payload:{theme:t}})}));case 2:case"end":return e.stop()}}),l)}function p(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/theme/should_change");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,i.take)(e);case 7:return t=n.sent,r=t.theme,n.next=11,(0,i.put)((0,u.setUserTheme)(r));case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(4),e.close();case 16:n.next=3;break;case 18:case"end":return n.stop()}}),f,null,[[4,13]])}},798295:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketSubscriptionClickedSaga=p,t.ticketsSubscriptionChangedSaga=v;var a=n(r(385882)),i=r(982175),o=r(47379),c=r(754266),s=r(553104),u=r(565020),l=r(58892),f=a.default.mark(p),d=a.default.mark(v);function p(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/serp/tickets/subscription/clicked");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,s.ticketSubscription)(t,"ticket"));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),f,null,[[4,12]])}function v(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)([l.SET_TICKET_HAS_SUBSCRIPTION,l.TICKET_SUBSCRIPTIONS_CLEAR,l.TICKET_SUBSCRIPTIONS_REMOVE,l.TICKET_SUBSCRIPTIONS_ADD],a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.select)(u.getTicketsHasSubscription);case 2:return t=e.sent,e.next=5,(0,c.emitSeleneEvent)({type:"service/helios/serp/tickets/subscription/changed",payload:{ticketsWithSubsctiption:t}});case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}},832943:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.tripParamsParsedSaga=f;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(335280),s=r(418310),u=r(397402),l=a.default.mark(f);function f(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/trip_params/parsed");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,c.tripParamsParsed)(t));case 10:return r.next=12,(0,i.put)((0,s.changeMaxVisibleLastSearches)(2));case 12:if(!t.startSearch){r.next=15;break}return r.next=15,(0,i.put)((0,u.pageLoadStartSearch)(t));case 15:r.next=20;break;case 17:r.prev=17,r.t0=r.catch(4),e.close();case 20:r.next=3;break;case 22:case"end":return r.stop()}}),l,null,[[4,17]])}},916768:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.actualizeSubscriberSaga=l;var a=n(r(385882)),i=r(67085),o=r(47379),c=n(r(190815)),s=r(336451),u=a.default.mark(l);function l(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/user/actualize_subscriber");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:c.default.dispatch((0,s.actualizeSubscriber)()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),e.close();case 13:t.next=3;break;case 15:case"end":return t.stop()}}),u,null,[[4,10]])}},8166:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.serpModalSaga=w,t.startSearchOnAutosearchMount=k;var i=n(r(385882)),o=r(982175),c=r(902093),s=r(439094),u=r(742029),l=r(359759),f=r(637745),d=r(61303),p=r(423343),v=r(223002),g=r(38062),h=r(170769),m=r(430162),y=r(539786),_=r(671747),b=r(627039),S=r(990647),T=r(734682),O=a.mark(k),P=a.mark(C),E=a.mark(w);function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)([s.START_AUTOSEARCH],i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(v.getActiveForm);case 2:return t=e.sent,e.next=5,(0,o.select)("multiway"===t?p.getMultiwayParams:d.getAviaParams);case 5:return r=e.sent,e.next=8,(0,o.put)((0,T.clearSearch)());case 8:return e.next=10,(0,o.put)((0,T.startSearch)(r,{searchTriggerSource:"autosearch"}));case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}function C(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)([S.UPDATE_SEARCH_STATUS,f.OPEN_POPUP],i.default.mark((function e(){var t,r,n,a,s,f,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)((function(e){return(0,u.getPopupIsOpen)(e,l.SERP_IN_MODAL)}));case 2:if(!e.sent){e.next=24;break}return e.next=6,(0,o.select)(y.getSearchStatus);case 6:return t=e.sent,e.next=9,(0,o.select)(g.getCheapestTicketPrice);case 9:return r=e.sent,e.next=12,(0,o.select)(m.getSearchParams);case 12:return n=e.sent,e.next=15,(0,o.select)(_.getCurrencies);case 15:return a=e.sent,e.next=18,(0,o.select)(b.getError);case 18:return s=e.sent,f=t===c.SearchStatus.Finished,d="chunk_failed"===s?void 0:s,e.next=23,(0,o.call)(h.getPriceTitle,{searchParams:n,cheapestTicketPrice:r,isSearchFinished:f,currencies:a,error:d});case 23:document.title=e.sent;case 24:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}function w(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(C);case 2:return e.next=4,(0,o.fork)(k);case 4:case"end":return e.stop()}}),E)}},840831:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.showMoreTicketsSaga=p;var i=n(r(385882)),o=r(982175),c=r(37423),s=r(239733),u=r(803936),l=a.mark(d),f=a.mark(p);function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(u.SHOW_MORE_TICKETS_CLICK,i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(s.getSearchResultsPage);case 2:return t=e.sent,r=t+1,e.next=6,(0,o.put)((0,c.updateSearchResultsPage)(r));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),l)}function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(d);case 2:case"end":return e.stop()}}),f)}},731494:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.stoyanAnalSaga=O;var i=n(r(385882)),o=r(67085),c=r(39569),s=n(r(325967)),u=r(452130),l=n(r(897360)),f=n(r(587273)),d=r(808460),p=r(990647),v=r(430162),g=r(340227),h=r(25614),m=r(38062),y=a.mark(S),_=a.mark(T),b=a.mark(O);function S(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(p.UPDATE_SEARCH_STATUS,i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.status)!==c.SearchStatus.Started){e.next=8;break}return e.next=4,(0,o.select)(v.getSearchParams);case 4:return n=e.sent,e.next=7,(0,o.call)(s.default.on_start_search,(a=n,void 0,{auid:null!=(i=(0,d.readAuid)())?i:void 0,currency:a.currency,host:a.host,locale:a.locale,marker:l.default.marker(),market:(0,u.getMarket)(),paymentMethod:a.paymentMethod,passengers:a.passengers,responsive:f.default.currentMode()||"desktop",searchHotels:a.searchHotels,segments:a.segments.map((function(e){return{origin:e.origin_iata||e.origin,destination:e.destination_iata||e.destination,date:e.date}})),tripClass:a.trip_class}));case 7:return e.abrupt("return");case 8:if(r!==c.SearchStatus.Finished){e.next=11;break}return e.next=11,(0,o.call)(s.default.on_search_finished);case 11:case"end":return e.stop()}var a,i}),e)})));case 2:case"end":return e.stop()}}),y)}function T(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(g.UPDATE_TICKETS_AND_DICTS,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(h.getIsTicketsListEmpty);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,o.select)(m.getCheapestTicketPrice);case 7:return t=e.sent,e.next=10,(0,o.call)(s.default.on_update_tickets,t);case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function O(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(S);case 2:return e.next=4,(0,o.fork)(T);case 4:case"end":return e.stop()}}),b)}},328846:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=k;var i=n(r(385882)),o=r(67085),c=r(863974),s=r(722026),u=r(346790),l=n(r(860606)),f=n(r(897360)),d=r(20344),p=r(808460),v=r(653846),g=r(150834),h=r(430162),m=r(38062),y=r(680013),_=a.mark(O),b=a.mark(P),S=a.mark(E),T=a.mark(k);function O(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(v.CREATE_CURRRENT_DIRECTION_SUBSCRIPTION,i.default.mark((function e(t){var r,n,a,s,v,y,_,b;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,e.prev=1,e.next=4,(0,o.select)(h.getSearchParams);case 4:return n=e.sent,e.next=7,(0,o.select)(m.getCheapestTicket);case 7:if(a=e.sent,s=c.userService.$jwt.getState(),n&&s){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,o.put)((0,g.setDirectionSubscriptionsCreateStatus)(d.RequestStatus.Pending));case 13:return e.next=15,(0,o.call)(u.createDirectionSubscription,n,a[1][0].unifiedPrice,f.default.marker(),(0,p.readAuid)(),s,r.flexibility,r.directFlight);case 15:return v=e.sent,e.next=18,(0,o.put)((0,g.addDirectionSubscriptions)(v));case 18:return e.next=20,(0,o.put)((0,g.setDirectionSubscriptionsCreateStatus)(d.RequestStatus.Success,void 0,v.id));case 20:e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(1),e.next=26,(0,o.put)((0,g.setDirectionSubscriptionsCreateStatus)(d.RequestStatus.Failure,(null===e.t0||void 0===e.t0||null===(y=e.t0.response)||void 0===y||null===(_=y.data)||void 0===_||null===(b=_.info)||void 0===b?void 0:b.status)||e.t0.message));case 26:l.default.error("Error during createDirectionSubscription fn in saveDirectionSubscriptionSaga",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,22]])})));case 2:case"end":return e.stop()}}),_)}function P(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(v.UNSUBSCRIBE_CURRENT_DIRECTION,i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.triggerSource,e.next=3,(0,o.select)(y.getCurrentDirectionSubscription);case 3:if(!(n=e.sent)){e.next=7;break}return e.next=7,(0,o.put)((0,g.unsubscribeDirectionById)(n.id,r));case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),b)}function E(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(v.UNSUBSCRIBE_DIRECTION_BY_ID,i.default.mark((function e(t){var r,n,a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.subscriptionId,n=t.triggerSource,!r){e.next=20;break}if(e.prev=2,a=c.userService.$jwt.getState()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,o.call)(u.removeDirectionSubscription,r,(0,p.readAuid)(),a);case 8:return e.sent,e.next=11,(0,o.select)(y.getDirectionSubscriptionById,r);case 11:return l=e.sent,e.next=14,(0,o.put)((0,g.removeDirectionSubscription)(r));case 14:return e.next=16,(0,o.fork)(s.directionSubscriptionRemovedEvent,l,n);case 16:e.next=20;break;case 18:e.prev=18,e.t0=e.catch(2);case 20:case"end":return e.stop()}}),e,null,[[2,18]])})));case 2:case"end":return e.stop()}}),S)}function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(O);case 2:return e.next=4,(0,o.fork)(P);case 4:return e.next=6,(0,o.fork)(E);case 6:case"end":return e.stop()}}),T)}},38078:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P;var i=n(r(385882)),o=r(67085),c=r(863974),s=r(722026),u=r(346790),l=n(r(860606)),f=n(r(897360)),d=r(20344),p=r(808460),v=r(736778),g=r(617853),h=r(430162),m=r(38062),y=r(502674),_=a.mark(T),b=a.mark(O),S=a.mark(P);function T(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(v.CREATE_CURRRENT_FLEXIBLE_SUBSCRIPTION,i.default.mark((function e(t){var r,n,a,s,v,y,_,b,S;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,e.prev=1,e.next=4,(0,o.select)(h.getSearchParams);case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,(0,o.select)(m.getCheapestTicket);case 9:if(a=e.sent,s=c.userService.$jwt.getState()){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,(0,o.put)((0,g.setFlexibleSubscriptionsCreateStatus)(d.RequestStatus.Pending));case 15:return v=r.duration?{min_days:r.duration.min,max_days:r.duration.max}:void 0,e.next=18,(0,o.call)(u.createFlexibleSubscription,n,a[1][0].unifiedPrice,f.default.marker(),(0,p.readAuid)(),s,r.months,v);case 18:return y=e.sent,e.next=21,(0,o.put)((0,g.addFlexibleSubscriptions)(y));case 21:return e.next=23,(0,o.put)((0,g.setFlexibleSubscriptionsCreateStatus)(d.RequestStatus.Success,void 0,y.id));case 23:e.next=30;break;case 25:return e.prev=25,e.t0=e.catch(1),e.next=29,(0,o.put)((0,g.setFlexibleSubscriptionsCreateStatus)(d.RequestStatus.Failure,(null===e.t0||void 0===e.t0||null===(_=e.t0.response)||void 0===_||null===(b=_.data)||void 0===b||null===(S=b.info)||void 0===S?void 0:S.status)||e.t0.message));case 29:l.default.error("Error during createFlexibleSubscription fn in saveFlexibleSubscriptionSaga",e.t0);case 30:case"end":return e.stop()}}),e,null,[[1,25]])})));case 2:case"end":return e.stop()}}),_)}function O(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(v.UNSUBSCRIBE_FLEXIBLE_BY_ID,i.default.mark((function e(t){var r,n,a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.subscriptionId,n=t.triggerSource,!r){e.next=19;break}if(e.prev=2,a=c.userService.$jwt.getState()){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,(0,o.call)(u.removeFlexibleSubscription,r,(0,p.readAuid)(),a);case 8:return e.next=10,(0,o.select)(y.getFlexibleSubscriptionById,r);case 10:return l=e.sent,e.next=13,(0,o.put)((0,g.removeFlexibleSubscription)(r));case 13:return e.next=15,(0,o.fork)(s.directionSubscriptionRemovedEvent,l,n);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(2);case 19:case"end":return e.stop()}}),e,null,[[2,17]])})));case 2:case"end":return e.stop()}}),b)}function P(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(T);case 2:return e.next=4,(0,o.fork)(O);case 4:case"end":return e.stop()}}),S)}},552765:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=N;var i=n(r(385882)),o=n(r(275347)),c=r(67085),s=r(863974),u=r(386452),l=r(173400),f=n(r(860606)),d=n(r(897360)),p=r(346790),v=r(20344),g=r(808460),h=r(257126),m=r(466575),y=r(122456),_=r(150834),b=r(617853),S=r(108926),T=n(r(328846)),O=n(r(286717)),P=n(r(38078)),E=a.mark(R),k=a.mark(M),C=a.mark(F),w=a.mark(N),D=s.userService.$jwt,I=s.userService.$userActiveEmail,A=s.userService.$userCandidateEmail,x=s.userService.waitUserInfo,j=s.userService.userLoggedOut;function R(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)([y.FETCH_ALL_SUBSCRIPTIONS],i.default.mark((function e(){var t,r,n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.call)(x);case 2:if(I.getState()||A.getState()){e.next=11;break}return e.next=6,(0,c.put)((0,_.setDirectionSubscriptionsFetchStatus)(v.RequestStatus.Success));case 6:return e.next=8,(0,c.put)((0,b.setFlexibleSubscriptionsFetchStatus)(v.RequestStatus.Success));case 8:return e.next=10,(0,c.put)((0,S.setTicketSubscriptionsFetchStatus)(v.RequestStatus.Success));case 10:return e.abrupt("return");case 11:return e.prev=11,e.next=14,(0,c.put)((0,_.setDirectionSubscriptionsFetchStatus)(v.RequestStatus.Pending));case 14:return e.next=16,(0,c.put)((0,b.setFlexibleSubscriptionsFetchStatus)(v.RequestStatus.Pending));case 16:return e.next=18,(0,c.put)((0,S.setTicketSubscriptionsFetchStatus)(v.RequestStatus.Pending));case 18:if(t=D.getState()){e.next=21;break}return e.abrupt("return");case 21:return e.next=23,(0,c.call)(p.fetchSubscriptions,t);case 23:if(r=e.sent,n=r.direction_subscriptions,a=r.flexible_subscriptions,o=r.ticket_subscriptions,!n){e.next=34;break}return e.next=30,(0,c.put)((0,_.clearDirectionSubscriptions)());case 30:return e.next=32,(0,c.put)((0,_.addDirectionSubscriptions)(n));case 32:return e.next=34,(0,c.put)((0,_.setDirectionSubscriptionsFetchStatus)(v.RequestStatus.Success));case 34:if(!o){e.next=41;break}return e.next=37,(0,c.put)((0,S.clearTicketSubscription)());case 37:return e.next=39,(0,c.put)((0,S.addTicketSubscription)(o));case 39:return e.next=41,(0,c.put)((0,S.setTicketSubscriptionsFetchStatus)(v.RequestStatus.Success));case 41:if(!a){e.next=48;break}return e.next=44,(0,c.put)((0,b.clearFlexibleSubscriptions)());case 44:return e.next=46,(0,c.put)((0,b.addFlexibleSubscriptions)(a));case 46:return e.next=48,(0,c.put)((0,b.setFlexibleSubscriptionsFetchStatus)(v.RequestStatus.Success));case 48:e.next=59;break;case 50:return e.prev=50,e.t0=e.catch(11),e.next=54,(0,c.put)((0,_.setDirectionSubscriptionsFetchStatus)(v.RequestStatus.Failure,e.t0.message));case 54:return e.next=56,(0,c.put)((0,b.setFlexibleSubscriptionsFetchStatus)(v.RequestStatus.Failure,e.t0.message));case 56:return e.next=58,(0,c.put)((0,S.setTicketSubscriptionsFetchStatus)(v.RequestStatus.Failure,e.t0.message));case 58:f.default.error("Error during fetch subscriptions",e.t0);case 59:case"end":return e.stop()}}),e,null,[[11,50]])})));case 2:case"end":return e.stop()}}),E)}function M(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(0,l.observableToChannel)(j);case 1:return t.next=4,(0,c.take)(e);case 4:return t.next=6,(0,c.put)((0,_.clearDirectionSubscriptions)());case 6:return t.next=8,(0,c.put)((0,b.clearFlexibleSubscriptions)());case 8:return t.next=10,(0,c.put)((0,S.clearTicketSubscription)());case 10:t.next=1;break;case 12:case"end":return t.stop()}}),k)}function F(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=function(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=u.$currency.getState(),r=D.getState()){e.next=5;break}return e.abrupt("return");case 5:(0,p.actualizeSubscriber)(t,o.default.language,d.default.marker(),(0,g.readAuid)(),r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f.default.warn("An error occured during actualization of ticket subscriber",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])},e=i.default.mark(t),r.next=4,(0,c.takeLeading)([h.UPDATE_MARKER,m.CHANGE_USER_LANGUAGE,y.SUBSCRIPTIONS_ACTUALIZE_SUBSCRIBER],t);case 4:return r.next=6,(0,c.takeLeading)((0,l.observableToChannel)(u.$currency),t);case 6:case"end":return r.stop()}}),C)}function N(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(T.default);case 2:return e.next=4,(0,c.fork)(O.default);case 4:return e.next=6,(0,c.fork)(P.default);case 6:return e.next=8,(0,c.fork)(M);case 8:return e.next=10,(0,c.fork)(R);case 10:return e.next=12,(0,c.fork)(F);case 12:case"end":return e.stop()}}),w)}},286717:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=F;var i=n(r(385882)),o=n(r(114558)),c=r(67085),s=r(62495),u=r(39569),l=n(r(897360)),f=r(722026),d=r(234743),p=r(104185),v=r(215196),g=r(863974),h=r(20344),m=r(536317),y=r(73292),_=r(808460),b=r(990647),S=r(58892),T=r(108926),O=r(38062),P=r(902411),E=r(539786),k=r(430162),C=r(25614),w=r(871255),D=r(946831),I=r(565020),A=a.mark(R),x=a.mark(M),j=a.mark(F);function R(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLeading)(S.TICKET_SUBSCRIPTIONS_CREATE,i.default.mark((function e(t){var r,n,a,S,I,A,x,j,R,M,F,N,L,B,U,H,W,G,K,V;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,n=t.triggerType,e.next=3,(0,c.select)(k.getSearchParams);case 3:return a=e.sent,e.next=6,(0,c.select)(E.getSearchStatus);case 6:if(S=e.sent,I=(0,s.eventChannel)((function(e){return y.subscriptionsService.outputs.$createTicketSubscriptionStatus.watch((function(t){e(t)})).unsubscribe})),a){e.next=10;break}return e.abrupt("return");case 10:if(S===u.SearchStatus.Finished||S===u.SearchStatus.Failed){e.next=18;break}return e.next=13,(0,c.take)(b.UPDATE_SEARCH_STATUS);case 13:return e.next=15,(0,c.select)(E.getSearchStatus);case 15:S=e.sent,e.next=10;break;case 18:if(g.userService.$jwt.getState()){e.next=21;break}return e.abrupt("return");case 21:return e.prev=21,e.next=24,(0,c.select)(O.getCheapestTicket);case 24:return A=e.sent,e.next=27,(0,c.select)(p.getSelectedFareProposal,r);case 27:if(x=e.sent,!(j="comparison_widget"===n)){e.next=35;break}return e.next=32,(0,c.select)(w.getComparisonTicketTupleBySign,r);case 32:e.t0=e.sent,e.next=38;break;case 35:return e.next=37,(0,c.select)(C.getTicketTupleBySign,r);case 37:e.t0=e.sent;case 38:if(R=e.t0,!j){e.next=43;break}return e.next=42,(0,c.select)(w.getComparisonTicketSearchParamsBySign,r);case 42:a=e.sent;case 43:return e.next=45,(0,c.select)(P.prepareTicketProposals,R);case 45:return M=e.sent,F=M.currentTariff,N=(0,o.default)(M.tariffs[F],1),L=N[0],B=(0,d.getProposalToRender)({isFaresExpEnabled:(0,p.isFaresExperimentEnabled)(),fareProposal:x,upsellProposal:L}),e.next=51,(0,c.call)(y.subscriptionsService.inputs.createTicketSubscription,{source:n,data:(0,m.mapTicketToTicketSubscription)(R,B,a,A[1][0].unifiedPrice,l.default.marker(),(0,_.readAuid)()).ticket_subscription});case 51:return e.next=54,(0,c.take)(I);case 54:if("done"!==e.sent){e.next=59;break}return e.next=58,(0,c.call)(D.ticketSubscriptionModel.ticketSubscriptionCreated,{children:a.passengers.children,infants:a.passengers.infants});case 58:return e.abrupt("break",61);case 59:e.next=51;break;case 61:e.next=70;break;case 63:return e.prev=63,e.t1=e.catch(21),e.next=67,(0,c.put)((0,T.setTicketSubscriptionsCreateStatus)(h.RequestStatus.Failure,(null===e.t1||void 0===e.t1||null===(U=e.t1.response)||void 0===U||null===(H=U.data)||void 0===H||null===(W=H.info)||void 0===W?void 0:W.status)||e.t1.message));case 67:return e.next=69,(0,c.call)(f.ticketSubscriptionFailedEvent,(null===e.t1||void 0===e.t1||null===(G=e.t1.response)||void 0===G||null===(K=G.data)||void 0===K||null===(V=K.info)||void 0===V?void 0:V.status)||e.t1.message);case 69:v.ErrorsTracker.warning("createTicketSubscription saga error",{error:e.t1});case 70:case"end":return e.stop()}}),e,null,[[21,63]])})));case 2:case"end":return e.stop()}}),A)}function M(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLeading)(S.TICKET_SUBSCRIPTIONS_UNSUBSCRIBE_BY_TICKET_SIGN,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,n=t.triggerType,e.prev=1,e.next=4,(0,c.call)(y.subscriptionsService.inputs.deleteTicketSubscription,{source:n,data:{sign:r}});case 4:return e.next=6,(0,c.select)(I.getSubscriptionByTicketSign,r);case 6:if(!(a=e.sent)){e.next=10;break}return e.next=10,(0,c.put)((0,T.removeTicketSubscription)(a.id));case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,(0,c.put)((0,T.setTicketHasSubscription)(r,!0));case 16:v.ErrorsTracker.warning("removeTicketSubscription saga error",{error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));case 2:case"end":return e.stop()}}),x)}function F(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(R);case 2:return e.next=4,(0,c.fork)(M);case 4:case"end":return e.stop()}}),j)}},81947:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.createActivityChannel=void 0,t.suspendSaga=j;var i=n(r(385882)),o=r(67085),c=r(62495),s=r(629042),u=r(747596),l=n(r(633869)),f=r(367617),d=r(767747),p=r(539786),v=r(131052),g=r(25614),h=r(387438),m=r(841511),y=a.mark(D),_=a.mark(I),b=a.mark(A),S=a.mark(x),T=a.mark(j),O=[s.SearchStatus.Finished,s.SearchStatus.Expired],P=["mousemove","keydown","touchstart"],E="suspendShownTimestamp",k=function(){var e=String(Date.now());(0,u.setLocalStorageItem)(E,e),l.default.setItem(E,e)},C=function(){var e=(0,u.getLocalStorageItem)(E);return!(e&&!(Date.now()-Number(e)>36e5))},w=function(){return(0,c.eventChannel)((function(e){return P.forEach((function(t){return document.addEventListener(t,e)})),function(){P.forEach((function(t){return document.removeEventListener(t,e)}))}}))};function D(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(v.getTurnOffAnnoyingPopups);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,o.takeLeading)(f.SPAWN_SUSPEND_HANDLERS,i.default.mark((function e(){var t,r,n,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.default.getItem(E)&&C()){e.next=2;break}return e.abrupt("return");case 2:if("price_alert"!==(null==(t=location.search.match(/utm_source=([^&]+)/))?void 0:t[1])){e.next=6;break}return k(),e.abrupt("return");case 6:return r=(0,c.eventChannel)((function(e){return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}})),e.next=9,(0,o.fork)(I);case 9:return n=e.sent,e.next=12,(0,o.fork)(x);case 12:a=e.sent;case 13:return e.next=16,(0,o.race)({storageEvent:(0,o.take)(r),isAborted:(0,o.take)(f.ABORT_SUSPEND_HANDLERS)});case 16:if(s=e.sent,u=s.storageEvent,!s.isAborted&&((null==u?void 0:u.key)!==E||C())){e.next=26;break}return r.close(),e.next=23,(0,o.cancel)(n);case 23:return e.next=25,(0,o.cancel)(a);case 25:return e.abrupt("return");case 26:e.next=13;break;case 28:case"end":return e.stop()}}),e)})));case 7:case"end":return e.stop()}}),y)}function I(){var e,t,r,n,a,u,l;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=(0,c.eventChannel)((function(e){return document.addEventListener("mouseleave",e),function(){document.removeEventListener("mouseleave",e)}}));case 1:return i.next=4,(0,o.race)({mouseLeaveEvent:(0,o.take)(e),isAborted:(0,o.take)(f.ABORT_SUSPEND_HANDLERS)});case 4:if(t=i.sent,r=t.mouseLeaveEvent,!t.isAborted){i.next=10;break}return e.close(),i.abrupt("return");case 10:if(n=r.relatedTarget,a=r.clientY,!(n||a>20)){i.next=13;break}return i.abrupt("continue",1);case 13:return i.next=15,(0,o.select)(p.getSearchStatus);case 15:return u=i.sent,i.next=18,(0,o.select)(g.getIsEmptySearch);case 18:if(l=i.sent,O.includes(u)&&(!l||u!==s.SearchStatus.Finished)){i.next=21;break}return i.abrupt("continue",1);case 21:return e.close(),k(),i.next=25,(0,o.put)((0,m.suspendSubscriptions)(d.SubscriptionsPopupTriggerType.Exit));case 25:return i.next=27,(0,o.put)((0,h.abortSuspendHandlers)());case 27:return i.abrupt("return");case 30:case"end":return i.stop()}}),_)}function A(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.delay)(3e5);case 2:return e.next=4,(0,o.put)((0,h.triggerInactiveUser)());case 4:case"end":return e.stop()}}),b)}function x(){var e,t,r,n,a,c;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=w();case 1:return i.next=4,(0,o.fork)(A);case 4:return t=i.sent,i.next=7,(0,o.race)({isInactive:(0,o.take)(f.TRIGGER_INACTIVE_USER),isActivityEvent:(0,o.take)(e),isAborted:(0,o.take)(f.ABORT_SUSPEND_HANDLERS)});case 7:if(r=i.sent,n=r.isInactive,a=r.isActivityEvent,!r.isAborted){i.next=16;break}return i.next=14,(0,o.cancel)(t);case 14:return e.close(),i.abrupt("return");case 16:if(!a){i.next=20;break}return i.next=19,(0,o.cancel)(t);case 19:return i.abrupt("continue",1);case 20:if(!n){i.next=33;break}return i.next=23,(0,o.select)(p.getSearchStatus);case 23:if(c=i.sent,O.includes(c)){i.next=26;break}return i.abrupt("continue",1);case 26:return e.close(),k(),i.next=30,(0,o.put)((0,m.suspendSubscriptions)(d.SubscriptionsPopupTriggerType.Inactive));case 30:return i.next=32,(0,o.put)((0,h.abortSuspendHandlers)());case 32:return i.abrupt("return");case 33:i.next=1;break;case 35:case"end":return i.stop()}}),S)}function j(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(D);case 2:case"end":return e.stop()}}),T)}t.createActivityChannel=w},385658:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.proposalDebugInfo=d;var i=n(r(385882)),o=r(67085),c=r(148860),s=r(754266),u=a.mark(f),l=a.mark(d);function f(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.PROPOSAL_DEBUG_CLICK,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.proposalId,e.next=3,(0,s.emitSeleneEvent)({type:"service/helios/serp/ticket/debug_proposal_modal/opened",payload:r});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(f);case 2:case"end":return e.stop()}}),l)}},849854:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var a=n(r(385882)),i=r(67085),o=r(302455),c=r(527950),s=r(419067),u=r(140977),l=r(29618),f=r(167354),d=r(661567),p=r(281115),v=r(54460),g=r(385658),h=r(336396),m=r(343874),y=r(192442),_=r(68590),b=r(495112),S=r(812098),T=r(624103),O=r(729230),P=a.default.mark(E);function E(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(o.ticketBuyClick);case 2:return e.next=4,(0,i.fork)(c.ticketShare);case 4:return e.next=6,(0,i.fork)(c.ticketShareTooltipShown);case 6:return e.next=8,(0,i.fork)(s.ticketHotelStopClick);case 8:return e.next=10,(0,i.fork)(u.ticketFlightInfoSaga);case 10:return e.next=12,(0,i.fork)(l.ticketWarningTagTooltipShown);case 12:return e.next=14,(0,i.fork)(f.ticketRefreshClick);case 14:return e.next=16,(0,i.fork)(d.ticketSubscription);case 16:return e.next=18,(0,i.fork)(p.ticketComparisonClick);case 18:return e.next=20,(0,i.fork)(v.ticketDowngraded);case 20:return e.next=22,(0,i.fork)(_.ticketShowEventSaga);case 22:return e.next=24,(0,i.fork)(g.proposalDebugInfo);case 24:return e.next=26,(0,i.fork)(h.ticketMoreProposalsSaga);case 26:return e.next=28,(0,i.fork)(m.ticketProposalsInfoSaga);case 28:return e.next=30,(0,i.fork)(y.ticketLayoverInfoSaga);case 30:return e.next=32,(0,i.fork)(b.ticketContentRestrictionSaga);case 32:return e.next=34,(0,i.fork)(S.ticketContentSaga);case 34:return e.next=36,(0,i.fork)(T.ticketB2BSaga);case 36:return e.next=38,(0,i.fork)(o.ticketBuyClickFromSelene);case 38:return e.next=40,(0,i.fork)(O.ticketSelectedTariff);case 40:return e.next=42,(0,i.fork)(o.ticketUpdateResultsFromSelene);case 42:case"end":return e.stop()}}),P)}},624103:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketB2BSaga=h;var i=n(r(385882)),o=r(67085),c=n(r(382697)),s=r(148860),u=r(610832),l=r(280327),f=a.mark(v),d=a.mark(g),p=a.mark(h);function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.TICKET_B2B_INFO_BANNER_SHOWN,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(u.showB2BInfoBannerEvent);case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.TICKET_B2B_INFO_BANNER_CLOSE,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date(Date.now()+l.B2B_BANNER_HIDE_DURATION),e.next=3,(0,o.apply)(c.default,"set",["b2b_info_banner_closed","true",{expires:t}]);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(v);case 2:return e.next=4,(0,o.fork)(g);case 4:case"end":return e.stop()}}),p)}},302455:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketBuyClick=M,t.ticketBuyClickFromSelene=j,t.ticketUpdateResultsFromSelene=R;var a=n(r(114558)),i=n(r(385882)),o=r(67085),c=n(r(10520)),s=n(r(275347)),u=r(111035),l=r(705238),f=n(r(984437)),d=r(466778),p=n(r(702944)),v=r(587273),g=r(539786),h=r(47379),m=r(565569),y=r(539786),_=r(148860),b=r(718123),S=r(131052),T=r(520072),O=r(25614),P=r(142464),E=r(49040),k=r(767747),C=r(81947),w=r(553104),D=i.default.mark(j),I=i.default.mark(R),A=i.default.mark(M),x="https://agent-feedback."+m.API_HOST+"/get";function j(){var e,t,r,n,a;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.call)(h.createSeleneChannel,"service/helios/serp/ticket/buy");case 2:e=i.sent;case 3:return i.prev=4,i.next=7,(0,o.take)(e);case 7:return t=i.sent,r=t.event,n=t.data,i.next=11,(0,o.select)(S.getDebugProposals);case 11:if(a=i.sent,!r.shiftKey||!a){i.next=16;break}return i.next=15,(0,o.put)((0,w.proposalDebugClick)(n.ticketSign,n.proposal.id));case 15:return i.abrupt("continue",3);case 16:return i.next=18,(0,o.put)((0,w.ticketBuyClick)(r,n));case 18:i.next=23;break;case 20:i.prev=20,i.t0=i.catch(4),e.close();case 23:i.next=3;break;case 25:case"end":return i.stop()}}),D,null,[[4,20]])}function R(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.call)(h.createSeleneChannel,"service/helios/serp/ticket/update_results");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,o.take)(e);case 7:return t.next=9,(0,o.put)((0,w.ticketRefreshClick)());case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),I,null,[[4,11]])}function M(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(_.TICKET_BUY_CLICK,i.default.mark((function e(t){var r,n,h,m,S,w,D,I,A,j,R,M,F,N,L,B,U,H,W,G,K;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h=t.data,m=h.ticketSign,S=h.eventType,w=h.proposalPosition,D=h.proposal,e.next=5,(0,o.select)(O.getTicketBySign,m);case 5:if(I=e.sent,A=(0,v.isMobile)(),j=A?u.Platform.Mobile:u.Platform.Web,R={host:j,locale:s.default.language,gate_name:String(D.agentId),gate_id:D.agentId},M=null,S!==_.BuyEvents.ContextMenu){e.next=14;break}return e.next=13,(0,o.fork)(d.bookingRedirectStartedEvent,S,m,D,w,D.deeplink);case 13:return e.abrupt("return");case 14:return e.next=16,(0,o.select)(y.getFirstTicketArrivedAt);case 16:return F=e.sent,l.gdprService.$isThirdPartyInited.getState()&&f.default.Event("ticket_buy_button_click"),e.next=21,(0,o.put)((0,P.fBPixelInitiateCheckout)(m,D.id));case 21:return e.next=23,(0,o.put)((0,b.sendTiming)("buy_click",Date.now()-F));case 23:return e.next=25,(0,o.fork)(d.bookingRedirectStartedEvent,S,m,D,w,D.deeplink);case 25:return e.prev=25,e.next=28,(0,o.call)(c.default.post,x,R);case 28:N=e.sent,M=N.data.config,e.next=35;break;case 32:e.prev=32,e.t0=e.catch(25),console.warn("Could not get gate feedback config",e.t0);case 35:if(!(M&&(null===(r=M)||void 0===r||null===(n=r.views)||void 0===n?void 0:n.length)>0)){e.next=45;break}return e.next=38,(0,o.select)(g.getSearchId);case 38:return L=e.sent,B=(0,a.default)(M.views,1),U=B[0],H={openedPopupSid:U.sid,gateId:D.agentId||null,searchId:L,host:j,clickId:null,success:null,answers:[],popups:M.views},e.next=43,(0,o.put)((0,T.openPopup)("gateFeedback",H));case 43:e.next=61;break;case 45:return W=(0,C.createActivityChannel)(),e.next=48,(0,o.race)({isInactive:(0,o.delay)(27e4),isActivityEvent:(0,o.take)(W)});case 48:if(!e.sent.isActivityEvent){e.next=53;break}return W.close(),e.abrupt("return");case 53:if(G=1===I.segments.length,K=p.default.is("avs-feat-subscription"),!G||!K){e.next=60;break}return e.next=58,(0,o.call)(E.openPriceAlertSubscriptionModal,k.SubscriptionsPopupTriggerType.AfterOWBooking,k.SubscriptionsPopupTriggerType.AfterOWBooking);case 58:e.next=61;break;case 60:case 61:case"end":return e.stop()}}),e,null,[[25,32]])})));case 2:case"end":return e.stop()}}),A)}},281115:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketComparisonClick=v;var i=n(r(385882)),o=r(67085),c=r(871255),s=r(986106),u=r(646268),l=r(148860),f=r(718123),d=a.mark(v),p=!0;function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.TICKET_COMPARISON_CLICK,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticket,!t.isCompared){e.next=9;break}return n=r.ticket[0].sign,e.next=5,(0,o.put)((0,u.removeTicketComparisonTicket)(n));case 5:return e.next=7,(0,o.put)((0,f.reachGoal)("ticket-comparison--remove"));case 7:e.next=20;break;case 9:return e.next=11,(0,o.select)(c.getTicketsComparisonTickets);case 11:if(0!==e.sent.length||!p){e.next=16;break}return p=!1,e.next=16,(0,o.put)((0,u.openTicketsComparison)());case 16:return e.next=18,(0,o.put)((0,u.addTicketComparisonTicket)(r));case 18:return e.next=20,(0,o.put)((0,f.reachGoal)("ticket-comparison--add"));case 20:return e.next=22,(0,o.select)(c.getTicketsComparisonTickets);case 22:return a=e.sent,e.next=25,(0,o.call)(s.saveComparisonTicketsToLS,a);case 25:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}},812098:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketContentSaga=S;var a=n(r(385882)),i=r(67085),o=r(148860),c=r(754266),s=r(865726),u=r(520072),l=r(47379),f=r(742029),d=a.default.mark(m),p=a.default.mark(y),v=a.default.mark(_),g=a.default.mark(b),h=a.default.mark(S);function m(e){var t,r,n;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.data,r=t.type,n=t.payload,(0,c.emitSeleneEvent)({type:"service/helios/serp/transfer_info/shown",payload:{tag:r,contentProps:n}}),"restrictions_layover_conditions"!==r){a.next=6;break}return a.next=6,(0,i.put)((0,s.travelRestrictionsUpload)({data:n}));case 6:case"end":return a.stop()}}),d)}function y(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(o.TICKET_ALERT_CLICK,a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.call)(m,t);case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function _(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(o.TICKET_TRANSFER_TAG_CLICK,a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.call)(m,t);case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),v)}function b(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(l.createSeleneChannel,"service/helios/serp/transfer_info/filter_applied");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.select)(f.getPopupIsOpen,"ticket");case 9:if(!t.sent){t.next=13;break}return t.next=13,(0,i.put)((0,u.closePopup)("ticket"));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),e.close();case 18:t.next=3;break;case 20:case"end":return t.stop()}}),g,null,[[4,15]])}function S(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(y);case 2:return e.next=4,(0,i.fork)(_);case 4:return e.next=6,(0,i.fork)(b);case 6:case"end":return e.stop()}}),h)}},345904:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketDeeplinkSaga=f;var a=n(r(385882)),i=r(67085),o=r(47379),c=r(544112),s=a.default.mark(l),u=a.default.mark(f);function l(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/serp/ticket/deeplink/opened");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,i.take)(e);case 7:return t=r.sent,r.next=10,(0,i.put)((0,c.updateTicketDeeplinkInfo)(t));case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),e.close();case 15:r.next=3;break;case 17:case"end":return r.stop()}}),s,null,[[4,12]])}function f(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(l);case 2:case"end":return e.stop()}}),u)}},54460:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketDowngraded=m;var i=n(r(385882)),o=n(r(101339)),c=n(r(377754)),s=r(982175),u=r(148860),l=r(718123),f=r(539786),d=a.mark(h),p=a.mark(m);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(u.TICKET_DOWNGRADED_TOOLTIP_SHOW,i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.type,r=(0,c.default)(t,["type"]),e.next=3,(0,s.select)(f.getSearchId);case 3:return n=e.sent,e.next=6,(0,s.put)((0,l.reachGoal)("ticket_info--precheck_warning_showed",g(g({},r),{},{searchId:n})));case 6:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function m(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.fork)(h);case 2:case"end":return e.stop()}}),p)}},140977:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketFlightInfoSaga=d;var i=n(r(385882)),o=r(67085),c=r(754266),s=r(148860),u=a.mark(f),l=a.mark(d);function f(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.TICKET_FLIGHT_INFO_CLICKED,i.default.mark((function e(t){var r,n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.segmentIndex,n=t.flightIndex,a=t.proposalId,o=t.fareOptions,e.next=3,(0,c.emitSeleneEvent)({type:"service/helios/serp/ticket/flight_info_opened",payload:{segmentIndex:r,flightIndex:n,proposalId:a,fareOptions:o}});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(f);case 2:case"end":return e.stop()}}),l)}},419067:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketHotelStopClick=l;var i=n(r(385882)),o=r(67085),c=r(148860),s=r(718123),u=a.mark(l);function l(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(c.TICKET_SHARE_TOOLTIP_SHOWN,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,s.reachGoal)("HOTEL_LINK_CLICK"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}},192442:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketLayoverInfoSaga=d;var i=n(r(385882)),o=r(982175),c=r(178856),s=r(101271),u=r(637745),l=r(742029),f=a.mark(d);function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)(u.OPEN_POPUP,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ticketContent"===t.popupType){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,o.select)(l.getPopupData,"ticketContent");case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(n=r.ticketSign,(a=r.modalData).type!==s.TicketContentModalType.Content||!["visa_required","restrictions_layover_conditions","recheck_baggage","airport_change","short_layover","overnight_layover","long_layover","virtual_interline_domestic","virtual_interline_international","short_with_interline_layover"].includes(a.payload.type)){e.next=12;break}return e.next=12,(0,o.fork)(c.layoverInfoShowedEvent,n,a.payload.type);case 12:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}},336396:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketDrawerOverlappingPopupsToggle=O,t.ticketMoreProposalsClickBottomDrawerFromSelene=T,t.ticketMoreProposalsSaga=P;var i=n(r(385882)),o=r(982175),c=r(101271),s=r(47379),u=r(637745),l=r(742029),f=r(345663),d=r(754266),p=n(r(702944)),v=r(487825),g=r(520072),h=r(148860),m=a.mark(S),y=a.mark(T),_=a.mark(O),b=a.mark(P);function S(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(h.MORE_PROPOSALS_CLICK,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticketSign,n=t.ticketIndex,a=t.currentTariff,!Boolean(p.default.is("serp-exp-newProposalModal"))){e.next=7;break}return e.next=5,(0,d.emitSeleneEvent)({type:"service/helios/serp/ticket/proposal_modal/opened"});case 5:e.next=11;break;case 7:return e.next=9,(0,o.put)((0,g.openPopup)("ticket",{ticketIndex:n,ticketSign:r}));case 9:return e.next=11,(0,o.put)((0,g.openPopup)("ticketContent",{ticketIndex:n,ticketSign:r,modalData:{type:c.TicketContentModalType.Proposals,payload:{currentTariff:a,source:"ticket"}}}));case 11:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),m)}function T(){var e,t,r,n,a,u;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,o.call)(s.createSeleneChannel,"service/helios/serp/bottom_drawer/more_proposals_click");case 2:e=i.sent;case 3:return i.prev=4,i.next=7,(0,o.take)(e);case 7:return i.next=9,(0,o.select)(l.getPopupData,"ticket");case 9:return t=i.sent,r=t.ticketSign,n=t.ticketIndex,i.next=13,(0,o.select)(v.getCurrentTariffByTicketSign,r);case 13:if(a=i.sent,u=a.currentTariff,!Boolean(p.default.is("serp-exp-newProposalModal"))){i.next=21;break}return i.next=19,(0,d.emitSeleneEvent)({type:"service/helios/serp/ticket/proposal_modal/opened",payload:{source:"bottom_drawer"}});case 19:i.next=23;break;case 21:return i.next=23,(0,o.put)((0,g.openPopup)(f.TICKET_CONTENT_MODAL_NAME,{ticketSign:r,ticketIndex:n,modalData:{type:c.TicketContentModalType.Proposals,payload:{currentTariff:u,source:"bottom_drawer"}}}));case 23:i.next=28;break;case 25:i.prev=25,i.t0=i.catch(4),e.close();case 28:i.next=3;break;case 30:case"end":return i.stop()}}),y,null,[[4,25]])}function O(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLeading)([u.CLOSE_POPUP,u.OPEN_POPUP],i.default.mark((function e(t){var r,n,a,o,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,n=t.popupType,a=["ticketContent","loginForm","gateFeedback"],o=p.default.is("serp-exp-versusDrawer"),a.includes(n)&&o){e.next=5;break}return e.abrupt("return");case 5:return c=r===u.CLOSE_POPUP?"service/helios/serp/ticket/drawer/overlapping_popup_close":"service/helios/serp/ticket/drawer/overlapping_popup_open",e.next=8,(0,d.emitSeleneEvent)({type:c});case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function P(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(S);case 2:return e.next=4,(0,o.fork)(T);case 4:return e.next=6,(0,o.fork)(O);case 6:case"end":return e.stop()}}),b)}},343874:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketProposalsInfoSaga=d;var i=n(r(385882)),o=r(982175),c=r(295497),s=r(942974),u=r(742029),l=r(637745),f=a.mark(d);function d(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.OPEN_POPUP,i.default.mark((function e(t){var r,n,a,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ticketContent"===(r=t.popupType)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,o.select)(u.getPopupData,r);case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(a=n.ticketSign,(l=n.modalData).type===c.TicketContentModalType.Proposals){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,o.fork)(s.proposalsInfoShowedEvent,a,l.payload.currentTariff,l.payload.source);case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}},167354:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketRefreshClick=p;var i=n(r(385882)),o=r(67085),c=r(639662),s=r(405628),u=n(r(702944)),l=r(148860),f=r(734682),d=a.mark(p);function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.TICKET_REFRESH_CLICK,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.selectIsAutosearchEnabled)(u.default)){e.next=6;break}return e.next=4,(0,o.put)((0,c.startAutosearch)());case 4:e.next=8;break;case 6:return e.next=8,(0,o.put)((0,f.restartSearch)("expired_search"));case 8:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}},729230:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketSelectedTariff=v;var i=n(r(385882)),o=r(982175),c=r(402590),s=r(742029),u=r(754266),l=r(931162),f=a.mark(p),d=a.mark(v);function p(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.CHANGE_TICKET_SELECTED_TARIFF,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tariffType,e.next=3,(0,o.select)((function(e){return(0,s.getPopupIsOpen)(e,"ticket")}));case 3:if(!e.sent){e.next=7;break}return e.next=7,(0,u.emitSeleneEvent)({type:"service/helios/serp/ticket/has_baggage/updated",payload:r===l.TariffType.HasBaggage});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),f)}function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(p);case 2:case"end":return e.stop()}}),d)}},527950:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketShare=g,t.ticketShareTooltipShown=h;var i=n(r(385882)),o=r(67085),c=r(374831),s=r(535081),u=r(148860),l=r(888884),f=r(127563),d=r(694630),p=a.mark(g),v=a.mark(h);function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(u.TICKET_SHARE,i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.network,n=t.ticketSign,e.next=3,(0,o.fork)(c.ticketSharingStartedEvent,n,r);case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),p)}function h(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(u.TICKET_SHARE_TOOLTIP_SHOWN,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,e.next=3,(0,o.select)(f.getTicketShortUrl,r);case 3:if(e.sent){e.next=14;break}return e.next=7,(0,o.select)(d.getTicketUrl,r);case 7:return n=e.sent,e.next=10,(0,o.call)(s.createShortUrl,n);case 10:if(!(a=e.sent)){e.next=14;break}return e.next=14,(0,o.put)((0,l.addTicketShortUrl)(r,a));case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),v)}},68590:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketShowEventSaga=Z;var a=n(r(385882)),i=r(982175),o=r(39569),c=r(219691),s=r(215196),u=n(r(702944)),l=r(148860),f=r(990647),d=r(961489),p=r(373662),v=r(142464),g=r(402590),h=r(25614),m=r(694630),y=r(902411),_=r(759249),b=r(754266),S=r(487825),T=r(931162),O=r(131052),P=r(52735),E=r(104185),k=r(556696),C=r(520072),w=r(553104),D=a.default.mark(W),I=a.default.mark(G),A=a.default.mark(K),x=a.default.mark(V),j=a.default.mark(Y),R=a.default.mark(q),M=a.default.mark(z),F=a.default.mark(X),N=a.default.mark(Q),L=a.default.mark($),B=a.default.mark(Z),U=new d.ViewEventsStore,H=new d.ViewEventsStore;function W(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(f.UPDATE_SEARCH_STATUS,(function(e){e.status===o.SearchStatus.Started&&(U=new d.ViewEventsStore,H=new d.ViewEventsStore)}));case 2:case"end":return e.stop()}}),D)}function G(e){var t,r,n,o,s,l,f;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=2e3,u.default.isReady("avs-feat-ticketShow")&&"number"==typeof u.default.get("avs-feat-ticketShow").delay&&(t=u.default.get("avs-feat-ticketShow").delay),a.next=4,(0,i.delay)(t);case 4:if(r=e.ticketSign,n=e.proposalsByTariffs,o=e.currentTariff,s=e.ticketIndex,l=e.hash){a.next=7;break}return a.abrupt("return");case 7:if(f=U.getCurrentHash(r),!U.isInView(r)||U.isAlreadySent(r,l)||f&&f!==l){a.next=12;break}return U.setAsSent(r,l),a.next=12,(0,c.listingTicketShowedEvent)(r,s,n,o,U.getUpdatesCount(r));case 12:case"end":return a.stop()}}),I)}function K(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(l.TICKET_IN_VIEW,a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticketSign,n=t.inView,U.setInView(r,n),!n){e.next=5;break}return e.next=5,G(t);case 5:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),A)}function V(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(l.TICKET_SIGNIFICANT_UPDATE,a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticketSign,n=t.hash){e.next=3;break}return e.abrupt("return");case 3:return U.recordUpdate(r,n),H.isOpened(r)&&H.recordUpdate(r,n),e.next=7,G(t);case 7:return e.next=9,Y(t);case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),x)}function Y(e){var t,r,n,o,s,u,l;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=e.ticketSign,r=e.proposalsByTariffs,n=e.currentTariff,o=e.ticketIndex,s=e.hash,u=e.type,s){a.next=3;break}return a.abrupt("return");case 3:if(!H.isOpened(t)){a.next=9;break}return a.next=6,(0,i.select)(P.getAvailableTransferUpsellBoundaries);case 6:return l=a.sent,a.next=9,(0,c.ticketInfoShowedEvent)(u,l,t,o,r,n,H.getUpdatesCount(t));case 9:case"end":return a.stop()}}),j)}function q(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(f.UPDATE_SEARCH_STATUS,a.default.mark((function e(t){var r,n,c,s,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.status,e.next=3,(0,i.select)(k.getIsTicketDeeplink);case 3:return n=e.sent,e.next=6,(0,i.select)(k.getDeeplinkTicketSign);case 6:if(c=e.sent,s=u.default.is("serp-exp-ticketPreviewV3"),n&&s){e.next=10;break}return e.abrupt("return");case 10:if(l=0,r!==o.SearchStatus.Shown){e.next=14;break}return e.next=14,(0,i.put)((0,C.openPopup)("ticket",{ticketSign:c,ticketIndex:l,source:"deeplink"}));case 14:if(r!==o.SearchStatus.Finished){e.next=17;break}return e.next=17,(0,i.put)((0,w.requiredTicketFetched)(c,l));case 17:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),R)}function z(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(l.FETCH_REQUIRED_TICKET_SUCCEED,a.default.mark((function e(t){var r,n,o,c,s,u,l,f,d,p,v,g,h;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ticketSign,o=t.ticketIndex,e.next=3,(0,i.select)(S.getCurrentTariffByTicketSign,n);case 3:return c=e.sent,e.next=6,(0,i.select)(E.getSelectedFareProposal,n);case 6:return s=e.sent,e.next=9,(0,i.select)(O.getDebugProposals);case 9:return u=e.sent,l=c.tariffs,f=c.currentTariff,d=l[f][0],p=d.price,v=d.currency,g=(0,E.isFaresExperimentEnabled)(),e.next=15,(0,i.select)(E.getSimilarFareProposals,n);case 15:return h=e.sent,e.next=18,(0,b.emitSeleneEvent)({type:"service/helios/serp/ticket/ticket_popup_open",payload:{signature:n,ticketIndex:o,hasBaggage:f===T.TariffType.HasBaggage,price:{value:p,currency:v},buyPreventDefaultConfig:null==u?void 0:u.buyPreventDefaultConfig,fareKey:null!=(r=null==s?void 0:s.fareKey)?r:null,fareProposals:g?h:null}});case 18:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),M)}function X(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(l.TICKET_INFO_DEEPLINK_TOGGLE,a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,n=t.isOpen,H.setIsOpen(r,n),e.next=4,(0,i.select)(k.getIsTicketDeeplink);case 4:if(o=e.sent,!n||!o){e.next=10;break}return e.next=8,(0,i.put)((0,p.addRequiredTicketSign)(r));case 8:return e.next=10,(0,i.put)((0,v.fBPixelViewContent)(r));case 10:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),F)}function Q(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(l.TICKET_INFO_TOGGLE,a.default.mark((function e(t){var r,n,o,c,s,u,l,f,g,h,m,y,_,P,k,C;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticketSign,n=t.ticketIndex,o=t.isOpen,c=t.hash,H.setIsOpen(r,o),!o){e.next=27;break}return e.next=5,(0,i.select)(S.getCurrentTariffByTicketSign,r);case 5:return u=e.sent,e.next=8,(0,i.select)(E.getSelectedFareProposal,r);case 8:return l=e.sent,e.next=11,(0,i.select)(O.getDebugProposals);case 11:return f=e.sent,g={debugProposals:f},h=u.tariffs,m=u.currentTariff,y=h[m][0],_=y.price,P=y.currency,k=(0,E.isFaresExperimentEnabled)(),e.next=18,(0,i.select)(E.getSimilarFareProposals,r);case 18:return C=e.sent,e.next=21,(0,b.emitSeleneEvent)({type:"service/helios/serp/ticket/ticket_popup_open",payload:{signature:r,ticketIndex:n,hasBaggage:m===T.TariffType.HasBaggage,price:{value:_,currency:P},buyPreventDefaultConfig:g,fareKey:null!=(s=null==l?void 0:l.fareKey)?s:null,fareProposals:k?C:null}});case 21:return e.next=23,(0,i.put)((0,p.addRequiredTicketSign)(r));case 23:return e.next=25,(0,i.put)((0,v.fBPixelViewContent)(r));case 25:e.next=30;break;case 27:return e.next=29,(0,i.put)((0,p.removeRequiredTicketSign)(r));case 29:H=new d.ViewEventsStore;case 30:return o&&c&&H.recordUpdate(r,c),e.next=33,Y(t);case 33:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),N)}function $(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)([_.SELECT_FARE_PROPOSAL,g.CHANGE_TICKET_SELECTED_TARIFF],a.default.mark((function e(t){var r,n,o,c,s,u,l,f,d,p,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketSign,n=t.type,e.next=3,(0,i.select)(h.getTicketBySign,r);case 3:return o=e.sent,c=o.hashsum,e.next=7,(0,i.select)(h.getTicketProposals,r);case 7:return s=e.sent,e.next=10,(0,i.select)(h.getTicketIndexBySign,r);case 10:return u=e.sent,e.next=13,(0,i.select)(m.getTicketTupleToRender,r,s);case 13:return l=e.sent,e.next=16,(0,i.select)(y.prepareTicketProposals,l);case 16:return f=e.sent,d=f.currentTariff,p=f.tariffs,v={type:n,ticketSign:r,proposalsByTariffs:p,currentTariff:d,ticketIndex:u,hash:c},e.next=22,Y(v);case 22:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),L)}function Z(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,i.fork)(z);case 3:return e.next=5,(0,i.fork)(W);case 5:return e.next=7,(0,i.fork)(K);case 7:return e.next=9,(0,i.fork)(V);case 9:return e.next=11,(0,i.fork)(Q);case 11:return e.next=13,(0,i.fork)($);case 13:return e.next=15,(0,i.fork)(X);case 15:return e.next=17,(0,i.fork)(q);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),s.ErrorsTracker.warning("An error occurred during ticketShowEventSaga execution",e.t0);case 22:case"end":return e.stop()}}),B,null,[[0,19]])}},946831:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ticketSubscriptionModel=void 0;var n=r(944246),a=r(422019),i=(0,n.createEvent)({name:"ticketSubscriptionCreated",sid:"9yklvc"}),o=(0,n.createEvent)({name:"delayedShowNotification",sid:"k8c7sc"}),c=(0,a.delay)({source:o,timeout:100}),s=(0,n.createEvent)({name:"hideNotification",sid:"-9kldp6"}),u=(0,n.createStore)(!1,{name:"$shouldShowNotification",sid:"qlayii"}).on(c,(function(){return!0})).reset(s),l=(0,n.createStore)(!1,{name:"$hasChildren",sid:"-g6ykqx"});(0,n.sample)({and:[{clock:i,fn:function(e){return e.children+e.infants>0},target:l}],or:{sid:"9dmx7"}}),(0,n.sample)({and:[{clock:i,target:[s,o]}],or:{sid:"o82xy"}});var f={$shouldShowNotification:u,ticketSubscriptionCreated:i,$hasChildren:l,hideNotification:s};t.ticketSubscriptionModel=f},661567:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketSubscription=E;var i=n(r(385882)),o=n(r(998175)),c=r(67085),s=r(62495),u=r(391241),l=r(39757),f=n(r(633869)),d=r(215196),p=r(20344),v=r(722026),g=r(73292),h=r(863974),m=r(767747),y=r(148860),_=r(841511),b=r(520072),S=r(108926),T=r(49040),O=r(596172),P=a.mark(E);function E(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(y.TICKET_SUBSCRIPTION_CLICK,i.default.mark((function e(t){var r,n,a,y,P,E,k,C,w,D,I,A,x,j,R;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticketSign,n=t.triggerType,a=h.userService.$isAuthorized.getState(),e.t0=a,e.t0){e.next=7;break}return e.next=6,(0,c.call)(O.loginPopup,l.LoginPopupTriggerType.FollowTicket);case 6:e.t0=e.sent;case 7:if(e.t0){e.next=10;break}return e.abrupt("return");case 10:y=g.subscriptionsService.outputs.$fetchSubscriptionsStatus.getState();case 11:if("done"===y){e.next=17;break}return e.next=14,(0,c.take)();case 14:y=g.subscriptionsService.outputs.$fetchSubscriptionsStatus.getState(),e.next=11;break;case 17:if(P=g.subscriptionsService.outputs.$ticketSubscriptionsCollectionBySign.getState(),!(0,o.default)(r,P)){e.next=24;break}if(!a){e.next=23;break}return e.next=23,(0,c.put)((0,S.unsubscribeTicketByTicketSign)(r,n));case 23:return e.abrupt("return");case 24:if(E=h.userService.$userEmailActivationStatus.getState(),k=!1,E===u.EmailStatus.Active||f.default.getItem("ticket_subscription_popup_shown")){e.next=69;break}return e.next=29,(0,c.put)((0,b.openPopup)("ticketSubscriptions"));case 29:return e.next=31,(0,c.fork)(v.ticketSubscriptionPopupShownEvent);case 31:if((null===(I=C)||void 0===I?void 0:I.status)===p.RequestStatus.Success&&D){e.next=61;break}return e.next=34,(0,c.race)({submit:(0,c.take)(m.SUBSCRIPTIONS_POPUP_SUBMIT),close:(0,c.take)(m.SUBSCRIPTIONS_POPUP_CLOSE)});case 34:if(A=e.sent,x=A.submit,!A.close){e.next=40;break}return w=!0,e.abrupt("break",61);case 40:if(!x){e.next=59;break}return D=x.payload,e.next=44,(0,c.call)(T.activateSubscriptionEmail,D.email);case 44:if((C=e.sent).status!==p.RequestStatus.Failure){e.next=59;break}if("already in use"!==C.message){e.next=55;break}return e.next=49,(0,c.put)((0,_.showSubscriptionsError)(C.message));case 49:return e.next=51,(0,c.delay)(3e3);case 51:return e.next=53,(0,c.put)((0,_.hideSubscriptionsError)());case 53:e.next=58;break;case 55:return d.ErrorsTracker.error("Activate email error. Ticket Subscriptions saga",{message:C.message}),e.next=58,(0,c.fork)(T.showErrorNotify);case 58:return e.abrupt("continue",31);case 59:e.next=31;break;case 61:return e.next=63,(0,c.put)((0,b.closePopup)("ticketSubscriptions"));case 63:if(!w){e.next=67;break}return e.next=66,(0,c.fork)(v.ticketSubscriptionPopupClosedEvent);case 66:return e.abrupt("return");case 67:f.default.setItem("ticket_subscription_popup_shown","1"),k=!0;case 69:return e.next=71,(0,c.put)((0,S.createTicketSubscription)(r,n));case 71:j=(0,s.eventChannel)((function(e){return g.subscriptionsService.outputs.$createTicketSubscriptionStatus.watch((function(t){e(t)})).unsubscribe}));case 72:return e.next=75,(0,c.take)(j);case 75:if("fail"!==(R=e.sent)){e.next=80;break}return e.next=79,(0,c.call)(T.showErrorNotify);case 79:return e.abrupt("break",86);case 80:if("done"!==R||!k){e.next=84;break}return e.next=83,(0,c.call)(T.showSuccessPopup);case 83:return e.abrupt("break",86);case 84:e.next=72;break;case 86:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}},29618:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketWarningTagTooltipShown=l;var i=n(r(385882)),o=r(67085),c=r(148860),s=r(718123),u=a.mark(l);function l(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(c.TICKET_WARNING_TAG_TOOLTIP_SHOWN,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,e.next=3,(0,o.put)((0,s.reachGoal)("SMALL_RATING_INFO_SHOWN",{type:r}));case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),u)}},495112:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketContentRestrictionSaga=T;var i=n(r(385882)),o=r(67085),c=n(r(861233)),s=r(682237),u=n(r(702944)),l=r(20344),f=r(452130),d=r(101271),p=r(637745),v=r(520072),g=r(430162),h=r(754266),m=r(937579),y=r(565569),_=a.mark(T),b=a.mark(O),S=a.mark(P);function T(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(p.OPEN_POPUP,i.default.mark((function e(t){var r,n,a,c,u,p,v,h,m,_;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.popupType,n=t.data,"ticketContent"!==r||(null==n?void 0:n.modalData.type)!==d.TicketContentModalType.Content||"restrictions_layover_conditions"!==n.modalData.payload.type){e.next=48;break}return e.next=4,P(n,{status:l.RequestStatus.Pending});case 4:return a=n.modalData.payload.payload.stopPlaceIata,e.next=7,(0,o.select)(g.getSearchParams);case 7:if(c=e.sent){e.next=12;break}return e.next=11,O(n);case 11:return e.abrupt("return");case 12:u=(0,s.buildTravelRestrictionQuery)({stopPlaceIata:a,searchParams:{origin:c.segments[0].origin,locale:c.locale,date:c.segments[0].date,isOneWay:c.isOneWay},passportCountry:(0,f.getMarket)().toUpperCase()}),p=3;case 14:if(!(p>=0)){e.next=48;break}return e.prev=15,e.next=18,(0,o.call)(s.fetchTicketContentRestriction,{widgetsGqlUrl:"https://content-admin."+y.API_HOST+"/api/widgets",operationName:"serp_travel_restrictions",app:"helios",query:u});case 18:if(v=e.sent,h=v.data,m=h.data,!h.errors){e.next=25;break}return e.next=23,O(n);case 23:return p=0,e.abrupt("return");case 25:if(!(_=m.widgets.travelRestrictionsV1.travelRestriction.transit)){e.next=31;break}return e.next=29,P(n,{text:_,status:l.RequestStatus.Success});case 29:e.next=33;break;case 31:return e.next=33,O(n);case 33:return p=0,e.abrupt("return");case 37:if(e.prev=37,e.t0=e.catch(15),0!=(p-=1)){e.next=44;break}return e.next=43,O(n);case 43:return e.abrupt("return");case 44:return e.next=46,(0,o.delay)(2e3);case 46:e.next=14;break;case 48:case"end":return e.stop()}}),e,null,[[15,37]])})));case 2:return e.next=4,(0,o.takeLatest)(m.TRAVEL_RESTRICTIONS_UPLOAD,i.default.mark((function e(t){var r,n,a,c,u,d,p,v,h;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.data,e.next=3,P(r,{status:l.RequestStatus.Pending});case 3:return n=r.stopPlaceIata,e.next=6,(0,o.select)(g.getSearchParams);case 6:if(a=e.sent){e.next=11;break}return e.next=10,O(r);case 10:return e.abrupt("return");case 11:c=(0,s.buildTravelRestrictionQuery)({stopPlaceIata:n,searchParams:{origin:a.segments[0].origin,locale:a.locale,date:a.segments[0].date,isOneWay:a.isOneWay},passportCountry:(0,f.getMarket)().toUpperCase()}),u=3;case 13:if(!(u>=0)){e.next=47;break}return e.prev=14,e.next=17,(0,o.call)(s.fetchTicketContentRestriction,{widgetsGqlUrl:"https://content-admin."+y.API_HOST+"/api/widgets",operationName:"serp_travel_restrictions",app:"helios",query:c});case 17:if(d=e.sent,p=d.data,v=p.data,!p.errors){e.next=24;break}return e.next=22,O(r);case 22:return u=0,e.abrupt("return");case 24:if(!(h=v.widgets.travelRestrictionsV1.travelRestriction.transit)){e.next=30;break}return e.next=28,P(r,{text:h,status:l.RequestStatus.Success});case 28:e.next=32;break;case 30:return e.next=32,O(r);case 32:return u=0,e.abrupt("return");case 36:if(e.prev=36,e.t0=e.catch(14),0!=(u-=1)){e.next=43;break}return e.next=42,O(r);case 42:return e.abrupt("return");case 43:return e.next=45,(0,o.delay)(2e3);case 45:e.next=13;break;case 47:case"end":return e.stop()}}),e,null,[[14,36]])})));case 4:case"end":return e.stop()}}),_)}function O(e){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e,{status:l.RequestStatus.Failure});case 2:case"end":return t.stop()}}),b)}function P(e,t){var r,n,a,s,l,f,d,p,g;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!u.default.is("serp-exp-transferUpsale")){i.next=6;break}return r=(0,c.default)(e,{$merge:t}),n=r.stopPlace,a=r.stopCountryName,s=r.status,l=r.stopPlaceIata,f=r.stopDuration,d=r.hasRecheckBaggage,p=r.text,(0,h.emitSeleneEvent)({type:"service/helios/serp/transfer_info/travel_restrictions_updated",payload:{stopPlace:n,stopCountryName:a,status:s,stopPlaceIata:l,stopDuration:f,hasRecheckBaggage:d,text:p}}),i.abrupt("return");case 6:return g=(0,c.default)(e,{modalData:{payload:{payload:{$merge:t}}}}),i.next=9,(0,o.put)((0,v.updatePopupData)("ticketContent",g));case 9:case"end":return i.stop()}}),S)}},776149:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ticketPreviewSaga=d;var a=n(r(385882)),i=r(982175),o=r(47379),c=r(520072),s=r(25614),u=a.default.mark(f),l=a.default.mark(d);function f(){var e,t,r,n;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.call)(o.createSeleneChannel,"service/helios/serp/results/ticket_preview_clicked");case 2:e=a.sent;case 3:return a.prev=4,a.next=7,(0,i.take)(e);case 7:return t=a.sent,r=t.ticketSign,a.next=11,(0,i.select)(s.getTicketIndexBySign,r);case 11:return n=a.sent,a.next=14,(0,i.put)((0,c.openPopup)("ticket",{ticketSign:r,ticketIndex:n,source:"listing"}));case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(4),e.close();case 19:a.next=3;break;case 21:case"end":return a.stop()}}),u,null,[[4,16]])}function d(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(f);case 2:case"end":return e.stop()}}),l)}},9818:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var i=n(r(385882)),o=r(67085),c=r(39569),s=r(445586),u=r(260159),l=r(539786),f=r(340227),d=a.mark(v),p=a.mark(g);function v(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(f.UPDATE_TICKETS_AND_DICTS,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.ticketsState.ticketsList,e.next=3,(0,o.select)(l.getSearchStatus);case 3:if(e.sent!==c.SearchStatus.Started||!r.length){e.next=9;break}return e.next=7,(0,o.put)((0,s.firstTicketArrived)(+new Date));case 7:return e.next=9,(0,o.put)((0,u.updateSearchStatus)(c.SearchStatus.Shown));case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),d)}function g(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(v);case 2:case"end":return e.stop()}}),p)}},430494:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.closeTicketsComparison=A,t.default=x,t.openTicketsComparison=I,t["showСomparisonTicketBySign"]=D,t.updateComparisonTicketsByTickets=w;var i=n(r(385882)),o=n(r(101339)),c=r(67085),s=r(199178),u=r(902411),l=r(986106),f=n(r(587273)),d=r(871255),p=r(635912),v=r(646268),g=r(189373),h=r(718123),m=r(340227),y=r(25614),_=a.mark(w),b=a.mark(D),S=a.mark(I),T=a.mark(A),O=a.mark(x);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(m.UPDATE_TICKETS_AND_DICTS,i.default.mark((function e(t){var r,n,a,o,s,f,p,h,m,_,b,S,T,O,P,C;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.ticketsState.ticketsList).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,c.select)(d.getTicketsComparisonTickets);case 5:if(n=e.sent,a=n.map((function(e){return e.ticket[0].sign})),o=r.filter((function(e){return a.includes(e)})),o.length){e.next=10;break}return e.abrupt("return");case 10:s=k(o);case 11:if((f=s()).done){e.next=37;break}return p=f.value,e.next=15,(0,c.select)(y.getTicketTupleBySign,p);case 15:return h=e.sent,e.next=18,(0,c.select)(u.prepareTicketProposals,h);case 18:return m=e.sent,_=m.tariffs,e.next=22,(0,c.select)(d.getComparisonTicketByTicketSign,p);case 22:if(b=e.sent,S=_[b.selectedTariff][0]){e.next=26;break}return e.abrupt("continue",35);case 26:return e.next=28,(0,c.call)(d.getCleanedTicketForComparisonTicket,h,S.id);case 28:return T=e.sent,e.next=31,(0,c.select)(g.getSearchExpiringDate);case 31:return O=e.sent,P=E(E({},b),{},{mainProposal:S,ticket:T,expireDate:O}),e.next=35,(0,c.put)((0,v.updateTicketComparisonTicket)(p,P));case 35:e.next=11;break;case 37:return e.next=39,(0,c.select)(d.getTicketsComparisonTickets);case 39:return C=e.sent,e.next=42,(0,c.call)(l.saveComparisonTicketsToLS,C);case 42:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function D(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(p.SHOW_COMPARISON_TICKET,i.default.mark((function e(t){var r,n,a,o,u,l,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ticketSign,n=t.ticketUrl,r&&n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,c.call)(s.getProductListTicketDomElementBySign,r);case 5:if(a=e.sent,!f.default.matches("mobile, mobileLandscape, tablet")){e.next=9;break}return e.next=9,(0,c.put)((0,v.closeTicketsComparison)());case 9:if(!a){e.next=24;break}return e.next=12,(0,c.put)((0,h.reachGoal)("tickets-comparison--show-ticket",{ticketSign:r}));case 12:return o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=a.getBoundingClientRect().height,l=a.getBoundingClientRect().top,d=l+window.pageYOffset+u/2-o/2,e.next=18,(0,c.call)({context:window,fn:window.scrollTo},{top:d,behavior:"smooth"});case 18:return a.classList.add("--is-highlighted"),e.next=21,(0,c.delay)(3e3);case 21:a.classList.remove("--is-highlighted"),e.next=28;break;case 24:return e.next=26,(0,c.put)((0,h.reachGoal)("tickets-comparison--open-ticket",{ticketSign:r}));case 26:return e.next=28,(0,c.call)({context:window,fn:window.open},n);case 28:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),b)}function I(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(p.OPEN_TICKETS_COMPARISON,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.put)((0,h.reachGoal)("tickets-comparison--open"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),S)}function A(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(p.CLOSE_TICKETS_COMPARISON,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.put)((0,h.reachGoal)("tickets-comparison--close"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),T)}function x(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(w);case 2:return e.next=4,(0,c.fork)(D);case 4:return e.next=6,(0,c.fork)(I);case 6:return e.next=8,(0,c.fork)(A);case 8:case"end":return e.stop()}}),O)}},341704:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.travelRestrictionsSaga=C;var i=n(r(385882)),o=r(721193),c=r(67085),s=r(397792),u=r(539786),l=r(694630),f=r(754266),d=r(651828),p=r(753518),v=r(520072),g=r(865726),h=r(742029),m=r(937579),y=r(20069),_=a.mark(P),b=a.mark(E),S=a.mark(k),T=a.mark(C),O=[p.TAGS.SEARCH_TAG_DESTINATION_CLOSED,p.TAGS.SEARCH_TAG_DESTINATION_OPENED,p.TAGS.SEARCH_TAG_DESTINATION_DIRECT_FORBIDDEN,p.TAGS.SEARCH_TAG_DESTINATION_QUARANTINE];function P(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(m.APPLY_COVID_FILTER,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.put)((0,y.showFiltersTooltip)("covid"));case 2:return e.next=4,(0,c.put)((0,d.changeFilters)({withoutCovidRestrictions:!0}));case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function E(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(m.TRAVEL_RESTRICTIONS_INFORMER_CLICK,i.default.mark((function e(t){var r,n,a,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.tag,n=t.ticketSign,r!==p.TAGS.TICKET_TAG_FORBIDDEN_DIRECT){e.next=4;break}return e.next=4,(0,c.put)((0,v.openPopup)("restrictionsForbiddenPopup",{type:"direct"}));case 4:if(r!==p.TAGS.TICKET_TAG_FORBIDDEN_LAYOVER){e.next=7;break}return e.next=7,(0,c.put)((0,v.openPopup)("restrictionsForbiddenPopup",{type:"layover"}));case 7:if(r!==p.TAGS.TICKET_TAG_UNCERTAIN_LAYOVER){e.next=10;break}return e.next=10,(0,c.put)((0,v.openPopup)("uncertainLayoverPopup",{ticketSign:n}));case 10:if(!n){e.next=13;break}return e.next=13,(0,c.fork)(s.restrictionInformerClickedEvent,n,r);case 13:if(!O.includes(r)){e.next=24;break}return e.next=16,(0,c.select)(u.getSearchId);case 16:if(a=e.sent,d="",!n){e.next=23;break}return e.next=21,(0,c.select)(l.getTicketUrl,n);case 21:d=e.sent,d=(0,o.pick)(d,["t"]);case 23:(0,f.emitSeleneEvent)({type:"service/helios/serp/travel_restriction_infomer_click",payload:{searchId:a,ticketSign:n,ticketUrl:d}});case 24:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),b)}function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeEvery)(m.TRAVEL_RESTRICTIONS_MODAL_FOOTER_CLICK,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.popupType,e.next=3,(0,c.put)((0,v.closePopup)(r));case 3:return e.next=5,(0,c.select)(h.getPopupIsOpen,"ticket");case 5:if(!e.sent){e.next=9;break}return e.next=9,(0,c.put)((0,v.closePopup)("ticket"));case 9:return e.next=11,(0,c.delay)(300);case 11:return e.next=13,(0,c.put)((0,g.applyCovidFilter)());case 13:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),S)}function C(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(E);case 2:return e.next=4,(0,c.fork)(P);case 4:return e.next=6,(0,c.fork)(k);case 6:case"end":return e.stop()}}),T)}},266545:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.travelpayoutsBarSaga=_;var i=n(r(385882)),o=n(r(114558)),c=r(67085),s=n(r(275347)),u=n(r(382697)),l=r(813836),f=r(192980),d=r(637928),p=r(656844),v=r(718123),g=r(971437),h=a.mark(y),m=a.mark(_);function y(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(p.INIT_TRAVELPAYOUTS_BAR,i.default.mark((function e(t){var r,n,a,p,h,m,y,_,b,S,T,O,P;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.affMarker,n="travelpayouts",e.next=4,(0,c.call)(f.showNotification,{id:n,message:s.default.t("notify_travel_payouts:description"),autoClose:!1,icon:"info",buttons:{changeMarker:{text:s.default.t("notify_travel_payouts:button")},info:{text:s.default.t("notify_travel_payouts:infoButton"),closeOnClick:!1}}});case 4:return e.next=6,(0,c.call)(d.observableToChannel,f.notificationButtonClicked);case 6:return a=e.sent,e.next=9,(0,c.call)(d.observableToChannel,f.notificationClosed);case 9:p=e.sent;case 10:return e.next=13,(0,c.race)([(0,c.take)(a),(0,c.take)(p)]);case 13:if(b=e.sent,S=(0,o.default)(b,2),T=S[0],O=S[1],(null==T||null===(h=T.value)||void 0===h?void 0:h.notificationId)===n||(null==O||null===(m=O.value)||void 0===m?void 0:m.notificationId)===n){e.next=19;break}return e.abrupt("continue",10);case 19:if(!O){e.next=23;break}return e.next=22,(0,c.call)([u.default,"set"],"tp_tooltip_hidden",1,{domain:(0,l.getCookieDomain)(),path:"/",expires:new Date((new Date).getTime()+6048e5)});case 22:return e.abrupt("return");case 23:if("changeMarker"!==(null==T||null===(y=T.value)||void 0===y?void 0:y.buttonId)){e.next=29;break}return e.next=26,(0,c.put)((0,g.updateMarker)(r));case 26:return e.next=28,(0,c.put)((0,v.reachGoal)("SET_TP_MARKER",{marker:r}));case 28:return e.abrupt("return");case 29:if("info"!==(null==T||null===(_=T.value)||void 0===_?void 0:_.buttonId)){e.next=34;break}return P=s.default.language.toLocaleLowerCase(),window.open("https://support.travelpayouts.com/hc/"+P+"/articles/360004081551","_blank"),e.next=34,(0,c.put)((0,v.reachGoal)("CLICK_ON_NOTIFY_TP_HINT"));case 34:e.next=10;break;case 36:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),h)}function _(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fork)(y);case 2:case"end":return e.stop()}}),m)}},130221:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.userThemeSaga=f;var a=n(r(385882)),i=r(67085),o=r(747596),c=r(824203),s=a.default.mark(l),u=a.default.mark(f);function l(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(c.USER_THEME_SET,(function(e){if(window.initTheme){var t=e.theme;(0,o.setLocalStorageItem)("userTheme",t),window.initTheme(t)}}));case 2:case"end":return e.stop()}}),s)}function f(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(l);case 2:case"end":return e.stop()}}),u)}},550278:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAirlines=void 0,t.getAirlines=function(e){return e.airlines}},334:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAirports=void 0,t.getAirports=function(e){return e.airports}},72282:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAlliances=void 0,t.getAlliances=function(e){return e.alliances}},61303:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShouldSearchHotels=t.getPaymentMethod=t.getMaxVisibleLastSearches=t.getAviaParamsActiveDateInput=t.getAviaParams=t.getAviaFieldToFocus=void 0,t.getAviaParams=function(e){return e.aviaParams},t.getAviaParamsActiveDateInput=function(e){return e.aviaParams.activeDateInput},t.getAviaFieldToFocus=function(e){return e.aviaParams.fieldToFocus},t.getMaxVisibleLastSearches=function(e){return e.aviaParams.maxVisibleLastSearches},t.getShouldSearchHotels=function(e){return e.aviaParams.shouldSearchHotels},t.getPaymentMethod=function(e){return e.aviaParams.paymentMethod}},107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsBrandTicketShown=t.getBrandTicketMetricsData=t.getBrandTicketData=void 0;var n=r(774953),a=function(e){return e.brandTicket};t.getBrandTicketData=a;var i=(0,n.createSelector)(a,(function(e){return Boolean(null==e?void 0:e.isShown)}));t.getIsBrandTicketShown=i;var o=(0,n.createSelector)(a,(function(e){return e?{banner:e.campaign.name,airline:e.ticket[1][0].agentLabel,unified_price:e.ticket[1][0].unifiedPrice}:null}));t.getBrandTicketMetricsData=o},194149:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getBrandTicketCampaigns=t.getBrandTicketCampaignByAgentId=void 0;var a=n(r(205793)),i=r(774953),o=function(e){return e.brandTicketCampaigns};t.getBrandTicketCampaigns=o;var c=(0,i.createSelector)([o,function(e,t){return t}],(function(e,t){return(0,a.default)((function(e){return e.agent_id===t}),e)}));t.getBrandTicketCampaignByAgentId=c},894436:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getYearPricesUrl=t.getMonthsToFetch=t.getMonthPricesUrl=t.getDayPrice=t.getCalendarPrices=t.getCalendarPrice=void 0;var a=n(r(101339)),i=r(721193),o=r(740537),c=r(774953),s=r(149739),u=r(543358),l=r(255285),f=r(587273),d=r(565569),p=r(452130),v=r(223002),g=r(302407);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y="https://lyssa."+d.API_HOST+"/date_picker_prices?",_="https://lyssa."+d.API_HOST+"/v3/widget/year?",b=function(e){return e.calendarPrices};t.getCalendarPrices=b;var S=(0,c.createSelector)(v.getAviaFormParams,b,(function(e,t){var r=(0,s.getPlace)(e.segments,u.PlaceField.Origin),n=(0,s.getPlace)(e.segments,u.PlaceField.Destination),a=(0,p.getMarket)();return{origin_iata:r.cityIata||r.iata,destination_iata:n.cityIata||n.iata,one_way:t.oneWayPrices,market:a}})),T=(0,c.createSelector)(S,v.getAviaFormParams,(function(e,t){var r=(0,s.getDate)(t.segments,u.DateType.ReturnDate),n=(0,s.getAsTripDuration)(r);return m(m({},e),{},{min_trip_duration:n?n.min:l.TRIP_DURATION.min,max_trip_duration:n?n.max:l.TRIP_DURATION.max})})),O=(0,c.createSelector)((function(e,t){return t}),(function(e,t,r){return r}),b,v.getAviaFormParams,(function(e,t,r,n){var a=[],i=!(!n.segments.length||!n.segments[0].date),c=(0,s.getPriceTypeFromParams)(e,r.oneWayPrices,i);if(!c)return[];for(var u=(0,f.isMobile)()?13:2;u>0;){u--;var l=(0,o.addMonths)(t,u),d=(0,o.format)(l,"YYYY-MM-DD");r.months[e][c][d]||a.push(d)}return a}));t.getMonthsToFetch=O;var P=(0,c.createSelector)((function(e,t){return t}),O,v.getAviaFormParams,(function(e,t,r){var n=e===u.DateType.DepartDate?(0,s.getDate)(r.segments,u.DateType.ReturnDate):(0,s.getDate)(r.segments,u.DateType.DepartDate),a={depart_months:t,one_way:!1};if((0,s.isDate)(n))return a;if((0,s.isTripDuration)(n)){var i=n,o=i.min,c=i.max;return m(m({},a),{},{min_trip_duration:o,max_trip_duration:c})}return a})),E=(0,c.createSelector)((function(e,t){return t}),O,v.getAviaFormParams,(function(e,t,r){var n=(0,s.getDate)(r.segments,u.DateType.DepartDate),a={return_months:t};return n?m(m({},a),{},{depart_date:(0,o.format)(n,"YYYY-MM-DD")}):a})),k=(0,c.createSelector)((function(e,t){return t}),O,b,S,P,E,v.getAviaFormParams,(function(e,t,r,n,a,i,o){var c=m(m({},n),{},{depart_months:t}),u=!(!o.segments.length||!o.segments[0].date);switch((0,s.getPriceTypeFromParams)(e,r.oneWayPrices,u)){case g.DepartPricesType.OW:return m(m({},c),{},{one_way:!0});case g.DepartPricesType.RT:return m(m(m({},c),a),{},{one_way:!1});case g.ReturnPricesType.ND:case g.ReturnPricesType.WD:return m(m(m({},c),i),{},{one_way:!1});default:return m(m({},c),{},{one_way:!0})}})),C=(0,c.createSelector)(T,(function(e){return _+(0,i.stringify)(e)}));t.getYearPricesUrl=C;var w=(0,c.createSelector)(k,(function(e){return y+(0,i.stringify)(e,{arrayFormat:"bracket"})}));t.getMonthPricesUrl=w;var D=(0,c.createSelector)([function(e,t){return t.date},function(e,t){var r=t.activeInput;return(0,s.convertDateFieldName)(r)},v.getAviaFormParams,b],(function(e,t,r,n){if(!t)return null;var a=r.segments,i=!(!a.length||!a[0].date),c=(0,s.getPriceTypeFromParams)(t,n.oneWayPrices,i);if(!c)return null;var u=n.months[t][c],l=(0,o.format)(e,"YYYY-MM-DD"),f=l.substring(0,7)+"-01";return u[f]&&u[f][l]?u[f][l]:null}));t.getDayPrice=D;var I=(0,c.createSelector)([v.getAviaFormParams,b],(function(e,t){var r,n,a,i,c=e.segments,l=(null===(r=c[1])||void 0===r?void 0:r.date)||(null===(n=c[0])||void 0===n?void 0:n.date);if(!(l instanceof Date))return null;var f=null!==(a=c[1])&&void 0!==a&&a.date?u.DateType.ReturnDate:u.DateType.DepartDate,d=(0,s.getPriceTypeFromParams)(f,t.oneWayPrices,!0);if(!d)return null;var p=t.months[f][d],v=(0,o.format)(l,"YYYY-MM-DD"),g=p[v.substring(0,7)+"-01"];return g?null===(i=g[v])||void 0===i?void 0:i.price:null}));t.getCalendarPrice=I},2824:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getCashbackInformerPosition=void 0;var a=r(774953),i=n(r(808241)),o=n(r(816550)),c=n(r(171353)),s=n(r(396673)),u=n(r(257597)),l=n(r(626514)),f=n(r(689241)),d=r(25614),p=(0,a.createSelector)(d.getTicketsList,d.getTicketsProposals,d.getProposals,(function(e,t,r){return(0,s.default)([(0,c.default)((function(e,n){var a=(0,s.default)([(0,u.default)([],[n]),l.default])(t),i=(0,u.default)(null,[a],r);return[].concat(e,[i])}),[]),(0,i.default)((function(e){var t=e.cashback;return!(0,o.default)(t)&&t>0})),(0,f.default)(1)])(e)}));t.getCashbackInformerPosition=p},95419:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCheapestStops=void 0,t.getCheapestStops=function(e){return e.cheapestStops}},38062:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getCheapestTicketPrice=t.getCheapestTicket=void 0;var a=n(r(114558)),i=function(e){return e.cheapestTicket};t.getCheapestTicket=i,t.getCheapestTicketPrice=function(e){var t=i(e);if(!t)return null;var r=(0,a.default)(t,2),n=(r[0],r[1]),o=(0,a.default)(n,1)[0];return(null==o?void 0:o.unifiedPrice)||null}},304426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCities=void 0,t.getCities=function(e){return e.ticketCities}},854755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCountries=void 0,t.getCountries=function(e){return e.countries}},671747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrencies=void 0,t.getCurrencies=function(e){return e.currencies}},825310:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsContentPage=t.getCurrentPage=void 0;var n=r(774953),a=function(e){return e.currentPage};t.getCurrentPage=a;var i=(0,n.createSelector)(a,(function(e){return"content"===e}));t.getIsContentPage=i},131052:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTurnOffAnnoyingPopups=t.getExperimentGroups=t.getDebugSettings=t.getDebugProposals=t.getDebugMetrics=void 0;var r=function(e){return e.debugSettings};t.getDebugSettings=r,t.getDebugProposals=function(e){return!0===e.debugSettings.gateErrors},t.getTurnOffAnnoyingPopups=function(e){return r(e).turnOffAnnoyingPopups},t.getExperimentGroups=function(e){return r(e).experimentGroups||[]},t.getDebugMetrics=function(e){return!!r(e).debugMetrics}},185387:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getDeeplinkFn=void 0;var a=n(r(115031)),i=r(96443),o=r(535081),c=r(483743),s=r(539786),u=r(430162),l=r(671747),f=r(534074),d=(0,a.default)((function(e,t,r){return t}),(function(e,t,r){return r}),c.getGates,s.getSearchId,u.getSearchParams,l.getCurrencies,f.getMarker,s.getResultsUrl,(function(e,t,r,n,a,c,s,u){return function(l){return(0,i.createDeeplink)(l,r[l.agentId],n,u,t,a.segments[0].origin,a.segments[0].destination,(0,o.createUrl)({ticket:e,unifiedPrice:null==l?void 0:l.unifiedPrice,searchId:n,currencyRates:c,proposal:l,gate:r[l.agentId],marker:s}),s)}}))((function(e,t){return t.sign}));t.getDeeplinkFn=d},424319:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceSearchId=void 0,t.getDeviceSearchId=function(e){return e.deviceSearchId}},627039:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getError=void 0,t.getError=function(e){return e.error}},358098:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getFBPixelViewContentData=t.getFBPixelStartSearchData=t.getFBPixelInitiateCheckoutData=void 0;var a,i=n(r(101339)),o=n(r(114558)),c=r(774953),s=r(650832),u=r(490546),l=r(430162),f=r(25614);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=((a={})[s.TripClass.Economy]="economy",a[s.TripClass.PremiumEconomy]="premium",a[s.TripClass.Business]="business",a[s.TripClass.FirstClass]="first",a),g=(0,c.createSelector)([l.getSearchParams],(function(e){if(!e)return null;var t=e.segments,r=e.passengers,n=e.tripClass,a=(0,o.default)(t,1)[0],i=t.length,c=i>1?e.segments[i-1]:null,s=a.origin,l=a.destination;return{content_ids:[s+":"+l],content_type:"flight",origin_airport:s,destination_airport:l,departing_departure_date:a.date,departing_arrival_date:a.date,returning_departure_date:null==c?void 0:c.date,returning_arrival_date:null==c?void 0:c.date,num_adults:r.adults,num_children:r.children,num_infants:r.infants,travel_class:(0,u.getTripClassNameFromCode)(n,v)}})),h=(0,c.createSelector)([f.getTicketBySign],(function(e){var t,r,n=e.segments,a=n[0].flights,i=n.length,o=i>1?n[i-1].flights:null;return{origin_airport:a[0].departure,destination_airport:a[a.length-1].arrival,departing_departure_date:a[0].departure_date,departing_arrival_date:a[a.length-1].arrival_date,returning_departure_date:null==o||null===(t=o[0])||void 0===t?void 0:t.departure_date,returning_arrival_date:null==o||null===(r=o[0])||void 0===r?void 0:r.arrival_date}})),m=g;t.getFBPixelStartSearchData=m;var y=(0,c.createSelector)([g,h],(function(e,t){return p(p({},e),t)}));t.getFBPixelViewContentData=y;var _=(0,c.createSelector)([g,h,function(e,t,r){return(0,f.getProposalById)(e,r)}],(function(e,t,r){var n=r.price,a=r.currency;return p(p(p({},e),t),{},{price:n,currency:a})}));t.getFBPixelInitiateCheckoutData=_},386565:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFiltersTooltip=void 0,t.getFiltersTooltip=function(e){return e.filtersTooltip}},223002:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrevActiveForm=t.getAviaFormPlace=t.getAviaFormParams=t.getActiveForm=void 0;var n=r(774953),a=r(149739),i=function(e){return e.aviaParams};t.getAviaFormParams=i,t.getActiveForm=function(e){return e.pageHeader.activeForm},t.getPrevActiveForm=function(e){return e.pageHeader.prevActiveForm};var o=(0,n.createSelector)((function(e,t){return t}),i,(function(e,t){return(0,a.getPlace)(t.segments,e)}));t.getAviaFormPlace=o},335085:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPopupConfig=t.getFeedbackDeviceClickId=void 0;var n=r(774953),a=r(742029),i=(0,n.createSelector)((function(e){return(0,a.getPopupData)(e,"gateFeedback")}),(function(e){return void 0!==e&&e.openedPopupSid?e.popups.find((function(t){return t.sid===e.openedPopupSid})):null}));t.getPopupConfig=i,t.getFeedbackDeviceClickId=function(e){return e.gateFeedback.deviceClickId}},483743:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGates=void 0,t.getGates=function(e){return e.gates}},496630:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHighlightedTicketParamsSign=t.getHighlightedTicketParamsIsOverlayShown=t.getHighlightedTicketParams=void 0,t.getHighlightedTicketParams=function(e){return e.highlightedTicketParams},t.getHighlightedTicketParamsSign=function(e){var t;return null===(t=e.highlightedTicketParams)||void 0===t?void 0:t.sign},t.getHighlightedTicketParamsIsOverlayShown=function(e){var t;return null===(t=e.highlightedTicketParams)||void 0===t?void 0:t.isOverlayShown}},672951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHotelParamsDestination=t.getHotelParams=void 0,t.getHotelParamsDestination=function(e){return e.hotelParams.destination},t.getHotelParams=function(e){return e.hotelParams}},534074:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMarker=void 0,t.getMarker=function(e){return e.marker}},423343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMultiwayParams=t.getMultiwayOriginDestinationCityNames=t.getMultiwayCityNames=t.getIsMultiway=void 0;var n=r(774953),a=r(223002),i=function(e){return e.multiwayParams};t.getMultiwayParams=i;var o=(0,n.createSelector)(i,(function(e){return e.segments.map((function(e){var t,r,n,a,i,o;return{originCity:(null==e||null===(t=e.origin)||void 0===t?void 0:t.name)||(null==e||null===(r=e.origin)||void 0===r?void 0:r.cityName)||(null==e||null===(n=e.origin)||void 0===n?void 0:n.iata)||"",destinationCity:(null==e||null===(a=e.destination)||void 0===a?void 0:a.name)||(null==e||null===(i=e.destination)||void 0===i?void 0:i.cityName)||(null==e||null===(o=e.destination)||void 0===o?void 0:o.iata)||""}}))}));t.getMultiwayCityNames=o;var c=(0,n.createSelector)(o,(function(e){return{originCity:e[0].originCity,destinationCity:e[e.length-1].destinationCity}}));t.getMultiwayOriginDestinationCityNames=c;var s=(0,n.createSelector)(a.getActiveForm,(function(e){return"multiway"===e}));t.getIsMultiway=s},505006:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPinFlightSigns=void 0;var n=(0,r(185658).createFilterStateSelector)("pinFlightSignatures");t.getPinFlightSigns=n},742029:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasOpenedPopupExcludingTicketPopups=t.getPopups=t.getPopupIsOpen=t.getPopupData=void 0;var n=r(774953),a=r(359759),i=r(131052),o=function(e){return e.popups};t.getPopups=o,t.getPopupData=function(e,t){var r=o(e)[t];if(null!=r&&r.data)return r.data};var c=["gateFeedback","hotel","rentalcars"],s=["ticket","ticketContent"];t.getPopupIsOpen=function(e,t){if((0,i.getTurnOffAnnoyingPopups)(e)&&c.includes(t))return!1;var r=o(e)[t];return Boolean(null==r?void 0:r.isOpen)};var u=(0,n.createSelector)(o,(function(e){var t=Object.keys(e),r=t.includes(a.SERP_IN_MODAL);if(!t.length||r&&1===t.length)return!1;var n=t.filter((function(e){return!s.includes(e)}));return Boolean(n.length)}));t.hasOpenedPopupExcludingTicketPopups=u},902411:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareTicketProposals=void 0;var a=n(r(114558)),i=n(r(115031)),o=r(931162),c=r(104944),s=r(550278),u=r(430162),l=r(539786),f=r(534074),d=r(185387),p=r(487825),v=(0,i.default)((function(e,t){return t}),s.getAirlines,l.getSearchId,u.getSearchParams,f.getMarker,l.getResultsUrl,(function(e,t){return(0,p.getTicketSelectedTariff)(e,t[0].sign)}),(function(e,t){return(0,d.getDeeplinkFn)(e,t[0])}),(function(e,t,r,n,i,s,u,l){var f,d,p=(0,a.default)(e,2),v=(p[0],p[1]),g=(0,c.buildTariffs)(v),h=(0,c.getTariffsComparisonInfo)(g),m=h.cheaperTariffKey,y=h.priceDifference,_=function(e,t,r){return e&&r[e].length?e:t}(u,m,g),b=(0,c.prepareProposals)(g.hasBaggage,l),S=(0,c.getPreparedAirlineProposalConsideringDowngrade)(g.hasBaggage,l);S&&(b.proposals=(0,c.raiseAirlineProposal)(b.proposals,S));var T=m===o.TariffType.HasBaggage;if(!T){d=(0,c.prepareProposals)(g.otherBaggage,l);var O=(0,c.getPreparedAirlineProposalConsideringDowngrade)(g.otherBaggage,l);O&&(d.proposals=(0,c.raiseAirlineProposal)(d.proposals,O))}if(T&&!b.hasAirlineProposal){var P=(0,c.getPreparedAirlineProposal)(g.otherBaggage,l);P&&(b.proposals.splice(1,0,P),b.hasAirlineProposal=!0)}return{tariffs:((f={})[o.TariffType.HasBaggage]=b.proposals,f[o.TariffType.OtherBaggage]=d?d.proposals:[],f.priceDifference=y,f),currentTariff:_}}))((function(e,t){return t[0].sign}));t.prepareTicketProposals=v},539786:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchStatus=t.getSearchId=t.getSearchEventData=t.getResultsUrl=t.getPassengersAmount=t.getPassengers=t.getIsSkeletonsListShown=t.getIsSearchStarted=t.getIsSearchFinishedOrExpired=t.getIsSearchFinished=t.getIsSearchExpired=t.getIsResultsTriggeredByFiltersLoading=t.getIsResultsLoading=t.getFirstTicketArrivedAt=void 0;var a=r(774953),i=n(r(257110)),o=r(39569),c=r(20344),s=r(627039),u=r(25614),l=r(239733),f=function(e){return e.searchId};t.getSearchId=f,t.getResultsUrl=function(e){return e.resultsUrl};var d=function(e){return e.searchStatus};t.getSearchStatus=d;var p=(0,a.createSelector)(d,(function(e){return e===o.SearchStatus.Finished}));t.getIsSearchFinished=p;var v=(0,a.createSelector)(d,(function(e){return e===o.SearchStatus.Expired}));t.getIsSearchExpired=v;var g=(0,a.createSelector)(d,(function(e){return e===o.SearchStatus.Started}));t.getIsSearchStarted=g;var h=(0,a.createSelector)(p,v,(function(e,t){return e||t}));t.getIsSearchFinishedOrExpired=h;var m=function(e){return e.searchParams&&e.searchParams.passengers};t.getPassengers=m;var y=(0,a.createSelector)(m,(function(e){return e?Object.keys(e).reduce((function(t,r){return t+e[r]}),0):0}));t.getPassengersAmount=y,t.getFirstTicketArrivedAt=function(e){return e.firstTicketArrivedAt};var _=(0,a.createSelector)(f,v,p,(function(e,t,r){return{search_id:e,is_search_finished:t,is_search_expired:r}}));t.getSearchEventData=_;var b=(0,a.createSelector)([d,u.getFilteredTicketsAmountFromMeta,l.getSearchResultsRequestStatus,s.getError],(function(e,t,r,n){var a=r.status;return"access_denied"===n||!!(0,i.default)(e,[o.SearchStatus.Started,o.SearchStatus.Inited])||e===o.SearchStatus.Finished&&0===t&&a===c.RequestStatus.Pending}));t.getIsSkeletonsListShown=b;var S=(0,a.createSelector)([l.getSearchResultsRequestStatus],(function(e){var t=e.status,r=e.lastRequestTriggerSource;return t===c.RequestStatus.Pending&&"filtersUpdate"===r}));t.getIsResultsTriggeredByFiltersLoading=S;var T=(0,a.createSelector)([l.getSearchResultsRequestStatus],(function(e){return e.status===c.RequestStatus.Pending}));t.getIsResultsLoading=T},189373:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchExpiringDate=void 0,t.getSearchExpiringDate=function(e){return e.searchExpiringDate}},430162:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapSearchParamsToFormParams=t.getTripTypeFromSearch=t.getTripClass=t.getSegments=t.getSearchParams=t.getOriginTimezones=t.getOriginDestinationCityNames=t.currentSearchFormParamsSelector=void 0;var a=n(r(101339)),i=r(774953),o=n(r(207116)),c=r(543358),s=r(334),u=r(495256);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){return e.searchParams};t.getSearchParams=d,t.getTripClass=function(e){var t;return null===(t=e.searchParams)||void 0===t?void 0:t.tripClass},t.getSegments=function(e){var t;return null===(t=e.searchParams)||void 0===t?void 0:t.segments};var p=(0,i.createSelector)((function(e){return e}),(function(e){return e?f(f({},e),{},{tripClass:e.tripClass,paymentMethod:e.paymentMethod,segments:e.segments.map((function(e){var t;return(t={})[c.PlaceField.Origin]=y(c.PlaceField.Origin,e),t[c.PlaceField.Destination]=y(c.PlaceField.Destination,e),t.date=(0,u.dateWithoutTimezone)(e.date),t.id=Math.random().toString(36).substring(7),t}))}):null}));t.mapSearchParamsToFormParams=p;var v=(0,i.createSelector)(d,(function(e){return null==e?void 0:e.tripType}));t.getTripTypeFromSearch=v;var g=(0,i.createSelector)(d,(function(e){return{originCity:(null==e?void 0:e.originName)||(null==e?void 0:e.originCityIata)||"",destinationCity:(null==e?void 0:e.destinationName)||(null==e?void 0:e.destinationCityIata)||""}}));t.getOriginDestinationCityNames=g;var h=(0,i.createSelector)(d,p);t.currentSearchFormParamsSelector=h;var m=(0,i.createSelector)([d,s.getAirports],(function(e,t){return(0,o.default)((function(e){return t[e.iata]}),null==e?void 0:e.segments)}));t.getOriginTimezones=m;var y=function(e,t){return{type:t[e+"_type"],iata:t["original_"+e],name:t[e+"_name"]}}},741756:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_TICKETS_PER_PAGE=void 0,t.DEFAULT_TICKETS_PER_PAGE=10},239733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVisibleTicketsAmount=t.getTicketsPerPage=t.getSearchResultsRequestStatus=t.getSearchResultsPage=t.getSearchPageIsLoaded=t.getNextPageTicketsAmount=t.getHiddenTicketsAmount=void 0;var n=r(774953),a=r(20344),i=r(25614),o=r(741756),c=function(){return o.DEFAULT_TICKETS_PER_PAGE};t.getTicketsPerPage=c;var s=function(e){return e.searchResultsPage.page};t.getSearchResultsPage=s;var u=function(e){return e.searchResultsRequestStatus};t.getSearchResultsRequestStatus=u;var l=(0,n.createSelector)([s,c,i.getFilteredTicketsAmountFromMeta],(function(e,t,r){var n=e*t;return r<n?r:n}));t.getVisibleTicketsAmount=l;var f=(0,n.createSelector)([l,i.getFilteredTicketsAmountFromMeta],(function(e,t){return t-e}));t.getHiddenTicketsAmount=f;var d=(0,n.createSelector)([f,c],(function(e,t){return e<t?e:t}));t.getNextPageTicketsAmount=d;var p=(0,n.createSelector)([u],(function(e){return e.status===a.RequestStatus.Success}));t.getSearchPageIsLoaded=p},583808:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchTags=void 0,t.getSearchTags=function(e){return e.searchTags}},431556:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchTriggerSource=void 0,t.getSearchTriggerSource=function(e){return e.searchTriggerSource}},680013:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIatas=t.getDirectionSubscriptionsFetchStatus=t.getDirectionSubscriptions=t.getDirectionSubscriptionById=t.getCurrentDirectionSubscription=void 0;var n=r(774953),a=r(536317),i=r(430162),o=function(e){return e.directionSubscriptions.directionSubscriptions};t.getDirectionSubscriptions=o;var c=(0,n.createSelector)([i.getSearchParams,o],(function(e,t){if(e&&t.length)return(0,a.getDirectionSubscriptionBySearchParams)(e,t)}));t.getCurrentDirectionSubscription=c;var s=(0,n.createSelector)((function(e,t){return t}),o,(function(e,t){return t.find((function(t){return t.id===e}))}));t.getDirectionSubscriptionById=s,t.getDirectionSubscriptionsFetchStatus=function(e){return e.directionSubscriptions.fetchStatus};var u=(0,n.createSelector)([o],(function(e){var t=new Set;return e.map((function(e){e.segments.map((function(e){t.add(e.origin_city),t.add(e.destination_city),e.origin_airport&&t.add(e.origin_airport),e.destination_airport&&t.add(e.destination_airport)}))})),Array.from(t)}));t.getIatas=u},502674:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIatas=t.getFlexibleSubscriptionsFetchStatus=t.getFlexibleSubscriptions=t.getFlexibleSubscriptionById=void 0;var n=r(774953),a=function(e){return e.flexibleSubscriptions.flexibleSubscriptions};t.getFlexibleSubscriptions=a,t.getFlexibleSubscriptionsFetchStatus=function(e){return e.flexibleSubscriptions.fetchStatus};var i=(0,n.createSelector)((function(e,t){return t}),a,(function(e,t){return t.find((function(t){return t.id===e}))}));t.getFlexibleSubscriptionById=i;var o=(0,n.createSelector)([a],(function(e){var t=new Set;return e.map((function(e){var r,n;t.add(e.origin.code),t.add(e.destination.code),null==e||null===(r=e.search_info)||void 0===r||null===(n=r.segments)||void 0===n||n.map((function(e){t.add(e.origin),t.add(e.destination)}))})),Array.from(t)}));t.getIatas=o},565020:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketsHasSubscription=t.getTicketSubscriptionsFetchStatus=t.getTicketSubscriptions=t.getTicketHasSubscription=t.getSubscriptionByTicketSign=t.getSortedTicketSubscriptions=t.getIatas=void 0;var a=n(r(115031)),i=r(774953),o=r(536317),c=function(e){return e.ticketSubscriptions.ticketSubscriptions};t.getTicketSubscriptions=c;var s=function(e){return e.ticketSubscriptions.hasSubscriptions};t.getTicketsHasSubscription=s;var u=(0,i.createSelector)(c,(function(e){return e.slice().sort((function(e,t){return+new Date(e.created_at)-+new Date(t.created_at)}))}));t.getSortedTicketSubscriptions=u;var l=(0,a.default)(c,(function(e,t){return t}),(function(e,t){return(0,o.findTicketSubscriptionDataBySign)(t,e)}))((function(e,t){return t}));t.getSubscriptionByTicketSign=l;var f=(0,i.createSelector)(s,(function(e,t){return t}),(function(e,t){return!!e[t]}));t.getTicketHasSubscription=f,t.getTicketSubscriptionsFetchStatus=function(e){return e.ticketSubscriptions.fetchStatus};var d=(0,i.createSelector)([c],(function(e){var t=new Set;return e.map((function(e){e.segments.map((function(e){return e.flights.map((function(e){t.add(e.departure),t.add(e.arrival)}))})),e.direction_segments.map((function(e){e.destination_airport&&t.add(e.destination_airport),t.add(e.destination_city),e.origin_airport&&t.add(e.origin_airport),t.add(e.origin_city)}))})),Array.from(t)}));t.getIatas=d},694630:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTripDirectionType=t.getTicketUrl=t.getTicketTupleToRender=t.getTicketEventData=t.getTags=t.getProposalsByCurrentTariff=t.getIsTicketsListLoading=t.getFlightTerm=t.getFlight=void 0;var a=n(r(114558)),i=n(r(115031)),o=r(774953),c=n(r(26045)),s=n(r(396673)),u=n(r(179688)),l=n(r(346456)),f=n(r(297153)),d=n(r(823584)),p=n(r(205793)),v=n(r(794532)),g=r(39569),h=r(535081),m=r(451316),y=r(570355),_=r(53993),b=r(386452),S=r(378011),T=r(61303),O=r(423343),P=r(104185),E=r(534074),k=r(25614),C=r(127563),w=r(334),D=r(671747),I=r(539786),A=r(649065),x=(0,i.default)(k.getTicketBySign,k.getTicketProposals,(function(e,t){return[e,t]}))((function(e,t){return t}));t.getTicketTupleToRender=x;var j=(0,i.default)(O.getIsMultiway,k.getTicketBySign,k.getTicketUnifiedPrice,C.getTicketShortUrl,I.getSearchId,D.getCurrencies,E.getMarker,T.getAviaParams,O.getMultiwayParams,(function(e,t,r,n,a,i,o,c,s){if(n)return n;var u=e?s:c,l=(0,h.getBaseSearchUrl)(u);return(0,h.createUrl)({ticket:t,unifiedPrice:r,searchId:a,baseSearchUrl:l,currencyRates:i,marker:o})}))((function(e,t){return t}));t.getTicketUrl=j;var R=(0,i.default)((function(e,t){return t.segments}),w.getAirports,(function(e,t){return(0,m.getTripDirectionType)(e,t)}))((function(e,t){return t.sign}));t.getTripDirectionType=R;var M=(0,i.default)((function(e){return e}),(function(e,t){return t}),(function(e,t){if(!t)return{};var r=[].concat(e.tags?e.tags:[],t.tags?t.tags:[]),n=(0,A.getTicketVisaRequiredCountries)(t,e.segments).length>0;return(0,_.splitTagsByValueType)((0,_.getTagsData)(r,n))}))((function(e){return e.sign}));t.getTags=M;var F=(0,o.createSelector)(k.getTicketBySign,(function(e,t,r){return r}),(function(e,t,r,n){return n}),(function(e,t,r){return e.segments[t].flights[r]}));t.getFlight=F;var N=(0,o.createSelector)(k.getProposalById,(function(e,t,r){return r}),(function(e,t,r,n){return n}),(function(e,t,r){return e.flightTerms[t][r]}));t.getFlightTerm=N;var L=(0,o.createSelector)((function(e,t,r,n,a,i){return n}),(function(e,t,r,n,a,i){return a}),P.getSimilarFareProposals,(function(e,t,r){var n=(0,P.isFaresExperimentEnabled)()?r:e[t];return null!=n?n:[]}));t.getProposalsByCurrentTariff=L;var B=(0,o.createSelector)(k.getTicketBySign,L,(function(e,t,r,n,a,i){return r}),(function(e,t,r,n,a,i){return i}),k.getTicketBadges,b.$currency.getState,D.getCurrencies,k.getTicketTags,(function(e,t,r,n,i,o,g,h){var m,_,b,T,O=(0,a.default)(t,2),P=O[0],E=O[1],k=(0,v.default)(e.extra_fares,(function(e){return Boolean((0,p.default)({proposal_id:null==P?void 0:P.id},e))})),C=e.segments.reduce((function(e,t){return e+t.flights.length}),0),w=e.segments.reduce((function(e,t){return t.flights.forEach((function(t){e.push({departure:t.departure_timestamp,arrival:t.arrival_timestamp})})),e}),[]),D=e.segments.reduce((function(e,t){var r;return e+((null===(r=t.transfers)||void 0===r?void 0:r.length)||0)}),0),I=e.segments.reduce((function(e,t){var r=0;if(t.transfers)for(var n=0;n<t.transfers.length;n+=1)r+=t.transfers[n].duration;return e+r}),0),A=[P,E].reduce((function(e,t){return t?(e.push({gate_id:t.agentId,weight:t.weight,main:t===P}),e):e}),[]),x=(0,s.default)([(0,c.default)((function(e){var t=e.transfers;return(0,c.default)("tags",t)})),u.default,(0,l.default)(h),f.default,d.default])(e.segments);return{ticket_signature:e.sign,main_airline:(0,S.getLongestOperatingCarrier)(e),airlines:e.carriers,ticket_position:r,main_gate_id:null==P?void 0:P.agentId,gate_ids:t.map((function(e){return e.agentId})),flights_count:C,currency:o.toUpperCase(),flights_time:w,price:(0,y.convertUnifiedToCurrency)(null==P?void 0:P.unifiedPrice,o,g).value,unified_price:null==P?void 0:P.unifiedPrice,seats_available:null==P?void 0:P.seatsAvailable,second_unified_price:null==E?void 0:E.unifiedPrice,ticket_tags:x,main_proposal_tags:null==P?void 0:P.tags,layovers_count:D,layovers_length:I,render_counter:n,top_productivities:A,main_badge:null==i?void 0:i[0],ticket_badges:i,score:e.score,cashback:null==P?void 0:P.cashback,flightTerms:null==P?void 0:P.flightTerms,badPartner:null==P?void 0:P.badPartner,fromMainAirline:null==P?void 0:P.fromMainAirline,fare_key:k,fare_baggage:null==P||null===(m=P.minimumFare)||void 0===m?void 0:m.baggage,fare_handbags:null==P||null===(_=P.minimumFare)||void 0===_?void 0:_.handbags,fare_change:null==P||null===(b=P.minimumFare)||void 0===b?void 0:b.changeBeforeFlight,fare_return:null==P||null===(T=P.minimumFare)||void 0===T?void 0:T.returnBeforeFlight,main_proposal_id:null==P?void 0:P.id}}));t.getTicketEventData=B;var U=(0,o.createSelector)([I.getSearchStatus],(function(e){return e===g.SearchStatus.Shown}));t.getIsTicketsListLoading=U},556696:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsTicketDeeplink=t.getDeeplinkTicketSign=void 0,t.getIsTicketDeeplink=function(e){return Boolean(e.ticketDeeplinkInfo.ticketSign)},t.getDeeplinkTicketSign=function(e){return e.ticketDeeplinkInfo.ticketSign}},487825:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketSelectedTariffs=t.getTicketSelectedTariff=t.getCurrentTariffByTicketSign=void 0;var n=r(774953),a=r(25614),i=r(694630),o=r(902411),c=function(e){return e.ticketSelectedTariffs};t.getTicketSelectedTariffs=c;var s=(0,n.createSelector)(c,(function(e,t){return t}),(function(e,t){return e[t]}));t.getTicketSelectedTariff=s;var u=(0,n.createSelector)(a.getTicketProposals,(function(e,t){return t}),(function(e){return e}),(function(e,t,r){var n=(0,i.getTicketTupleToRender)(r,t,e);return(0,o.prepareTicketProposals)(r,n)}));t.getCurrentTariffByTicketSign=u},127563:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketShortUrl=void 0,t.getTicketShortUrl=function(e,t){return e.ticketShortUrls[t]}},25614:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getUncertainTicketsCount=t.getTicketsTuples=t.getTicketsTotalCount=t.getTicketsState=t.getTicketsProposals=t.getTicketsList=t.getTicketsBySign=t.getTicketUnifiedPrice=t.getTicketTupleBySign=t.getTicketTags=t.getTicketProposalsList=t.getTicketProposals=t.getTicketMainBadge=t.getTicketIndexBySign=t.getTicketCheapestProposal=t.getTicketBySign=t.getTicketBadges=t.getResultsMeta=t.getProposals=t.getProposalById=t.getIsTicketsListEmpty=t.getIsFirstTicketWithBadge=t.getIsEmptySearch=t.getHighlightedTicketSign=t.getHasReliableTickets=t.getHasDirectTicket=t.getForbiddenTicketsCount=t.getFirstTicketSign=t.getFilteredTicketsAmountFromMeta=t.getDirectTicketsCount=void 0;var a=r(774953),i=n(r(115031)),o=n(r(26045)),c=n(r(918174)),s=n(r(399136)),u=n(r(54338)),l=n(r(816550)),f=r(920374),d=r(472075),p=r(496630),v=r(978625),g=function(e){return e.tickets};t.getTicketsState=g;var h=function(e){return e.tickets.ticketsList};t.getTicketsList=h;var m=function(e){return e.tickets.tickets};t.getTicketsBySign=m;var y=function(e){return e.tickets.proposals};t.getProposals=y,t.getResultsMeta=function(e){return e.tickets.meta};var _=function(e){return e.tickets.ticketsProposals};t.getTicketsProposals=_;var b=(0,a.createSelector)(_,(function(e,t){return t}),(function(e,t){return e[t]}));t.getTicketProposalsList=b;var S=(0,a.createSelector)(b,y,(function(e,t){return(null==e?void 0:e.map((function(e){return t[e]})))||[]}));t.getTicketProposals=S;var T=(0,a.createSelector)(m,(function(e,t){return t}),(function(e,t){return e[t]}));t.getTicketBySign=T;var O=(0,a.createSelector)(T,h,(function(e,t){return(0,u.default)(e.sign,t)}));t.getTicketIndexBySign=O;var P=(0,a.createSelector)(y,(function(e,t){return t}),(function(e,t){return e[t]}));t.getProposalById=P;var E=(0,a.createSelector)(T,S,(function(e,t){return[e,t]}));t.getTicketTupleBySign=E;var k=(0,a.createSelector)(g,(function(e){return e.ticketsList.map((function(t){return(0,v.createTupleFromState)(t,e)}))}));t.getTicketsTuples=k,t.getFilteredTicketsAmountFromMeta=function(e){return e.tickets.meta.filteredTicketsCount};var C=function(e){return e.tickets.meta.totalTicketsCount};t.getTicketsTotalCount=C;var w=(0,a.createSelector)(C,(function(e){return 0===e}));t.getIsEmptySearch=w;var D=(0,a.createSelector)(h,(function(e){return 0===(0,s.default)(e)}));t.getIsTicketsListEmpty=D;var I=(0,a.createSelector)(S,(function(e){return null==e?void 0:e[0]}));t.getTicketCheapestProposal=I;var A=(0,a.createSelector)(I,(function(e){return null==e?void 0:e.unifiedPrice}));t.getTicketUnifiedPrice=A;var x=(0,a.createSelector)(p.getHighlightedTicketParams,m,(function(e,t){return null!=e&&e.sign&&t[null==e?void 0:e.sign]?null==e?void 0:e.sign:void 0}));t.getHighlightedTicketSign=x;var j=function(e){return e.tickets.meta.directCount};t.getDirectTicketsCount=j;var R=(0,a.createSelector)(g,(function(e){var t=e.ticketsList,r=e.tickets;return t.filter((function(e){return(0,f.getIsTicketForbidden)(r[e].tags)})).length}));t.getForbiddenTicketsCount=R;var M=(0,a.createSelector)(g,(function(e){var t=e.ticketsList,r=e.tickets;return t.filter((function(e){return(0,f.getIsTicketUncertain)(r[e].tags)})).length}));t.getUncertainTicketsCount=M;var F=(0,a.createSelector)(d.getWithoutCovidRestrictionsFilterBoundaries,(function(e){return Boolean(e)}));t.getHasReliableTickets=F;var N=(0,a.createSelector)(j,(function(e){return e>0}));t.getHasDirectTicket=N;var L=(0,i.default)(T,(function(e){return e.tags}))((function(e,t){return t}));t.getTicketTags=L;var B=(0,a.createSelector)([T],(function(e){return(0,o.default)((0,c.default)("type"))(null==e?void 0:e.badges)}));t.getTicketBadges=B;var U=(0,a.createSelector)(T,(function(e){var t;return null==e||null===(t=e.badges)||void 0===t?void 0:t[0]}));t.getTicketMainBadge=U;var H=(0,a.createSelector)(h,(function(e){return e[0]}));t.getFirstTicketSign=H;var W=(0,a.createSelector)(H,m,(function(e,t){var r,n;return!(0,l.default)(null===(r=t[e])||void 0===r||null===(n=r.badges)||void 0===n?void 0:n[0])}));t.getIsFirstTicketWithBadge=W},871255:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketsComparisonTickets=t.getIsTicketsComparisonOpen=t.getComparisonTicketTupleBySign=t.getComparisonTicketSearchParamsBySign=t.getComparisonTicketByTicketSign=t.getCleanedTicketForComparisonTicket=t.getCleanedSearchParamsForComparisonTicket=void 0;var a=n(r(114558)),i=n(r(115031)),o=r(774953),c=function(e){return e.ticketsComparison.tickets};t.getTicketsComparisonTickets=c;var s=(0,i.default)(c,(function(e,t){return t}),(function(e,t){return e.find((function(e){return e.ticket[0].sign===t}))}))((function(e,t){return t}));t.getComparisonTicketByTicketSign=s;var u=(0,o.createSelector)(s,(function(e){return null==e?void 0:e.ticket}));t.getComparisonTicketTupleBySign=u;var l=(0,o.createSelector)(s,(function(e){return null==e?void 0:e.searchParams}));t.getComparisonTicketSearchParamsBySign=l,t.getCleanedTicketForComparisonTicket=function(e,t){var r=(0,a.default)(e,2);return[r[0],[r[1].find((function(e){return e.id===t}))]]},t.getIsTicketsComparisonOpen=function(e){return e.ticketsComparison.isOpen},t.getCleanedSearchParamsForComparisonTicket=function(e){return{passengers:e.passengers,tripClass:e.tripClass,segments:e.segments}}},322880:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getUncertainTransfers=t.getUncertainLayoverPopupStops=void 0;var a=r(774953),i=n(r(115031)),o=n(r(193578)),c=n(r(398086)),s=r(25614),u=r(334),l=r(854755),f=["restrictions_layover_uncertain"],d=(0,i.default)(s.getTicketBySign,u.getAirports,(function(e,t){var r=e.segments.reduce((function(e,t){return t.transfers.filter((function(e){return Boolean((0,o.default)(e.tags,f).length)})).concat(e)}),[]);return(0,c.default)("arrival_airport",r).map((function(e){return{arrival_airport:e.arrival_airport,cases:t[e.arrival_airport].cases,country_code:e.country_code,city_code:e.city_code}}))}))((function(e,t){return t}));t.getUncertainTransfers=d;var p=(0,a.createSelector)(d,u.getAirports,l.getCountries,(function(e,t,r){return e.reduce((function(e,n){var a=n.arrival_airport,i=n.country_code,o=n.city_code,c=e.find((function(e){return e.city.iata===o}));return c?c.airports.push(t[a].name):e.push({city:{iata:o,cases:t[a].cases},country:{iata:i,cases:r[i].cases},airports:[t[a].name]}),e}),[])}));t.getUncertainLayoverPopupStops=p},38474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserTheme=t.getShowThemeSwitcher=t.getIsNightMode=void 0;var n=r(641631),a=function(e){return"content"!==e.currentPage};t.getShowThemeSwitcher=a;var i=function(e){return a(e)?e.userTheme:n.UserTheme.LIGHT};t.getUserTheme=i,t.getIsNightMode=function(e){return i(e)===n.UserTheme.DARK}},190815:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.configureStore=g,t.default=void 0,r(226170);var a=r(968875),i=n(r(62495)),o=r(603117),c=r(347127),s=n(r(621888)),u=n(r(613932)),l=n(r(69087)),f=r(942093),d=n(r(771726)),p=n(r(520997)),v=n(r(252939));function g(){var e=new p.default(f.explosionReducer,[o.enableBatching,a.combineReducers]),t=new v.default,r=(0,i.default)(),n=(0,a.createStore)(e.reduce,{},(0,c.composeWithDevTools)((0,a.applyMiddleware)(s.default,r,l.default,d.default,t.enhancer)));return r.run(u.default),n.reducerManager=e,n.middlewareManager=t,n}var h=g();t.default=h},252939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(){var e=this;this.middlewares=[],this.enhancer=function(t){return function(r){return function(n){!function e(n){return function(a){return n.length?n[0](t)(e(n.slice(1)))(a):r(a)}}(e.middlewares)(n)}}},this.add=function(t){var r=Array.isArray(t)?t:[t];return e.middlewares=e.middlewares.concat(r),e},this.remove=function(t){return(Array.isArray(t)?t:[t]).map((function(t){e.middlewares.splice(e.middlewares.indexOf(t),1)})),e}}},520997:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(101339));function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(){function e(e,t){var r=this;this.reducers={},this.combineFunctions=void 0,this.combined=void 0,this.stateDataToRemove=[],this.reduce=function(e,t){var n=e;if(r.stateDataToRemove.length>0){n=c({},e);for(var a,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.stateDataToRemove);!(a=o()).done;)delete n[a.value];r.stateDataToRemove=[]}return r.combined(n,t)},this.add=function(e){return r.reducers=c(c({},e),r.reducers),r.recombine(),r},this.remove=function(e){return(Array.isArray(e)?e:[e]).map((function(e){r.reducers[e]&&(delete r.reducers[e],r.stateDataToRemove.push(e))})),r.recombine(),r},this.combineFunctions=t.slice().reverse(),this.reducers=c({},e),this.recombine()}return e.prototype.recombine=function(){this.combined=this.combineFunctions.reduce((function(e,t){return t(e)}),this.reducers)},e}();t.default=s},978625:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTupleFromState=void 0,t.createTupleFromState=function(e,t){var r=t.tickets,n=t.proposals,a=t.ticketsProposals;return[r[e],a[e].map((function(e){return n[e]}))]}},961489:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewEventsStore=void 0;var r=function(){this.inView=!1,this.opened=!1,this.updatesCount=0,this.hash=void 0,this.sentData={}},n=function(){function e(){this.state={}}var t=e.prototype;return t.provideEntity=function(e){return this.state[e]||(this.state[e]=new r),this.state[e]},t.setAsSent=function(e,t){this.provideEntity(e),this.state[e].sentData[t]||(this.state[e].sentData[t]=!1),this.state[e].sentData[t]=!0},t.setInView=function(e,t){this.provideEntity(e),this.state[e].inView=t},t.setIsOpen=function(e,t){this.provideEntity(e),this.state[e].opened=t},t.recordUpdate=function(e,t){this.provideEntity(e),this.state[e].updatesCount++,this.state[e].hash=t},t.isAlreadySent=function(e,t){var r,n;return Boolean(null===(r=this.state[e])||void 0===r||null===(n=r.sentData)||void 0===n?void 0:n[t])},t.isInView=function(e){var t;return Boolean(null===(t=this.state[e])||void 0===t?void 0:t.inView)},t.isOpened=function(e){var t;return Boolean(null===(t=this.state[e])||void 0===t?void 0:t.opened)},t.getCurrentHash=function(e){var t;return null===(t=this.state[e])||void 0===t?void 0:t.hash},t.getUpdatesCount=function(e){var t;return(null===(t=this.state[e])||void 0===t?void 0:t.updatesCount)||0},e}();t.ViewEventsStore=n},498441:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SET_NEXT_ADVERTISEMENT=t.RESET_ADVERTISEMENT=t.AdvertisementSlotName=t.AD_PLACEMENT_SHOWED=t.AD_PLACEMENT_REQUESTED=t.AD_PLACEMENT_CLICKED=void 0,t.SET_NEXT_ADVERTISEMENT="SET_NEXT_ADVERTISEMENT",t.RESET_ADVERTISEMENT="RESET_ADVERTISEMENT",t.AD_PLACEMENT_REQUESTED="AD_PLACEMENT_REQUESTED",t.AD_PLACEMENT_SHOWED="AD_PLACEMENT_SHOWED",t.AD_PLACEMENT_CLICKED="AD_PLACEMENT_CLICKED",t.AdvertisementSlotName=r,function(e){e.ExtraContent="extra_content",e.Product0Mobile="product_0_mobile",e.Product0Desktop="product_0_desktop",e.Product3="product_3",e.BottomInline="bottom_inline",e.HomeBottomInline="home_bottom_inline"}(r||(t.AdvertisementSlotName=r={}))},779143:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_AVIA_PARAMS=t.TRY_CLEARING_AVIA_FORM=t.SWAP_AVIA_PLACES=t.SET_HISTORY_ITEM=t.RESET_PRECHECKED_FILTERS=t.RESET_AVIA_FIELD_FOCUS_STATE=t.FOCUS_AVIA_FIELD=t.CLOSE_SERP_MODAL=t.CHANGE_SHOULD_SEARCH_HOTELS=t.CHANGE_MAX_VISIBLE_LAST_SEARCHES=t.CHANGE_DATE_INPUT_MONTH=t.AVIA_PLACE_CHANGE=t.AVIA_FORM_MONTHS_MOUNT=t.AVIA_DATE_CHANGE=t.ACTIVE_DATE_INPUT_CHANGE=void 0,t.UPDATE_AVIA_PARAMS="UPDATE_AVIA_PARAMS",t.SET_HISTORY_ITEM="SET_HISTORY_ITEM",t.AVIA_PLACE_CHANGE="AVIA_PLACE_CHANGE",t.SWAP_AVIA_PLACES="SWAP_AVIA_PLACES",t.AVIA_FORM_MONTHS_MOUNT="AVIA_FORM_MONTHS_MOUNT",t.ACTIVE_DATE_INPUT_CHANGE="ACTIVE_DATE_INPUT_CHANGE",t.FOCUS_AVIA_FIELD="FOCUS_AVIA_FIELD",t.RESET_AVIA_FIELD_FOCUS_STATE="RESET_AVIA_FIELD_FOCUS_STATE",t.CHANGE_DATE_INPUT_MONTH="CHANGE_DATE_INPUT_MONTH",t.AVIA_DATE_CHANGE="AVIA_DATE_CHANGE",t.TRY_CLEARING_AVIA_FORM="TRY_CLEARING_AVIA_FORM",t.CHANGE_MAX_VISIBLE_LAST_SEARCHES="CHANGE_MAX_VISIBLE_LAST_SEARCHES",t.CHANGE_SHOULD_SEARCH_HOTELS="CHANGE_SHOULD_SEARCH_HOTELS",t.CLOSE_SERP_MODAL="CLOSE_SERP_MODAL",t.RESET_PRECHECKED_FILTERS="RESET_PRECHECKED_FILTERS"},407526:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.B2B_SHOW_SIGN_IN_MODAL=void 0,t.B2B_SHOW_SIGN_IN_MODAL="B2B_SHOW_SIGN_IN_MODAL"},844271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SAW_BRAND_BOOK_EASTER_EGG=void 0,t.USER_SAW_BRAND_BOOK_EASTER_EGG="USER_SAW_BRAND_BOOK_EASTER_EGG"},145726:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_BRAND_TICKET_DATA=t.SET_BRAND_TICKET_SHOWN=t.REMOVE_BRAND_TICKET=t.BRAND_TICKET_SHOWN=t.BRAND_TICKET_CLICK=t.ADD_BRAND_TICKET=void 0,t.ADD_BRAND_TICKET="ADD_BRAND_TICKET",t.REMOVE_BRAND_TICKET="REMOVE_BRAND_TICKET",t.BRAND_TICKET_SHOWN="BRAND_TICKET_SHOWN",t.SET_BRAND_TICKET_SHOWN="SET_BRAND_TICKET_SHOWN",t.BRAND_TICKET_CLICK="BRAND_TICKET_CLICK",t.UPDATE_BRAND_TICKET_DATA="UPDATE_BRAND_TICKET_DATA"},957608:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_BRAND_TICKET_CAMPAIGNS=t.RESET_BRAND_TICKET_CAMPAIGNS=void 0,t.UPDATE_BRAND_TICKET_CAMPAIGNS="UPDATE_BRAND_TICKET_CAMPAIGNS",t.RESET_BRAND_TICKET_CAMPAIGNS="RESET_BRAND_TICKET_CAMPAIGNS"},197783:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_BROWSER_HISTORY_STATE=t.UPDATE_BROWSER_HISTORY=void 0,t.UPDATE_BROWSER_HISTORY="UPDATE_BROWSER_HISTORY",t.UPDATE_BROWSER_HISTORY_STATE="UPDATE_BROWSER_HISTORY_STATE"},125634:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CASHBACK_INFORMER_IN_VIEW=void 0,t.CASHBACK_INFORMER_IN_VIEW="CASHBACK_INFORMER_IN_VIEW"},545619:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_CHEAPEST_STOPS=t.RESET_CHEAPEST_STOPS=void 0,t.UPDATE_CHEAPEST_STOPS="UPDATE_CHEAPEST_STOPS",t.RESET_CHEAPEST_STOPS="RESET_CHEAPEST_STOPS"},802797:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_CHEAPEST_TICKET=void 0,t.UPDATE_CHEAPEST_TICKET="UPDATE_CHEAPEST_TICKET"},204212:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_CURRENCIES=void 0,t.UPDATE_CURRENCIES="UPDATE_CURRENCIES"},937725:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_CURRENT_PAGE=void 0,t.UPDATE_CURRENT_PAGE="UPDATE_CURRENT_PAGE"},400587:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_DEBUG_SETTING=t.RESET_DEBUG_SEARCH_SETTINGS=t.CLEAR_DEBUG_SEARCH_SETTINGS=void 0,t.SET_DEBUG_SETTING="SET_DEBUG_SETTING",t.RESET_DEBUG_SEARCH_SETTINGS="RESET_DEBUG_SEARCH_SETTINGS",t.CLEAR_DEBUG_SEARCH_SETTINGS="CLEAR_DEBUG_SEARCH_SETTINGS"},169822:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DEVICE_SEARCH_ID=t.RESET_DEVICE_SEARCH_ID=void 0,t.UPDATE_DEVICE_SEARCH_ID="UPDATE_DEVICE_SEARCH_ID",t.RESET_DEVICE_SEARCH_ID="RESET_DEVICE_SEARCH_ID"},549145:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_EMAIL_CHANGE_NOTIFY=t.HIDE_EMAIL_CHANGE_NOTIFY=void 0,t.SHOW_EMAIL_CHANGE_NOTIFY="SHOW_EMAIL_CHANGE_NOTIFY",t.HIDE_EMAIL_CHANGE_NOTIFY="HIDE_EMAIL_CHANGE_NOTIFY"},224049:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_ERROR=t.RESET_ERROR=void 0,t.SET_ERROR="SET_ERROR",t.RESET_ERROR="RESET_ERROR"},786275:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_ERROR_DURING_SEARCH=void 0,t.SET_ERROR_DURING_SEARCH="SET_ERROR_DURING_SEARCH"},299261:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_EXPECTED_PRICE=t.RESET_EXPECTED_PRICE=void 0,t.UPDATE_EXPECTED_PRICE="UPDATE_EXPECTED_PRICE",t.RESET_EXPECTED_PRICE="RESET_EXPECTED_PRICE"},767747:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsPopupTriggerType=t.SUSPEND_SUBSCRIPTION=t.SUBSCRIPTIONS_POPUP_SUBMIT=t.SUBSCRIPTIONS_POPUP_CLOSE=t.SHOW_SUBSCRIPTIONS_ERROR=t.SHOW_PRICE_ALERT_SUBSCRIPTION=t.PRICE_ALERT_SUBSCRIPTION_DELETED=t.PRICE_ALERT_SUBSCRIPTION_CREATED=t.HIDE_SUBSCRIPTIONS_ERROR=t.FOLLOW_THE_PRICE=void 0,r(610532),t.FOLLOW_THE_PRICE="FOLLOW_THE_PRICE",t.SUSPEND_SUBSCRIPTION="SUSPEND_SUBSCRIPTION",t.SUBSCRIPTIONS_POPUP_SUBMIT="SUBSCRIPTIONS_POPUP_SUBMIT",t.SUBSCRIPTIONS_POPUP_CLOSE="SUBSCRIPTIONS_POPUP_CLOSE",t.SHOW_SUBSCRIPTIONS_ERROR="SHOW_SUBSCRIPTIONS_ERROR",t.HIDE_SUBSCRIPTIONS_ERROR="HIDE_SUBSCRIPTIONS_ERROR",t.SHOW_PRICE_ALERT_SUBSCRIPTION="SHOW_PRICE_ALERT_SUBSCRIPTION",t.PRICE_ALERT_SUBSCRIPTION_CREATED="PRICE_ALERT_SUBSCRIPTION_CREATED",t.PRICE_ALERT_SUBSCRIPTION_DELETED="PRICE_ALERT_SUBSCRIPTION_DELETED",t.SubscriptionsPopupTriggerType=n,function(e){e.Follow="follow",e.Exit="exit",e.Inactive="inactive",e.AfterOWBooking="after_booking"}(n||(t.SubscriptionsPopupTriggerType=n={}))},238841:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FB_PIXEL_VIEW_CONTENT=t.FB_PIXEL_START_SEARCH=t.FB_PIXEL_INITIATE_CHECKOUT=void 0,t.FB_PIXEL_START_SEARCH="FB_PIXEL_START_SEARCH",t.FB_PIXEL_VIEW_CONTENT="FB_PIXEL_VIEW_CONTENT",t.FB_PIXEL_INITIATE_CHECKOUT="FB_PIXEL_INITIATE_CHECKOUT"},983675:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_FILTERS_TOOLTIP=t.HIDE_FILTERS_TOOLTIP=void 0,t.SHOW_FILTERS_TOOLTIP="SHOW_FILTERS_TOOLTIP",t.HIDE_FILTERS_TOOLTIP="HIDE_FILTERS_TOOLTIP"},46936:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIRST_TICKET_ARRIVED=void 0,t.FIRST_TICKET_ARRIVED="FIRST_TICKET_ARRIVED"},890018:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLIGHT_INFO_FETCH_SUCCESSED=t.FLIGHT_INFO_FETCH_START=t.FLIGHT_INFO_FETCH_FAILED=void 0,t.FLIGHT_INFO_FETCH_START="FLIGHT_INFO_FETCH_START",t.FLIGHT_INFO_FETCH_FAILED="FLIGHT_INFO_FETCH_FAILED",t.FLIGHT_INFO_FETCH_SUCCESSED="FLIGHT_INFO_FETCH_SUCCESSED"},817431:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_GATE_FEEDBACK_DATA=t.UPDATE_DEVICE_CLICK_ID_FEEDBACK=t.SUBMIT_GATE_FEEDBACK=t.STARTED_EVENT_FEEDBACK=t.SEND_GATE_FEEDBACK=t.GateFeedbackPopupType=t.ANSWERED_EVENT_FEEDBACK=void 0,t.UPDATE_GATE_FEEDBACK_DATA="UPDATE_GATE_FEEDBACK_DATA",t.SUBMIT_GATE_FEEDBACK="SUBMIT_GATE_FEEDBACK",t.SEND_GATE_FEEDBACK="SEND_GATE_FEEDBACK",t.STARTED_EVENT_FEEDBACK="STARTED_EVENT_FEEDBACK",t.ANSWERED_EVENT_FEEDBACK="ANSWERED_EVENT_FEEDBACK",t.UPDATE_DEVICE_CLICK_ID_FEEDBACK="UPDATE_DEVICE_CLICK_ID_FEEDBACK",t.GateFeedbackPopupType=r,function(e){e.BinaryQuestion="binary_question",e.Score="score",e.Checkboxes="checkboxes",e.ToggleList="toggle_list"}(r||(t.GateFeedbackPopupType=r={}))},103873:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_AGENTS=void 0,t.ADD_AGENTS="ADD_AGENTS"},778007:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_GATES_META=void 0,t.ADD_GATES_META="ADD_GATES_META"},366571:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GEO_IP_COUNTRY_SET=void 0,t.GEO_IP_COUNTRY_SET="GEO_IP_COUNTRY_SET"},536842:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERIFY_GOOGLE_RECAPTCHA=t.GOOGLE_RECAPTCHA_SHOWN=void 0,t.VERIFY_GOOGLE_RECAPTCHA="VERIFY_GOOGLE_RECAPTCHA",t.GOOGLE_RECAPTCHA_SHOWN="GOOGLE_RECAPTCHA_SHOWN"},952801:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_HIGHLIGHTED_TICKET=t.SHOW_ALL_TICKETS_HIGHLIGHTED_TICKET=t.NOT_FOUND_HIGHLIGHTED_TICKET=t.FOUND_HIGHLIGHTED_TICKET=t.CLOSE_HIGHLIGHTED_TICKET=void 0,t.SHOW_HIGHLIGHTED_TICKET="SHOW_HIGHLIGHTED_TICKET",t.CLOSE_HIGHLIGHTED_TICKET="CLOSE_HIGHLIGHTED_TICKET",t.SHOW_ALL_TICKETS_HIGHLIGHTED_TICKET="SHOW_ALL_TICKETS_HIGHLIGHTED_TICKET",t.NOT_FOUND_HIGHLIGHTED_TICKET="NOT_FOUND_HIGHLIGHTED_TICKET",t.FOUND_HIGHLIGHTED_TICKET="FOUND_HIGHLIGHTED_TICKET"},223969:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REMOVE_HIGHLIGHTED_TICKET_PARAMS=t.REMOVE_HIGHLIGHTED_TICKET_OVERLAY=t.ADD_HIGHLIGHTED_TICKET_PARAMS=void 0,t.ADD_HIGHLIGHTED_TICKET_PARAMS="ADD_HIGHLIGHTED_TICKET_PARAMS",t.REMOVE_HIGHLIGHTED_TICKET_PARAMS="REMOVE_HIGHLIGHTED_TICKET_PARAMS",t.REMOVE_HIGHLIGHTED_TICKET_OVERLAY="REMOVE_HIGHLIGHTED_TICKET_OVERLAY"},716792:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_HOTEL_PARAMS=t.SUBMIT_HOTEL_FORM=void 0,t.UPDATE_HOTEL_PARAMS="UPDATE_HOTEL_PARAMS",t.SUBMIT_HOTEL_FORM="SUBMIT_HOTEL_FORM"},466575:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_USER_LANGUAGE=void 0,t.CHANGE_USER_LANGUAGE="UPDATE_USER_LANGUAGE"},257126:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_MARKER=void 0,t.UPDATE_MARKER="UPDATE_MARKER"},295659:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MOBILE_APP_REDIRECT_SHOWED=t.MOBILE_APP_REDIRECT_CLICKED=void 0,t.MOBILE_APP_REDIRECT_SHOWED="MOBILE_APP_REDIRECT_SHOWED",t.MOBILE_APP_REDIRECT_CLICKED="MOBILE_APP_REDIRECT_CLICKED"},379803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_MULTIWAY_PARAMS=t.RESET_MULTIWAY_PARAMS=void 0,t.UPDATE_MULTIWAY_PARAMS="UPDATE_MULTIWAY_PARAMS",t.RESET_MULTIWAY_PARAMS="RESET_MULTIWAY_PARAMS"},513125:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_TAB_PARAMS=t.UPDATE_PAGE_HEADER_REDUCED_STATE=t.UPDATE_PAGE_HEADER=t.UPDATE_ACTIVE_FORM=t.EXPAND_PAGE_HEADER=t.COLLAPSE_PAGE_HEADER=void 0,t.UPDATE_PAGE_HEADER="UPDATE_PAGE_HEADER",t.UPDATE_TAB_PARAMS="UPDATE_TAB_PARAMS",t.COLLAPSE_PAGE_HEADER="COLLAPSE_PAGE_HEADER",t.EXPAND_PAGE_HEADER="EXPAND_PAGE_HEADER",t.UPDATE_PAGE_HEADER_REDUCED_STATE="UPDATE_PAGE_HEADER_REDUCED_STATE",t.UPDATE_ACTIVE_FORM="UPDATE_ACTIVE_FORM"},178745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_POLETELY_PROMO=t.OPEN_POLETELY_PROMO_LANDING_PAGE=t.OPEN_POLETELY_PROMO_BLOG_PAGE=void 0,t.OPEN_POLETELY_PROMO_BLOG_PAGE="OPEN_POLETELY_PROMO_BLOG_PAGE",t.OPEN_POLETELY_PROMO_LANDING_PAGE="OPEN_POLETELY_PROMO_LANDING_PAGE",t.SHOW_POLETELY_PROMO="SHOW_POLETELY_PROMO"},637745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_POPUP_DATA=t.OPEN_POPUP=t.CLOSE_POPUP=t.CLEAR_ALL_POPUPS=void 0,t.OPEN_POPUP="OPEN_POPUP",t.CLOSE_POPUP="CLOSE_POPUP",t.UPDATE_POPUP_DATA="UPDATE_POPUP_DATA",t.CLEAR_ALL_POPUPS="CLEAR_ALL_POPUPS"},918249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_MATRIX_PRICES=t.UPDATE_MATRIX_ONLY_DIRECT=t.UPDATE_GRAPH_TRIP_DURATION=t.UPDATE_GRAPH_PRICES=t.RESET_PREDICTION=void 0,t.UPDATE_MATRIX_PRICES="UPDATE_MATRIX_PRICES",t.UPDATE_GRAPH_PRICES="UPDATE_GRAPH_PRICES",t.UPDATE_MATRIX_ONLY_DIRECT="UPDATE_MATRIX_ONLY_DIRECT",t.UPDATE_GRAPH_TRIP_DURATION="UPDATE_GRAPH_TRIP_DURATION",t.RESET_PREDICTION="RESET_PREDICTION"},821277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUIRED_TICKET_SIGN_REMOVE=t.REQUIRED_TICKET_SIGN_ADD=void 0,t.REQUIRED_TICKET_SIGN_ADD="REQUIRED_TICKET_SIGN_ADD",t.REQUIRED_TICKET_SIGN_REMOVE="REQUIRED_TICKET_SIGN_REMOVE"},782708:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESET_RESULTS_URL=void 0,t.RESET_RESULTS_URL="RESET_RESULTS_URL"},26690:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_SEARCH_EXPIRING_DATE=void 0,t.SET_SEARCH_EXPIRING_DATE="SET_SEARCH_EXPIRING_DATE"},159853:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RESET_SEARCH_ID=void 0,t.RESET_SEARCH_ID="RESET_SEARCH_ID"},486362:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SEARCH_META=void 0,t.UPDATE_SEARCH_META="UPDATE_SEARCH_META"},294317:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SEARCH_PARAMS_SEGMENTS=t.UPDATE_SEARCH_PARAMS=void 0,t.UPDATE_SEARCH_PARAMS="UPDATE_SEARCH_PARAMS",t.UPDATE_SEARCH_PARAMS_SEGMENTS="UPDATE_SEARCH_PARAMS_SEGMENTS"},165652:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DIRECT_SCHEDULE_CHUNKS_LOADED=t.COLLECT_SEARCH_RESULTS=t.CHUNKS_LOADED=t.ABORT_SEARCH=void 0,t.COLLECT_SEARCH_RESULTS="COLLECT_SEARCH_RESULTS",t.ABORT_SEARCH="ABORT_SEARCH",t.CHUNKS_LOADED="CHUNKS_LOADED",t.DIRECT_SCHEDULE_CHUNKS_LOADED="DIRECT_SCHEDULE_CHUNKS_LOADED"},829181:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SEARCH_RESULTS_PAGE=t.RESET_SEARCH_RESULTS_PAGE=void 0,t.UPDATE_SEARCH_RESULTS_PAGE="UPDATE_SEARCH_RESULTS_PAGE",t.RESET_SEARCH_RESULTS_PAGE="RESET_SEARCH_RESULTS_PAGE"},485432:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SEARCH_RESULTS_REQUEST_STATUS=t.RESET_SEARCH_RESULTS_REQUEST_STATUS=void 0,t.UPDATE_SEARCH_RESULTS_REQUEST_STATUS="UPDATE_SEARCH_RESULTS_REQUEST_STATUS",t.RESET_SEARCH_RESULTS_REQUEST_STATUS="RESET_SEARCH_RESULTS_REQUEST_STATUS"},990647:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SEARCH_STATUS=void 0,t.UPDATE_SEARCH_STATUS="UPDATE_SEARCH_STATUS"},126154:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_SEARCH_TRIGGER_SOURCE=t.RESET_SEARCH_TRIGGER_SOURCE=void 0,t.UPDATE_SEARCH_TRIGGER_SOURCE="UPDATE_SEARCH_TRIGGER_SOURCE",t.RESET_SEARCH_TRIGGER_SOURCE="RESET_SEARCH_TRIGGER_SOURCE"},457834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_SELENE_WIDGETS=void 0,t.INIT_SELENE_WIDGETS="INIT_SELENE_WIDGETS"},803936:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHOW_MORE_TICKETS_CLICK=void 0,t.SHOW_MORE_TICKETS_CLICK="SHOW_MORE_TICKETS_CLICK"},141568:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.START_SEARCH=void 0,t.START_SEARCH="START_SEARCH"},653846:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUBSCRIBE_DIRECTION_BY_ID=t.UNSUBSCRIBE_CURRENT_DIRECTION=t.DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS=t.DIRECTION_SUBSCRIPTIONS_SET_CREATE_STATUS=t.DIRECTION_SUBSCRIPTIONS_REMOVE=t.DIRECTION_SUBSCRIPTIONS_CLEAR=t.DIRECTION_SUBSCRIPTIONS_ADD=t.CREATE_CURRRENT_DIRECTION_SUBSCRIPTION=void 0,t.CREATE_CURRRENT_DIRECTION_SUBSCRIPTION="CREATE_CURRRENT_DIRECTION_SUBSCRIPTION",t.UNSUBSCRIBE_CURRENT_DIRECTION="UNSUBSCRIBE_CURRENT_DIRECTION",t.UNSUBSCRIBE_DIRECTION_BY_ID="UNSUBSCRIBE_DIRECTION_BY_ID",t.DIRECTION_SUBSCRIPTIONS_REMOVE="DIRECTION_SUBSCRIPTIONS_REMOVE",t.DIRECTION_SUBSCRIPTIONS_ADD="DIRECTION_SUBSCRIPTIONS_ADD",t.DIRECTION_SUBSCRIPTIONS_CLEAR="DIRECTION_SUBSCRIPTIONS_CLEAR",t.DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS="DIRECTION_SUBSCRIPTIONS_SET_FETCH_STATUS",t.DIRECTION_SUBSCRIPTIONS_SET_CREATE_STATUS="DIRECTION_SUBSCRIPTIONS_SET_CREATE_STATUS"},736778:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUBSCRIBE_FLEXIBLE_BY_ID=t.FLEXIBLE_SUBSCRIPTIONS_SET_FETCH_STATUS=t.FLEXIBLE_SUBSCRIPTIONS_SET_CREATE_STATUS=t.FLEXIBLE_SUBSCRIPTIONS_REMOVE=t.FLEXIBLE_SUBSCRIPTIONS_CLEAR=t.FLEXIBLE_SUBSCRIPTIONS_ADD=t.CREATE_CURRRENT_FLEXIBLE_SUBSCRIPTION=void 0,t.CREATE_CURRRENT_FLEXIBLE_SUBSCRIPTION="CREATE_CURRRENT_FLEXIBLE_SUBSCRIPTION",t.UNSUBSCRIBE_FLEXIBLE_BY_ID="UNSUBSCRIBE_FLEXIBLE_BY_ID",t.FLEXIBLE_SUBSCRIPTIONS_REMOVE="FLEXIBLE_SUBSCRIPTIONS_REMOVE",t.FLEXIBLE_SUBSCRIPTIONS_ADD="FLEXIBLE_SUBSCRIPTIONS_ADD",t.FLEXIBLE_SUBSCRIPTIONS_CLEAR="FLEXIBLE_SUBSCRIPTIONS_CLEAR",t.FLEXIBLE_SUBSCRIPTIONS_SET_FETCH_STATUS="FLEXIBLE_SUBSCRIPTIONS_SET_FETCH_STATUS",t.FLEXIBLE_SUBSCRIPTIONS_SET_CREATE_STATUS="FLEXIBLE_SUBSCRIPTIONS_SET_CREATE_STATUS"},122456:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUBSCRIPTIONS_ACTUALIZE_SUBSCRIBER=t.FETCH_ALL_SUBSCRIPTIONS=void 0,t.FETCH_ALL_SUBSCRIPTIONS="FETCH_ALL_SUBSCRIPTIONS",t.SUBSCRIPTIONS_ACTUALIZE_SUBSCRIBER="SUBSCRIPTIONS_ACTUALIZE_SUBSCRIBER"},58892:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TICKET_SUBSCRIPTIONS_UNSUBSCRIBE_BY_TICKET_SIGN=t.TICKET_SUBSCRIPTIONS_SET_FETCH_STATUS=t.TICKET_SUBSCRIPTIONS_SET_CREATE_STATUS=t.TICKET_SUBSCRIPTIONS_REMOVE=t.TICKET_SUBSCRIPTIONS_CREATE=t.TICKET_SUBSCRIPTIONS_CLEAR=t.TICKET_SUBSCRIPTIONS_ADD=t.SET_TICKET_HAS_SUBSCRIPTION=void 0,t.TICKET_SUBSCRIPTIONS_CREATE="TICKET_SUBSCRIPTIONS_CREATE",t.TICKET_SUBSCRIPTIONS_REMOVE="TICKET_SUBSCRIPTIONS_REMOVE",t.TICKET_SUBSCRIPTIONS_UNSUBSCRIBE_BY_TICKET_SIGN="TICKET_SUBSCRIPTIONS_UNSUBSCRIBE_BY_TICKET_SIGN",t.TICKET_SUBSCRIPTIONS_ADD="TICKET_SUBSCRIPTIONS_ADD",t.TICKET_SUBSCRIPTIONS_CLEAR="TICKET_SUBSCRIPTIONS_CLEAR",t.TICKET_SUBSCRIPTIONS_SET_FETCH_STATUS="TICKET_SUBSCRIPTIONS_SET_FETCH_STATUS",t.TICKET_SUBSCRIPTIONS_SET_CREATE_STATUS="TICKET_SUBSCRIPTIONS_SET_CREATE_STATUS",t.SET_TICKET_HAS_SUBSCRIPTION="SET_TICKET_HAS_SUBSCRIPTION"},367617:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRIGGER_INACTIVE_USER=t.SPAWN_SUSPEND_HANDLERS=t.ABORT_SUSPEND_HANDLERS=void 0,t.SPAWN_SUSPEND_HANDLERS="SPAWN_SUSPEND_HANDLERS",t.ABORT_SUSPEND_HANDLERS="ABORT_SUSPEND_HANDLERS",t.TRIGGER_INACTIVE_USER="TRIGGER_INACTIVE_USER"},148860:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TICKET_WARNING_TAG_TOOLTIP_SHOWN=t.TICKET_TRANSFER_TAG_CLICK=t.TICKET_SUBSCRIPTION_CLICK=t.TICKET_SIGNIFICANT_UPDATE=t.TICKET_SHARE_TOOLTIP_SHOWN=t.TICKET_SHARE=t.TICKET_REFRESH_CLICK=t.TICKET_IN_VIEW=t.TICKET_INFO_TOGGLE=t.TICKET_INFO_DEEPLINK_TOGGLE=t.TICKET_INFO_DEEPLINK_SEARCH_FINISHED=t.TICKET_FLIGHT_INFO_CLICKED=t.TICKET_DOWNGRADED_TOOLTIP_SHOW=t.TICKET_DIRECT_SCHEDULE_CLICK=t.TICKET_COMPARISON_CLICK=t.TICKET_BUY_CLICK=t.TICKET_B2B_SHOW_INFO_MODAL=t.TICKET_B2B_INFO_BANNER_SHOWN=t.TICKET_B2B_INFO_BANNER_CLOSE=t.TICKET_ALERT_CLICK=t.PROPOSAL_DEBUG_CLICK=t.MORE_PROPOSALS_CLICK=t.FETCH_REQUIRED_TICKET_SUCCEED=t.BuyEvents=void 0,t.TICKET_BUY_CLICK="TICKET_BUY_CLICK",t.TICKET_SHARE="TICKET_SHARE",t.TICKET_SHARE_TOOLTIP_SHOWN="TICKET_SHARE_TOOLTIP_SHOWN",t.TICKET_FLIGHT_INFO_CLICKED="TICKET_FLIGHT_INFO_CLICKED",t.TICKET_WARNING_TAG_TOOLTIP_SHOWN="TICKET_WARNING_TAG_TOOLTIP_SHOWN",t.TICKET_REFRESH_CLICK="TICKET_REFRESH_CLICK",t.TICKET_SUBSCRIPTION_CLICK="TICKET_SUBSCRIPTION_CLICK",t.TICKET_COMPARISON_CLICK="TICKET_COMPARISON_CLICK",t.TICKET_DOWNGRADED_TOOLTIP_SHOW="TICKET_DOWNGRADED_TOOLTIP_SHOW",t.TICKET_IN_VIEW="TICKET_IN_VIEW",t.TICKET_SIGNIFICANT_UPDATE="TICKET_SIGNIFICANT_UPDATE",t.TICKET_INFO_TOGGLE="TICKET_INFO_TOGGLE",t.TICKET_INFO_DEEPLINK_TOGGLE="TICKET_INFO_DEEPLINK_TOGGLE",t.TICKET_INFO_DEEPLINK_SEARCH_FINISHED="TICKET_INFO_DEEPLINK_SEARCH_FINISHED",t.PROPOSAL_DEBUG_CLICK="PROPOSAL_DEBUG_CLICK",t.MORE_PROPOSALS_CLICK="MORE_PROPOSALS_CLICK",t.TICKET_DIRECT_SCHEDULE_CLICK="TICKET_DIRECT_SCHEDULE_CLICK",t.TICKET_ALERT_CLICK="TICKET_ALERT_CLICK",t.TICKET_TRANSFER_TAG_CLICK="TICKET_TRANSFER_TAG_CLICK",t.TICKET_B2B_SHOW_INFO_MODAL="TICKET_B2B_SHOW_INFO_MODAL",t.TICKET_B2B_INFO_BANNER_SHOWN="TICKET_B2B_INFO_BANNER_SHOWN",t.TICKET_B2B_INFO_BANNER_CLOSE="TICKET_B2B_INFO_BANNER_CLOSE",t.FETCH_REQUIRED_TICKET_SUCCEED="FETCH_REQUIRED_TICKET_SUCCEED",t.BuyEvents=r,function(e){e.BuyButton="BUY_BUTTON",e.AirlineLogo="LOGO",e.Proposal="PROPOSAL",e.ContextMenu="CONTEXTMENU",e.ComparisonTicketBuyButton="COMPARISON_TICKET_BUY_BUTTON",e.FareCard="FARE_CARD",e.VersusDrawer="VERSUS_DRAWER"}(r||(t.BuyEvents=r={}))},395166:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TICKET_DEEPLINK_INFO_UPDATE=t.TICKET_DEEPLINK_INFO_REMOVE=void 0,t.TICKET_DEEPLINK_INFO_UPDATE="TICKET_DEEPLINK_INFO_UPDATE",t.TICKET_DEEPLINK_INFO_REMOVE="TICKET_DEEPLINK_INFO_REMOVE"},402590:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_TICKET_SELECTED_TARIFFS=t.RESET_TICKET_SELECTED_TARIFFS=t.REMOVE_TICKET_SELECTED_TARIFF=t.CHANGE_TICKET_SELECTED_TARIFF=void 0,t.CHANGE_TICKET_SELECTED_TARIFF="CHANGE_TICKET_SELECTED_TARIFF",t.REMOVE_TICKET_SELECTED_TARIFF="REMOVE_TICKET_SELECTED_TARIFF",t.RESET_TICKET_SELECTED_TARIFFS="RESET_TICKET_SELECTED_TARIFFS",t.SET_TICKET_SELECTED_TARIFFS="SET_TICKET_SELECTED_TARIFFS"},952200:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_TICKET_SHORT_URL=void 0,t.ADD_TICKET_SHORT_URL="ADD_TICKET_SHORT_URL"},340227:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_TICKETS_AND_DICTS=t.UPDATE_BASE_TICKETS_AND_DICTS=t.RESET_TICKETS_AND_DICTS=void 0,t.UPDATE_TICKETS_AND_DICTS="UPDATE_TICKETS_AND_DICTS",t.UPDATE_BASE_TICKETS_AND_DICTS="UPDATE_BASE_TICKETS_AND_DICTS",t.RESET_TICKETS_AND_DICTS="RESET_TICKETS_AND_DICTS"},635912:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_TICKETS_COMPARISON_TICKET=t.SHOW_COMPARISON_TICKET=t.REMOVE_TICKETS_COMPARISON_TICKET=t.OPEN_TICKETS_COMPARISON=t.CLOSE_TICKETS_COMPARISON=t.ADD_TICKETS_COMPARISON_TICKET=void 0,t.ADD_TICKETS_COMPARISON_TICKET="ADD_TICKETS_COMPARISON_TICKET",t.REMOVE_TICKETS_COMPARISON_TICKET="REMOVE_TICKETS_COMPARISON_TICKET",t.UPDATE_TICKETS_COMPARISON_TICKET="UPDATE_TICKETS_COMPARISON_TICKET",t.SHOW_COMPARISON_TICKET="SHOW_COMPARISON_TICKET",t.OPEN_TICKETS_COMPARISON="OPEN_TICKETS_COMPARISON",t.CLOSE_TICKETS_COMPARISON="CLOSE_TICKETS_COMPARISON"},937579:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRAVEL_RESTRICTIONS_UPLOAD=t.TRAVEL_RESTRICTIONS_MODAL_FOOTER_CLICK=t.TRAVEL_RESTRICTIONS_INFORMER_CLICK=t.APPLY_COVID_FILTER=void 0,t.APPLY_COVID_FILTER="APPLY_COVID_FILTER",t.TRAVEL_RESTRICTIONS_INFORMER_CLICK="TRAVEL_RESTRICTIONS_INFORMER_CLICK",t.TRAVEL_RESTRICTIONS_MODAL_FOOTER_CLICK="TRAVEL_RESTRICTIONS_MODAL_FOOTER_CLICK",t.TRAVEL_RESTRICTIONS_UPLOAD="TRAVEL_RESTRICTIONS_UPLOAD"},656844:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_TRAVELPAYOUTS_BAR=void 0,t.INIT_TRAVELPAYOUTS_BAR="INIT_TRAVELPAYOUTS_BAR"},113790:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRIP_PARAMS_PARSED=void 0,t.TRIP_PARAMS_PARSED="TRIP_PARAMS_PARSED"},824203:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_THEME_SET=void 0,t.USER_THEME_SET="USER_THEME_SET"},425944:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noHotelPartnerCheckbox=t.getPageData=void 0;var n=r(104189),a=r(587273),i=r(785843),o=["ru","by"];t.getPageData=function(){var e=document.querySelector("[is=forms_set]");if(!e)return n.DEFAULT_PAGE_HEADER_PARAMS;var t=e.getAttribute("data-react-props");if(!t)return n.DEFAULT_PAGE_HEADER_PARAMS;var r=JSON.parse(t)||{};return i.IS_WAYAWAY&&Object.keys(r).length>0&&(r.brandName="wayaway"),r},t.noHotelPartnerCheckbox=function(e){return function(e){return!!e&&(o.includes(e.iata)||o.includes(e.countryIata))}(e)||window.isSearchPage||window.isUserPage||window.isCalendarPage||(0,a.isMobile)()}},633869:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e="_test_session_storage_access_";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}}(),n={setItem:function(e,t){if(r)try{window.sessionStorage.setItem(e,t)}catch(e){console.log(e)}},getItem:function(e){if(r)try{return window.sessionStorage.getItem(e)}catch(e){console.log(e)}},removeItem:function(e){if(r)try{window.sessionStorage.removeItem(e)}catch(e){console.log(e)}}};t.default=n},96443:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.createDeeplink=t.createAirlineDeeplink=void 0;var a=n(r(101339)),i=n(r(435850)),o=n(r(275347)),c=r(721193),s=n(r(257110)),u=r(452130),l=r(139375),f=r(785843),d=r(808460),p=r(852347);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.createDeeplink=function(e,t,r,n,a,o,d,v,h){if(r&&e.id&&t){var m={search_id:r,proposal_id:e.id,gate_id:e.agentId,gate_label:t.label,lang:(0,l.getLang)(),results_url:n,market:(0,u.getMarket)(),brand:f.BRAND};if((0,s.default)("charter",e.tags)&&(m.is_charter=!0),a){if(a.replace_params&&(m.should_replace_params=!0,Object.keys(a.replace_params).forEach((function(e){m["replace["+e+"]"]=a.replace_params[e]}))),a.utm){var y=decodeURIComponent(a.utm),_=(0,p.renderTemplate)(y,{origin:o,destination:d,market:(0,u.getMarket)(),lang:(0,l.getLang)()});m.utm_content=o+"x"+d,m.patch_utm=1,(0,i.default)(m,(0,c.parse)(_))}a.persisted_click&&(m.ticket_type="top_placement_ticket"),a.deeplink_prefix&&(m.deeplink_prefix=encodeURIComponent(a.deeplink_prefix))}return t.assisted?"/assisted?"+(0,c.stringify)(g(g({},m),{},{fallback:v+"&request_source=booking_redirect",assisted:t.assisted,is_airline:t.is_airline,from_top_placement_aeroflot:a&&a.persisted_click&&504===e.agentId})):"/click?"+(0,c.stringify)(g(g({},m),{},{fallback:window.location.href,gate_currency:e.currency,request_source:"booking_redirect",marker:h}))}},t.createAirlineDeeplink=function(e,t,r,n,a){return(a?"https://"+a:"/search-api")+"/adaptors/airline_deeplink?"+m(e,t,r)+h(n)};var h=function(e){var t={origin:e.segments[0].origin,destination:e.segments[0].destination,departure_date:e.segments[0].date,trip_class:e.trip_class,adults:e.passengers.adults,children:e.passengers.children,infants:e.passengers.infants,locale:o.default.language};return e.segments.length>1&&(t.return_date=e.segments[1].date),"&"+(0,c.stringify)(t)},m=function(e,t,r){var n={id:t,host:window.location.hostname,marker:r,search_uuid:e},a=(0,d.readAuid)();return a&&(n.auid=a),"&"+(0,c.stringify)(n)}},852347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplate=void 0;var n=r(140218),a=/\{\{([\w_-]+)\}\}/g;t.renderTemplate=function(e,t){return(0,n.templateWithOptions)(e,{interpolate:a})(t)}},535081:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseSearchUrl=t.createUrl=t.createShortUrl=void 0;var a=n(r(385882)),i=n(r(971410)),o=r(740537),c=r(721193),s=n(r(10520)),u=r(386452),l=r(378011),f=n(r(702944)),d=r(405628),p=r(338408),v=r(204333),g=r(825499);t.getBaseSearchUrl=function(e){var t=(0,p.getParamsForShortUrl)(e),r=v(t);return(0,d.selectIsAutosearchEnabled)(f.default)?r:""},t.createUrl=function(e){var t,r,n,a=e.gate,i=e.baseSearchUrl,s=e.ticket,f=e.proposal,d=e.unifiedPrice,p=e.currencyRates,v=e.searchId,h=void 0===v?"":v,m=e.expected_price_source,y=void 0===m?"share":m,_=e.utm_source,b=void 0===_?"ticket_sharing":_,S=e.utm_medium,T=e.utm_campaign,O=e.footprintStr,P=e.marker,E=window.location,k=E.protocol,C=E.port,w=E.hostname,D=E.pathname,I=null!=(t=(0,u.getMarketCurrency)())?t:u.DEFAULT_CURRENCY,A=p[I]||1,x=d?Math.round(d/A):null;O?r=O+"_"+s.sign+"_"+d:n=f?(0,l.getLongestMarketingCarrier)(s,f.flightTerms):(0,l.getLongestOperatingCarrier)(s);var j=(0,c.stringify)({t:r||g.create(n,s)+(d?"_"+d:""),search_date:(0,o.format)(new Date,"DDMMYYYY"),marker:P,search_label:a?a.label:"",expected_price:x,expected_price_uuid:h,expected_price_currency:I,expected_price_source:y,utm_source:b,utm_medium:S,utm_campaign:T});return i?k+"//"+w+(C?":"+C:"")+"/search"+i+"?"+j:k+"//"+w+(C?":"+C:"")+D+"?"+j};var h=function(){var e=(0,i.default)(a.default.mark((function e(t,r){var n,i,o,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=encodeURIComponent(t),i=r?encodeURIComponent(r):n,e.next=5,s.default.get("/shorten?url="+n+"&title="+i);case 5:return o=e.sent,c=o.data,e.abrupt("return",c.shorturl);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}();t.createShortUrl=h},666772:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(896911),s=r(968875),u=n(r(267335)),l=n(r(601166)),f=n(r(702944)),d=r(386452),p=n(r(75793)),v=r(676930),g=r(498441),h=n(r(205418)),m=n(r(754741)),y=n(r(975187)),_=r(779298),b=r(663579);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}var T=Math.random()<.5,O=i.default.memo((function(e){var t,r,n=(0,c.useStore)(d.$currency),o=e.name,s=e.searchParams,v=e.setNextAdvertisement,b=e.adPlacementShowed,S=e.adPlacementRequested,O=e.adPlacementClicked,P=s.segments,E=s.passengers;if("multiway"===s.tripType)r=s.segments[s.segments.length-1];else{var k=(0,a.default)(s.segments,1);r=k[0]}var C=function(){v(e.name)},w=(0,i.useCallback)((function(){S("AdMediaAlpha",o)}),[o,S]),D=(0,i.useCallback)((function(){b("AdMediaAlpha",o)}),[o,b]),I=(0,i.useCallback)((function(){O("AdMediaAlpha",o)}),[o,O]),A=(0,i.useCallback)((function(){S("AdDoubleClick",o)}),[o,S]),x=(0,i.useCallback)((function(e){b("AdDoubleClick",o,e)}),[o,b]),j=(0,i.useCallback)((function(){O("AdDoubleClick",o)}),[o,O]),R=(0,i.useCallback)((function(){S("BookingBanner",o)}),[o,S]),M=(0,i.useCallback)((function(e,t){b("BookingBanner",o,{type:e,variant:t})}),[o,b]),F=(0,i.useCallback)((function(){return S("AdYandex",o)}),[o,S]),N=(0,i.useCallback)((function(e){return b("AdYandex",o,e)}),[o,b]),L=(0,i.useCallback)((function(){return O("AdYandex",o)}),[o,O]),B=(0,i.useCallback)((function(e){var t=e.target,r=e.type,n=e.url,a=e.variant;O("BookingBanner",o,{target:t,type:r,url:n,variant:a,source:"container"})}),[o,O]),U=(0,i.useCallback)((function(e){var t=e.target,r=e.type,n=e.url,a=e.variant,i=e.index;O("BookingBanner",o,{target:t,type:r,url:n,variant:a,index:i,source:"card"})}),[o,O]),H=P.length>1?P[P.length-1].date:null,W=f.default.get("serp-exp-hotels","variantAttachment");if(Boolean((null==W?void 0:W.enabled)&&(null==W||null===(t=W.entry_points)||void 0===t?void 0:t.flights_results_banner))&&!H&&(H=(0,l.default)((0,u.default)(new Date(P[0].date),1),"yyyy-MM-dd")),!e.advertisement)return function(){switch(e.name){case g.AdvertisementSlotName.Product3:return i.default.createElement(p.default,{iata:r.destination,dateFrom:P[0].date,dateTo:H,adults:E.adults,children:E.children,infants:E.infants,currency:n,onLoad:R,onShown:M,onCardClick:U,onContainerClick:B,utm:"results_3d_ticket",type:"results_3d_ticket",variant:"cards_banner",utm_medium:"search_results"});case g.AdvertisementSlotName.ExtraContent:return i.default.createElement(p.default,{iata:r.destination,dateFrom:P[0].date,dateTo:H,adults:E.adults,children:E.children,infants:E.infants,currency:n,onLoad:R,onShown:M,onCardClick:U,onContainerClick:B,orientation:"vertical",cardDesign:"minimal",utm:"results_vertical_banner",type:"results_vertical_banner",variant:"cards_banner",utm_medium:"search_results"});default:return null}}();switch(e.advertisement.type){case"AdDoubleClick":return i.default.createElement(h.default,{key:e.advertisement.id,placement:e.advertisement.placement,id:e.advertisement.id,size:e.advertisement.size,metricsName:e.advertisement.metricsName,zoneid:e.advertisement.zoneid,onAdNotRendered:C,onAdLoad:A,onAdRendered:x,onAdClick:j});case"AdTopPlacement":return i.default.createElement(m.default,{mediaQueryType:e.mediaQueryType,onAdNotRendered:C});case"AdYandex":return i.default.createElement(_.AdYandex,{onLoad:F,onRender:N,onClick:L,onError:C,ownerId:e.advertisement.ownerId,containerId:e.advertisement.containerId,adParams:e.advertisement.params,searchParams:s});case"AdMediaAlpha":return function(){var t=e.searchParams.segments[0],a="RU"===t.origin_country&&"RU"!==t.destination_country;switch(e.name){case g.AdvertisementSlotName.Product3:return a&&Math.random()>=.7?i.default.createElement(p.default,{iata:r.destination,dateFrom:P[0].date,dateTo:H,adults:E.adults,children:E.children,infants:E.infants,currency:n,onLoad:R,onShown:M,onCardClick:U,onContainerClick:B,utm:"results_3d_ticket",utm_content:"cards_banner",utm_medium:"search_results",type:"results_3d_ticket",variant:"cards_banner"}):i.default.createElement(y.default,{placement:e.name,onAdLoad:w,onAdRendered:D,onAdClick:I,onAdNotRendered:C});case g.AdvertisementSlotName.BottomInline:return T?i.default.createElement(y.default,{placement:e.name,onAdLoad:w,onAdRendered:D,onAdClick:I,onAdNotRendered:C}):null;default:return null}}();default:return null}}));O.displayName="ADContainer";var P={setNextAdvertisement:v.setNextAdvertisement,adPlacementRequested:v.adPlacementRequested,adPlacementShowed:v.adPlacementShowed,adPlacementClicked:v.adPlacementClicked},E=(0,s.compose)((0,o.connect)((function(e,t){var r=t.name;return{searchParams:e.searchParams,advertisement:e.advertisement[r]}}),P),(0,b.withFlagr)(f.default,["serp-exp-hotels"]))(O);t.default=E},205418:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=n(r(947981)),o=n(r(797972)),c=r(224562),s=n(r(37102)),u=r(681334),l=r(246418),f=r(802647).targetParams;null==window.googletag&&(window.googletag={cmd:[]});var d=window,p=d.Criteo,v=d.googletag,g={},h=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).criteoUnits=void 0,t.dontFireEventListener=void 0,t.adChecker=void 0,t.handleSlotRenderEnded=function(e){if(!t.dontFireEventListener){var r=e.slot.getAdUnitPath(),n=t.props,a=n.onAdNotRendered,i=void 0===a?u.noop:a,o=n.onAdRendered,c=void 0===o?u.noop:o,s=n.metricsName;r===t.props.placement&&(e.isEmpty?i():c({position:s}))}},t.handleAdClick=function(){var e=t.props.onAdClick;(void 0===e?u.noop:e)()},t}(0,i.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.onAdLoad;return(void 0===e?u.noop:e)(),this.criteoUnits=[],this.props.zoneid&&this.criteoUnits.push({slotid:this.props.id,zoneid:this.props.zoneid}),this.setupTag(this.props.placement,this.props.id,this.props.size,this.props.searchParams),this.checkBannerIsVisible()},r.componentWillUnmount=function(){return this.dontFireEventListener=!0,this.adChecker.cancel().off("check")},r.checkBannerIsVisible=function(){var e=this,t=this.props.onAdNotRendered,r=void 0===t?u.noop:t;return this.adChecker=new l.Repeat({callback:function(t){var r=document.querySelector("#"+e.props.id);if(!r)return{status:!1,isLastTurn:t};var n=getComputedStyle(r);return"none"===n.display||"hidden"===n.visibility?{status:!1,isLastTurn:t}:{status:!0,isLastTurn:t}},interval:2e3,repeats:10}),this.adChecker.on("check",(function(t){var n=t.status,a=t.isLastTurn;!0!==n?a&&r():e.adChecker.cancel().off("check")}))},r.setupTag=function(e,t,r,n){var i=this;return v.cmd.push((function(){var o;if(Object.keys(n).length>0)for(var c=0,s=Object.entries(f(n));c<s.length;c++){var u=s[c],l=(0,a.default)(u,2),d=l[0],h=l[1];v.pubads().setTargeting(d,String(h))}if(g[e])return p&&Object.keys(p).length>0&&i.criteoUnits.length>0?p.events.push((function(){return p.SetLineItemRanges("0..3:0.02;3..8:0.05;8..20:0.50;20..30:1.00"),p.RequestBids({placements:i.criteoUnits},i.launchAdServer.bind(i,t,g[e]),1500)})):(v.pubads().updateCorrelator(),v.pubads().refresh([g[e]]));var m=null===(o=v.defineSlot(e,r,t))||void 0===o?void 0:o.addService(v.pubads()).setCollapseEmptyDiv(!0,!0);return v.enableServices(),g[e]=m,v.pubads().setSafeFrameConfig({allowPushExpansion:!0,allowOverlayExpansion:!0}),v.display(t),p&&Object.keys(p).length>0&&i.criteoUnits.length>0?p.events.push((function(){return p.SetLineItemRanges("0..3:0.02;3..8:0.05;8..20:0.50;20..30:1.00"),p.RequestBids({placements:i.criteoUnits},(function(){return i.launchAdServer(t,m)}),1500)})):v.pubads().refresh([m])})),v.cmd.push((function(){return v.pubads().addEventListener("slotRenderEnded",i.handleSlotRenderEnded)}))},r.launchAdServer=function(e,t){return v.cmd.push((function(){var r=p.GetBidsForAdUnit(e)[0];return r&&(t.setTargeting("crt_pb",r.cpm_bucket),t.setTargeting("crt_bidid",r.id)),v.pubads().refresh([t])}))},r.render=function(){return o.default.createElement("div",{id:this.props.id,onClick:this.handleAdClick,className:(0,s.default)("banner-"+this.props.size.join("x"),"double-click")})},t}(o.default.Component),m=(0,c.connect)((function(e){return{searchParams:e.searchParams}}))(h);t.default=m},975187:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AD_MA_PLACEMENTS=void 0;var a=n(r(385882)),i=n(r(971410)),o=n(r(947981)),c=n(r(797972)),s=r(224562),u=n(r(275347)),l=r(681334),f=n(r(702944)),d=r(529288);r(564037),t.AD_MA_PLACEMENTS={bottom_inline:{placement_id:"OBe5C8wHCfcjJTk9O4IiFkV6sp5TuA"},extra_content:{placement_id:"FOt1zTFxS_zUy909UUTLkkeHm0tX7w"},product_3:{placement_id:"4i6eQ1CeaSyzqdYoXSUbx1z-TC7NsQ"}};var p=function(e){function t(){for(var r,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(r=e.call.apply(e,[this].concat(o))||this).loadScript=function(){return t.scriptLoadPromise||(t.scriptLoadPromise=new Promise((function(e){var t=document.createElement("script");t.async=!0,t.src="https://grkigi.com/js/serve.js",document.body.appendChild(t),t.onload=function(){return e()}}))),t.scriptLoadPromise},r.loadAd=(0,i.default)(a.default.mark((function e(){var t,n,i,o,c,s,d,p,v,g,h,m,y,_;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.onAdLoad,i=void 0===n?l.noop:n,o=t.onAdNotRendered,c=void 0===o?l.noop:o,s=t.onAdRendered,d=void 0===s?l.noop:s,i(),e.next=4,r.loadScript();case 4:p=r.props.data,v=p.check_in_date,g=p.check_out_date,h=p.num_adults,m=p.num_children,y=p.destination,(_=f.default.get("avs-feat-mediaAlphaPlacementsIds"))[r.props.placement]?(window.MediaAlphaExchange={data:{check_in_date:v,check_out_date:g,destination:y,rooms:[{num_adults:h,num_children:m}]},locale:u.default.language,type:"ad_unit",version:"17",placement_id:_[r.props.placement].placement_id,_design_conf:_},window.MediaAlphaExchange__load?(window.MediaAlphaExchange__load(r.props.placement),d()):c()):console.warn("Placement can be only one of the following:",Object.keys(_));case 7:case"end":return e.stop()}}),e)}))),r.handleClick=function(){var e=r.props.onAdClick;(void 0===e?l.noop:e)()},r}(0,o.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){f.default.is("avs-feat-mediaAlpha")?this.loadAd():this.props.onAdNotRendered&&this.props.onAdNotRendered()},r.render=function(){return f.default.is("avs-feat-mediaAlpha")?c.default.createElement("div",{id:this.props.placement,onClick:this.handleClick,className:"ad-ma"}):null},t}(c.default.PureComponent);p.scriptLoadPromise=void 0;var v=(0,d.withGdpr)((0,s.connect)((function(e){var t=e.searchParams;return{data:{num_adults:t.passengers.adults,num_children:t.passengers.children,destination:t.segments[0].destination,check_in_date:t.segments[0].date,check_out_date:t.segments.length>1?t.segments[1].date:null}}}))(p));t.default=v},754741:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(224562),o=r(539786),c=r(13786),s=r(107),u=n(r(777144));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,i.connect)((function(e){var t=(0,s.getBrandTicketData)(e);return{isSearchFinished:(0,o.getIsSearchFinishedOrExpired)(e),brandTicket:null==t?void 0:t.ticket,isBrandTicketShown:(null==t?void 0:t.isShown)||!1}}),(function(e,t){return{brandTicketShown:function(){return e((0,c.brandTicketShown)())}}}))((function(e){return r=(t=e).isSearchFinished,n=t.brandTicket,i=t.onAdNotRendered,(0,a.useEffect)((function(){i&&r&&!n&&i()}),[r,i]),function(e){var t=e.brandTicket,r=e.brandTicketShown,n=e.isBrandTicketShown;(0,a.useEffect)((function(){t&&!n&&r()}),[t,n])}(e),e.brandTicket?a.default.createElement(u.default,{mediaQueryType:e.mediaQueryType,className:e.className}):null;var t,r,n,i}));t.default=f},777144:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AdTopPlacement=void 0;var a=n(r(435850)),i=n(r(114558)),o=n(r(947981)),c=n(r(797972)),s=n(r(225385)),u=r(224562),l=n(r(604281)),f=n(r(299657)),d=r(39569),p=r(126405),v=r(451316),g=r(429759),h=r(539786),m=r(534074),y=r(483743),_=r(38474),b=r(430162),S=r(902411),T=r(694630),O=r(107),P=r(13786),E=n(r(44499));r(970495);var k=(0,s.default)("ad-top-placement"),C=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).getMetaInfo=function(e){var r=t.props.brandTicketData.ticket,n=(0,i.default)(r,1)[0];return t.props.isSearchExpired?{}:(0,v.getMetaInfo)({proposal:e,ticketData:n,gates:t.props.gates})},t.handleTopPlacementClick=function(e){e.stopPropagation(),e.preventDefault(),t.props.onBrandTicketClick()},t}return(0,o.default)(t,e),t.prototype.render=function(){var e={},t=this.props.brandTicketData.ticket,r=this.props,n=r.proposals,o=r.currentTariff,s=(0,i.default)(t,1)[0];(0,f.default)(this.props.className)||(e[this.props.className]=!0);var u=(0,i.default)(n[o],1)[0];return c.default.createElement("div",{className:k(),onClickCapture:this.handleTopPlacementClick},c.default.createElement(p.TicketUIResolver,{withBuyCol:!0,withSharing:!1,showPin:!1,withComparison:!1,isCompared:!1,isBrandTicket:!0,theme:{brandColor:this.props.brandTicketData.campaign.main_color,sideContent:this.props.brandTicketData.campaign.meta?c.default.createElement(E.default,(0,a.default)({},this.props.brandTicketData.campaign.meta,{isNightMode:this.props.isNightMode,mediaQueryType:this.props.mediaQueryType})):void 0,expandButtonText:this.props.brandTicketData.campaign.meta&&this.props.brandTicketData.campaign.meta.expand_button_text},strikePrice:this.props.brandTicketData.campaign.strike_price,ticketUrl:"",sign:s.sign,tripDirectionType:this.props.tripDirection,getMetaInfo:this.getMetaInfo,showRemainingSeatsCount:Boolean(u&&u.seatsAvailable&&u.seatsAvailable<g.MIN_SEATS_LEFT),seatsCount:null==u?void 0:u.seatsAvailable,tags:this.props.tags,segments:this.props.segments,carriers:s.carriers,currentTariff:o,proposals:this.props.proposals,searchParams:this.props.searchParams||void 0,isSearchExpired:!1,mediaQueryType:this.props.mediaQueryType,modifiers:e,isNightMode:this.props.isNightMode,onTicketClick:l.default,onTariffChange:l.default}))},t}(c.default.Component);t.AdTopPlacement=C;var w=(0,u.connect)((function(e){var t=(0,O.getBrandTicketData)(e),r=t.ticket,n=(0,S.prepareTicketProposals)(e,r),a=n.tariffs,i=n.currentTariff,o=a[i][0];return{currentTariff:i,proposals:a,brandTicketData:t,marker:(0,m.getMarker)(e),gates:(0,y.getGates)(e),isNightMode:(0,_.getIsNightMode)(e),segments:r[0].segments,searchParams:(0,b.getSearchParams)(e),isSearchExpired:(0,h.getSearchStatus)(e)===d.SearchStatus.Expired,tags:(0,T.getTags)(r[0],o),tripDirection:(0,T.getTripDirectionType)(e,r[0])}}),(function(e){return{onBrandTicketClick:function(){return e((0,P.brandTicketClick)())}}}))(C);t.default=w},44499:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(63607),c=r(565569);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,i.default)("ad-top-placement"),l=function(e){var t=e.image_path,r=e.main_text,n=e.bottom_text,i=e.isNightMode,s=e.mediaQueryType;if(!r&&!n)return null;var l="";t&&(l=i?"https://"+c.PICS_HOST+"/"+t+"_night":"https://"+c.PICS_HOST+"/"+t);var f=s===o.TicketMediaQueryTypes.Mobile?"--mobile":"";return a.default.createElement("div",{className:u("side-content",f)},l&&a.default.createElement("div",{className:u("visa-icon")},a.default.createElement("img",{src:l+".png",srcSet:l+"@2x.png 2x"})),r&&a.default.createElement("div",{className:u("side-text")},r),n&&a.default.createElement("div",{className:u("bottom-content")},n))},f=(0,a.memo)(l);t.default=f},641615:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AdYandex=void 0;var a=n(r(114558)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=n(r(131672)),s=r(612821),u=r(529288),l=n(r(272589));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d="adfox",p=(0,u.withGdpr)((function(e){var t=e.ownerId,r=e.searchParams,n=e.onLoad,u=e.onRender,f=e.onClick,p=e.onError,v=(0,i.default)(e,["ownerId","searchParams","onLoad","onRender","onClick","onError"]),g=(0,o.useState)(!1),h=(0,a.default)(g,2),m=h[0],y=h[1],_=(0,o.useState)(null),b=(0,a.default)(_,2),S=b[0],T=b[1],O=(0,o.useState)((0,s.createAdFoxDynamicBanner)({params:v.adParams,containerId:v.containerId},window.serpAdUnits)),P=(0,a.default)(O,1)[0];return(0,o.useEffect)((function(){return m||(c.default.loadScript("https://yastatic.net/pcode/adfox/loader.js",{id:d,crossorigin:"anonymous"}),c.default.waitForResource(d).then((function(){var e,a,i,o;window.yaContextCb&&window.Ya&&window.Ya.adfoxCode||null==p||p();var c=(0,s.getTargetingParams)({adParams:P.params,searchParams:r});null===(e=window)||void 0===e||null===(a=e.Ya)||void 0===a||null===(i=a.adfoxCode)||void 0===i||null===(o=i.hbCallbacks)||void 0===o||o.push((function(){var e,r,a;null===(e=window)||void 0===e||null===(r=e.yaContextCb)||void 0===r||null===(a=r.push)||void 0===a||a.call(r,(function(){var e,r,a,i;(0,s.initializeAdFoxHeaderBindings)(P.containerId,P.adUnits);var o=null===(e=window)||void 0===e||null===(r=e.Ya)||void 0===r||null===(a=r.adfoxCode)||void 0===a||null===(i=a.create)||void 0===i?void 0:i.call(a,{ownerId:t,containerId:P.containerId,params:c,onLoad:n,onRender:u,onError:p,onStub:p});T(o)}))}))})).catch((function(){return null==p?void 0:p()})),y(!0)),function(){S&&S.destroy()}}),[m,r,t,S,P,p,n,u]),o.default.createElement("div",{className:l.default.root,id:P.containerId,onClick:f})}));t.AdYandex=p},779298:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdYandex",{enumerable:!0,get:function(){return n.AdYandex}});var n=r(641615)},500798:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useScrollHandler=t.useClickHandler=void 0;var a=n(r(114558)),i=r(797972);t.useScrollHandler=function(e){void 0===e&&(e=500);var t=(0,i.useState)(!1),r=(0,a.default)(t,2),n=r[0],o=r[1],c=(0,i.useCallback)((function(){var t=window.pageYOffset>e;t!==n&&o(t)}),[n,e]);return(0,i.useEffect)((function(){return window.addEventListener("scroll",c),function(){window.removeEventListener("scroll",c)}}),[c]),{isVisible:n}},t.useClickHandler=function(){return{handleClick:(0,i.useCallback)((function(){window.scroll({top:0,left:0,behavior:"smooth"})}),[])}}},718327:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.GoToTop=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=n(r(254060)),c=n(r(262863));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=i.default.bind(c.default),l=(0,a.memo)((function(e){var t=e.className,r=e.isVisible,n=void 0===r||r,i=e.onClick;return a.default.createElement("button",{className:u(c.default.root,t,{"is-visible":n}),onClick:i},a.default.createElement(o.default,null))}));t.GoToTop=l,l.displayName="GoToTop"},638260:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(718327);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(500798);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},861222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(819415);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},819415:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductExtraContent=t.ConnectedProductExtraContent=void 0;var a,i=n(r(947981)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(225385)),u=n(r(666772)),l=r(498441),f=n(r(858565)),d=r(676930),p=r(430162),v=r(424319),g=r(612821),h=r(662774);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}r(564120);var y=(0,s.default)("product-extra-content"),_=((a={})[h.AdFoxAdaptiveKey.Desktop]={containerId:"adfox_16345537258516348",params:{p1:"cqyym",p2:"gsxe",puid1:""},dimensions:[h.AdFoxAdaptiveKey.Desktop]},a),b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAdFoxBannerLoad=function(){return t.props.adPlacementRequested("AdFox",l.AdvertisementSlotName.ExtraContent)},t.handleAdFoxBannerRender=function(e){return t.props.adPlacementShowed("AdFox",l.AdvertisementSlotName.ExtraContent,e)},t.handleAdFoxBannerClick=function(e){return t.props.adPlacementClicked("AdFox",l.AdvertisementSlotName.ExtraContent,e)},t}return(0,i.default)(t,e),t.prototype.render=function(){var e=this.props.deviceSearchId||"",t=(0,g.shouldShowGoogleAd)();return o.default.createElement("div",{className:y(),key:e},t?o.default.createElement(u.default,{name:l.AdvertisementSlotName.ExtraContent}):o.default.createElement(f.default,{searchParams:this.props.searchParams,banners:_,adUnits:window.serpAdUnits,onLoad:this.handleAdFoxBannerLoad,onRender:this.handleAdFoxBannerRender,onClick:this.handleAdFoxBannerClick}))},t}(o.Component),S={adPlacementRequested:d.adPlacementRequested,adPlacementShowed:d.adPlacementShowed,adPlacementClicked:d.adPlacementClicked},T=(0,c.connect)((function(e){return{searchParams:(0,p.getSearchParams)(e),deviceSearchId:(0,v.getDeviceSearchId)(e)}}),S)(b);t.ProductExtraContent=t.ConnectedProductExtraContent=T},129095:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.GoToTopContainer=void 0;var a=n(r(797972)),i=r(638260),o=n(r(33554));t.GoToTopContainer=function(){var e=(0,i.useScrollHandler)().isVisible,t=(0,i.useClickHandler)().handleClick;return a.default.createElement(i.GoToTop,{className:o.default.root,isVisible:e,onClick:t})}},143161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(129095);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},495399:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalFiltersContainer=void 0;var a=n(r(797972)),i=r(224562),o=r(568082),c=r(496630);r(852694),t.HorizontalFiltersContainer=function(){var e=Boolean((0,i.useSelector)(c.getHighlightedTicketParamsIsOverlayShown));return a.default.createElement("div",{className:e?"horizontal_filters_container_with_highlighted_ticket":"horizontal_filters_container"},a.default.createElement("div",{className:"horizontal_filters_wrapper"},a.default.createElement(o.SeleneWidget,{name:"horizontal_filters"})))}},354795:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HorizontalFiltersContainer",{enumerable:!0,get:function(){return n.HorizontalFiltersContainer}});var n=r(495399)},101413:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(143161);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(153233);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(786971);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(858516);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var c=r(97345);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},153233:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(534893);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},534893:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PredictionContainer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(224562),o=r(385509),c=r(757418),s=n(r(702944)),u=r(405628),l=r(424319),f=n(r(613938)),d=n(r(989104)),p=n(r(723345)),v=r(21639);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}t.PredictionContainer=function(){var e=(0,i.useSelector)(l.getDeviceSearchId),t=(0,i.useSelector)(v.getIsPredictionCountdownShown),r=(0,i.useSelector)(v.getIsPredictionShown),n=(0,u.selectIsAutosearchEnabled)(s.default),g=(0,c.useCurrentBreakpoint)(o.breakpoints),h=null==g?void 0:g.is([o.BreakpointName.Desktop,o.BreakpointName.Tablet]);return e?t?a.default.createElement(a.Fragment,{key:e},h&&!n&&a.default.createElement(p.default,null),a.default.createElement(f.default,{startAnimation:!0,color:"blue"})):h&&r&&!n?a.default.createElement(d.default,null):null:null}},786971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(578752);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},578752:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchInformerContainer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(224562),o=r(629042),c=n(r(82713)),s=n(r(878441)),u=n(r(766353)),l=r(539786),f=r(718123),d=r(627039),p=r(25614);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}t.SearchInformerContainer=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)(d.getError),r=(0,i.useSelector)(l.getSearchStatus),n=(0,i.useSelector)(p.getIsEmptySearch),v=(0,a.useCallback)((function(t,r){e((0,f.reachGoal)(t,r))}),[e]);return"user_offline"===t?a.default.createElement(c.default,{error:t,testId:"user_offline"}):t&&"access_denied"!==t&&r===o.SearchStatus.Failed?a.default.createElement(c.default,{error:t,testId:"common_error"}):r===o.SearchStatus.Finished&&n?a.default.createElement(s.default,null):r===o.SearchStatus.Inited?a.default.createElement(u.default,{reachGoal:v}):null}},858516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(665554);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},665554:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResultsContainer=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(224562),s=n(r(961977)),u=r(39569),l=r(568082),f=n(r(702944)),d=r(539786),p=r(405628),v=r(430162),g=r(63607),h=n(r(705602)),m=r(851306),y=r(544830),_=r(861222),b=r(945675),S=r(143161),T=r(97345),O=r(354795);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}var E=(0,o.default)("app"),k=function(){var e=function(){var e=(0,i.useState)(!1),t=(0,a.default)(e,2),r=t[0],n=t[1];return(0,i.useEffect)((function(){var e=(0,s.default)(200,(function(){var e=window.innerWidth>=1280;n(e)}));return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),r}(),t=(0,c.useSelector)(d.getSearchStatus);return[u.SearchStatus.Inited,u.SearchStatus.Started].includes(t)?null:e?f.default.is("serp-exp-ticketPreviewV3")?i.default.createElement(l.SeleneWidget,{name:"skyscraper_banner"}):i.default.createElement(_.ProductExtraContent,null):null};t.SearchResultsContainer=function(){var e=(0,c.useSelector)(v.getTripTypeFromSearch),t=(0,c.useSelector)(b.getIsSearchResultsVisible),r=(0,p.selectIsAutosearchEnabled)(f.default);if(!t)return null;var n=f.default.is("serp-exp-chipsFilters");return i.default.createElement(i.default.Fragment,null,n&&i.default.createElement(O.HorizontalFiltersContainer,null),i.default.createElement("div",{className:E("search-results",{"with-chips-filters":n})},i.default.createElement("div",{className:E("sidebar")},e!==g.TripDirectionType.Multiway&&i.default.createElement(h.default,null),!n&&i.default.createElement(m.FiltersSidebar,null)),i.default.createElement("div",{className:E("content")},i.default.createElement(y.ProductContainer,null),i.default.createElement(T.StickySearchControlContainer,null)),i.default.createElement("div",{className:E("skyscraper")},i.default.createElement(k,null))),!r&&i.default.createElement(S.GoToTopContainer,null))}},97345:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(827224);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},827224:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.StickySearchControlContainer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(224562),c=r(445549),s=n(r(297153)),u=r(392220),l=r(245588),f=r(288541),d=r(425589),p=n(r(702944)),v=r(646268),g=r(663579),h=r(405628),m=r(386565),y=r(20069),_=r(520072),b=r(735475),S=r(11764),T=r(581034);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}r(146578);var P=(0,i.default)("sticky-search-control"),E=(0,g.withFlagr)(p.default,["avs-exp-comparisonWidget"])((function(){var e=(0,c.useTranslation)(["filters","filters_tooltip"]).t,t=(0,o.useDispatch)(),r=(0,o.useSelector)(b.getIsAnyFilterSelected),n=(0,h.selectIsAutosearchEnabled)(p.default),i=p.default.is("avs-exp-comparisonWidget")&&!n,g=(0,S.useSubscribeButtonVisible)(),O=!p.default.is("serp-exp-chipsFilters"),E=n&&g||!O,k=[O,E,i],C=(0,s.default)(k).length,w=(0,o.useSelector)(m.getFiltersTooltip),D=w.visible,I=w.filter,A=(0,a.useCallback)((function(){t((0,_.openPopup)("filters"))}),[t]),x=(0,a.useCallback)((function(){t((0,v.openTicketsComparison)())}),[t]),j=(0,a.useCallback)((function(){D&&t((0,y.hideFiltersTooltip)())}),[t,D]);if((0,a.useEffect)((function(){return D?(window.addEventListener("touchstart",j),window.addEventListener("scroll",j)):(window.removeEventListener("touchstart",j),window.removeEventListener("scroll",j)),function(){window.removeEventListener("touchstart",j),window.removeEventListener("scroll",j)}}),[j,D]),0===C)return null;var R=O?P("btn-right"):P("btn-left")+" "+P("compare-btn");return a.default.createElement("div",{className:P(null,{"with-chips-filters":!O})},a.default.createElement("div",{className:P("inner",{"--one-btn":1===C})},O&&a.default.createElement(u.Button,{className:P("btn-left"),mod:u.ButtonMod.Ghost,onClick:A},a.default.createElement(l.Tooltip,{tooltip:function(){return a.default.createElement(a.default.Fragment,null,e("filters_tooltip:filtersTooltip",{filter:I}))},wrapperClassName:P("tooltip-wrapper"),className:P("tooltip"),position:"top",showDelay:200,showByProps:!0,isVisible:Boolean(D)},r?a.default.createElement(d.Icon24ControlsFiltersActive,{className:P("filters-icon")}):a.default.createElement(f.Icon24ControlsFilters,{className:P("filters-icon")}),a.default.createElement("span",{className:P("btn-text")},e("filters:filters")))),E&&a.default.createElement(T.SubscribeButton,{className:P("subscribe-btn"),cn:P}),i&&a.default.createElement(u.Button,{className:R,mod:u.ButtonMod.Ghost,onClick:x},a.default.createElement("i",{className:P("comparison-icon")}),a.default.createElement("span",{className:P("btn-text")},e("tickets_comparison:comparison")))))}));t.StickySearchControlContainer=E},581034:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(187137);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},187137:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeButton=void 0;var a=n(r(797972)),i=r(445549),o=r(392220),c=r(664677),s=r(385787),u=r(11764),l=n(r(862515));t.SubscribeButton=function(e){var t=e.cn,r=e.className,n=(0,i.useTranslation)("avia_form").t,f=(0,u.useSubscribeButton)(),d=f.hasSameSubscription,p=f.handleSubscribeClick;return a.default.createElement(o.Button,{className:t("btn-right",r),mod:o.ButtonMod.Ghost,onClick:p},d?a.default.createElement(c.Icon24ControlsBell,{className:t("filters-icon",l.default.filledBell)}):a.default.createElement(s.Icon24ControlsBellOutline,{className:t("filters-icon")}),a.default.createElement("span",{className:t("btn-text")},n(d?"subscriptionDialog.alreadySubscribed":"subscriptionDialog.subscribe")))}},233992:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(21639);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(945675);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},21639:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(944073);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},944073:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsPredictionShown=t.getIsPredictionCountdownShown=void 0;var a=r(774953),i=n(r(257110)),o=r(629042),c=r(539786),s=r(25614),u=(0,a.createSelector)([c.getSearchStatus],(function(e){return(0,i.default)(e,[o.SearchStatus.Started,o.SearchStatus.Shown])}));t.getIsPredictionCountdownShown=u;var l=(0,a.createSelector)([c.getSearchStatus,s.getIsEmptySearch],(function(e,t){return(0,i.default)(e,[o.SearchStatus.Finished,o.SearchStatus.Expired])&&!t}));t.getIsPredictionShown=l},945675:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(750671);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},750671:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsSearchResultsVisible=void 0;var a=r(774953),i=n(r(257110)),o=r(629042),c=r(539786),s=r(25614),u=r(627039),l=(0,a.createSelector)([u.getError,c.getSearchStatus,s.getIsEmptySearch],(function(e,t,r){return"access_denied"===e||(0,i.default)(t,[o.SearchStatus.Started,o.SearchStatus.Shown])||(0,i.default)(t,[o.SearchStatus.Finished,o.SearchStatus.Expired])&&!r}));t.getIsSearchResultsVisible=l},705602:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(445549),s=r(224562),u=r(392220),l=r(265950),f=r(664677),d=n(r(702944)),p=r(663579),v=r(680013),g=r(841511),h=r(194512);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}r(882107);var y=(0,o.default)("direction-subscriptions"),_=(0,p.withFlagr)(d.default,["avs-feat-subscription"])((function(){var e=(0,c.useTranslation)("create_subscription").t,t=(0,i.useState)(!1),r=(0,a.default)(t,2),n=r[0],o=r[1],p=(0,s.useDispatch)(),m=!!(0,s.useSelector)(v.getCurrentDirectionSubscription),_=d.default.is("avs-feat-subscription"),b=d.default.is("serp-exp-chipsFilters"),S=(0,i.useMemo)((function(){return i.default.createElement("div",{className:y("tooltip-content")},e(b?"create_subscription:newSubscriptionBtn.tooltip":"create_subscription:createSubscriptionBtn.subscribeDescr"))}),[e,b]),T=(0,i.useCallback)((function(){p((0,g.followThePrice)())}),[p]),O=(0,i.useCallback)((function(){return o(!0)}),[]),P=(0,i.useCallback)((function(){return o(!1)}),[]);if(!_)return null;var E=u.ButtonMod.SecondaryOutline,k=e("create_subscription:createSubscriptionBtn.subscribeBtn");return m&&(n?(E=u.ButtonMod.Ghost,k=e("create_subscription:createSubscriptionBtn.unsubscribe")):(E=u.ButtonMod.Ghost,k=e("create_subscription:createSubscriptionBtn.successBtn"))),i.default.createElement("div",{className:y("",{"--disabled":m,"with-sticky-button":b})},i.default.createElement(l.Tooltip,{content:S,delay:200,placement:"top",disabled:m},b?i.default.createElement(h.SubscriptionButton,null):i.default.createElement(u.Button,{className:y("btn-subs",{"--red":m&&n}),size:u.ButtonSize.Large,mod:E,onMouseEnter:O,onMouseLeave:P,onClick:T},!m&&i.default.createElement(f.Icon24ControlsBell,{className:y("btn-icon")}),k)))}));t.default=_},194512:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionButton=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(445549),s=n(r(225385)),u=r(463854),l=r(664677),f=r(385787),d=r(680013);r(641385);var p=r(841511);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}var g=(0,s.default)("subscription-button"),h=(0,i.forwardRef)((function(e,t){var r=(0,i.useState)(!1),n=(0,a.default)(r,2),s=n[0],v=n[1],h=!!(0,o.useSelector)(d.getCurrentDirectionSubscription),m=(0,c.useTranslation)("create_subscription").t,y=(0,o.useDispatch)(),_=(0,i.useCallback)((function(){y((0,p.followThePrice)())}),[y]),b=(0,i.useCallback)((function(){return v(!0)}),[]),S=(0,i.useCallback)((function(){return v(!1)}),[]);return i.default.createElement("div",{ref:t,className:g("",{"hovered-subscription":s,"with-existing-subscription":h}),onMouseEnter:b,onMouseLeave:S,onClick:_},i.default.createElement("div",{className:g("container")},h?i.default.createElement(l.Icon24ControlsBell,{className:g("bell")}):i.default.createElement(f.Icon24ControlsBellOutline,{className:g("bell")}),i.default.createElement(u.Text,{type:u.TextType.Body3Semi},m(h?s?"create_subscription:newSubscriptionBtn.unsubscribe":"create_subscription:newSubscriptionBtn.alreadySubscribed":"create_subscription:newSubscriptionBtn.subscribe"))))}));t.SubscriptionButton=h,h.displayName="SubscriptionButton"},82713:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(275347)),c=n(r(348352));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=function(e){var t=e.error,r=e.testId,n=(0,i.useTranslation)("error_informer").t,s=o.default.exists("error_informer:"+t)?n("error_informer:"+t,{returnObjects:!0}):n("error_informer:search_failed",{returnObjects:!0});return a.default.createElement(c.default,{testId:r},a.default.createElement("h2",{dangerouslySetInnerHTML:{__html:s.title}}),a.default.createElement("p",{dangerouslySetInnerHTML:{__html:s.description}}))},l=(0,a.memo)(u);t.default=l},878441:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(224562),o=r(650832),c=r(430162),s=r(465081),u=n(r(577177)),l=n(r(117534));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d=[o.TripClass.PremiumEconomy,o.TripClass.FirstClass];t.default=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)(c.getSearchParams).tripClass,r=d.includes(t);(0,a.useEffect)((function(){r&&e((0,s.tripClassInformerShow)())}),[e,r]);var n=(0,a.useCallback)((function(t){e((0,s.onChangeTripClass)(t))}),[e]);return r?a.default.createElement(u.default,{tripClass:t,onChangeTripClass:n}):a.default.createElement(l.default,null)}},117534:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(348352));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=function(){var e=(0,i.useTranslation)("error_informer").t,t=e("error_informer:empty_tickets.textList",{returnObjects:!0});return a.default.createElement(o.default,{testId:"empty_tickets"},a.default.createElement("h2",{dangerouslySetInnerHTML:{__html:e("error_informer:empty_tickets.title")}}),a.default.createElement("p",{dangerouslySetInnerHTML:{__html:e("error_informer:empty_tickets.description")}}),a.default.createElement("ul",null,Array.isArray(t)?t.map((function(e,t){return a.default.createElement("li",{key:t,dangerouslySetInnerHTML:{__html:e}})})):t))},u=(0,a.memo)(s);t.default=u},348352:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cn=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}r(861948);var c=(0,i.default)("error-informer");t.cn=c;var s=function(e){var t=e.modifiers,r=void 0===t?[]:t,n=e.children,i=e.testId,o=e.containerClass;return a.default.createElement("div",{className:c(null,r),"data-test-id":i},a.default.createElement("div",{className:c("container",o)},n))},u=(0,a.memo)(s);t.default=u},766353:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(348352));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=function(e){var t=e.reachGoal;(0,a.useEffect)((function(){t("INITED_SEARCH_INFORMER_IS_SHOWN")}),[t]);var r=(0,i.useTranslation)("error_informer").t;return a.default.createElement(o.default,{testId:"inited_search"},a.default.createElement("h2",{dangerouslySetInnerHTML:{__html:r("error_informer:inited_search.title")}}),a.default.createElement("p",{dangerouslySetInnerHTML:{__html:r("error_informer:inited_search.description")}}))},u=(0,a.memo)(s);t.default=u},577177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a=l(r(797972)),i=r(445549),o=r(392220),c=r(650832),s=l(r(348352));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var f={title:(n={},n[c.TripClass.FirstClass]="first_class",n[c.TripClass.PremiumEconomy]="premium_economy",n),buttons:[{type:c.TripClass.Business,i18nKey:"business_class"},{type:c.TripClass.Economy,i18nKey:"economy_class"}]},d=function(e){var t=e.tripClass,r=(0,i.useTranslation)("error_informer").t,n=function(t){return function(r){r.preventDefault(),e.onChangeTripClass(t)}},c=r("error_informer:trip_classes.title."+f.title[t]);return a.default.createElement(s.default,{testId:"trip_classes"},a.default.createElement("h2",{dangerouslySetInnerHTML:{__html:c}}),a.default.createElement("p",{dangerouslySetInnerHTML:{__html:r("error_informer:trip_classes.description")}}),a.default.createElement("div",{className:(0,s.cn)("btn-container")},f.buttons.map((function(e){var t=e.type,i=e.i18nKey;return a.default.createElement(o.Button,{key:t,mod:o.ButtonMod.SecondaryOutline,size:o.ButtonSize.XLarge,className:(0,s.cn)("tripclass-btn"),onClick:n(t)},r("error_informer:trip_classes.button."+i))}))))},p=(0,a.memo)(d);t.default=p},170317:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersMessage=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=r(445549),c=r(8848),s=r(463854),u=r(441361),l=r(759126),f=r(937435),d=n(r(285725));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var v=i.default.bind(d.default),g=(0,a.memo)((function(e){var t=e.className,r=e.ticketsAmount,n=void 0===r?0:r,i=e.onResetClick,p=(0,o.useTranslation)("filters_message").t,g=(0,a.useMemo)((function(){return(0,l.formatNumber)(n)}),[n]),h=(0,f.useIsMobile)()?u.ButtonSize.S:u.ButtonSize.M;return a.default.createElement("div",{className:v(d.default.root,t)},a.default.createElement("div",{className:d.default.inner},a.default.createElement(c.EmojiFacePleading,{className:d.default.emoji}),a.default.createElement(s.Text,{tag:"h2",className:d.default.title,type:s.TextType.Title2Bold,mobileType:s.TextType.Body1Bold},p("title")),a.default.createElement(s.Text,{tag:"p",type:s.TextType.Body1Paragraph,mobileType:s.TextType.Body2Paragraph,className:d.default.description},p("description",{ticketsAmount:n,formattedTicketsAmount:g})),a.default.createElement(u.Button,{className:d.default.reset,mod:u.ButtonMod.Default,priority:u.ButtonPriority.Secondary,size:h,inline:!0,onClick:i},p("reset"))))}));t.FiltersMessage=g,g.displayName="FiltersMessage"},308906:function(){},417527:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersMessageContainer=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(25614),o=r(651828),c=r(170317);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.FiltersMessageContainer=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.getTicketsTotalCount),r=(0,n.useCallback)((function(){e((0,o.relaxFilters)())}),[e]);return n.default.createElement(c.FiltersMessage,{ticketsAmount:t,onResetClick:r})}},188795:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersMessage",{enumerable:!0,get:function(){return a.FiltersMessage}}),Object.defineProperty(t,"FiltersMessageContainer",{enumerable:!0,get:function(){return n.FiltersMessageContainer}}),Object.defineProperty(t,"FiltersMessageProps",{enumerable:!0,get:function(){return i.FiltersMessageProps}});var n=r(417527),a=r(170317),i=r(308906)},476759:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FakeHighlightedTicket=void 0;var a=n(r(101339)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(126405),c=r(931162),s=r(451316),u=n(r(513290));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={hasBaggage:[],otherBaggage:[{id:"0",price:0,currency:"usd",unifiedPrice:0,searchPrice:0,pricePerPerson:0,agentId:0,deeplink:"",worstBags:{baggage:null,handbags:null},weight:1,agentLabel:"",tags:[],flightTerms:[],transferTerms:[],minimumFare:{code:""},debugInfo:null}],priceDifference:0},v=function(){},g={},h={},m=(0,i.memo)((function(e){var t=e.highlightedTicketParams,r=e.mediaQueryType,n=(0,i.useContext)(u.default).airports,a=(0,s.getTripDirectionType)(t.segments,n),l=t.segments.map((function(e){return d(d({},e),{},{transfers:e.transfers||[]})}));return i.default.createElement(o.TicketUIResolver,{ticketUrl:"",tripDirectionType:a,currentTariff:c.TariffType.OtherBaggage,proposals:p,isSearchExpired:!1,tags:g,segments:l,withBuyCol:!0,showRemainingSeatsCount:!1,modifiers:h,carriers:t.carriers,getMetaInfo:function(){return{}},onTariffChange:v,onTicketClick:v,mediaQueryType:r})}));t.FakeHighlightedTicket=m},998871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHighlightedTicketSignToRender=void 0;var n=r(774953),a=r(25614),i=(0,n.createSelector)(a.getTicketsState,(function(e,t){return t}),(function(e,t){if(e.tickets[t])return t}));t.getHighlightedTicketSignToRender=i},857571:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=P(r(797972)),o=r(445549),c=r(224562),s=n(r(225385)),u=n(r(823694)),l=r(63607),f=P(r(587273)),d=r(470124),p=n(r(512945)),v=r(123813),g=r(658296),h=r(539786),m=r(25614),y=n(r(78736)),_=r(861268),b=n(r(551309)),S=r(476759),T=r(998871);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}r(865505);var E=(0,s.default)("highlighted-ticket"),k={mobile:l.TicketMediaQueryTypes.Mobile,mobileLandscape:l.TicketMediaQueryTypes.Mobile,tablet:l.TicketMediaQueryTypes.Desktop,desktop:l.TicketMediaQueryTypes.Desktop},C=k[f.default.currentMode()||"desktop"],w=(0,i.memo)((function(e){var t,r=e.ticketPrice,n=e.ticketSign,c=e.ticketProposals,s=e.isSearchFinished,l=e.highlightedTicketParams,v=l.price,g=l.isOverlayShown,h=(0,o.useTranslation)("highlighted_ticket").t,m=(0,i.useState)(C),T=(0,a.default)(m,2),O=T[0],P=T[1];(0,f.useResizerOnEnter)((function(e){P(k[e])})),(0,i.useEffect)((function(){e.showHighlightedTicket()}),[]),(0,i.useEffect)((function(){s&&(n||e.notFoundHighlightedTicket(),r&&v&&e.foundHighlightedTicket(r-v))}),[s,Boolean(n),r,v]);var w=(0,i.useCallback)((function(t){t.preventDefault(),e.closeHighlightedTicket()}),[e.closeHighlightedTicket]),D=(0,i.useCallback)((function(t){t.preventDefault(),e.removeHighlightedTicketOverlay(),e.showAllTicketsHighlightedTicket()}),[e.showAllTicketsHighlightedTicket]),I=(0,i.useMemo)((function(){return(0,_.getPriceClassName)(s,v,r,!n)}),[_.getPriceClassName,s,v,r,Boolean(n)]);return i.default.createElement(p.default,{errorType:d.ErrorType.Error},i.default.createElement("div",{className:E(),"data-ticket-sign":n},i.default.createElement("div",{className:E("container",(t={},t[I]=!!I,t["--no-overlay"]=!g,t["--not-found"]=!n,t))},s&&i.default.createElement("div",{className:E("close"),onClick:w}),i.default.createElement("div",{className:E("plate")},i.default.createElement(b.default,{ticketPrice:r,expectedPrice:v,isSearchFinished:s,isNotFound:!n})),i.default.createElement("div",{className:E("ticket")},n&&c?i.default.createElement(u.default,{key:n,ticketSign:n,ticketProposals:c,mediaQueryType:O,isBadgeVisible:!1}):i.default.createElement(S.FakeHighlightedTicket,{highlightedTicketParams:l,mediaQueryType:O})),g&&i.default.createElement("div",{className:E("highlighted-link"),onClick:D},i.default.createElement(y.default,{className:E("link-icon")}),h("highlighted_ticket:showAllTickets"))),g&&i.default.createElement("div",{className:E("overlay"),onClick:D})))})),D={showHighlightedTicket:v.showHighlightedTicket,closeHighlightedTicket:v.closeHighlightedTicket,showAllTicketsHighlightedTicket:v.showAllTicketsHighlightedTicket,notFoundHighlightedTicket:v.notFoundHighlightedTicket,foundHighlightedTicket:v.foundHighlightedTicket,removeHighlightedTicketOverlay:g.removeHighlightedTicketOverlay},I=(0,c.connect)((function(e,t){var r=t.highlightedTicketParams.sign,n=(0,T.getHighlightedTicketSignToRender)(e,r);return{isSearchFinished:(0,h.getIsSearchFinishedOrExpired)(e),ticketSign:n,ticketProposals:(0,m.getTicketProposalsList)(e,null!=n?n:r),ticketPrice:(0,m.getTicketUnifiedPrice)(e,r)}}),D)(w);t.default=I},861268:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceClassName=t.MINIMUM_PRICE_DELTA=void 0,t.MINIMUM_PRICE_DELTA=10,t.getPriceClassName=function(e,t,r,n){if(!e)return"";if(n)return"";if(!r||!t)return"--price-unknown";var a=t-r;switch(!1){case!(-10<a&&a<10):return"--price-equal";case a<0:return"--price-cheaper";case a>0:return"--price-expensive";default:return""}}},551309:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(225385)),c=n(r(681854)),s=r(861268);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=(0,o.default)("highlighted-ticket"),f=function(e){var t=e.ticketPrice,r=e.expectedPrice,n=e.isSearchFinished,o=e.isNotFound,u=(0,i.useTranslation)("highlighted_ticket").t,f=(0,a.useMemo)((function(){if(!n)return a.default.createElement(a.default.Fragment,null,u("highlighted_ticket:loading"));if(t&&n&&r){var e=r-t;return-s.MINIMUM_PRICE_DELTA<e&&e<s.MINIMUM_PRICE_DELTA?a.default.createElement(a.default.Fragment,null,u("highlighted_ticket:priceNotChanged")):e<0?a.default.createElement(i.Trans,{ns:"highlighted_ticket",i18nKey:"priceChangedUp",components:[a.default.createElement(c.default,{key:"priceUp",unifiedPrice:Math.abs(e)})]}):a.default.createElement(i.Trans,{ns:"highlighted_ticket",i18nKey:"priceChangedDown",components:[a.default.createElement(c.default,{key:"priceDown",unifiedPrice:Math.abs(e)})]})}return o?a.default.createElement(i.Trans,{ns:"highlighted_ticket",i18nKey:"ticketsBoughtUp",components:[r?a.default.createElement(c.default,{key:"priceBoughtUp",unifiedPrice:Math.abs(r)}):a.default.createElement(a.default.Fragment,null)]}):a.default.createElement(a.default.Fragment,null,u("highlighted_ticket:yourTicket"))}),[u,t,r,n,o]);return a.default.createElement("span",{className:l("plate-text"),"data-test-id":"hightlighted-ticket-plate-text"},f)},d=(0,a.memo)(f);t.default=d},338408:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useGetParams=t.getParamsForShortUrl=void 0;var a=n(r(101339)),i=r(721193),o=r(224562),c=r(740537),s=n(r(755889)),u=r(785843),l=r(63607),f=r(61303),d=r(430162),p=r(825310),v=r(534074),g=r(808460);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=r(204333),_={AS:"aviasales",JR:"jetradar",WA:"wayaway"};t.useGetParams=function(e){var t=(0,o.useSelector)(d.getSearchParams),r=(0,o.useSelector)(f.getAviaParams),n=(0,o.useSelector)(p.getCurrentPage),a=(0,o.useSelector)(v.getMarker);return function(o){if(!e)return"";var c=(0,g.readAuid)(),s=e,u=S(t,r,n,c||""),l=(0,i.stringify)({af_sub1:a,af_sub3:c,af_adset:o.replace(/_/g,"-"),af_dp:u}),f=s.includes("?")?"&":"?";return s+""+f+l}};var b=function(e){var t;return{segments:null==e||null===(t=e.segments)||void 0===t?void 0:t.map((function(e){var t=e.origin,r=e.destination,n=e.date;return{origin:{iata:(0,s.default)(t)?t:null==t?void 0:t.iata},destination:{iata:(0,s.default)(r)?r:null==r?void 0:r.iata},date:n}})),passengers:null==e?void 0:e.passengers,tripClass:null==e?void 0:e.tripClass}};t.getParamsForShortUrl=b;var S=function(e,t,r,n){var a=_[u.BRAND]+"://",o=a+"search?utm_source=aviasales&utm_campaign=mobile-web-redirect&auid="+n;if(window.location.pathname.startsWith("/guides")){var s=m(m({},(0,i.parse)(window.location.search)),{},{utm_source:"aviasales",utm_campaign:"mobile-web-redirect",auid:n});return""+window.location.origin+window.location.pathname+"?"+(0,i.stringify)(s)}if("search"!==r){if(t.segments.some((function(e){var t,r;return!(null!==(t=e.destination)&&void 0!==t&&t.iata&&null!==(r=e.origin)&&void 0!==r&&r.iata)})))return o;var f={segments:t.segments.map((function(e){var t=e.origin,r=e.destination,n=e.date;return{origin:{iata:null==t?void 0:t.iata},destination:{iata:null==r?void 0:r.iata},date:null!=n?n:(0,c.addDays)(new Date,1)}})),passengers:t.passengers,tripClass:t.tripClass};return a+"search"+y(f)+"?utm_source=aviasales&utm_campaign=mobile-web-redirect&auid="+n}var d=(null==e?void 0:e.tripType)===l.TripDirectionType.Multiway;if(null==e||!e.segments||d)return o;if(e.segments.some((function(e){return!e.destination||!e.origin})))return o;var p=b(e);return a+"search"+y(p)+"?utm_source=aviasales&utm_campaign=mobile-web-redirect&auid="+n+"&start_search=true"}},633656:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MobileNavbar",{enumerable:!0,get:function(){return n.MobileNavbar}}),Object.defineProperty(t,"MobileNavbarProps",{enumerable:!0,get:function(){return a.MobileNavbarProps}});var n=r(601662),a=r(819455)},601662:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.MobileNavbar=void 0;var a=n(r(797972)),i=n(r(492709)),o=r(463854),c=n(r(908059)),s=i.default.bind(c.default),u=function(e){var t=e.title,r=e.rightNode,n=e.leftNode,i=e.className;return a.default.createElement("div",{className:s(i,"root")},a.default.createElement("div",{className:s("leftNode")},n&&n),a.default.createElement(o.Text,{className:s("title"),type:o.TextType.Body1Semi},t),a.default.createElement("div",{className:s("rightNode")},r&&r))};t.MobileNavbar=u,u.displayName="MobileNavbar"},819455:function(){},127631:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),i=r(402030),o=r(372662);t.default=function(e){var t=e.departDate,r=e.returnDate,n=(0,i.useToken)("ts_day_month_short_weekday"),c=(0,i.useToken)("interval_date"),s=r?c(new o.Interval({start:t,end:r})):n(t);return a.default.createElement("div",{className:"calendar-matrix-dates"},s)}},723345:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),i=n(r(225385)),o=n(r(634425));r(579219);var c=(0,i.default)("prediction");t.default=function(e){var t=e.durationInSec,r=void 0===t?45:t;return a.default.createElement("div",{className:c()},a.default.createElement("div",{className:c("wrap")},a.default.createElement("div",{className:c("header")},a.default.createElement(o.default,{durationInSec:r}))))}},88735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SortingInResults",{enumerable:!0,get:function(){return a.SortingInResults}}),Object.defineProperty(t,"TravelRestrictions",{enumerable:!0,get:function(){return n.TravelRestrictions}});var n=r(888858),a=r(660743)},660743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SortingInResults",{enumerable:!0,get:function(){return n.SortingInResults}});var n=r(233791)},233791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortingInResults=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(568082);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var o=(0,n.memo)((function(e){var t=e.className;return n.default.createElement("div",{className:t},n.default.createElement(a.SeleneWidget,{name:"sorting_in_results"}))}));t.SortingInResults=o,o.displayName="SortingInResults"},888858:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(970760);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},970760:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TravelRestrictions=void 0;var a=n(r(797972)),i=n(r(225385)),o=r(757418),c=r(385509),s=r(965302),u=r(92487);r(498236);var l=(0,i.default)("product-travel-restrictions");t.TravelRestrictions=function(){var e=(0,o.useCurrentBreakpoint)(c.breakpoints),t=null==e?void 0:e.is([c.BreakpointName.Desktop,c.BreakpointName.Tablet]),r=(0,u.useSearchTravelRestrictions)(),n=r.travelRestrictionTags,i=r.travelInformationTags,f=(0,u.useTravelRestrictionCallbacks)().handleTravelRestrictionClick;return t?a.default.createElement(s.RestrictionInformerGroup,{className:l("informer-group"),type:"search-results",informers:n.length?n:i,onClick:f}):null}},544830:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductContainer=void 0;var a=n(r(797972)),i=r(224562),o=r(896911),c=r(682237),s=r(568082),u=r(663579),l=n(r(702944)),f=r(671747),d=r(550278),p=r(334),v=r(854755),g=r(483743),h=w(r(492190)),m=n(r(216179)),y=w(r(453291)),_=n(r(513290)),b=n(r(512945)),S=r(470124),T=n(r(387581)),O=r(386452),P=r(188795),E=r(888858),k=r(214790);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var D=(0,u.withFlagr)(l.default,["serp-exp-travelRestrictions"])((function(){var e=(0,o.useStore)(O.$currency),t=(0,i.useSelector)(f.getCurrencies),r=(0,i.useSelector)(d.getAirlines),n=(0,i.useSelector)(p.getAirports),u=(0,i.useSelector)(v.getCountries),C=(0,i.useSelector)(g.getGates),w=l.default.is("serp-exp-ticketPreviewV3"),D=a.default.createElement(P.FiltersMessageContainer,null);return a.default.createElement(h.default.Provider,{value:{currencies:t,currency:e,currenciesList:h.defaultCurrenciesList}},a.default.createElement(m.default.Provider,{value:(0,c.buildAirlines)(r)},a.default.createElement(y.default.Provider,{value:(0,y.buildGatesContext)(C)},a.default.createElement(_.default.Provider,{value:(0,c.buildPlaces)(n,u)},l.default.is("serp-exp-travelRestrictions")&&a.default.createElement(E.TravelRestrictions,null),a.default.createElement(s.SeleneWidget,{name:"foreign_cards_informer"}),!w&&a.default.createElement(k.ProductResults,{Fallback:D}),w&&a.default.createElement(s.SeleneWidget,{name:"search_results"}),a.default.createElement(b.default,{errorType:S.ErrorType.Error,errorText:"Error in TicketsComparison Component UI"},a.default.createElement(T.default,null))))))}));t.ProductContainer=D},214790:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductResults=void 0;var a=n(r(797972)),i=r(224562),o=n(r(299657)),c=n(r(492709)),s=r(587273),u=n(r(702944)),l=n(r(857571)),f=n(r(213521)),d=r(129519),p=n(r(666772)),v=r(703145),g=r(18099),h=r(119336),m=r(496630),y=r(498441),_=r(239733),b=r(539786),S=r(25614),T=r(937435),O=r(663579),P=r(107),E=r(84324),k=n(r(22519)),C=r(88735),w=r(92487),D=c.default.bind(k.default),I=(0,O.withFlagr)(u.default,["serp-exp-softFilters","serp-exp-scoringSort","serp-exp-chipsFilters"])((function(e){var t=e.Fallback,r=void 0===t?null:t,n=(0,i.useSelector)(S.getTicketsState),c=n.ticketsList,O=n.ticketsProposals,k=n.softTickets,I=(0,i.useSelector)(m.getHighlightedTicketParams),A=(0,i.useSelector)(_.getHiddenTicketsAmount)>0,x=(0,i.useSelector)(b.getIsSkeletonsListShown),j=(0,T.useIsMobile)(),R=!(0,o.default)(c),M=u.default.is("serp-exp-softFilters")&&!(0,o.default)(k.tickets),F=u.default.is("serp-exp-scoringSort"),N=u.default.is("serp-exp-chipsFilters"),L=u.default.is("serp-exp-ticketPreviewV3"),B=(0,E.getIsDirectScheduleFeatureEnabled)(),U=(0,i.useSelector)(S.getIsFirstTicketWithBadge),H=(0,i.useSelector)(P.getIsBrandTicketShown),W=(0,w.useSearchTravelRestrictions)(),G=W.travelRestrictionTags,K=W.travelInformationTags,V=!(0,o.default)([].concat(G,K)),Y=U&&!B&&!H,q=!N&&F&&!V&&(0,s.isDesktop)();return R||I||x||M?a.default.createElement(a.default.Fragment,null,I&&!L&&a.default.createElement(l.default,{highlightedTicketParams:I}),x&&a.default.createElement(v.TicketSkeletonListContainer,null),(R||M)&&a.default.createElement(a.default.Fragment,null,!x&&a.default.createElement(a.default.Fragment,null,a.default.createElement(C.SortingInResults,{className:D({"sorting-results":F,"sorting-results_mobile":F&&j,"sorting-results_customized":q})}),a.default.createElement(f.default,{ticketsList:c,ticketsProposals:O,softTickets:k.tickets,className:D(Y?"product-list-with-badge":"product-list")})),u.default.is("serp-exp-travelRestrictions")&&a.default.createElement(a.default.Fragment,null,a.default.createElement(g.RestrictionsForbiddenPopupContainer,null),a.default.createElement(h.UncertainLayoverPopupContainer,null)),A&&a.default.createElement(d.ShowMoreTickets,null)),a.default.createElement(p.default,{name:y.AdvertisementSlotName.BottomInline})):a.default.createElement(a.default.Fragment,null,r)}));t.ProductResults=I},348074:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdComponent",{enumerable:!0,get:function(){return n.AdComponent}}),Object.defineProperty(t,"TicketListWithFlagr",{enumerable:!0,get:function(){return a.TicketListWithFlagr}});var n=r(238894),a=r(430908)},238894:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AdComponent=void 0;var a=n(r(797972)),i=n(r(225385)),o=n(r(666772)),c=r(470124),s=n(r(512945));r(890681);var u=(0,i.default)("product-list");t.AdComponent=function(e){var t=e.name,r=e.mediaQueryType;return a.default.createElement(s.default,{errorType:c.ErrorType.Error,errorText:"Error at ad placement"},a.default.createElement("div",{className:u("item","--advert")},a.default.createElement(o.default,{name:t,mediaQueryType:r})))}},823694:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=n(r(101339)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(299657)),u=r(92487),l=r(63607),f=n(r(702944)),d=r(663579),p=r(553104),v=r(520072),g=r(126405),h=r(104185),m=r(601396),y=r(259879),_=r(25614);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=[l.TripDirectionType.OneWay,l.TripDirectionType.RoundTrip],P=function(e){var t={},r=e.mediaQueryType,n=e.ticketSign,i=e.withComparison,l=e.isBadgeVisible,d=void 0===l||l,b=e.isAutoSearch,S=void 0!==b&&b,P=e.className,E=e.showPin;(0,s.default)(P)||(t[P]=!0);var k=(0,c.useDispatch)(),C=(0,c.useSelector)((function(e){return(0,_.getTicketIndexBySign)(e,n)})),w=(0,c.useSelector)((function(e){return(0,_.getTicketMainBadge)(e,n)})),D=(0,m.useTicketMainProps)(n,d),I=D.tripDirectionType,A=D.proposals,x=D.currentTariff,j=D.hashsum,R=f.default.is("avs-feat-subscription")&&O.includes(I),M=(0,o.useMemo)((function(){return S?"autosearch":"listing"}),[S]),F=(0,o.useMemo)((function(){return{ticketIndex:C,ticketSign:n,proposalsByTariffs:A,currentTariff:x,hash:j,badge:null==w?void 0:w.type}}),[C,n,A,x,j,null==w?void 0:w.type]),N=(0,o.useRef)();(0,o.useEffect)((function(){F.hash!==N.current&&(N.current=F.hash,k((0,p.ticketSignificantUpdate)(F)))}),[k,F]);var L=(0,o.useCallback)((function(){k((0,v.openPopup)("ticket",{ticketSign:n,ticketIndex:C,source:M}))}),[k,n,C,M]),B=(0,o.useCallback)((function(){k((0,v.openPopup)("ticket",{ticketSign:n,ticketIndex:C,source:M}))}),[k,n,C,M]),U=(0,o.useCallback)((function(e){k((0,p.ticketInView)(T(T({},F),{},{inView:e})))}),[k,F]),H=(0,o.useCallback)((function(e){e.stopPropagation(),k((0,p.moreProposalsClick)(n,C,x))}),[k,n,C,x]),W=T(T(T(T(T(T(T(T(T(T(T(T(T(T({},D),(0,m.useTicketOtherProps)()),(0,m.useTicketOtherCallbacks)()),(0,m.useBuyClickCallbacks)(n)),(0,m.useComparisonTicketPropsAndCallbacks)(n)),(0,m.useMetaInfoCallback)(n)),(0,m.useTariffChangeCallback)(n)),(0,m.useDowngradedCallback)(n,C)),(0,m.useOnPinClickCallback)()),(0,m.useShareCallbacks)(n)),(0,m.useTicketSubscriptionPropsAndCallbacks)(n)),(0,u.useTicketTravelRestrictions)(n)),(0,u.useTravelRestrictionCallbacks)(n)),{},{isFaresExpEnabled:(0,h.isFaresExperimentEnabled)()});return D.proposals[D.currentTariff].length?o.default.createElement(y.InView,{onChange:U,threshold:1},o.default.createElement(g.TicketUIResolver,(0,a.default)({},W,{withBuyCol:!0,withSharing:!0,withSubscription:R,isPriceLinkStyle:!0,withComparison:i,withSubscriptionOnMobilePreview:!1,isExpandButtonVisible:!0,isBrandTicket:!1,isAutoSearch:S,sign:n,mediaQueryType:r,modifiers:t,onTicketClick:L,onMobilePreviewClick:B,onMoreProposalsClick:H,showPin:E}))):null},E=(0,d.withFlagr)(f.default,["avs-feat-subscription","avs-feat-userProfile","serp-feat-ticketSharingMethods"])((0,o.memo)(P));t.default=E},430908:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketListWithFlagr=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(812619),c=r(663579),s=n(r(702944)),u=r(405628),l=n(r(823694));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}r(890681);var d=(0,i.default)("product-list"),p=[],v=function(e){var t=e.ticketsList,r=e.ticketsProposals,n=e.mediaQueryType;if(t.length<=0)return null;var i=(0,u.selectIsAutosearchEnabled)(s.default),c=s.default.is("serp-exp-pinFlight");return a.default.createElement(o.TransitionGroup,{component:null},t.map((function(e){return e?a.default.createElement(o.CSSTransition,{key:e,timeout:{enter:300},appear:!0,exit:!1,classNames:"fade"},a.default.createElement("div",{className:d("item"),"data-ticket-sign":e},a.default.createElement(l.default,{ticketSign:e,ticketProposals:r[e]||p,mediaQueryType:n,withComparison:s.default.is("avs-exp-comparisonWidget")&&!i,showPin:c}))):null})))},g=(0,c.withFlagr)(s.default,["avs-exp-comparisonWidget","avs-exp-directTicketsSchedule"])((0,a.memo)(v));t.TicketListWithFlagr=g},259879:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.InView=void 0;var a=n(r(947981)),i=n(r(797972)),o=r(215196),c=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).ref=i.default.createRef(),t.observer=void 0,t.handleObserve=function(e,r){t.props.onChange(e[0].isIntersecting)},t}(0,a.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.observe()},r.componentWillUnmount=function(){this.observer&&(this.ref.current&&this.observer.unobserve(this.ref.current),this.observer.disconnect())},r.observe=function(){try{this.ref.current&&(this.observer=new IntersectionObserver(this.handleObserve,{root:this.props.root||null,rootMargin:this.props.rootMargin,threshold:this.props.threshold||0}),this.observer.observe(this.ref.current))}catch(e){o.ErrorsTracker.warning("Unable to observe node",{error:e})}},r.render=function(){return i.default.createElement("div",{ref:this.ref},this.props.children)},t}(i.default.PureComponent);t.InView=c},345663:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TICKET_CONTENT_MODAL_NAME=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=n(r(533909)),s=r(601779),u=r(742029),l=r(520072),f=n(r(899553)),d=r(101271),p=r(568082),v=r(237463);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h="ticketContent";t.TICKET_CONTENT_MODAL_NAME=h;var m=function(e){var t=e.ticketSign,r=(0,o.useDispatch)(),n=(0,o.useSelector)((function(e){return(0,u.getPopupIsOpen)(e,h)})),g=(0,o.useSelector)((function(e){return(0,u.getPopupData)(e,h)})),m=(0,i.useCallback)((function(){r((0,l.closePopup)(h))}),[r]),y=(0,i.useCallback)((function(){r((0,l.openPopup)(h))}),[r]),_=(0,s.useModalBehavior)(h,(0,s.addExternalStateConnection)({externalVisibility:n,onClose:m,onOpen:y})),b=(0,i.useMemo)((function(){return(null==g?void 0:g.modalData)||{type:d.TicketContentModalType.Share}}),[g]),S=b.payload||{segmentIndex:0,flightIndex:0},T=S.segmentIndex,O=void 0===T?0:T,P=S.flightIndex,E=void 0===P?0:P,k=(0,v.useTicketShareModalProps)(t),C=(0,v.useProposalsModalProps)(t),w=(0,v.useFlightInfoModalProps)(t,O,E);return(0,c.default)(w)?null:i.default.createElement(i.default.Fragment,null,i.default.createElement(f.default,(0,a.default)({modal:_,modalData:b},k,C,w,{ticketSign:t,type:b.type})),i.default.createElement(p.SeleneWidget,{name:"flight_info"}),i.default.createElement(p.SeleneWidget,{name:"proposal_modal"}),i.default.createElement(p.SeleneWidget,{name:"debug_proposal_modal"}))},y=(0,i.memo)(m);t.default=y},213521:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=k(r(797972)),o=r(224562),c=n(r(37102)),s=n(r(225385)),u=n(r(299657)),l=k(r(587273)),f=n(r(702944)),d=r(63607),p=r(498441),v=r(239733),g=r(2824),h=r(539786),m=r(568082),y=r(203089),_=r(84324),b=r(742029),S=r(359759),T=r(348074),O=r(238894),P=r(199178);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}r(890681);var C=(0,s.default)("product-list"),w=P.mediaQueryModeLookUp[l.default.currentMode()||"desktop"],D=function(e){var t,r,n,s=e.ticketsList,E=e.ticketsProposals,k=e.softTickets,D=e.className,I=(0,i.useState)(w),A=(0,a.default)(I,2),x=A[0],j=A[1];(0,l.useResizerOnEnter)((function(e){j(P.mediaQueryModeLookUp[e])}));var R=x===d.TicketMediaQueryTypes.Mobile,M=(0,o.useSelector)(h.getIsResultsTriggeredByFiltersLoading),F=!(0,u.default)(k),N=(0,o.useSelector)(v.getVisibleTicketsAmount),L=(0,o.useSelector)(g.getCashbackInformerPosition),B=L<=2&&L>0,U=L>2,H=!R&&N>2,W=f.default.is("serp-exp-softFilters")&&F,G=(0,o.useSelector)((function(e){return(0,b.getPopupIsOpen)(e,S.SERP_IN_MODAL)})),K=(0,_.getIsDirectScheduleFeatureEnabled)()&&!G,V=R?p.AdvertisementSlotName.Product0Mobile:p.AdvertisementSlotName.Product0Desktop;return i.default.createElement("div",{className:(0,c.default)(D,C(null,{"--mobile":R,"is-disabled":M}))},i.default.createElement(O.AdComponent,{key:V,name:V,mediaQueryType:x}),K&&i.default.createElement("section",{className:C("direct-schedule")},i.default.createElement(m.SeleneWidget,{name:"direct_schedule"})),i.default.createElement(T.TicketListWithFlagr,{ticketsList:s.slice(0,B?L:2),ticketsProposals:E,mediaQueryType:x}),B&&i.default.createElement(i.default.Fragment,null,i.default.createElement(y.CashbackInformerContainer,{placement:y.CashbackPlacementType.Results,className:C("cashback-informer",(t={},t[C("cashback-informer_mobile")]=R,t))}),i.default.createElement(T.TicketListWithFlagr,{ticketsList:s.slice(L,2),ticketsProposals:E,mediaQueryType:x})),H&&i.default.createElement(O.AdComponent,{name:p.AdvertisementSlotName.Product3,mediaQueryType:x}),i.default.createElement(T.TicketListWithFlagr,{ticketsList:s.slice(2,U?L:N),ticketsProposals:E,mediaQueryType:x}),U&&i.default.createElement(i.default.Fragment,null,i.default.createElement(y.CashbackInformerContainer,{placement:y.CashbackPlacementType.Results,className:C("cashback-informer",(r={},r[C("cashback-informer_mobile")]=R,r))}),i.default.createElement(T.TicketListWithFlagr,{ticketsList:s.slice(L,N),ticketsProposals:E,mediaQueryType:x})),W&&i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:C("soft-tickets-informer",(n={},n[C("soft-tickets-informer_mobile")]=R,n))},i.default.createElement(m.SeleneWidget,{name:"soft_tickets_informer"})),i.default.createElement(T.TicketListWithFlagr,{ticketsList:k,ticketsProposals:E,mediaQueryType:x})))},I=(0,i.memo)(D);t.default=I},199178:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaQueryModeLookUp=t.getProductListTicketDomElementBySign=void 0;var n=r(63607);t.getProductListTicketDomElementBySign=function(e){return document.querySelector('[data-ticket-sign="'+e+'"]')};var a={mobile:n.TicketMediaQueryTypes.Mobile,mobileLandscape:n.TicketMediaQueryTypes.Mobile,tablet:n.TicketMediaQueryTypes.Desktop,desktop:n.TicketMediaQueryTypes.Desktop};t.mediaQueryModeLookUp=a},212946:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useComparisonTicketPropsAndCallbacks=void 0;var n=r(797972),a=r(224562),i=r(902411),o=r(553104),c=r(871255),s=r(430162),u=r(189373),l=r(694630);t.useComparisonTicketPropsAndCallbacks=function(e){var t=(0,a.useDispatch)(),r=(0,a.useSelector)((function(t){return(0,l.getTicketTupleToRender)(t,e)})),f=(0,a.useSelector)((function(e){return(0,i.prepareTicketProposals)(e,r)})),d=f.tariffs,p=f.currentTariff,v=d[p][0],g=(0,a.useSelector)(s.getSearchParams),h=(0,n.useMemo)((function(){return(0,c.getCleanedSearchParamsForComparisonTicket)(g)}),[g]),m=(0,n.useMemo)((function(){return(0,c.getCleanedTicketForComparisonTicket)(r,null==v?void 0:v.id)}),[r,null==v?void 0:v.id]),y=Boolean((0,a.useSelector)((function(t){return(0,c.getComparisonTicketByTicketSign)(t,e)}))),_=(0,a.useSelector)(u.getSearchExpiringDate),b=(0,n.useCallback)((function(){var e={ticket:m,mainProposal:v,selectedTariff:p,searchParams:h,expireDate:_};t((0,o.ticketComparisonClick)(y,e))}),[t,y,m,v,p,h,_]);return{isCompared:y,onCompareClick:b}}},237463:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useTicketShareModalProps=t.useProposalsModalProps=t.useFlightInfoModalProps=void 0;var a=n(r(101339)),i=r(797972),o=r(224562),c=n(r(299657)),s=n(r(702944)),u=r(694630),l=r(25614),f=r(63607),d=r(101271),p=n(r(216179)),v=r(104185),g=r(234743),h=r(286324),m=r(587989),y=r(914545),_=r(896391);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.useTicketShareModalProps=function(e){var t=(0,_.useShareCallbacks)(e),r=(0,o.useSelector)((function(t){return(0,u.getTicketUrl)(t,e)})),n=(0,h.useGetTicketSharingSocials)();return S(S({},t),{},{ticketSharingSocials:n,ticketUrl:r,mediaQueryType:f.TicketMediaQueryTypes.Mobile,type:d.TicketContentModalType.Share})},t.useProposalsModalProps=function(e){var t=(0,m.useMetaInfoCallback)(e).getMetaInfo,r=(0,m.useTicketMainProps)(e),n=r.proposals,a=r.currentTariff,i=r.similarFareProposals,o=void 0===i?[]:i,c=(0,m.useBuyClickCallbacks)(e).onProposalClick;return{getMetaInfo:t,proposals:(0,v.isFaresExperimentEnabled)()?o:n[a],onProposalClick:c,type:d.TicketContentModalType.Proposals}},t.useFlightInfoModalProps=function(e,t,r){var n=(0,i.useContext)(p.default).getAirlineName,a=(0,o.useSelector)((function(e){return e.flightInfo})),u=(0,y.useTicketOtherProps)().searchParams,f=(0,m.useTicketMainProps)(e),h=f.proposals,_=f.currentTariff,b=(0,o.useSelector)((function(t){return(0,l.getTicketBySign)(t,e)})).segments[t].flights[r],S=h[_][0],T=(0,o.useSelector)((function(t){return(0,v.getSelectedFareProposal)(t,e)})),O=(0,g.getProposalToRender)({isFaresExpEnabled:(0,v.isFaresExperimentEnabled)(),fareProposal:T,upsellProposal:S}),P=s.default.is("serp-exp-marketingOperatingCarrier");if((0,c.default)(O))return null;var E=O.flightTerms[t][r];if((0,c.default)(E))return null;var k=E.handbags,C=E.baggage,w=E.tripClass,D=E.marketingCarrierDesignator,I={handbags:k,baggage:C};return{flightInfo:a,flightTerm:E,passengersInfo:null==u?void 0:u.passengers,bagsInfo:I,tripClass:w,flight:b,marketingCarrier:D,type:d.TicketContentModalType.FlightInfo,getAirlineName:n,newCarrierLogo:P}}},175971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDowngradedCallback=void 0;var n=r(797972),a=r(224562),i=r(553104);t.useDowngradedCallback=function(e,t){var r=(0,a.useDispatch)();return{onDowngradedTooltipShow:(0,n.useCallback)((function(n,a){r((0,i.ticketDowngradedTooltipShow)(t,e,n,a))}),[r,t,e])}}},601396:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(587989);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(914545);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(896391);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(175971);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var c=r(212946);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var s=r(185003);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}))},587989:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useTicketMainProps=t.useTariffChangeCallback=t.useOnPinClickCallback=t.useMetaInfoCallback=t.useBuyClickCallbacks=void 0;var a=n(r(101339)),i=r(797972),o=n(r(275347)),c=r(224562),s=r(445549),u=r(902093),l=r(542565),f=r(518011),d=r(694630),p=r(902411),v=r(539786),g=r(429759),h=r(483743),m=r(214743),y=r(131052),_=r(148860),b=r(553104),S=r(451316),T=r(25614),O=n(r(513290)),P=n(r(216179)),E=r(38474),k=r(505006),C=r(651828),w=r(104185);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.useTicketMainProps=function(e,t){var r=(0,s.useTranslation)("ticket").t,n=(0,c.useSelector)((function(t){return(0,T.getTicketBySign)(t,e)})),u=(0,c.useSelector)((function(t){return(0,d.getTicketTupleToRender)(t,e)})),v=(0,c.useSelector)((function(t){return(0,d.getTicketUrl)(t,e)})),h=(0,c.useSelector)((function(e){return(0,d.getTripDirectionType)(e,n)})),m=(0,c.useSelector)(d.getIsTicketsListLoading),y=(0,c.useSelector)((function(e){return(0,p.prepareTicketProposals)(e,u)})),_=y.tariffs,b=y.currentTariff,S=_[b][0],k=(0,i.useMemo)((function(){return(0,d.getTags)(n,S)}),[n,S]),C=(0,i.useMemo)((function(){if(n.tags.includes("ad_label"))return{sideContent:r("ticket:advertisement"),expandButtonText:r("ticket:advertisement"),brandColor:"var(--alpha_12)",textColor:"var(--text_primary)"}}),[r,n.tags]),I=(0,c.useSelector)((function(t){return(0,T.getTicketMainBadge)(t,e)})),A=(0,c.useSelector)(E.getIsNightMode),x=(0,i.useMemo)((function(){if(I&&t){var e=I.meta.colors,r=e.dark,n=e.light,i={"#35C772":f.BadgeColor.Green,"#33B8FF":f.BadgeColor.Blue,"#B983F1":f.BadgeColor.Purple,"#F5A623":f.BadgeColor.Yellow,"#FB71C4":f.BadgeColor.Pink,"#626262":f.BadgeColor.Cosmic},c=Boolean(i[n]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({title:(0,l.getTextFromLocalizableString)(I.meta.name,o.default.language,I.type),isLoading:m,color:c?i[n]:f.BadgeColor.Green},!c&&{colorHex:A?r:n})}}),[I,t,m,A]),j=(0,i.useContext)(O.default),R=j.getCityName,M=j.getCountry,F=j.getPlaceName,N=j.getPlace,L=(0,i.useContext)(P.default),B=L.getAirlineName,U=L.getAirlineBrandColor,H=(0,c.useSelector)((function(t){return(0,w.getSelectedFareProposal)(t,e)})),W=(0,c.useSelector)((function(t){return(0,w.getRawProposalsByTicketExtraFares)(t,e)})),G=(0,c.useSelector)((function(t){return(0,w.getSimilarFareProposals)(t,e)}));return{ticketUrl:v,tripDirectionType:h,proposals:_,currentTariff:b,tags:k,segments:n.segments,carriers:n.carriers,hotelInfo:null==S?void 0:S.hotel,seatsCount:null==S?void 0:S.seatsAvailable,showRemainingSeatsCount:Boolean((null==S?void 0:S.seatsAvailable)&&S.seatsAvailable<g.MIN_SEATS_LEFT),badge:x,getCityName:R,getCountry:M,getPlaceName:F,getPlace:N,getAirlineName:B,getAirlineBrandColor:U,selectedFareProposal:H,faresProposals:W,similarFareProposals:G,hashsum:n.hashsum,theme:C}},t.useBuyClickCallbacks=function(e){var t=(0,c.useDispatch)(),r=(0,c.useSelector)(y.getDebugProposals),n=(0,c.useSelector)(v.getIsSearchExpired),a=(0,i.useCallback)((function(a,i,o,c){return n?(a.preventDefault(),void t((0,b.ticketRefreshClick)())):a.shiftKey&&r?(a.preventDefault(),t((0,b.proposalDebugClick)(e,i.id)),!1):void t((0,b.ticketBuyClick)(a,{proposal:i,eventType:c,ticketSign:e,proposalPosition:o}))}),[n,r,t,e]),o=(0,i.useCallback)((function(e,t,r){return a(e,t,r,_.BuyEvents.Proposal)}),[a]),s=(0,i.useCallback)((function(e,t){return a(e,t,0,_.BuyEvents.BuyButton)}),[a]),u=(0,i.useCallback)((function(e,t){return a(e,t,0,_.BuyEvents.FareCard)}),[a]);return{onProposalClick:o,onBuyButtonClick:s,onBuyButtonContextMenu:(0,i.useCallback)((function(e,t){return a(e,t,0,_.BuyEvents.ContextMenu)}),[a]),onHotelInfoClick:(0,i.useCallback)((function(e,t){return a(e,t,null,_.BuyEvents.Proposal)}),[a]),onBuyFareCardClick:u}},t.useMetaInfoCallback=function(e){var t=(0,c.useSelector)((function(t){return(0,T.getTicketBySign)(t,e)})),r=(0,c.useSelector)(h.getGates),n=(0,c.useSelector)(v.getSearchStatus)===u.SearchStatus.Expired;return{getMetaInfo:(0,i.useCallback)((function(e){return n?{}:(0,S.getMetaInfo)({proposal:e,ticketData:t,gates:r})}),[t,r,n])}},t.useTariffChangeCallback=function(e){var t=(0,c.useDispatch)();return{onTariffChange:(0,i.useCallback)((function(r){t((0,m.changeTicketSelectedTariff)(e,r))}),[t,e])}},t.useOnPinClickCallback=function(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)(k.getPinFlightSigns);return{onPinClick:(0,i.useCallback)((function(r,n){var a,i=null!=t?t:[],o=r.map((function(e){return e.signature}));a=n?i.filter((function(e){return!o.includes(e)})):[].concat(i,o.filter((function(e){return!i.includes(e)}))),e((0,C.changeFilters)({pinFlightSignatures:a}))}),[e,t])}}},914545:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTicketOtherProps=t.useTicketOtherCallbacks=void 0;var n=r(797972),a=r(224562),i=r(968875),o=r(39569),c=r(539786),s=r(553104),u=r(505006),l=r(430162),f=r(38474);t.useTicketOtherProps=function(){return{pinFlightSigns:(0,a.useSelector)(u.getPinFlightSigns),searchParams:(0,a.useSelector)(l.getSearchParams)||void 0,isNightMode:(0,a.useSelector)(f.getIsNightMode),isSearchExpired:(0,a.useSelector)(c.getSearchStatus)===o.SearchStatus.Expired}},t.useTicketOtherCallbacks=function(){var e=(0,a.useDispatch)();return(0,n.useMemo)((function(){return(0,i.bindActionCreators)({onWarningTagTooltip:s.ticketWarningTagTooltipShown},e)}),[e])}},896391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useShareCallbacks=void 0;var n=r(797972),a=r(224562),i=r(375617),o=r(553104),c=r(286324);t.useShareCallbacks=function(e){var t=(0,a.useDispatch)(),r=(0,n.useCallback)((function(r){return t((0,o.ticketShare)(r,e))}),[t,e]),s=(0,n.useCallback)((function(){return t((0,o.ticketShareTooltipShown)(e))}),[t,e]),u=(0,n.useCallback)((function(){t((0,o.ticketShare)(i.ShareButtonType.CopyLink,e))}),[t,e]);return{ticketSharingSocials:(0,c.useGetTicketSharingSocials)(),onTicketShare:r,onShareTooltipShow:s,onTicketUrlCopy:u}}},185003:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useTicketSubscriptionPropsAndCallbacks=void 0;var a=n(r(998175)),i=r(797972),o=r(224562),c=r(896911),s=r(553104),u=r(73292);t.useTicketSubscriptionPropsAndCallbacks=function(e){var t=(0,c.useStore)(u.subscriptionsService.outputs.$ticketSubscriptionsCollectionBySign),r=(0,a.default)(e,t),n=(0,o.useDispatch)();return{hasSubscription:r,onSubscriptionClick:(0,i.useCallback)((function(){n((0,s.ticketSubscription)(e,"ticket"))}),[e])}}},52210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDebugSettingToClient=t.getDebugSettingsFromClient=t.clearDebugSettingsFromClient=void 0;var n=r(747596),a="_debugSettings";t.getDebugSettingsFromClient=function(){return(0,n.getLocalStorageJSONItem)(a)||{}},t.setDebugSettingToClient=function(e){(0,n.setLocalStorageJSONItem)(a,e)},t.clearDebugSettingsFromClient=function(){return(0,n.removeLocalStorageItem)(a)}},129519:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ShowMoreTickets=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(224562),c=n(r(225385)),s=r(441361),u=r(997066),l=r(753222),f=r(239733);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}r(663212);var p=(0,c.default)("show-more-tickets");t.ShowMoreTickets=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(f.getNextPageTicketsAmount),r=(0,o.useSelector)(f.getSearchPageIsLoaded),n=(0,a.useCallback)((function(){e((0,l.showMoreTicketsClick)())}),[e]),c=(0,i.useTranslation)("common").t;return a.default.createElement("div",{className:p()},a.default.createElement(s.Button,{priority:s.ButtonPriority.Primary,size:s.ButtonSize.M,onClick:n,disabled:!r,className:p("button")},r?c("showMoreTickets",{ticketsCount:t}):a.default.createElement(u.Spinner,{size:u.SpinnerSize.S,mod:u.SpinnerMod.OnBright})))}},703145:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TicketSkeletonDesktop",{enumerable:!0,get:function(){return n.TicketSkeletonDesktop}}),Object.defineProperty(t,"TicketSkeletonDesktopProps",{enumerable:!0,get:function(){return n.TicketSkeletonDesktopProps}}),Object.defineProperty(t,"TicketSkeletonListContainer",{enumerable:!0,get:function(){return i.TicketSkeletonListContainer}}),Object.defineProperty(t,"TicketSkeletonMobile",{enumerable:!0,get:function(){return a.TicketSkeletonMobile}}),Object.defineProperty(t,"TicketSkeletonMobileProps",{enumerable:!0,get:function(){return a.TicketSkeletonMobileProps}});var n=r(778834),a=r(219762),i=r(270015)},778834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TicketSkeletonDesktop",{enumerable:!0,get:function(){return n.TicketSkeletonDesktop}}),Object.defineProperty(t,"TicketSkeletonDesktopProps",{enumerable:!0,get:function(){return a.TicketSkeletonDesktopProps}});var n=r(552300),a=r(127382)},552300:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSkeletonDesktop=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(540144)),o=n(r(26045)),c=n(r(577048)),s=n(r(492709)),u=n(r(905613));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=s.default.bind(u.default),d={light:{background:"#eff1f4",foreground:"#ffffff"},dark:{background:"#2e3035",foreground:"#3d3f43"}},p=(0,a.memo)((function(e){var t=e.width,r=void 0===t?729:t,n=e.variant,s=void 0===n?"light":n,u=e.segmentsCount,l=void 0===u?1:u,p=e.className;if(0===l)return null;var v=f(p,"root","variant_"+s),g=d[s],h=l>1?61+109*l:251,m=(0,c.default)(0,l-1),y=r-206-40;return a.default.createElement("div",{className:v},a.default.createElement(i.default,{speed:2,width:r,height:h,viewBox:"0 0 "+r+" "+h,backgroundColor:g.background,foregroundColor:g.foreground,title:""},a.default.createElement("rect",{x:"20",y:"60",rx:"0",ry:"0",width:"166",height:"50"}),a.default.createElement("circle",{cx:"245",cy:"38",r:"18"}),a.default.createElement("rect",{x:"206",y:"0",rx:"0",ry:"0",width:"1",height:h}),a.default.createElement("rect",{x:"226",y:"81",rx:"0",ry:"0",width:y,height:"69"}),(0,o.default)((function(e){return a.default.createElement(a.Fragment,{key:e},a.default.createElement("rect",{x:"226",y:170+109*e,rx:"0",ry:"0",width:y,height:"1"}),a.default.createElement("rect",{x:"226",y:190+109*e,rx:"0",ry:"0",width:y,height:"69"}))}),m)))}));t.TicketSkeletonDesktop=p,p.displayName="TicketSkeletonDesktop"},127382:function(){},270015:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSkeletonListContainer=void 0;var a=n(r(797972)),i=r(224562),o=n(r(492709)),c=n(r(26045)),s=n(r(577048)),u=n(r(399136)),l=r(937435),f=r(239733),d=r(430162),p=r(38474),v=r(778834),g=r(219762),h=n(r(705784)),m=o.default.bind(h.default);t.TicketSkeletonListContainer=function(){var e=(0,i.useSelector)(f.getTicketsPerPage),t=(0,l.useIsMobile)(),r=(0,i.useSelector)(p.getIsNightMode),n=(0,i.useSelector)(d.getSegments),o=(0,u.default)(n),h=r?"dark":"light",y=t?g.TicketSkeletonMobile:v.TicketSkeletonDesktop,_=(0,s.default)(0,e),b=m("skeleton_type_"+(t?"mobile":"desktop"));return a.default.createElement(a.default.Fragment,null,(0,c.default)((function(e){return a.default.createElement(y,{key:e,className:b,variant:h,segmentsCount:o})}),_))}},219762:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TicketSkeletonMobile",{enumerable:!0,get:function(){return n.TicketSkeletonMobile}}),Object.defineProperty(t,"TicketSkeletonMobileProps",{enumerable:!0,get:function(){return a.TicketSkeletonMobileProps}});var n=r(902517),a=r(710869)},902517:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSkeletonMobile=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(540144)),o=n(r(26045)),c=n(r(577048)),s=n(r(492709)),u=n(r(702944)),l=n(r(1506));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d=s.default.bind(l.default),p={light:{background:"#eff1f4",foreground:"#ffffff"},dark:{background:"#2e3035",foreground:"#3d3f43"}},v=function(e){var t=e.y;return a.default.createElement(a.default.Fragment,null,a.default.createElement("rect",{x:"15",y:t+15,width:"72",height:"18"}),a.default.createElement("rect",{x:"129",y:t+15,width:"56",height:"18"}),a.default.createElement("rect",{x:"231",y:t+15,width:"64",height:"18"}),a.default.createElement("rect",{x:"15",y:t+34,width:"96",height:"20"}),a.default.createElement("rect",{x:"129",y:t+34,width:"72",height:"20"}),a.default.createElement("rect",{x:"231",y:t+34,width:"84",height:"20"}))},g=function(e){var t=e.y;return a.default.createElement(a.default.Fragment,null,a.default.createElement("rect",{x:"16",y:t+15,width:"80",height:"15"}),a.default.createElement("rect",{x:"129",y:t+15,width:"100",height:"15"}),a.default.createElement("rect",{x:"16",y:t+32,width:"64",height:"15"}),a.default.createElement("rect",{x:"129",y:t+32,width:"64",height:"15"}))},h=(0,a.memo)((function(e){var t=e.variant,r=void 0===t?"light":t,n=e.segmentsCount,s=void 0===n?1:n,l=e.className;if(0===s)return null;var f=u.default.is("serp-exp-newMobileWebTicketPreview"),h=f?42:54,m=d(l,"root","variant_"+r),y=p[r],_=65+s*h,b=(0,c.default)(0,s);return a.default.createElement("div",{className:m},a.default.createElement(i.default,{speed:2,width:334,height:_,viewBox:"0 0 334 "+_,backgroundColor:y.background,foregroundColor:y.foreground,title:""},f&&a.default.createElement("rect",{x:"16",y:"16",rx:"0",ry:"0",width:"64",height:"23"}),!f&&a.default.createElement("rect",{x:"15",y:"15",rx:"0",ry:"0",width:"78",height:"30"}),(0,o.default)((function(e){return f?a.default.createElement(g,{key:e,y:39+e*h}):a.default.createElement(v,{key:e,y:50+e*h})}),b)))}));t.TicketSkeletonMobile=h,h.displayName="TicketSkeletonMobile"},710869:function(){},441412:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsSuccessPopupType=void 0,t.SubscriptionsSuccessPopupType=r,function(e){e.NeedToActivate="needToActivate",e.FullSuccess="fullSuccess"}(r||(t.SubscriptionsSuccessPopupType=r={}))},170769:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_KEY=t.STORAGE_CURRENCY_KEY=void 0,t.getCheapestTabsPrice=d,t.getCurrency=f,t.getPriceTitle=function(e){var t=e.searchParams,r=e.cheapestTicketPrice,a=e.isSearchFinished,i=e.error,s=e.currencies,u=f(),l=p(),v=d(),g=c(t,l);if(r&&v&&g&&a&&!i){if(r>v){var h=Number(r)-Number(v),m=(0,o.convertUnifiedToCurrency)(h,u,s).value;return"+"+(0,n.formatPriceWithSign)(m,u)+" | "+g}var y=(0,o.convertUnifiedToCurrency)(r,u,s).value;return(0,n.formatPriceWithSign)(y,u)+" | "+g}return g},t.isSameRouteInData=p,t.resetPriceTitle=function(){document.title=s},t.setCurrency=function(e){return(0,a.setLocalStorageItem)(l,e)};var n=r(285291),a=r(747596),i=r(386452),o=r(570355),c=r(129304).searchParamsToTitle,s=document.title,u="tabPrices";t.STORAGE_KEY=u;var l="tabPricesCurrency";function f(){return(0,a.getLocalStorageItem)(l)||i.DEFAULT_CURRENCY}function d(){for(var e=(0,a.getLocalStorageJSONItem)(u)||{},t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=e[n[r]].price,o=void 0===i?null:i;o&&t.push(o)}return Math.min.apply(Math,t)}function p(){var e=(0,a.getLocalStorageJSONItem)(u);if(!e)return!0;var t=Object.keys(e);return t.every((function(e){return t[0].split("_")[0]===e.split("_")[0]}))}t.STORAGE_CURRENCY_KEY=l},753518:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.TAGS=t.CUSTOM_TAGS=void 0,t.TAGS=r,function(e){e.SEARCH_TAG_DESTINATION_OPENED="restrictions_destination_opened",e.SEARCH_TAG_DESTINATION_CLOSED="restrictions_destination_closed",e.SEARCH_TAG_DESTINATION_DIRECT_FORBIDDEN="restrictions_destination_direct_forbidden",e.SEARCH_TAG_DESTINATION_QUARANTINE="restrictions_destination_quarantine",e.TICKET_TAG_UNCERTAIN_LAYOVER="restrictions_ticket_uncertain_layover",e.TICKET_TAG_FORBIDDEN_DIRECT="restrictions_ticket_forbidden_direct",e.TICKET_TAG_FORBIDDEN_LAYOVER="restrictions_ticket_forbidden_layover"}(r||(t.TAGS=r={})),t.CUSTOM_TAGS=n,function(e){e.SEARCH_TAG_CUSTOM_DIRECT_FORBIDDEN_AND_QUARANTINE="restrictions_destination_direct_forbidden_and_quarantine"}(n||(t.CUSTOM_TAGS=n={}))},92487:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(766249);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(813651);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var i=r(90895);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=r(108733);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},81903:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.concatAirportNames=void 0;var a=n(r(114558));t.concatAirportNames=function(e,t){if(!e.length)return"";if(1===e.length){var r=(0,a.default)(e,1)[0];return t("travel_restrictions:tags:in",{airport:r.cases.pr})}var n=e.map((function(e){return t("travel_restrictions:tags:in",{airport:e.cases.pr})})),i=n.pop();return n.join(", ")+" "+t("travel_restrictions:tags:and")+" "+i}},766249:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAllTravelRestrictions=void 0;var n=r(797972),a=r(813651),i=r(90895);t.useAllTravelRestrictions=function(e){var t=(0,a.useSearchTravelRestrictions)(),r=(0,i.useTicketTravelRestrictions)(e);return(0,n.useMemo)((function(){return{travelRestrictionTags:[].concat(t.travelRestrictionTags,r.travelRestrictionTags),travelInformationTags:[].concat(t.travelInformationTags,r.travelInformationTags)}}),[t,r])}},108733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTravelRestrictionCallbacks=void 0;var n=r(797972),a=r(224562),i=r(865726);t.useTravelRestrictionCallbacks=function(e){var t=(0,a.useDispatch)(),r=(0,n.useCallback)((function(r){t((0,i.travelRestrictionInformerClick)(r,e))}),[t,e]);return(0,n.useMemo)((function(){return{handleTravelRestrictionClick:r}}),[r])}},813651:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useSearchTravelRestrictions=void 0;var a=r(797972),i=r(224562),o=r(445549),c=n(r(491167)),s=r(583808),u=r(753518),l=(0,c.default)("helios:travel_restrictions_hooks:search");t.useSearchTravelRestrictions=function(){var e=(0,o.useTranslation)("travel_restrictions").t,t=(0,i.useSelector)(s.getSearchTags),r=t.includes(u.TAGS.SEARCH_TAG_DESTINATION_DIRECT_FORBIDDEN),n=t.includes(u.TAGS.SEARCH_TAG_DESTINATION_QUARANTINE);return l("tags: %o",t),(0,a.useMemo)((function(){return t.reduce((function(t,a){switch(a){case u.TAGS.SEARCH_TAG_DESTINATION_OPENED:if(r){var i=n?u.CUSTOM_TAGS.SEARCH_TAG_CUSTOM_DIRECT_FORBIDDEN_AND_QUARANTINE:u.TAGS.SEARCH_TAG_DESTINATION_DIRECT_FORBIDDEN,o=n?"warning":"allowed";return t.travelInformationTags.push({tag:u.TAGS.SEARCH_TAG_DESTINATION_DIRECT_FORBIDDEN,title:e("tags."+i+".title"),description:e("tags."+i+".description"),icon:o}),t}return n?(t.travelInformationTags.push({tag:u.TAGS.SEARCH_TAG_DESTINATION_QUARANTINE,title:e("tags."+u.TAGS.SEARCH_TAG_DESTINATION_QUARANTINE+".title"),description:e("tags."+u.TAGS.SEARCH_TAG_DESTINATION_QUARANTINE+".description"),icon:"warning"}),t):(t.travelInformationTags.push({tag:u.TAGS.SEARCH_TAG_DESTINATION_OPENED,title:e("tags."+u.TAGS.SEARCH_TAG_DESTINATION_OPENED+".title"),icon:"allowed"}),t);case u.TAGS.SEARCH_TAG_DESTINATION_CLOSED:return t.travelRestrictionTags.push({tag:a,title:e("tags."+u.TAGS.SEARCH_TAG_DESTINATION_CLOSED+".title"),icon:"restricted"}),t;default:return t}}),{travelRestrictionTags:[],travelInformationTags:[]})}),[t,r,n,e])}},90895:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useTicketTravelRestrictions=void 0;var a=r(797972),i=r(224562),o=r(445549),c=n(r(491167)),s=r(322880),u=r(25614),l=r(81903),f=r(753518),d=(0,c.default)("helios:travel_restrictions_hooks:ticket");t.useTicketTravelRestrictions=function(e){var t=(0,o.useTranslation)("travel_restrictions").t,r=(0,i.useSelector)((function(t){return(0,u.getTicketTags)(t,e)})),n=(0,i.useSelector)((function(t){return(0,s.getUncertainTransfers)(t,e)})),c=(0,a.useMemo)((function(){return(0,l.concatAirportNames)(n,t)}),[n,t]);return d("Sign: %s, tags: %o",e,r),(0,a.useMemo)((function(){return r.reduce((function(e,r){switch(r){case f.TAGS.TICKET_TAG_FORBIDDEN_DIRECT:case f.TAGS.TICKET_TAG_FORBIDDEN_LAYOVER:return e.travelRestrictionTags.push({tag:r,title:t("travel_restrictions:tags:"+r+".title",{airports:c}),icon:"restricted"}),e;case f.TAGS.TICKET_TAG_UNCERTAIN_LAYOVER:return e.travelInformationTags.push({tag:r,title:t("travel_restrictions:tags:"+r+".title",{airports:c}),icon:"warning"}),e;default:return e}}),{travelRestrictionTags:[],travelInformationTags:[]})}),[r,c,t])}},832795:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),i=n(r(225385)),o=r(445549),c=r(546991),s=r(463854);r(674520);var u=(0,i.default)("travel-restrictions-modal-footer");t.default=function(e){var t=e.onClick,r=(0,o.useTranslation)("travel_restrictions").t;return a.default.createElement("div",{className:u()},a.default.createElement(s.Text,{className:u("title"),type:s.TextType.Title4Bold},r("modalFooter.title")),a.default.createElement(s.Text,{className:u("description"),type:s.TextType.Body1Regular},r("modalFooter.body")),a.default.createElement(c.ActionBarGroup,{className:u("informer")},a.default.createElement(c.ActionBarGroup.Item,{className:u("informer-item"),onClick:t},a.default.createElement(s.Text,{type:s.TextType.Body1Regular},r("modalFooter.button")))))}},274461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(930347);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},930347:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.cn=t.RestrictionAccordion=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=n(r(604281)),s=r(338555),u=r(644561);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(338106);var f=(0,o.default)("restriction-accordion");t.cn=f,t.RestrictionAccordion=function(e){var t=e.title,r=e.subtitle,n=e.countryIata,o=e.children,l=e.className,d=e.initialIsOpenValue,p=void 0!==d&&d,v=e.onToggle,g=void 0===v?c.default:v;(0,i.useEffect)((function(){_(p)}),[p]);var h=(0,i.useState)(p),m=(0,a.default)(h,2),y=m[0],_=m[1],b=(0,i.useCallback)((function(e){_(e),g(e)}),[g]);return i.default.createElement(s.NoUiAccordion,{isOpen:y,onToggle:b,className:f(null,l),header:i.default.createElement(u.RestrictionAccordionHeader,{countryIata:n,title:t,subtitle:r,isOpen:y})},i.default.createElement("div",{className:f("content")},o))}},644561:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionAccordionHeader=void 0;var a=n(r(797972)),i=r(463854),o=r(248333),c=r(565569),s=r(930347);t.RestrictionAccordionHeader=function(e){var t=e.countryIata,r=e.title,n=e.subtitle,u=e.isOpen;return a.default.createElement("header",{className:(0,s.cn)("header")},a.default.createElement(i.Text,{type:i.TextType.Body1Regular,className:(0,s.cn)("title")},r),a.default.createElement(i.Text,{type:i.TextType.Body3Regular,className:(0,s.cn)("subtitle")},n),a.default.createElement("div",{className:(0,s.cn)("chevron-wrap")},a.default.createElement(o.Icon24ControlsChevron,{className:(0,s.cn)("chevron-icon",{"--is-open":u})})),a.default.createElement("img",{alt:t,className:(0,s.cn)("flag"),src:"//"+c.MPICS_HOST+"/flags/48/48/"+t.toLowerCase()+".png"}))}},965302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RestrictionInformerGroup",{enumerable:!0,get:function(){return n.RestrictionInformerGroup}});var n=r(529643)},998790:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionInformer=void 0;var a=n(r(435850)),i=n(r(797972)),o=n(r(225385)),c=r(546991),s=r(463854);r(934081);var u=(0,o.default)("restriction-informer");t.RestrictionInformer=function(e){var t=e.type,r=e.title,n=e.description,o=e.actionBarProps;return"preview"===t?i.default.createElement(c.ActionBarGroup.Item,(0,a.default)({padding:"small",type:"neutral",className:u(null,"--preview")},o),i.default.createElement(s.Text,{truncateMode:s.TruncateTextMode.TwoLines,type:s.TextType.Body3Regular},r)):"ticket"===t?i.default.createElement(c.ActionBarGroup.Item,(0,a.default)({},o,{className:u(null,"--ticket")}),i.default.createElement(s.Text,{truncateMode:s.TruncateTextMode.TwoLines,type:s.TextType.Body2Regular},r),n&&i.default.createElement(s.Text,{truncateMode:s.TruncateTextMode.TwoLines,className:u("description"),type:s.TextType.Body3Regular},n)):"search-results"===t?i.default.createElement(c.ActionBarGroup.Item,(0,a.default)({className:u("search-restriction")},o),i.default.createElement(s.Text,{truncateMode:s.TruncateTextMode.TwoLines,type:s.TextType.Body2Regular},r),n&&i.default.createElement(s.Text,{truncateMode:s.TruncateTextMode.TwoLines,className:u("description"),type:s.TextType.Body3Regular},n)):null}},529643:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionInformerGroup=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(546991),i=r(998790);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}r(934081);var c=(0,n.memo)((function(e){var t=e.className,r=e.informers,o=void 0===r?[]:r,c=e.onClick,s=e.type;return 0===o.length?null:["preview","ticket","search-results"].includes(s)?n.default.createElement("div",{"data-test-id":"restriction-informer-group"},n.default.createElement(a.ActionBarGroup,{className:t},o.map((function(e){return n.default.createElement(i.RestrictionInformer,{type:s,title:e.title,description:e.description,key:e.tag,actionBarProps:{iconType:e.icon,onClick:function(t){t.stopPropagation(),null==c||c(e.tag)}}})})))):null}));t.RestrictionInformerGroup=c,c.displayName="RestrictionInformerGroup"},18099:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionsForbiddenPopupContainer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(224562),o=r(520072),c=r(742029),s=r(865726),u=r(25614),l=n(r(905109));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.RestrictionsForbiddenPopupContainer=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)((function(e){return(0,c.getPopupIsOpen)(e,"restrictionsForbiddenPopup")})),r=(0,i.useSelector)((function(e){return(0,c.getPopupData)(e,"restrictionsForbiddenPopup")})),n=(0,i.useSelector)(u.getHasReliableTickets),f=(0,a.useCallback)((function(){e((0,o.closePopup)("restrictionsForbiddenPopup"))}),[e]),d=(0,a.useCallback)((function(){e((0,s.travelRestrictionsModalFooterClick)("restrictionsForbiddenPopup"))}),[e]);return r?a.default.createElement(l.default,{type:r.type,visible:t,isFooterVisible:n,onClose:f,onFooterBtnClick:d}):null}},905109:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),i=n(r(225385)),o=r(445549),c=r(267305),s=r(463854),u=n(r(832795));r(343201);var l=(0,i.default)("restrictions-forbidden-popup"),f=function(e){var t=e.type,r=e.visible,n=e.isFooterVisible,i=void 0!==n&&n,f=e.onClose,d=e.onFooterBtnClick,p=(0,o.useTranslation)("travel_restrictions").t,v=p("forbiddenPopup.list."+t,{defaultValue:[],returnObjects:!0});return a.default.createElement(c.Popup,{className:l(),visible:r,onClose:f},a.default.createElement("div",{className:l("content")},a.default.createElement(s.Text,{tag:"h3",className:l("title"),type:s.TextType.Title3Bold},p("forbiddenPopup.title")),a.default.createElement(s.Text,{tag:"p",className:l("descr"),type:s.TextType.Body1Paragraph},p("forbiddenPopup.description")),v.length>0&&a.default.createElement("ol",{className:l("list")},v.map((function(e){return a.default.createElement("li",{key:e,className:l("list-item")},e)})))),i&&d&&a.default.createElement(u.default,{onClick:d}))};f.displayName="RestrictionsForbiddenPopup";var d=a.default.memo(f);t.default=d},119336:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UncertainLayoverPopupContainer=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(520072),o=r(742029),c=r(865726),s=r(25614),u=r(322880),l=r(923109);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.UncertainLayoverPopupContainer=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)((function(e){return(0,o.getPopupIsOpen)(e,"uncertainLayoverPopup")})),r=(0,a.useSelector)((function(e){return(0,o.getPopupData)(e,"uncertainLayoverPopup")})),f=(0,a.useSelector)(s.getHasReliableTickets),d=(0,n.useCallback)((function(){e((0,i.closePopup)("uncertainLayoverPopup"))}),[e]),p=(0,n.useCallback)((function(){e((0,c.travelRestrictionsModalFooterClick)("uncertainLayoverPopup"))}),[e]),v=(0,a.useSelector)((function(e){return null!=r&&r.ticketSign?(0,u.getUncertainLayoverPopupStops)(e,r.ticketSign):[]}));return v&&v.length?n.default.createElement(l.UncertainLayoverPopup,{visible:t,stops:v,isFooterVisible:f,onClose:d,onFooterBtnClick:p}):null}},923109:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.cn=t.UncertainLayoverPopup=void 0;var a=n(r(797972)),i=n(r(225385)),o=r(445549),c=r(267305),s=r(463854),u=r(41863),l=n(r(832795));r(351540);var f=(0,i.default)("uncertain-layover-popup");t.cn=f,t.UncertainLayoverPopup=function(e){var t=e.visible,r=e.stops,n=e.isFooterVisible,i=void 0!==n&&n,d=e.onClose,p=e.onFooterBtnClick,v=(0,o.useTranslation)("travel_restrictions").t;return a.default.createElement(c.Popup,{className:f(),visible:t,onClose:d,theme:"gray"},a.default.createElement("div",{className:f("introduction")},a.default.createElement(s.Text,{type:s.TextType.Title4Bold,className:f("title")},v("uncertainLayoverPopup.title")),a.default.createElement(s.Text,{type:s.TextType.Body1Regular,className:f("description")},v("uncertainLayoverPopup.description"))),a.default.createElement(u.UncertainLayoverPopupSuggestions,{stops:r}),i&&p&&a.default.createElement(l.default,{onClick:p}))}},41863:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.UncertainLayoverPopupSuggestions=void 0;var a=n(r(797972)),i=r(445549),o=r(463854),c=r(274461),s=r(923109);t.UncertainLayoverPopupSuggestions=function(e){var t=e.stops,r=(0,i.useTranslation)("travel_restrictions").t;return a.default.createElement("div",{className:(0,s.cn)("suggestions")},t.map((function(e){var t=e.city,n=e.country,i=e.airports,u=r("uncertainLayoverPopup.suggestions.items",{returnObjects:!0,count:i.length,airports:i.join(", "),defaultValue:[]});return a.default.createElement(c.RestrictionAccordion,{key:n.iata,title:r("uncertainLayoverPopup.accordionTitle",{city:t.cases.pr||t.iata}),subtitle:n.cases.su||n.iata,countryIata:n.iata,className:(0,s.cn)("accordion")},a.default.createElement(o.Text,{type:o.TextType.Body3Regular,className:(0,s.cn)("suggestions-caption")},r("uncertainLayoverPopup.suggestions.itemsCaption")),a.default.createElement("ul",{className:(0,s.cn)("suggestions-list")},u.map((function(e,t){return a.default.createElement(o.Text,{key:t,tag:"li",type:o.TextType.Body1Regular,className:(0,s.cn)("suggestions-item")},e)}))),a.default.createElement(o.Text,{type:o.TextType.Body3Regular,className:(0,s.cn)("suggestions-caption")},r("uncertainLayoverPopup.suggestions.placeCaption")),a.default.createElement(o.Text,{type:o.TextType.Body1Regular},r("uncertainLayoverPopup.suggestions.placeSuggestion",{country:n.cases.ro||n.iata})))})))}},639662:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateAutosearchTickets=t.startAutosearch=t.showAutosearch=t.showAllTickets=t.setFullSearchUrl=t.resetAutosearchTickets=t.hideAutosearch=void 0;var n=r(872262);t.showAutosearch=function(){return{type:n.SHOW_AUTOSEARCH}},t.hideAutosearch=function(){return{type:n.HIDE_AUTOSEARCH}},t.startAutosearch=function(){return{type:n.START_AUTOSEARCH}},t.setFullSearchUrl=function(e){return{type:n.SET_FULL_SEARCH_URL,payload:e}},t.updateAutosearchTickets=function(e){return{type:n.UPDATE_AUTOSEARCH_TICKETS,payload:e}},t.resetAutosearchTickets=function(){return{type:n.RESET_AUTOSEARCH_TICKETS}},t.showAllTickets=function(){return{type:n.SHOW_ALL_TICKETS}}},101136:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(516640);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},516640:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;var a=n(r(797972)),i=n(r(613938)),o=n(r(601732));t.ProgressBar=function(){return a.default.createElement("div",{className:o.default.root},a.default.createElement(i.default,{startAnimation:!0,color:"blue"}))}},217565:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AllTickets=void 0;var a=n(r(797972)),i=r(445549),o=n(r(37102)),c=r(224562),s=r(441361),u=r(639662),l=n(r(932910));t.AllTickets=function(e){var t=e.className,r=e.isShortText,n=(0,i.useTranslation)("common").t,f=(0,c.useDispatch)(),d=n(r?"common:showAll":"common:showAllTickets");return a.default.createElement("div",{className:l.default.root},a.default.createElement(s.Button,{className:(0,o.default)(l.default.button,t),size:s.ButtonSize.M,priority:s.ButtonPriority.Primary,onClick:function(){f((0,u.showAllTickets)())}},d))}},514018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AllTickets",{enumerable:!0,get:function(){return n.AllTickets}});var n=r(217565)},844053:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AllTicketsDirectSchedule=void 0;var a=n(r(797972)),i=r(514018),o=n(r(710823));t.AllTicketsDirectSchedule=function(e){var t=e.visible,r=e.isShortText;return t?a.default.createElement(i.AllTickets,{className:o.default.root,isShortText:r}):null}},978758:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AllTicketsDirectSchedule",{enumerable:!0,get:function(){return n.AllTicketsDirectSchedule}});var n=r(844053)},159203:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.Autosearch=void 0;var a=n(r(797972)),i=r(148001),o=r(224562),c=n(r(816550)),s=r(101413),u=r(188795),l=r(430162),f=r(233992),d=r(18099),p=n(r(702944)),v=r(568082),g=r(84324),h=r(827778),m=r(101136),y=r(224771),_=r(260427),b=r(978758);t.Autosearch=function(){var e=(0,o.useSelector)(h.getIsAutosearchActive),t=document.getElementById("prices_autosearch"),r=(0,o.useSelector)(h.getIsSkeletonsListShown),n=(0,o.useSelector)(h.getIsTicketsListShown),S=(0,o.useSelector)(f.getIsPredictionCountdownShown),T=(0,o.useSelector)(h.getIsFiltersMessageShown),O=(0,o.useSelector)(l.getSearchParams),P=(0,g.getIsDirectScheduleFeatureEnabled)(),E=(0,o.useSelector)(h.getHasDirectScheduleTickets),k=P&&E,C=p.default.is("serp-exp-scoringSort");return!e||(0,c.default)(t)||(0,c.default)(O)?null:(0,i.createPortal)(a.default.createElement(a.default.Fragment,null,r&&a.default.createElement(y.Skeletons,null),k&&a.default.createElement(v.SeleneWidget,{name:"direct_schedule"}),a.default.createElement(b.AllTicketsDirectSchedule,{visible:k,isShortText:C}),!k&&n&&a.default.createElement(_.ProductList,null),S&&a.default.createElement(m.ProgressBar,null),T&&a.default.createElement(u.FiltersMessageContainer,null),p.default.is("serp-exp-travelRestrictions")&&a.default.createElement(d.RestrictionsForbiddenPopupContainer,null),a.default.createElement(s.SearchInformerContainer,null)),t)}},260427:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ProductList",{enumerable:!0,get:function(){return n.ProductList}});var n=r(306224)},306224:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductList=void 0;var a=n(r(797972)),i=r(224562),o=r(896911),c=r(812619),s=n(r(492709)),u=n(r(816550)),l=r(682237),f=r(937435),d=r(25614),p=n(r(823694)),v=r(63607),g=r(386452),h=r(671747),m=r(550278),y=r(334),_=r(854755),b=r(483743),S=R(r(492190)),T=n(r(216179)),O=R(r(453291)),P=n(r(513290)),E=r(539786),k=n(r(754741)),C=r(203089),w=n(r(702944)),D=r(663579),I=r(827778),A=r(514018),x=n(r(116540));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var M=s.default.bind(x.default),F="serp-exp-scoringSort",N=function(e){var t=e.ticketsList,r=e.ticketsProposals,n=e.isMobile,i=e.isResultsLoading,o=e.mediaQueryType;return t.length<=0?null:a.default.createElement(c.TransitionGroup,{component:null},t.map((function(e){var t;return a.default.createElement(c.CSSTransition,{key:e,timeout:{enter:300},appear:!0,exit:!1,classNames:"fade"},a.default.createElement("div",{className:M(x.default.item,(t={},t[x.default.mobile]=n,t[x.default.disabled]=i,t)),"data-ticket-sign":e},a.default.createElement(p.default,{className:x.default.ticket,ticketSign:e,ticketProposals:r[e]||[],mediaQueryType:o,isAutoSearch:!0})))})))},L=(0,D.withFlagr)(w.default,[F])((function(){var e,t,r=(0,f.useIsMobile)(),n=r?v.TicketMediaQueryTypes.Mobile:v.TicketMediaQueryTypes.Desktop,c=(0,i.useSelector)(I.getAutosearchTicketsList),s=(0,i.useSelector)(d.getTicketsProposals),p=(0,o.useStore)(g.$currency),D=(0,i.useSelector)(h.getCurrencies),j=(0,i.useSelector)(m.getAirlines),R=(0,i.useSelector)(y.getAirports),L=(0,i.useSelector)(_.getCountries),B=(0,i.useSelector)(b.getGates),U=(0,i.useSelector)(E.getIsResultsTriggeredByFiltersLoading),H=(0,i.useSelector)(I.getAutosearchCashbackInformerPosition),W=w.default.is(F);return a.default.createElement(S.default.Provider,{value:{currencies:D,currency:p,currenciesList:S.defaultCurrenciesList}},a.default.createElement(T.default.Provider,{value:(0,l.buildAirlines)(j)},a.default.createElement(O.default.Provider,{value:(0,O.buildGatesContext)(B)},a.default.createElement(P.default.Provider,{value:(0,l.buildPlaces)(R,L)},a.default.createElement("div",{className:M(x.default.root,(e={},e[x.default.mobile]=r,e))},a.default.createElement("div",{className:M(x.default.item,(t={},t[x.default.mobile]=r,t[x.default.disabled]=U,t))},a.default.createElement(k.default,{className:x.default.ticket,mediaQueryType:n})),a.default.createElement(N,{ticketsList:c.slice(0,H||c.length),ticketsProposals:s,isMobile:r,isResultsLoading:U,mediaQueryType:n}),!(0,u.default)(H)&&H>0&&a.default.createElement(a.default.Fragment,null,a.default.createElement(C.CashbackInformerContainer,{placement:C.CashbackPlacementType.Autosearch,className:M(x.default.cashbackInformer)}),a.default.createElement(N,{ticketsList:c.slice(H,c.length),ticketsProposals:s,isMobile:r,isResultsLoading:U,mediaQueryType:n})),a.default.createElement(A.AllTickets,{className:x.default.allTickets,isShortText:W}))))))}));t.ProductList=L},224771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Skeletons",{enumerable:!0,get:function(){return n.Skeletons}});var n=r(451084)},451084:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.Skeletons=void 0;var a=n(r(435850)),i=n(r(797972)),o=r(224562),c=n(r(492709)),s=n(r(26045)),u=n(r(577048)),l=n(r(399136)),f=r(937435),d=r(430162),p=r(38474),v=r(703145),g=n(r(108249)),h=c.default.bind(g.default);t.Skeletons=function(){var e=(0,f.useIsMobile)(),t=(0,o.useSelector)(p.getIsNightMode),r=(0,o.useSelector)(d.getSegments),n=(0,l.default)(r),c=t?"dark":"light",g=(0,u.default)(0,2),m={className:h("skeleton_type_"+(e?"mobile":"desktop")),variant:c,segmentsCount:n};return i.default.createElement(i.default.Fragment,null,(0,s.default)((function(t){return e?i.default.createElement(v.TicketSkeletonMobile,(0,a.default)({key:t},m)):i.default.createElement(v.TicketSkeletonDesktop,(0,a.default)({key:t,width:800},m))}),g))}},439094:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Autosearch",{enumerable:!0,get:function(){return n.Autosearch}}),Object.defineProperty(t,"AutosearchState",{enumerable:!0,get:function(){return o.AutosearchState}}),Object.defineProperty(t,"HIDE_AUTOSEARCH",{enumerable:!0,get:function(){return o.HIDE_AUTOSEARCH}}),Object.defineProperty(t,"SHOW_AUTOSEARCH",{enumerable:!0,get:function(){return o.SHOW_AUTOSEARCH}}),Object.defineProperty(t,"START_AUTOSEARCH",{enumerable:!0,get:function(){return o.START_AUTOSEARCH}}),Object.defineProperty(t,"autosearchReducer",{enumerable:!0,get:function(){return a.autosearchReducer}}),Object.defineProperty(t,"autosearchSaga",{enumerable:!0,get:function(){return i.autosearchSaga}});var n=r(159203),a=r(713111),i=r(89909),o=r(872262)},713111:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.autosearchReducer=void 0;var a=n(r(101339)),i=r(872262);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={isActive:!1,tickets:[],fullSearchUrl:null};t.autosearchReducer=function(e,t){switch(void 0===e&&(e=s),t.type){case i.SHOW_AUTOSEARCH:return c(c({},e),{},{isActive:!0});case i.HIDE_AUTOSEARCH:return c(c({},e),{},{isActive:!1});case i.SET_FULL_SEARCH_URL:return c(c({},e),{},{fullSearchUrl:t.payload});case i.UPDATE_AUTOSEARCH_TICKETS:return c(c({},e),{},{tickets:t.payload});case i.RESET_AUTOSEARCH_TICKETS:return c(c({},e),{},{tickets:[]});default:return e}}},89909:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.autosearchSaga=q;var a=n(r(385882)),i=r(982175),o=n(r(531760)),c=n(r(816550)),s=r(902093),u=r(47379),l=r(754266),f=r(520072),d=r(359759),p=r(734682),v=r(61303),g=r(223002),h=r(539786),m=r(159538),y=r(187068),_=r(587273),b=r(425944),S=r(779143),T=r(317875),O=r(351856),P=r(877321),E=r(872262),k=r(639662),C=r(827778),w=a.default.mark(L),D=a.default.mark(B),I=a.default.mark(U),A=a.default.mark(H),x=a.default.mark(W),j=a.default.mark(G),R=a.default.mark(K),M=a.default.mark(V),F=a.default.mark(Y),N=a.default.mark(q);function L(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(u.createSeleneChannel,E.AutosearchEventTypes.ShowAutosearch);case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,k.showAutosearch)());case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),w,null,[[4,11]])}function B(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(u.createSeleneChannel,E.AutosearchEventTypes.HideAutosearch);case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.select)(C.getIsAutosearchActive);case 9:if(!t.sent){t.next=13;break}return t.next=13,(0,i.put)((0,k.hideAutosearch)());case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),e.close();case 18:t.next=3;break;case 20:case"end":return t.stop()}}),D,null,[[4,15]])}function U(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(u.createSeleneChannel,E.AutosearchEventTypes.StartAutosearch);case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,k.startAutosearch)());case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),I,null,[[4,11]])}function H(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(u.createSeleneChannel,E.AutosearchEventTypes.OpenAutosearchModal);case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,k.showAllTickets)());case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),A,null,[[4,11]])}function W(){var e,t;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,i.call)(T.prepareFormParams);case 3:return e=r.sent,r.next=6,(0,i.take)(S.UPDATE_AVIA_PARAMS);case 6:return r.next=8,(0,i.call)(T.prepareFormParams);case 8:if(t=r.sent,(0,o.default)(e,t)){r.next=12;break}return r.next=12,(0,i.put)((0,k.setFullSearchUrl)(null));case 12:r.next=0;break;case 14:case"end":return r.stop()}}),x)}function G(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.select)(C.getFullSearchUrl);case 2:return e=n.sent,n.next=5,(0,i.select)(y.getExploreFiltersState);case 5:if(t=n.sent,!(r=(0,P.getSearchUrlWithExploreFilters)(e,t))){n.next=10;break}return n.next=10,(0,i.call)(m.updateHistoryOnStartSearch,r);case 10:case"end":return n.stop()}}),j)}function K(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.put)((0,p.clearSearch)());case 2:return t.next=4,(0,i.put)((0,p.startSearch)(e,{shouldSearchHotels:!0}));case 4:case"end":return t.stop()}}),R)}function V(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(O.OPEN_POPUP,a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.popupType!==d.SERP_IN_MODAL){e.next=4;break}return e.next=4,(0,l.emitSeleneEvent)({type:E.AutosearchEventTypes.AllTicketsShown});case 4:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),M)}function Y(){var e,t,r,n,o,u,p,m,y;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,i.take)(E.SHOW_ALL_TICKETS);case 3:return a.next=5,(0,i.select)(v.getAviaParams);case 5:return r=a.sent,a.next=8,(0,i.select)(g.getActiveForm);case 8:return n=a.sent,a.next=11,(0,i.select)(v.getShouldSearchHotels);case 11:return o=a.sent,a.next=14,(0,i.select)(h.getSearchStatus);case 14:return u=a.sent,a.next=17,(0,i.select)(C.getFullSearchUrl);case 17:if(p=a.sent,m=(0,b.noHotelPartnerCheckbox)(null===(e=r.segments)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.destination),y="avia"===n&&o&&!m,!(0,c.default)(p)){a.next=23;break}return a.next=23,(0,i.take)(E.SET_FULL_SEARCH_URL);case 23:return a.next=25,(0,i.call)(G);case 25:if(!y||!(0,_.isDesktopOrTablet)()){a.next=29;break}return a.next=28,(0,i.call)(K,r);case 28:return a.abrupt("return");case 29:if(u!==s.SearchStatus.Expired){a.next=32;break}return a.next=32,(0,l.emitSeleneEvent)({type:E.AutosearchEventTypes.StartAutosearch});case 32:return a.next=34,(0,i.put)((0,f.openPopup)(d.SERP_IN_MODAL));case 34:a.next=0;break;case 36:case"end":return a.stop()}}),F)}function q(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(U);case 2:return e.next=4,(0,i.fork)(L);case 4:return e.next=6,(0,i.fork)(B);case 6:return e.next=8,(0,i.fork)(W);case 8:return e.next=10,(0,i.fork)(Y);case 10:return e.next=12,(0,i.fork)(V);case 12:return e.next=14,(0,i.fork)(H);case 14:case"end":return e.stop()}}),N)}},827778:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsTicketsListShown=t.getIsSkeletonsListShown=t.getIsFiltersMessageShown=t.getIsAutosearchActive=t.getHasDirectScheduleTickets=t.getFullSearchUrl=t.getAutosearchTicketsList=t.getAutosearchCashbackInformerPosition=void 0;var a=r(774953),i=n(r(257110)),o=n(r(142313)),c=n(r(808241)),s=n(r(816550)),u=n(r(171353)),l=n(r(396673)),f=n(r(257597)),d=n(r(626514)),p=n(r(689241)),v=r(902093),g=r(20344),h=r(539786),m=r(239733),y=r(25614),_=r(627039),b=function(e){return e.autosearch},S=(0,a.createSelector)(b,(function(e){return e.fullSearchUrl}));t.getFullSearchUrl=S;var T=(0,a.createSelector)(b,(function(e){return e.isActive}));t.getIsAutosearchActive=T;var O=(0,a.createSelector)([_.getError,h.getSearchStatus,y.getFilteredTicketsAmountFromMeta,m.getSearchResultsRequestStatus],(function(e,t,r,n){var a=n.status;return"access_denied"===e||!!(0,i.default)(t,[v.SearchStatus.Started,v.SearchStatus.Inited])||t===v.SearchStatus.Finished&&0===r&&a===g.RequestStatus.Pending}));t.getIsSkeletonsListShown=O;var P=(0,a.createSelector)([h.getSearchStatus,y.getIsEmptySearch,y.getFilteredTicketsAmountFromMeta,O],(function(e,t,r,n){return(0,i.default)(e,[v.SearchStatus.Shown,v.SearchStatus.Finished,v.SearchStatus.Expired])&&!t&&!n&&r>0}));t.getIsTicketsListShown=P;var E=(0,a.createSelector)([h.getSearchStatus,y.getIsEmptySearch,y.getFilteredTicketsAmountFromMeta,O],(function(e,t,r,n){return(0,i.default)(e,[v.SearchStatus.Shown,v.SearchStatus.Finished,v.SearchStatus.Expired])&&!t&&!n&&0===r}));t.getIsFiltersMessageShown=E;var k=function(e){return(0,o.default)(2,e.autosearch.tickets)};t.getAutosearchTicketsList=k;var C=(0,a.createSelector)(k,y.getTicketsProposals,y.getProposals,(function(e,t,r){return(0,l.default)([(0,u.default)((function(e,n){var a=(0,l.default)([(0,f.default)([],[n]),d.default])(t),i=(0,f.default)(null,[a],r);return[].concat(e,[i])}),[]),(0,c.default)((function(e){var t=e.cashback;return!(0,s.default)(t)&&t>0})),(0,p.default)(1)])(e)}));t.getAutosearchCashbackInformerPosition=C,t.getHasDirectScheduleTickets=function(e){return e.tickets.directFlightsCheapestTicketSigns.length>0}},872262:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_AUTOSEARCH_TICKETS=t.START_AUTOSEARCH=t.SHOW_AUTOSEARCH=t.SHOW_ALL_TICKETS=t.SET_FULL_SEARCH_URL=t.RESET_AUTOSEARCH_TICKETS=t.HIDE_AUTOSEARCH=t.AutosearchEventTypes=void 0,t.START_AUTOSEARCH="START_AUTOSEARCH",t.SHOW_AUTOSEARCH="SHOW_AUTOSEARCH",t.HIDE_AUTOSEARCH="HIDE_AUTOSEARCH",t.SHOW_ALL_TICKETS="SHOW_ALL_TICKETS",t.SET_FULL_SEARCH_URL="SET_FULL_SEARCH_URL",t.UPDATE_AUTOSEARCH_TICKETS="UPDATE_AUTOSEARCH_TICKETS",t.RESET_AUTOSEARCH_TICKETS="RESET_AUTOSEARCH_TICKETS",t.AutosearchEventTypes=r,function(e){e.StartAutosearch="service/helios/autosearch/start",e.ShowAutosearch="service/helios/autosearch/show",e.HideAutosearch="service/helios/autosearch/hide",e.AllTicketsShown="service/helios/autosearch/all_tickets_shown",e.OpenAutosearchModal="service/helios/autosearch/open_autosearch_modal"}(r||(t.AutosearchEventTypes=r={}))},877321:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSearchUrlWithExploreFilters=function(e,t){return e?(0,n.stringifyUrl)({url:(0,n.exclude)(e,[i.ExploreFilter.Direct,i.ExploreFilter.WithoutVisa,i.ExploreFilter.Baggage]),query:(0,a.mapExploreFiltersToPrecheckFilters)(t)}):null};var n=r(721193),a=r(199389),i=r(945143)},652370:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDirectFlight=void 0;var n=r(651949);t.setDirectFlight=function(e){return{type:n.SET_DIRECT_FLIGHT,directFlight:e}}},264333:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDirectFlightSearchStatus=void 0;var n=r(651949);t.setDirectFlightSearchStatus=function(e){return{type:n.SET_DIRECT_FLIGHT_SEARCH_STATUS,directFlightSearchStatus:e}}},983868:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setDirectFlightTicket=t.clickDirectFlightTicket=void 0;var n=r(651949);t.setDirectFlightTicket=function(e){return{type:n.SET_DIRECT_FLIGHT_TICKET,ticketSign:e}},t.clickDirectFlightTicket=function(e,t){return{type:n.CLICK_DIRECT_FLIGHT_TICKET,segmentIndex:t,directScheduleSegmentItem:e}}},666367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDirectScheduleTickets=t.resetDirectScheduleTickets=void 0;var n=r(651949);t.updateDirectScheduleTickets=function(e,t){return{type:n.UPDATE_DIRECT_SCHEDULE_TICKETS,tickets:e,chunk:t}},t.resetDirectScheduleTickets=function(){return{type:n.RESET_DIRECT_SCHEDULE_TICKETS}}},246685:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.directFlightReducer=void 0;var n=r(651949);t.initialState=null,t.directFlightReducer=function(e,t){return void 0===e&&(e=null),t.type===n.SET_DIRECT_FLIGHT?t.directFlight:e}},337343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.directFlightSearchStatusReducer=void 0;var n=r(39569),a=r(651949),i=n.SearchStatus.Inited;t.initialState=i,t.directFlightSearchStatusReducer=function(e,t){return void 0===e&&(e=i),t.type===a.SET_DIRECT_FLIGHT_SEARCH_STATUS?t.directFlightSearchStatus:e}},892341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.directFlightTicketReducer=void 0;var n=r(651949);t.initialState=null,t.directFlightTicketReducer=function(e,t){return void 0===e&&(e=null),t.type===n.SET_DIRECT_FLIGHT_TICKET?t.ticketSign:e}},158521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.directScheduleTicketsReducer=void 0;var n=r(651949),a={chunk:null,tickets:null};t.initialState=a,t.directScheduleTicketsReducer=function(e,t){switch(void 0===e&&(e=a),t.type){case n.UPDATE_DIRECT_SCHEDULE_TICKETS:return{chunk:t.chunk,tickets:t.tickets};case n.RESET_DIRECT_SCHEDULE_TICKETS:return a;default:return e}}},3643:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.directScheduleFlightRequestFailed=d,t.directScheduleFlightRequestStarted=f;var a=n(r(385882)),i=r(67085),o=r(39569),c=r(47379),s=r(264333),u=a.default.mark(f),l=a.default.mark(d);function f(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/direct_schedule/flight_request_started");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,s.setDirectFlightSearchStatus)(o.SearchStatus.Started));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),u,null,[[4,11]])}function d(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(c.createSeleneChannel,"service/helios/serp/direct_schedule/flight_request_failed");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,s.setDirectFlightSearchStatus)(o.SearchStatus.Failed));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),l,null,[[4,11]])}},460246:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.directScheduleResetSaga=w,t.directScheduleSearchChunksLoadedSaga=C,t.directScheduleTicketSelectedTariffChangeSaga=D,t.directScheduleUpdatedSaga=k;var i=n(r(385882)),o=n(r(101339)),c=r(67085),s=r(39569),u=r(47379),l=r(520072),f=r(652370),d=r(402590),p=r(721196),v=r(214743),g=r(426267),h=r(666367),m=r(264333),y=r(683253),_=r(487825),b=a.mark(k),S=a.mark(C),T=a.mark(w),O=a.mark(D);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.call)(u.createSeleneChannel,"service/helios/serp/direct_schedule/updated");case 2:e=r.sent;case 3:return r.prev=4,r.delegateYield(i.default.mark((function t(){var r,n,a,o,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.take)(e);case 2:return r=t.sent,n=(0,g.getScheduleFromTicketInfo)(r),t.next=6,(0,c.put)((0,f.setDirectFlight)(n));case 6:if(null!=n&&n.cheapestTicketSign){t.next=8;break}return t.abrupt("return",{v:void 0});case 8:return t.next=10,(0,c.select)(_.getCurrentTariffByTicketSign,n.cheapestTicketSign);case 10:return a=t.sent,o=a.currentTariff,s=n.ticketsSigns.reduce((function(e,t){var r;return E(E({},e),{},((r={})[t]=o,r))}),{}),t.next=15,(0,c.put)((0,v.setTicketSelectedTariffs)(s));case 15:return t.next=17,(0,c.put)((0,l.openPopup)("ticket",{ticketSign:n.cheapestTicketSign,source:"schedule_listing",ticketIndex:NaN}));case 17:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:if("object"!=typeof(t=r.t0)){r.next=9;break}return r.abrupt("return",t.v);case 9:r.next=14;break;case 11:r.prev=11,r.t1=r.catch(4),e.close();case 14:r.next=3;break;case 16:case"end":return r.stop()}}),b,null,[[4,11]])}function C(){var e,t;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,c.call)(u.createSeleneChannel,"service/helios/serp/api/direct_schedule/chunks_loaded");case 2:e=r.sent;case 3:return r.prev=4,r.next=7,(0,c.take)(e);case 7:return t=r.sent,r.next=10,(0,c.put)((0,y.directScheduleChunksLoaded)(t));case 10:return r.next=12,(0,c.put)((0,m.setDirectFlightSearchStatus)(s.SearchStatus.Finished));case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(4),e.close();case 17:r.next=3;break;case 19:case"end":return r.stop()}}),S,null,[[4,14]])}function w(){var e;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.call)(u.createSeleneChannel,"service/helios/serp/direct_schedule/reset");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,c.take)(e);case 7:return t.next=9,(0,c.put)((0,f.setDirectFlight)(null));case 9:return t.next=11,(0,c.put)((0,h.resetDirectScheduleTickets)());case 11:return t.next=13,(0,c.put)((0,m.setDirectFlightSearchStatus)(s.SearchStatus.Inited));case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),e.close();case 18:t.next=3;break;case 20:case"end":return t.stop()}}),T,null,[[4,15]])}function D(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.takeLatest)(d.CHANGE_TICKET_SELECTED_TARIFF,i.default.mark((function e(t){var r,n,a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tariffType,e.next=3,(0,c.select)(p.getDirectFlight);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return a=n.ticketsSigns.reduce((function(e,t){var n;return E(E({},e),{},((n={})[t]=r,n))}),{}),e.next=9,(0,c.put)((0,v.setTicketSelectedTariffs)(a));case 9:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}},555586:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.directScheduleTicketClickedSaga=C,t.directScheduleTicketResetSaga=w,t.directScheduleTicketUpdatedSaga=k;var a=n(r(385882)),i=r(67085),o=n(r(205793)),c=n(r(275347)),s=r(47379),u=r(520072),l=r(651949),f=r(983868),d=r(754266),p=r(104185),v=r(982564),g=r(393635),h=r(386452),m=r(671747),y=r(25614),_=r(210031),b=r(754854),S=r(749748),T=r(396138),O=a.default.mark(k),P=a.default.mark(C),E=a.default.mark(w);function k(){var e,t,r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/serp/direct_schedule/ticket_updated");case 2:e=n.sent;case 3:return n.prev=4,n.next=7,(0,i.take)(e);case 7:return t=n.sent,n.next=10,(0,i.select)(g.getDirectFlightTicket);case 10:if(r=n.sent,null===t||null===r){n.next=14;break}return n.next=14,(0,i.put)((0,u.openPopup)("ticket",{ticketSign:t,source:"schedule_listing",ticketIndex:NaN}));case 14:return n.next=16,(0,i.put)((0,f.setDirectFlightTicket)(t));case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(4),e.close();case 21:n.next=3;break;case 23:case"end":return n.stop()}}),O,null,[[4,18]])}function C(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeEvery)(l.CLICK_DIRECT_FLIGHT_TICKET,a.default.mark((function e(t){var r,n,s,u,l,f,O,P,E,k,C,w,D,I,A,x,j,R;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.directScheduleSegmentItem,n=r.ticketToOpen,s=r.disabled,!(l=(0,p.isFaresExperimentEnabled)())){e.next=16;break}return e.next=6,(0,i.select)(g.getDirectFlightTicket);case 6:return f=e.sent,e.next=9,(0,i.select)(p.getSelectedFareProposal,f);case 9:return O=e.sent,P=null==O?void 0:O.fareKey,e.next=13,(0,i.select)(p.getDirectScheduleProposalsByTicketExtraFares,n);case 13:E=e.sent,k=(0,o.default)({fareKey:P},E),u=null==k?void 0:k.id;case 16:return C=c.default.language,w=h.$currency.getState(),e.next=20,(0,i.select)(m.getCurrencies);case 20:return D=e.sent,e.next=23,(0,i.select)(y.getTicketsState);case 23:return I=e.sent,e.next=26,(0,i.select)(b.getDirectScheduleTicketBySign,n);case 26:return A=e.sent,e.next=29,(0,i.select)(b.getDirectScheduleTicketsChunk);case 29:if((x=e.sent)&&A){e.next=32;break}return e.abrupt("return");case 32:return j=(0,_.mapDicts)(x,C),R=(0,T.mapDirectScheduleTicket)({chunk:x,currency:w,currencies:D,ticketsState:I,language:C,directScheduleTicket:A}),e.next=36,(0,i.put)((0,S.updateBaseTicketsAndDicts)(R,j));case 36:if(!l||!u){e.next=40;break}return e.next=40,(0,i.put)((0,v.selectFareProposal)(n,u,!0));case 40:if(!s){e.next=45;break}return e.next=43,(0,d.emitSeleneEvent)({type:"service/helios/serp/direct_schedule/ticket_unavailable_time_clicked",payload:n});case 43:e.next=47;break;case 45:return e.next=47,(0,d.emitSeleneEvent)({type:"service/helios/serp/direct_schedule/ticket_clicked",payload:n});case 47:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}function w(){var e;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,i.call)(s.createSeleneChannel,"service/helios/serp/direct_schedule/ticket_reset");case 2:e=t.sent;case 3:return t.prev=4,t.next=7,(0,i.take)(e);case 7:return t.next=9,(0,i.put)((0,f.setDirectFlightTicket)(null));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.close();case 14:t.next=3;break;case 16:case"end":return t.stop()}}),E,null,[[4,11]])}},721196:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectFlight=void 0,t.getDirectFlight=function(e){return e.directFlight}},393635:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectFlightTicket=void 0,t.getDirectFlightTicket=function(e){return e.directFlightTicket}},754854:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectScheduleTicketsChunk=t.getDirectScheduleTickets=t.getDirectScheduleTicketBySign=void 0;var n=r(774953),a=function(e){var t;return null===(t=e.directScheduleTickets)||void 0===t?void 0:t.tickets};t.getDirectScheduleTickets=a,t.getDirectScheduleTicketsChunk=function(e){var t;return null===(t=e.directScheduleTickets)||void 0===t?void 0:t.chunk};var i=(0,n.createSelector)(a,(function(e,t){return t}),(function(e,t){return null==e?void 0:e[t]}));t.getDirectScheduleTicketBySign=i},84324:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsDirectScheduleFeatureEnabled=void 0;var a=n(r(702944));t.getIsDirectScheduleFeatureEnabled=function(){return Boolean(a.default.get("avs-exp-directTicketsSchedule","variantKey")&&"on"===a.default.get("avs-exp-directTicketsSchedule","variantKey"))}},651949:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DIRECT_SCHEDULE_TICKETS=t.SET_DIRECT_FLIGHT_TICKET=t.SET_DIRECT_FLIGHT_SEARCH_STATUS=t.SET_DIRECT_FLIGHT=t.RESET_DIRECT_SCHEDULE_TICKETS=t.CLICK_DIRECT_FLIGHT_TICKET=void 0,t.SET_DIRECT_FLIGHT="SET_DIRECT_FLIGHT",t.SET_DIRECT_FLIGHT_SEARCH_STATUS="SET_DIRECT_FLIGHT_SEARCH_STATUS",t.SET_DIRECT_FLIGHT_TICKET="SET_DIRECT_FLIGHT_TICKET",t.CLICK_DIRECT_FLIGHT_TICKET="CLICK_DIRECT_FLIGHT_TICKET",t.UPDATE_DIRECT_SCHEDULE_TICKETS="UPDATE_DIRECT_SCHEDULE_TICKETS",t.RESET_DIRECT_SCHEDULE_TICKETS="RESET_DIRECT_SCHEDULE_TICKETS"},426267:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareTicketInfo=t.mapProposalDTOWithBaggage=t.getTicketProposalsUpsellsMap=t.getTicketProposalsFaresMap=t.getScheduleFromTicketInfo=t.calculateTwoWayDirectSchedule=t.calculateSegment=t.calculateOneWayDirectSchedule=t.buildDirectScheduleTariffs=void 0;var a=n(r(114558)),i=n(r(101339)),o=n(r(954206)),c=n(r(816550)),s=n(r(205793)),u=r(603723),l=r(804701),f=r(931162),d=r(754854),p=r(663241),v=r(104185);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.getScheduleFromTicketInfo=function(e){if(!e)return null;var t=e.schedule.map((function(e){return e.map((function(e){return{time:e.time,tickets:e.ticketSigns,selected:!1,disabled:!1}}))}));return m(m({},e),{},{schedule:t})};var y=function(e){var t=e.ticketSigns,r=e.ticketProposalsMap;return t.reduce((function(e,t){var n,a=r[t],i=null==a||null===(n=a[0])||void 0===n?void 0:n.price.value;return(0,c.default)(i)?e:[].concat(e,[{ticketSign:t,price:i}])}),[])};t.prepareTicketInfo=y,t.calculateOneWayDirectSchedule=function(e,t,r,n){var i=[];return e.forEach((function(e){var c=e.reduce((function(e,i){var c=y({ticketSigns:i.tickets,ticketProposalsMap:t});if(!c.length)return e;var s=(0,a.default)(i.tickets,1)[0],u=i.tickets.includes(r),l=c[0],f=null==l?void 0:l.price;return[].concat(e,[m(m({},i),{},{ticketInfo:c,tickets:i.tickets,selected:u,priceDifference:(0,o.default)(f)?f-n:void 0,disabled:!s,ticketToOpen:s})])}),[]);i.push(c)})),i};var _=function(e,t,r){for(var n=[],a=function(a){var i=e[a],o=i.ticketInfo.map((function(e){return e.ticketSign})),c=(0,u.getTicketSignIntersection)(o,t),s=c,l=i.ticketInfo.find((function(e){return e.ticketSign===s})),f=null==l?void 0:l.price,d=!c,p=d?i.tickets[0]:c;n.push(m(m({},i),{},{priceDifference:Number.isFinite(f)?f-r:void 0,disabled:d,ticketToOpen:p}))},i=0;i<e.length;i+=1)a(i);return n};t.calculateSegment=_,t.calculateTwoWayDirectSchedule=function(e,t){for(var r=[],n=0;n<e.length;n+=1){var a,i=e[n],o=e[n?0:1].find((function(e){return e.selected})),c=null!=(a=null==o?void 0:o.tickets)?a:[];r.push(_(i,c,t))}return r};var b=function(e){for(var t,r={otherBaggage:[],hasBaggage:[]},n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var a,i=t.value;0!==(null==i||null===(a=i.baggage)||void 0===a?void 0:a.count)?r.hasBaggage.push(i):r.otherBaggage.push(i)}return r};t.buildDirectScheduleTariffs=b,t.getTicketProposalsUpsellsMap=function(e,t,r){for(var n={},a=0;a<e.length;a+=1){var i=e[a];if(!(i in n)){var o=(0,d.getDirectScheduleTicketBySign)(t,i);if(o){var c=o.proposals,s=b(c),u=s.hasBaggage,l=s.otherBaggage,p=r[i]===f.TariffType.HasBaggage;n[i]=p?u:l}}}return n},t.getTicketProposalsFaresMap=function(e,t,r){var n={};if(!r)return n;for(var a=0;a<e.length;a+=1){var i=e[a];if(!(i in n)){var o=(0,d.getDirectScheduleTicketBySign)(t,i);if(o){if(!o.extra_fares[r])continue;var c=(0,v.getDirectScheduleProposalsByTicketExtraFares)(t,i),u=(0,s.default)({fareKey:r},c);u&&(n[i]=[u])}}}return n},t.mapProposalDTOWithBaggage=function(e,t){for(var r={},n=0;n<t.segments.length;n+=1)for(var a=t.segments[n],i=0;i<a.flights.length;i+=1){var o,c=a.flights[i],s=e.flight_terms[c],u=(0,p.getBagsInfo)(s);0===n&&0===i&&(r=u),(o={})[l.BagsType.Baggage]=(0,p.getWorstBags)(r[l.BagsType.Baggage],u[l.BagsType.Baggage]),o[l.BagsType.Handbags]=null,r=o}return m(m({},e),{},{baggage:r[l.BagsType.Baggage]})}},875174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeExploreFilters=void 0;var n=r(945143);t.changeExploreFilters=function(e){return{type:n.EXPLORE_FILTERS_CHANGE,payload:{filters:e}}}},949793:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.exploreFiltersState=void 0;var a=n(r(101339)),i=r(945143);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.exploreFiltersState=function(e,t){return void 0===e&&(e={}),t.type===i.EXPLORE_FILTERS_CHANGE?c(c({},e),t.payload.filters):e}},187068:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExploreFiltersState=void 0,t.getExploreFiltersState=function(e){return e.exploreFiltersState}},945143:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExploreFilter=t.EXPLORE_FILTERS_CHANGE=void 0,t.EXPLORE_FILTERS_CHANGE="EXPLORE_FILTERS_CHANGE",t.ExploreFilter=r,function(e){e.Direct="filter_stops",e.Baggage="filter_baggage",e.WithoutVisa="filter_transfers_without_visa"}(r||(t.ExploreFilter=r={}))},199389:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapExploreFiltersToPrecheckFilters=function(e){return(0,i.default)([u(e),l(e),f(e)])({})};var a=n(r(101339)),i=n(r(396673)),o=n(r(711723));function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=(0,o.default)((function(e,t){var r=null==e?void 0:e.transfersCount;return r&&"0"===r[0]?s(s({},t),{},{filter_stops:!0}):t})),l=(0,o.default)((function(e,t){return null!=e&&e.baggage?s(s({},t),{},{filter_baggage:!0}):t})),f=(0,o.default)((function(e,t){return null!=e&&e.withoutVisa?s(s({},t),{},{filter_transfers_without_visa:!0}):t}))},982564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFareProposal=t.resetSelectedFareProposals=t.removeSelectedFareProposal=void 0;var n=r(759249);t.selectFareProposal=function(e,t,r){return{type:n.SELECT_FARE_PROPOSAL,ticketSign:e,proposalId:t,isDirectFlightClick:r}},t.removeSelectedFareProposal=function(e){return{type:n.REMOVE_SELECTED_FARE_PROPOSAL,ticketSign:e}},t.resetSelectedFareProposals=function(){return{type:n.RESET_SELECTED_FARE_PROPOSALS}}},940377:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FaresModalContentContainer=void 0;var a=n(r(101339)),i=n(r(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=r(445549),u=r(76486),l=r(338806),f=r(317637),d=r(441361),p=r(104185),v=r(982564),g=r(553104),h=n(r(690570)),m=r(234743);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e){var t=e.isSelected,r=e.fare,n=e.onClick,a=(0,s.useTranslation)("ticket").t,i=(0,o.useCallback)((function(e){n(e,r.proposalId)}),[r.proposalId,n]),c=o.default.createElement("div",{className:h.default.button},o.default.createElement(d.Button,null,a("ticket:fares:fareOptionButton")));return o.default.createElement("li",{className:h.default.item},o.default.createElement(l.FareCard,{showPrice:!0,price:r.price,options:r.options,title:r.title,onClick:i,buyButtonSlot:c,isSelected:t}))},T=function(e){var t=e.selectedProposal,r=e.fares,n=e.onFareClick,a=(0,s.useTranslation)("ticket").t;return r.length?o.default.createElement("ul",{className:h.default.content},r.map((function(e){var r=t.id===e.proposalId;return o.default.createElement(S,{key:e.proposalId,isSelected:r,fare:e,onClick:n})}))):o.default.createElement("div",{className:h.default.empty},o.default.createElement("p",{className:h.default["empty-text"]},a("fares.notFound")))},O=function(e){var t=e.option,r=e.onOptionClick,n=e.isSelected,a=(0,s.useTranslation)("ticket").t,i=(0,o.useCallback)((function(){r(t)}),[t,r]);return o.default.createElement(u.Chip,{className:h.default.option,isActive:!1,isDisabled:!1,onClick:i,isSelected:n},a("ticket:fares:chipsOption."+t))},P=function(e){var t=e.options,r=e.onOptionClick,n=e.filterOptions;return o.default.createElement("div",{className:h.default.filters},t.map((function(e){return o.default.createElement(O,{key:e,option:e,onOptionClick:r,isSelected:n[e]})})))};t.FaresModalContentContainer=function(e){var t=e.ticketSign,r=(0,c.useDispatch)(),n=(0,f.useLocaleContext)(),a=(0,c.useSelector)((function(e){return(0,p.getSelectedFareProposal)(e,t)})),s=(0,c.useSelector)((function(e){return(0,p.getRawProposalsByTicketExtraFares)(e,t)})),u=(0,c.useSelector)((function(e){return(0,p.getProposalsByExtraFares)(e,t)})),l=o.default.useState({baggage:!1,return:!1,change:!1}),d=(0,i.default)(l,2),y=d[0],_=d[1],S=(0,o.useCallback)((function(e){_((function(t){var r;return b(b({},t),{},((r={})[e]=!t[e],r))}))}),[]),O=(0,m.filterProposalsByFareOptions)(s,y),E=(0,m.getAvailableFareOptions)(s),k=(0,o.useCallback)((function(e,n){if(e.shiftKey)return e.preventDefault(),void r((0,g.proposalDebugClick)(t,n));r((0,v.selectFareProposal)(t,n))}),[r,t]);if(!a||!O)return null;var C=(0,m.getFareList)(n,O,u);return o.default.createElement("div",{className:h.default.root},E.length>0&&o.default.createElement(P,{options:E,onOptionClick:S,filterOptions:y}),o.default.createElement(T,{selectedProposal:a,fares:C,onFareClick:k}))}},364033:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FaresSelectedPreviewContainer=void 0;var a=n(r(797972)),i=r(224562),o=r(445549),c=r(338806),s=r(441361),u=r(317637),l=r(463854),f=r(104185),d=r(234743),p=n(r(857446)),v=function(e){var t=e.text,r=e.priority;return a.default.createElement("div",{className:p.default["button-change"]},a.default.createElement(s.Button,{priority:r},t))};t.FaresSelectedPreviewContainer=function(e){var t=e.ticketSign,r=e.onShowFaresModalClick,n=e.isSearchExpired,s=e.isVersusDrawerEnabled,g=(0,o.useTranslation)("ticket").t,h=(0,u.useLocaleContext)(),m=(0,i.useSelector)((function(e){return(0,f.getSelectedFareProposal)(e,t)})),y=(0,i.useSelector)((function(e){return(0,f.getRawProposalsByTicketExtraFares)(e,t)}));if(!m)return null;var _=(0,d.isShowFaresModalButtonVisible)(y,n,s),b=(0,d.isBaggageCanBeAddedTextVisible)(y),S=(0,d.getNextFarePrice)(m,y),T=(0,d.getFareOptions)(h,m.minimumFare,b),O=(0,d.getPriceFromProposal)(m),P=(0,d.getFareCardOptionText)(m),E=(0,d.getChangeFareButtonConfig)({selectedFareProposal:m,fareProposals:y}),k=E.changeFareButtonPriority,C=E.changeFareButtonText,w=_?a.default.createElement(v,{priority:k,text:C}):null,D=b?a.default.createElement(l.Text,{className:p.default["baggage-text"],type:l.TextType.Body3Regular},g("fares.cardText.baggageCanBeAdded")):null;return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.FareCard,{title:P,price:S,options:T,onUpgradeClick:r,basePrice:O,showPrice:!1,changeFareButtonSlot:w,additionalTextSlot:D,onClick:r}))}},527436:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FaresSelectedPreviewContainer",{enumerable:!0,get:function(){return n.FaresSelectedPreviewContainer}});var n=r(364033)},834853:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FaresSelectedPreviewContainer",{enumerable:!0,get:function(){return a.FaresSelectedPreviewContainer}}),Object.defineProperty(t,"MinimumFare",{enumerable:!0,get:function(){return i.MinimumFare}}),Object.defineProperty(t,"MinimumFareDTO",{enumerable:!0,get:function(){return i.MinimumFareDTO}}),Object.defineProperty(t,"MinimumFareMapper",{enumerable:!0,get:function(){return n.MinimumFareMapper}});var n=r(234743),a=r(527436),i=r(759249)},294119:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getUpsellWithDeltaPrice=t.getUpsellOptions=t.getTariffInfoItemWeightType=t.getTariffInfoItemUpsell=t.getTariffInfoItemType=t.getFaresForTicketInfoShowedEvent=t.getFaresForTicketFareInfoShowedEvent=t.getBagsInfoWeightType=t.getBagsInfoType=t.findBagsInfoUpsellsInNotAvailableType=t.findBagsInfoUpsellInAvailableType=t.findBagsInfoDownsellInNotAvailableType=t.findBagsInfoDownsellInAvailableType=t.TARIFF_INFO_ITEM_OPTION_WEIGHT_TYPES=void 0;var a=n(r(256283)),i={not_available:0,partially_available:1,available:2};t.TARIFF_INFO_ITEM_OPTION_WEIGHT_TYPES=i;var o={not_available:0,available:1},c=function(e){return e&&e.available?e.available&&e.penalty&&0===e.penalty.value?"available":"partially_available":"not_available"};t.getTariffInfoItemType=c;var s=function(e){return e&&0!==e.count?"available":"not_available"};t.getBagsInfoType=s,t.getFaresForTicketFareInfoShowedEvent=function(e,t){var r=(0,a.default)((function(e){return e.price}),e);return e.map((function(e){var n;return{fare_key:e.fareKey,price:e.price,delta_price:e.price-(null!=(n=null==r?void 0:r.price)?n:0),is_selected:t===e.id,fare_baggage:e.minimumFare.baggage,fare_handbags:e.minimumFare.handbags,fare_change:e.minimumFare.changeBeforeFlight,fare_return:e.minimumFare.returnBeforeFlight}}))};var u=function(e,t){return e.map((function(e){return{delta_price:e.price-t.price,is_selected:t.id===e.id,fare_baggage:e.minimumFare.baggage,fare_handbags:e.minimumFare.handbags,fare_change:e.minimumFare.changeBeforeFlight,fare_return:e.minimumFare.returnBeforeFlight}}))};t.getFaresForTicketInfoShowedEvent=u;var l=function(e){return"fare_"+e},f=function(e){var t,r=e.upsell,n=e.entity;if(r){var a=l(n);return(t={})[n]=r[a],t.delta_price=r.delta_price,t}};t.getUpsellWithDeltaPrice=f;var d=function(e){var t=e.bagsInfo,r=e.entity,n=s(t[r]);return o[n]};t.getBagsInfoWeightType=d;var p=function(e){var t=e.tariffInfoItem,r=e.entity,n=c(t[r]);return i[n]};t.getTariffInfoItemWeightType=p;var v=function(e){var t=e.analyticsFares,r=e.entity,n=e.selectedWeight,a=l(r),i=t.find((function(e){var t,r,i=e[a],c=d({bagsInfo:e,entity:a}),s=o.available;return!e.is_selected&&c===s&&(null!=(t=null==i?void 0:i.count)?t:0)*(null!=(r=null==i?void 0:i.weight)?r:0)>n}));return f({upsell:i,entity:r})};t.findBagsInfoUpsellInAvailableType=v;var g=function(e){var t=e.analyticsFares,r=e.entity,n=l(r),a=t.find((function(e){var t=d({bagsInfo:e,entity:n}),r=o.available;return!e.is_selected&&t===r}));return{downsell:void 0,upsell:f({upsell:a,entity:r})}};t.findBagsInfoUpsellsInNotAvailableType=g;var h=function(e){var t=e.analyticsFares,r=e.entity,n=e.selectedWeight,a=l(r);return t.reduce((function(e,t){var r,i,c=d({bagsInfo:t,entity:a}),s=o.available;if(t.is_selected||c!==s)return e;var u=t[a],l=(null!=(r=null==u?void 0:u.count)?r:0)*(null!=(i=null==u?void 0:u.weight)?i:0);return l>e.maxWeight&&l<n?{downsell:t,maxWeight:l}:e}),{downsell:void 0,maxWeight:-1}).downsell};t.findBagsInfoDownsellInAvailableType=h;var m=function(e){var t=e.analyticsFares,r=e.entity,n=l(r);return t.find((function(e){var t=d({bagsInfo:e,entity:n}),r=o.not_available;return!e.is_selected&&t===r}))};t.findBagsInfoDownsellInNotAvailableType=m;var y=function(e){var t,r,n=e.analyticsFares,a=e.selectedProposal,i=e.entity,c=a.minimumFare[i];if(d({bagsInfo:a.minimumFare,entity:i})===o.not_available)return g({analyticsFares:n,entity:i});var s=(null!=(t=null==c?void 0:c.count)?t:0)*(null!=(r=null==c?void 0:c.weight)?r:0),u=v({analyticsFares:n,entity:i,selectedWeight:s}),l=function(e){var t=e.analyticsFares,r=e.entity,n=h({analyticsFares:t,entity:r,selectedWeight:e.selectedWeight});return n||(n=m({analyticsFares:t,entity:r})),f({upsell:n,entity:r})}({analyticsFares:n,entity:i,selectedWeight:s});return{downsell:l,upsell:u}},_=function(e){var t=e.analyticsFares,r=e.entity,n=e.selectedFareWeightType,a=e.abortSearchWeightType,i=e.weightTypeToFind;if(n!==a){var o=l(r),c=t.find((function(e){var t=p({tariffInfoItem:e,entity:o});return!e.is_selected&&t===i}));return f({upsell:c,entity:r})}};t.getTariffInfoItemUpsell=_;var b=function(e){var t=e.analyticsFares,r=e.selectedProposal,n=e.entity,a=n+"BeforeFlight",o=p({tariffInfoItem:r.minimumFare,entity:a}),c=i.available;return{downsell:_({analyticsFares:t,entity:n,selectedFareWeightType:o,abortSearchWeightType:i.not_available,weightTypeToFind:o-1}),upsell:_({analyticsFares:t,entity:n,selectedFareWeightType:o,abortSearchWeightType:c,weightTypeToFind:o+1})}};t.getUpsellOptions=function(e,t){if(!t)return{};var r=u(e,t);return{fare_handbags_upsell_options:y({analyticsFares:r,selectedProposal:t,entity:"handbags"}),fare_baggage_upsell_options:y({analyticsFares:r,selectedProposal:t,entity:"baggage"}),fare_change_upsell_options:b({analyticsFares:r,selectedProposal:t,entity:"change"}),fare_return_upsell_options:b({analyticsFares:r,selectedProposal:t,entity:"return"})}}},234743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MinimumFareMapper",{enumerable:!0,get:function(){return i.MinimumFareMapper}}),Object.defineProperty(t,"filterProposalsByFareOptions",{enumerable:!0,get:function(){return n.filterProposalsByFareOptions}}),Object.defineProperty(t,"formatProposalsByTicketExtraFares",{enumerable:!0,get:function(){return i.formatProposalsByTicketExtraFares}}),Object.defineProperty(t,"getAvailableFareOptions",{enumerable:!0,get:function(){return n.getAvailableFareOptions}}),Object.defineProperty(t,"getChangeFareButtonConfig",{enumerable:!0,get:function(){return n.getChangeFareButtonConfig}}),Object.defineProperty(t,"getFareCardOptionText",{enumerable:!0,get:function(){return n.getFareCardOptionText}}),Object.defineProperty(t,"getFareList",{enumerable:!0,get:function(){return n.getFareList}}),Object.defineProperty(t,"getFareOptions",{enumerable:!0,get:function(){return n.getFareOptions}}),Object.defineProperty(t,"getFaresForTicketFareInfoShowedEvent",{enumerable:!0,get:function(){return a.getFaresForTicketFareInfoShowedEvent}}),Object.defineProperty(t,"getNextFarePrice",{enumerable:!0,get:function(){return n.getNextFarePrice}}),Object.defineProperty(t,"getPriceFromProposal",{enumerable:!0,get:function(){return n.getPriceFromProposal}}),Object.defineProperty(t,"getProposalFareOptions",{enumerable:!0,get:function(){return n.getProposalFareOptions}}),Object.defineProperty(t,"getProposalToRender",{enumerable:!0,get:function(){return n.getProposalToRender}}),Object.defineProperty(t,"getSelectedProposalById",{enumerable:!0,get:function(){return n.getSelectedProposalById}}),Object.defineProperty(t,"getUpsellOptions",{enumerable:!0,get:function(){return a.getUpsellOptions}}),Object.defineProperty(t,"isBaggageCanBeAddedTextVisible",{enumerable:!0,get:function(){return n.isBaggageCanBeAddedTextVisible}}),Object.defineProperty(t,"isShowFaresModalButtonVisible",{enumerable:!0,get:function(){return n.isShowFaresModalButtonVisible}}),Object.defineProperty(t,"prepareProposalsForFares",{enumerable:!0,get:function(){return n.prepareProposalsForFares}}),Object.defineProperty(t,"reorderFareProposals",{enumerable:!0,get:function(){return i.reorderFareProposals}});var n=r(281569),a=r(294119),i=r(472869)},472869:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.reorderFareProposals=t.formatProposalsByTicketExtraFares=t.formatDirectScheduleProposalsByTicketExtraFares=t.MinimumFareMapper=void 0;var a=n(r(101339)),i=n(r(114558)),o=n(r(954206)),c=n(r(96012)),s=r(104944);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){if(!e)return null;var t=e.width,r=e.length,n=e.height,a=e.weight,i=e.sum_dimension;return{count:e.count,weight:a,dimensions:(0,o.default)(n)&&(0,o.default)(r)&&(0,o.default)(t)?n+"x"+t+"x"+r:void 0,sumDimension:i}},d={fromDto:function(e){var t=e.code,r=e.baggage,n=e.handbags,a=e.change_before_flight,i=e.change_after_flight,o=e.return_before_flight,c=e.return_after_flight;return{code:t,baggage:f(r),handbags:f(n),changeBeforeFlight:a,changeAfterFlight:i,returnBeforeFlight:o,returnAfterFlight:c}}};t.MinimumFareMapper=d;var p=function(e,t){return e.reduce((function(e,r){var n=t.find((function(e){return e.id===r.proposal_id}));return n?[].concat(e,[n]):e}),[])};t.formatProposalsByTicketExtraFares=function(e,t){if(!t)return[];var r=function(e,t){return Object.entries(e).reduce((function(e,r){var n=(0,i.default)(r,2),a=n[0],o=n[1],c=p(o,t),s=v(c),u=(0,i.default)(s,1)[0];return u?[].concat(e,[l(l({},u),{},{fareKey:a})]):e}),[])}(t,e);return(0,c.default)("price","asc",r)},t.formatDirectScheduleProposalsByTicketExtraFares=function(e,t){return t?function(e,t){return Object.entries(e).reduce((function(e,r){var n=(0,i.default)(r,2),a=n[0],o=n[1],c=p(o,t),s=(0,i.default)(c,1)[0];return s?[].concat(e,[l(l({},s),{},{fareKey:a})]):e}),[])}(t,e):[]};var v=function(e){var t=e,r=(0,s.getPreparedAirlineProposalConsideringDowngrade)(e);return r&&(t=(0,s.raiseAirlineProposal)(e,r)),t};t.reorderFareProposals=v},281569:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareProposalsForFares=t.isShowFaresModalButtonVisible=t.isFareMinimal=t.isBaggageCanBeAddedTextVisible=t.hasFilterOption=t.getSelectedProposalById=t.getProposalToRender=t.getProposalFareOptions=t.getPriceFromProposal=t.getNextFarePrice=t.getMinimalFareButtonText=t.getHandBagsOption=t.getFlightInfoFareOptions=t.getFilterOption=t.getFareProposalsText=t.getFareOptions=t.getFareList=t.getFareCardOptionText=t.getEnabledFareOptions=t.getDisabledFareOptions=t.getChangeFareButtonConfig=t.getButtonText=t.getButtonPriority=t.getBaggageOption=t.getAvailableFareOptions=t.formatMinimalButtonText=t.filterProposalsByFareOptions=t.fareHasReturn=t.fareHasChange=t.fareHasBaggage=void 0;var a=n(r(101339)),i=n(r(114558)),o=n(r(275347)),c=n(r(954206)),s=n(r(205793)),u=n(r(396749)),l=n(r(249142)),f=n(r(530270)),d=n(r(749186)),p=r(372662),v=r(441361),g=r(104944);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){return function(t){return t&&t.available?t.available&&t.penalty&&0===t.penalty.value?{text:o.default.t("ticket:fares:"+e+".available"),availability:"available"}:{text:o.default.t("ticket:fares:"+e+".partiallyAvailable"),availability:"available"}:{text:o.default.t("ticket:fares:"+e+".notAvailable"),availability:"not_available"}}},_=function(e){return function(t,r,n){if(!r||0===r.count)return{text:null!=n?n:o.default.t("ticket:fares:"+e+".notAvailable"),availability:"not_available"};if(r.weight){var a=(0,p.format)(t,"mass_regular",p.Unit.kilogram(r.weight));return{text:o.default.t("ticket:fares:"+e+".withWeight",{count:r.count,weight:a}),availability:"available",dimension:r.dimensions,sumDimension:r.sumDimension}}return{text:o.default.t("ticket:fares:"+e+".available"),availability:"available",dimension:r.dimensions,sumDimension:r.sumDimension}}},b=_("baggage");t.getBaggageOption=b;var S=_("handbags");t.getHandBagsOption=S;var T=y("change"),O=y("return"),P=function(e){var t,r=null===(t=e.baggage)||void 0===t?void 0:t.count;return(0,c.default)(r)&&r>0};t.fareHasBaggage=P;var E=function(e){var t;return Boolean(null===(t=e.changeBeforeFlight)||void 0===t?void 0:t.available)};t.fareHasChange=E;var k=function(e){var t;return Boolean(null===(t=e.returnBeforeFlight)||void 0===t?void 0:t.available)};t.fareHasReturn=k;var C={baggage:P,change:E,return:k},w=function(e,t){return Boolean(C[t](e.minimumFare))};t.hasFilterOption=w;var D=function(e,t){return e.find((function(e){return w(e,t)}))?t:null};t.getFilterOption=D,t.getAvailableFareOptions=function(e){return Object.keys(C).reduce((function(t,r){var n=D(e,r);return n?[].concat(t,[n]):t}),[])},t.getSelectedProposalById=function(e,t){var r=(0,i.default)(e,1)[0];if(!t)return r;var n=(0,s.default)({id:t},e);return null!=n?n:r};var I=function(e){return Object.keys((0,d.default)((function(e){return e}),e))};t.getEnabledFareOptions=I;var A=function(e){return Object.keys((0,d.default)((function(e){return!e}),e))};t.getDisabledFareOptions=A,t.filterProposalsByFareOptions=function(e,t){var r=I(t);return e.filter((function(e){return r.every((function(t){return w(e,t)}))}))};var x=function(e){return Object.keys(C).reduce((function(t,r){var n;return m(m({},t),{},((n={})[r]=w(e,r),n))}),{})};t.getProposalFareOptions=x,t.getFareProposalsText=function(e){var t=x(e),r=t.baggage,n=t.change,a=t.return;return r||a||n?!r||a||n?r||a||!n?r||!a||n?!r&&a&&n?o.default.t("ticket:fares:proposals.withChangeAndReturn"):r&&!a&&n?o.default.t("ticket:fares:proposals.withBaggageAndChange"):r&&a&&!n?o.default.t("ticket:fares:proposals.withBaggageAndReturn"):o.default.t("ticket:fares:proposals.full"):o.default.t("ticket:fares:proposals.withReturn"):o.default.t("ticket:fares:proposals.withChange"):o.default.t("ticket:fares:proposals.withBaggage"):o.default.t("ticket:fares:proposals.base")};var j=function(e){var t=x(e),r=t.baggage,n=t.change,a=t.return;return r||a||n?!r||a||n?r||a||!n?r||!a||n?!r&&a&&n?o.default.t("ticket:fares:cardOption.withChangeAndReturn"):r&&!a&&n?o.default.t("ticket:fares:cardOption.withBaggageAndChange"):r&&a&&!n?o.default.t("ticket:fares:cardOption.withBaggageAndReturn"):o.default.t("ticket:fares:cardOption.full"):o.default.t("ticket:fares:cardOption.withReturn"):o.default.t("ticket:fares:cardOption.withChange"):o.default.t("ticket:fares:cardOption.withBaggage"):o.default.t("ticket:fares:cardOption.base")};t.getFareCardOptionText=j;var R=function(e,t,r){if(!t)return[];var n=r?o.default.t("ticket:fares:baggage.canBeAdded"):void 0;return[S(e,t.handbags),b(e,t.baggage,n),T(t.changeBeforeFlight),O(t.returnBeforeFlight)]};t.getFareOptions=R,t.getFlightInfoFareOptions=function(e,t){var r,n;return t?[S(e,t.handbags),b(e,t.baggage),T(null===(r=t.additionalTariffInfo)||void 0===r?void 0:r.changeBeforeFlight),O(null===(n=t.additionalTariffInfo)||void 0===n?void 0:n.returnBeforeFlight)]:[]};var M=function(e){return{value:e.price,currency:e.currency}};t.getPriceFromProposal=M,t.getFareList=function(e,t,r){return t.map((function(t){var n=R(e,t.minimumFare),a=M(t),i=j(t),o=(0,s.default)({id:t.id},r);return{proposalId:t.id,options:n,price:a,title:i,proposalWithDeeplink:o}}))},t.getProposalToRender=function(e){var t=e.isFaresExpEnabled,r=e.fareProposal,n=e.upsellProposal;return t&&r?r:n},t.isShowFaresModalButtonVisible=function(e,t,r){return(!r||!t)&&e.length>1},t.isBaggageCanBeAddedTextVisible=function(e){return!e.some((function(e){var t;return null===(t=e.minimumFare.baggage)||void 0===t?void 0:t.count}))},t.getNextFarePrice=function(e,t){var r=t.findIndex((function(t){return t.id===e.id})),n=r===t.length-1?e:t[r+1];return M(n)},t.prepareProposalsForFares=function(e,t){return e.reduce((function(e,r){var n=t(r);if(!n)return e;var a=(0,g.prepareProposal)(r,n);return[].concat(e,[a])}),[])};var F=function(e){var t=e.selectedFareProposal,r=e.fareProposals;return t.id===r[0].id};t.isFareMinimal=F;var N=function(e){return e?v.ButtonPriority.Primary:v.ButtonPriority.Secondary};t.getButtonPriority=N;var L=function(e){var t=e.map((function(e){return o.default.t("ticket:fares:changeFareButton."+e)}));if(1===t.length)return o.default.t("ticket:fares:changeFareButton.minimal.singular",{option:t[0]});var r=(0,u.default)(t).join(", "),n=(0,l.default)(t);return o.default.t("ticket:fares:changeFareButton.minimal.multiple",{firstOptions:r,lastOption:n})};t.formatMinimalButtonText=L;var B=function(e){var t=e.minimalFareProposal,r=e.nonMinimalFareProposals,n=x(t),a=A(n),i=a.filter((function(e){return D(r,e)}));return 0===a.length?o.default.t("ticket:fares:changeFareButton.minimal.upgrade"):L(i)};t.getMinimalFareButtonText=B;var U=function(e){var t=e.isMinimalFare,r=e.selectedFareProposal,n=e.fareProposals;return t?B({minimalFareProposal:r,nonMinimalFareProposals:(0,f.default)(n)}):o.default.t("ticket:fares:changeFareButton.nonMinimal")};t.getButtonText=U,t.getChangeFareButtonConfig=function(e){var t=e.selectedFareProposal,r=e.fareProposals,n=F({selectedFareProposal:t,fareProposals:r});return{changeFareButtonPriority:N(n),changeFareButtonText:U({isMinimalFare:n,selectedFareProposal:t,fareProposals:r})}}},774466:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.selectedFareProposalsReducer=void 0;var a=n(r(377754)),i=n(r(101339)),o=r(759249);function c(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={};t.selectedFareProposalsReducer=function(e,t){var r;switch(void 0===e&&(e=l),t.type){case o.SELECT_FARE_PROPOSAL:return u(u({},e),{},((r={})[t.ticketSign]=t.proposalId,r));case o.REMOVE_SELECTED_FARE_PROPOSAL:var n=e,i=t.ticketSign;return n[i],(0,a.default)(n,[i].map(c));case o.RESET_SELECTED_FARE_PROPOSALS:return l;default:return e}}},360894:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.faresModalShowedEvent=P,t.ticketFaresSaga=E;var i=n(r(385882)),o=r(67085),c=r(982175),s=r(520072),u=r(759249),l=r(539786),f=r(826183),d=r(351856),p=r(742029),v=r(101271),g=r(104185),h=r(234743),m=r(754266),y=a.mark(T),_=a.mark(O),b=a.mark(P),S=a.mark(E);function T(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(u.SELECT_FARE_PROPOSAL,i.default.mark((function e(t){var r,n,a,u,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ticketSign,!t.isDirectFlightClick){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,c.select)(g.getSelectedFareProposal,n);case 5:return a=e.sent,u=(0,g.isFaresExperimentEnabled)(),e.next=9,(0,c.select)(g.getSimilarFareProposals,n);case 9:return l=e.sent,e.next=12,(0,m.emitSeleneEvent)({type:"service/helios/serp/ticket/ticket_fare_selected",payload:{fareKey:null!=(r=null==a?void 0:a.fareKey)?r:null,fareProposals:u?l:null}});case 12:return e.next=14,(0,o.put)((0,s.closePopup)("ticketContent"));case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),y)}function O(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(d.OPEN_POPUP,i.default.mark((function e(t){var r,n,a,s,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ticketContent"===(r=t.popupType)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,c.select)(p.getPopupData,r);case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(a=n.ticketSign,n.modalData.type===v.TicketContentModalType.Fares){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,(0,c.select)(g.getSelectedFareProposal,a);case 13:return s=e.sent,e.next=16,(0,c.select)(g.getRawProposalsByTicketExtraFares,a);case 16:return u=e.sent,e.next=19,(0,o.fork)(P,a,s,u);case 19:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function P(e,t,r){var n,a,o,s;return i.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return n={category:"ticket",label:"fare_info",action:"showed"},i.next=5,(0,c.select)(l.getSearchId);case 5:return a=i.sent,o=(0,h.getFaresForTicketFareInfoShowedEvent)(r,t.id),s={search_id:a,ticket_signature:e,fares:o},i.next=10,(0,c.call)(f.sendAnalyticsEventSaga,n,s);case 10:case"end":return i.stop()}}),b)}function E(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(T);case 2:return e.next=4,(0,o.fork)(O);case 4:case"end":return e.stop()}}),S)}},104185:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.isFaresExperimentEnabled=t.isFaresExpDesktopOnSecondEnabled=t.getSimilarFareProposals=t.getSelectedFareProposal=t.getRawProposalsByTicketExtraFares=t.getProposalsByExtraFares=t.getProposals=t.getDirectScheduleSelectedFareProposal=t.getDirectScheduleProposalsByTicketExtraFares=void 0;var a=r(774953),i=n(r(816550)),o=r(25614),c=r(185387),s=r(234743),u=n(r(702944)),l=r(754854),f=r(729868),d=r(472869),p=r(587273),v=(0,a.createSelector)((function(e){return e.ticketSelectedFareProposals}),(function(e,t){return t}),(function(e,t){return e[t]})),g=(0,a.createSelector)(o.getTicketBySign,o.getTicketProposals,(function(e,t){return(0,i.default)(e)?[]:(0,s.formatProposalsByTicketExtraFares)(t,e.extra_fares)}));t.getRawProposalsByTicketExtraFares=g;var h=(0,a.createSelector)(l.getDirectScheduleTicketBySign,(function(e){return(0,i.default)(e)?[]:(0,d.formatDirectScheduleProposalsByTicketExtraFares)(null==e?void 0:e.proposals,(0,f.mapExtraFareCollection)(e.extra_fares))}));t.getDirectScheduleProposalsByTicketExtraFares=h;var m=(0,a.createSelector)(o.getTicketProposals,o.getTicketBySign,(function(e){return e}),(function(e,t,r){var n=(0,c.getDeeplinkFn)(r,t);return(0,s.prepareProposalsForFares)(e,n)}));t.getProposals=m;var y=(0,a.createSelector)(g,o.getTicketBySign,(function(e){return e}),(function(e,t,r){var n=(0,c.getDeeplinkFn)(r,t);return(0,s.prepareProposalsForFares)(e,n)}));t.getProposalsByExtraFares=y;var _=(0,a.createSelector)(v,y,(function(e,t){return(0,s.getSelectedProposalById)(t,e)}));t.getSelectedFareProposal=_;var b=(0,a.createSelector)(v,h,(function(e,t){return(0,s.getSelectedProposalById)(t,e)}));t.getDirectScheduleSelectedFareProposal=b;var S=(0,a.createSelector)(o.getTicketBySign,m,_,(function(e,t,r){var n=e.extra_fares;if(!n||null==r||!r.fareKey)return[];var a=n[r.fareKey].reduce((function(e,r){var n=r.proposal_id,a=t.find((function(e){return e.id===n}));return a?[].concat(e,[a]):e}),[]);return(0,s.reorderFareProposals)(a)}));t.getSimilarFareProposals=S,t.isFaresExperimentEnabled=function(){var e;return null===(e=u.default.get("serp-exp-fares"))||void 0===e?void 0:e.enabled},t.isFaresExpDesktopOnSecondEnabled=function(){return(0,p.isDesktop)()&&"on_second"===u.default.get("serp-exp-fares","variantKey")}},759249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SELECT_FARE_PROPOSAL=t.RESET_SELECTED_FARE_PROPOSALS=t.REMOVE_SELECTED_FARE_PROPOSAL=void 0,t.SELECT_FARE_PROPOSAL="SELECT_FARE_PROPOSAL",t.REMOVE_SELECTED_FARE_PROPOSAL="REMOVE_SELECTED_FARE_PROPOSAL",t.RESET_SELECTED_FARE_PROPOSALS="RESET_SELECTED_FARE_PROPOSAL"},651828:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateFiltersState=t.updateFiltersBoundaries=t.resetFiltersState=t.resetFiltersBoundaries=t.relaxFilters=t.changeFilters=void 0;var n=r(4480),a=r(242608);t.updateFiltersBoundaries=function(e){return{type:n.UPDATE_FILTERS_BOUNDARIES,boundaries:e}},t.resetFiltersBoundaries=function(){return{type:n.RESET_FILTERS_BOUNDARIES}},t.changeFilters=function(e,t){return{type:a.FILTERS_CHANGE,payload:{filters:e,source:t}}},t.updateFiltersState=function(e){return{type:a.UPDATE_FILTERS_STATE,state:e}},t.resetFiltersState=function(){return{type:a.RESET_FILTERS_STATE}},t.relaxFilters=function(){return{type:a.FILTERS_RELAX}}},537509:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsFilterContainer=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(966054)),u=r(319048),l=r(651828),f=r(864172),d=r(304547);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var v={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,isDividerVisible:!0,isSelectAllVisible:!0}};t.AgentsFilterContainer=function(e){var t=e.title,r=(0,c.useSelector)(u.getAgentsFilterData),n=(0,c.useSelector)(u.getAgentsFilterState),p=(0,c.useDispatch)(),g=(0,d.useFilterVariant)(),h=(0,d.useFilterVariantProps)(v),m=h.isSelectAllVisible,y=(0,i.default)(h,["isSelectAllVisible"]),_=(0,c.useSelector)(u.getAllAgentsIds),b=(0,c.useSelector)(u.getIsAnyAgentSelected),S=(0,o.useCallback)((function(e,t){var r=n||[],a=t?[].concat(r,[e]):(0,s.default)([e])(r);p((0,l.changeFilters)({agents:a}))}),[p,n]),T=(0,o.useCallback)((function(){p((0,l.changeFilters)({agents:_}))}),[p,_]),O=(0,o.useCallback)((function(){p((0,l.changeFilters)({agents:[]}))}),[p]);return r?o.default.createElement(f.AgentsFilter,(0,a.default)({title:t,agents:r,onChange:S,onSelectAllClick:T,onResetAllClick:O,showToggleAllRow:"sidebar"===g,isResetVisible:b,isSelectAllVisible:m&&!b},y)):null}},864172:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsFilter=void 0;var a=n(r(435850)),i=n(r(114558)),o=n(r(377754)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),s=r(445549),u=n(r(789914)),l=n(r(826158)),f=n(r(492709)),d=r(254894),p=r(896943),v=r(206067),g=r(903059),h=n(r(314337));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var y=f.default.bind(h.default),_=(0,c.memo)((function(e){var t=e.agents,r=e.onChange,n=e.showToggleAllRow,f=void 0!==n&&n,h=e.title,m=(0,o.default)(e,["agents","onChange","showToggleAllRow","title"]),_=(0,s.useTranslation)("filters").t,b=(0,c.useState)(""),S=(0,i.default)(b,2),T=S[0],O=S[1],P=(0,c.useCallback)((function(e){return O(e)}),[]),E=(0,c.useMemo)((function(){return new l.default(t,{keys:["name"]})}),[t]),k=(0,c.useMemo)((function(){return T?E.search(T).map((function(e){return e.item})):t}),[E,T,t]),C=m.onResetAllClick,w=m.onSelectAllClick,D=(0,c.useMemo)((function(){return(0,u.default)("isChecked",t)}),[t]),I=D?C:w;return c.default.createElement(p.FilterGroup,(0,a.default)({title:h},m),c.default.createElement(d.SearchInput,{className:y("search-input"),placeholder:_("agents.searchPlaceholder"),value:T,onChange:P}),f&&c.default.createElement(v.CheckboxRow,{checked:D,onChange:I},_("selectAll")),k.map((function(e){return c.default.createElement(g.AgentsFilterCheckboxRow,(0,a.default)({key:e.id,onChange:r},e))})))}));t.AgentsFilter=_,_.displayName="AgentsFilter"},903059:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(206067);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var o=(0,n.memo)((function(e){var t=e.id,r=e.name,i=e.price,o=e.currency,c=e.isChecked,s=e.onChange,u=(0,n.useCallback)((function(e){s(t,e)}),[t,s]);return n.default.createElement(a.CheckboxRow,{checked:c,price:i,currency:o,onChange:u},r)}));t.AgentsFilterCheckboxRow=o,o.displayName="AgentsFilterCheckboxRow"},296111:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AirlinesFilterContainer=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(966054)),u=r(38474),l=r(590340),f=r(385874),d=r(824684),p=r(651828),v=r(791848),g=r(462881),h=r(618375),m=r(304547);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var _={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,isDividerVisible:!0,isSelectAllVisible:!0}};t.AirlinesFilterContainer=function(){var e=(0,c.useSelector)(l.getAirlinesFilterData),t=(0,c.useSelector)(l.getAllAirlinesIatas),r=(0,c.useSelector)(l.getAirlinesFilterState),n=(0,c.useSelector)(l.getIsAirlinesFilterSelected),y=(0,c.useSelector)(f.getIsWithoutInterlinesFilterSelected),b=(0,c.useSelector)(d.getIsWithoutLowcostsFilterSelected),S=(0,c.useSelector)(u.getIsNightMode),T=(0,c.useDispatch)(),O=(0,m.useFilterVariant)(),P=(0,m.useFilterVariantProps)(_),E=P.isSelectAllVisible,k=(0,i.default)(P,["isSelectAllVisible"]),C=n||y||b,w=(0,o.useCallback)((function(e,t){var n=r||[],a=t?[].concat(n,[e]):(0,s.default)([e])(n);T((0,p.changeFilters)({airlines:a}))}),[T,r]),D=(0,o.useCallback)((function(){T((0,p.changeFilters)({airlines:t}))}),[T,t]),I=(0,o.useCallback)((function(){T((0,p.changeFilters)({airlines:[]}))}),[T]),A=(0,o.useCallback)((function(){T((0,p.changeFilters)({airlines:[],withoutLowcosts:!1,withoutInterlines:!1}))}),[T]);if(!e)return null;var x=o.default.createElement(o.Fragment,null,o.default.createElement(g.WithoutLowcostsFilterContainer,null),o.default.createElement(h.WithoutInterlinesFilterContainer,null));return o.default.createElement(v.AirlinesFilter,(0,a.default)({airlines:e,onChange:w,additionalContent:x,onSelectAllClick:D,onResetAllClick:A,onResetListClick:I,isResetVisible:C,isSelectAllVisible:E&&!C,isNight:S,showToggleAllRow:"sidebar"===O},k))}},791848:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AirlinesFilter=void 0;var a=n(r(435850)),i=n(r(114558)),o=n(r(377754)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),s=r(445549),u=n(r(789914)),l=n(r(826158)),f=n(r(492709)),d=r(254894),p=r(423996),v=r(896943),g=r(206067),h=n(r(808392));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var y=f.default.bind(h.default),_=(0,c.memo)((function(e){var t=e.airlines,r=e.onChange,n=e.isNight,f=void 0!==n&&n,h=e.showToggleAllRow,m=void 0!==h&&h,_=e.additionalContent,b=void 0===_?null:_,S=e.onResetListClick,T=(0,o.default)(e,["airlines","onChange","isNight","showToggleAllRow","additionalContent","onResetListClick"]),O=(0,s.useTranslation)("filters").t,P=(0,c.useState)(""),E=(0,i.default)(P,2),k=E[0],C=E[1],w=(0,c.useCallback)((function(e){return C(e)}),[]),D=(0,c.useMemo)((function(){return new l.default(t,{keys:["iata","name"]})}),[t]),I=(0,c.useMemo)((function(){return k?D.search(k).map((function(e){return e.item})):t}),[D,k,t]),A=T.onSelectAllClick,x=(0,c.useMemo)((function(){return(0,u.default)("isChecked",t)}),[t]),j=x?S:A;return c.default.createElement(v.FilterGroup,(0,a.default)({},T,{title:O("airlines.title")}),b,c.default.createElement(d.SearchInput,{className:y("search-input"),placeholder:O("airlines.searchPlaceholder"),value:k,onChange:w}),m&&c.default.createElement(g.CheckboxRow,{checked:x,onChange:j},O("selectAll")),I.map((function(e){return c.default.createElement(p.AirlinesFilterCheckboxRow,(0,a.default)({key:e.iata,isNight:f,onChange:r},e))})))}));t.AirlinesFilter=_,_.displayName="AirlinesFilter"},423996:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AirlinesFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(206067);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var o=(0,n.memo)((function(e){var t=e.iata,r=e.name,i=e.price,o=e.currency,c=e.transportType,s=e.isChecked,u=e.isNight,l=void 0!==u&&u,f=e.onChange,d=(0,n.useCallback)((function(e){f(t,e)}),[t,f]),p=(0,n.useMemo)((function(){return{carrier:t,carrierName:r,transportType:c}}),[t,r,c]);return n.default.createElement(a.CheckboxRow,{checked:s,price:i,currency:o,onChange:d,checkboxPosition:"right",carrierInfo:p,isNight:l},r,n.default.createElement("span",{className:"--secondary"}," "+t))}));t.AirlinesFilterCheckboxRow=o,o.displayName="AirlinesFilterCheckboxRow"},768402:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AirportsFilterContainer=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=r(445549),u=n(r(966054)),l=n(r(26045)),f=n(r(399136)),d=r(334),p=r(590129),v=r(668894),g=r(651828),h=r(862907),m=r(304547);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var _={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,isDividerVisible:!0,isSelectAllVisible:!0}};t.AirportsFilterContainer=function(){var e=(0,c.useSelector)(p.getAirportsFilterData);return e.length?o.default.createElement(o.default.Fragment,null,(0,l.default)((function(e){var t=e.cityIata,r=e.airports,n=e.isSameDepartureArrival,a=e.isSameDepartureArrivalVisible;return o.default.createElement(b,{key:t,cityIata:t,airports:r,isSameDepartureArrival:n,isSameDepartureArrivalVisible:a})}),e)):null};var b=function(e){var t=e.cityIata,r=e.airports,n=e.isSameDepartureArrival,y=e.isSameDepartureArrivalVisible,b=(0,s.useTranslation)("filters").t,S=(0,c.useDispatch)(),T=(0,m.useFilterVariant)(),O=(0,m.useFilterVariantProps)(_),P=O.isSelectAllVisible,E=(0,i.default)(O,["isSelectAllVisible"]),k=(0,l.default)("iata",r),C=(0,c.useSelector)(d.getAirports),w=(0,c.useSelector)(p.getAirportsFilterState),D=(0,c.useSelector)((function(e){return(0,p.getIsAnyAirportOfCitySelected)(e,t)})),I=(0,c.useSelector)(v.getSameDepartureArrivalAirportsFilterState),A=(0,o.useCallback)((function(e,t){var r=w||[],n=t?[].concat(r,[e]):(0,u.default)([e])(r);S((0,g.changeFilters)({airports:n}))}),[S,w]),x=(0,o.useCallback)((function(e){var r=I||[],n=e?[].concat(r,[t]):(0,u.default)([t])(r);S((0,g.changeFilters)({sameDepartureArrivalAirports:n}))}),[S,t,I]),j=(0,o.useCallback)((function(){var e=(0,u.default)(k)(w);S((0,g.changeFilters)({airports:e}))}),[k,w,S]),R=(0,o.useCallback)((function(){var e=(0,u.default)(k)(w),r=(0,u.default)([t])(I);S((0,g.changeFilters)({airports:e,sameDepartureArrivalAirports:r}))}),[S,t,k,w,I]),M=(0,o.useCallback)((function(){var e=w||[];S((0,g.changeFilters)({airports:[].concat(e,k)}))}),[S,k,w]),F=(0,f.default)(r)>1&&(n||D);return o.default.createElement(h.AirportsFilter,(0,a.default)({title:b("airports."+("sidebar"===T?"titleFull":"title"),{placePrCase:C[r[0].iata].cases.pr}||t),airports:r,onChange:A,onSameDepartureArrivalChange:x,sameDepartureArrival:n,isSameDepartureArrivalVisible:y,showToggleAllRow:"sidebar"===T,onResetListClick:j,onResetAllClick:R,onSelectAllClick:M,isResetVisible:F,isSelectAllVisible:P&&(0,f.default)(r)>1&&!F},E))}},862907:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AirportsFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=n(r(604281)),u=n(r(789914)),l=n(r(399136)),f=r(896943),d=r(206067),p=r(510890),v=r(529901);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,o.memo)((function(e){var t=e.airports,r=e.sameDepartureArrival,n=void 0!==r&&r,g=e.isSameDepartureArrivalVisible,h=void 0!==g&&g,m=e.showToggleAllRow,y=e.onChange,_=void 0===y?s.default:y,b=e.onSameDepartureArrivalChange,S=void 0===b?s.default:b,T=e.onResetListClick,O=void 0===T?s.default:T,P=(0,i.default)(e,["airports","sameDepartureArrival","isSameDepartureArrivalVisible","showToggleAllRow","onChange","onSameDepartureArrivalChange","onResetListClick"]),E=(0,c.useTranslation)("filters").t,k=(0,o.useMemo)((function(){return(0,u.default)("isChecked",t)}),[t]),C=P.onSelectAllClick,w=k?O:C,D=1===(0,l.default)(t);return o.default.createElement(f.FilterGroup,P,o.default.createElement(o.default.Fragment,null,m&&!D&&o.default.createElement(d.CheckboxRow,{checked:k,onChange:w},E("selectAll")),t.map((function(e){return o.default.createElement(v.AirportsFilterCheckboxRow,(0,a.default)({key:e.iata,onChange:_,disabled:D},e))})),h&&o.default.createElement(p.SwitchRow,{checked:n,onChange:S},E("sameArrivalDeparture"))))}));t.AirportsFilter=h,h.displayName="AirportsFilter"},529901:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AirportsFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(206067);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var o=(0,n.memo)((function(e){var t=e.iata,r=e.name,i=e.price,o=e.currency,c=e.isChecked,s=e.disabled,u=e.onChange,l=(0,n.useCallback)((function(e){u(t,e)}),[t,u]);return n.default.createElement(a.CheckboxRow,{key:t,checked:c,checkboxPosition:"left",price:i,currency:o,onChange:l,disabled:s},r,n.default.createElement("span",{className:"--secondary"}," "+t))}));t.AirportsFilterCheckboxRow=o,o.displayName="AirportsFilterCheckboxRow"},651599:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AlliancesFilterContainer=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(966054)),u=r(524609),l=r(651828),f=r(934208),d=r(304547);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var v={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,isDividerVisible:!0,isSelectAllVisible:!0}};t.AlliancesFilterContainer=function(){var e=(0,c.useSelector)(u.getAlliancesFilterData),t=(0,c.useSelector)(u.getAllAlliancesIds),r=(0,c.useSelector)(u.getAlliancesFilterState),n=(0,c.useDispatch)(),p=(0,d.useFilterVariantProps)(v),g=p.isSelectAllVisible,h=(0,i.default)(p,["isSelectAllVisible"]),m=(0,c.useSelector)(u.getIsAnyAllianceSelected),y=(0,o.useCallback)((function(e,t){var a=r||[],i=t?[].concat(a,[e]):(0,s.default)([e])(a);n((0,l.changeFilters)({alliances:i}))}),[n,r]),_=(0,o.useCallback)((function(){n((0,l.changeFilters)({alliances:t}))}),[n,t]),b=(0,o.useCallback)((function(){n((0,l.changeFilters)({alliances:[]}))}),[n]);return null!=e&&e.length?o.default.createElement(f.AlliancesFilter,(0,a.default)({alliances:e,onChange:y,onSelectAllClick:_,onResetAllClick:b,isResetVisible:m,isSelectAllVisible:g&&!m},h)):null}},934208:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AlliancesFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=r(682294),u=r(896943);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,o.memo)((function(e){var t=e.alliances,r=e.onChange,n=e.isNight,l=(0,i.default)(e,["alliances","onChange","isNight"]),f=(0,c.useTranslation)("filters").t;return o.default.createElement(u.FilterGroup,(0,a.default)({},l,{title:f("alliances.title")}),t.map((function(e){var t=e.id,a=e.name,i=e.price,c=e.isChecked,u=e.currency;return o.default.createElement(s.AlliancesFilterCheckboxRow,{key:t,id:t,isChecked:c,price:i,currency:u,isNight:n,onChange:r,name:a})})))}));t.AlliancesFilter=f,f.displayName="AlliancesFilter"},682294:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlliancesFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(206067);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var o=(0,n.memo)((function(e){var t=e.id,r=e.name,i=e.price,o=e.currency,c=e.isChecked,s=e.isNight,u=void 0!==s&&s,l=e.onChange,f=(0,n.useCallback)((function(e){l(t,e)}),[t,l]),d=(0,n.useMemo)((function(){return{carrier:"alliance_"+t,carrierName:r,transportType:"plane"}}),[t,r]);return n.default.createElement(a.CheckboxRow,{checked:c,checkboxPosition:"right",price:i,currency:o,carrierInfo:d,isNight:u,onChange:f},n.default.createElement("span",null,r))}));t.AlliancesFilterCheckboxRow=o,o.displayName="AlliancesFilterCheckboxRow"},832033:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageFilterContainer=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(595173),s=r(890338),u=r(651828),l=r(973187),f=r(304547),d=r(268637);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var v={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,titleSize:"large"}};t.BaggageFilterContainer=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(c.getBaggageFilterData),r=(0,f.useFilterVariantProps)(v),n=(0,o.useSelector)(c.getIsBaggageFilterSelected),p=(0,o.useSelector)(s.getIsVirtualInterlineFilterSelected),g=(0,i.useCallback)((function(t){e((0,u.changeFilters)({baggage:t}))}),[e]),h=(0,i.useCallback)((function(){e((0,u.changeFilters)({baggage:!1,withoutVirtualInterline:!1}))}),[e]);if(!t)return null;var m=n||p;return i.default.createElement(l.BaggageFilter,(0,a.default)({},t,{onChange:g,onResetAllClick:h,isResetVisible:m,additionalContent:i.default.createElement(d.WithoutVirtualInterlineFilterContainer,null)},r))}},973187:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=r(896943),u=r(206067),l=n(r(333788));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d=(0,o.memo)((function(e){var t=e.price,r=e.currency,n=e.isChecked,f=void 0!==n&&n,d=e.additionalContent,p=void 0===d?null:d,v=e.onChange,g=(0,i.default)(e,["price","currency","isChecked","additionalContent","onChange"]),h=(0,c.useTranslation)("filters").t;return o.default.createElement(s.FilterGroup,(0,a.default)({title:h("baggage.title")},g),o.default.createElement(u.CheckboxRow,{checked:f,price:t,currency:r,onChange:v},h("baggage.baggageIncluded")),p&&o.default.createElement("div",{className:l.default.additionalContent},p))}));t.BaggageFilter=d,d.displayName="BaggageFilter"},206067:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxRow=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=n(r(604281)),s=r(463854),u=r(514837),l=r(100590),f=r(918165),d=r(459195);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}r(255787);var v=(0,o.default)("checkbox-row");t.CheckboxRow=function(e){var t,r=e.checked,n=e.checkboxPosition,o=void 0===n?"left":n,p=e.carrierInfo,g=e.price,h=e.currency,m=e.disabled,y=void 0!==m&&m,_=e.isNight,b=void 0!==_&&_,S=e.onChange,T=void 0===S?c.default:S,O=e.children,P=e.className,E=(0,i.useCallback)((function(e){e.preventDefault(),y||T(!r)}),[r,y,T]);return i.default.createElement(l.FilterRow,{className:v(null,(t={"--disabled":y},t[""+P]=!!P,t)),onClick:E,withHover:!y},"left"===o&&i.default.createElement(u.Checkbox,{disabled:y,className:v("checkbox"),checked:r,onChange:E}),p&&i.default.createElement(d.FilterCarrier,(0,a.default)({isNight:b},p)),i.default.createElement(s.Text,{className:v("content"),type:s.TextType.Body2Regular},O),"number"==typeof g&&h&&i.default.createElement(f.FilterPrice,{price:g,currency:h}),"right"===o&&i.default.createElement(u.Checkbox,{checked:r,onChange:E}))}},938288:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersMenuItem=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(604281)),o=r(896943);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=(0,a.memo)((function(e){var t=e.title,r=e.isTagSelected,n=void 0!==r&&r,c=e.tagText,s=void 0===c?"":c,u=e.onTagClose,l=void 0===u?i.default:u,f=e.onClick,d=void 0===f?i.default:f;return a.default.createElement(o.FilterGroup,{title:t,openType:"modal",titleSize:"large",isTagVisible:!0,isTagSelected:n,tagText:s,onTagClose:l,onTitleClick:d})}));t.FiltersMenuItem=s,s.displayName="FiltersMenuItem"},355518:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersMenuItem",{enumerable:!0,get:function(){return n.FiltersMenuItem}});var n=r(938288)},898625:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersModalFooter=void 0;var a=n(r(797972)),i=n(r(281005));t.FiltersModalFooter=function(e){var t=e.children;return a.default.createElement("div",{className:i.default.root},t)}},68782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersModalFooter",{enumerable:!0,get:function(){return n.FiltersModalFooter}});var n=r(898625)},139321:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersMenuItem",{enumerable:!0,get:function(){return n.FiltersMenuItem}}),Object.defineProperty(t,"FiltersModalFooter",{enumerable:!0,get:function(){return a.FiltersModalFooter}}),Object.defineProperty(t,"SubmitButton",{enumerable:!0,get:function(){return i.SubmitButton}});var n=r(355518),a=r(68782),i=r(806147)},806147:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SubmitButton",{enumerable:!0,get:function(){return n.SubmitButton}});var n=r(192679)},192679:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SubmitButton=void 0;var a=n(r(797972)),i=r(445549),o=n(r(954206)),c=r(441361),s=r(463854),u=n(r(871838)),l=n(r(858540));t.SubmitButton=function(e){var t=e.progress,r=e.disabled,n=e.onClick,f=e.type,d=e.price,p=e.currency,v=(0,i.useTranslation)("filters").t;return a.default.createElement(c.Button,{floating:!0,progress:t,disabled:r,priority:c.ButtonPriority.Primary,mod:c.ButtonMod.Green,size:c.ButtonSize.M,onClick:n},"empty"===f&&a.default.createElement(c.Button.Label,{className:l.default.labelNotFound,type:s.TextType.Body1Semi},v("filters:mobileSubmitButton:ticketsNotFound")),"done"===f&&a.default.createElement(c.Button.Label,{type:s.TextType.Body1Semi},v("filters:mobileSubmitButton:done")),"showResults"===f&&a.default.createElement(a.default.Fragment,null,a.default.createElement(c.Button.Label,{type:s.TextType.Body2Semi},v("filters:mobileSubmitButton:showTickets")),p&&(0,o.default)(d)&&a.default.createElement(c.Button.Label,{type:s.TextType.CaptionSemi},v("filters:mobileSubmitButton:price"),a.default.createElement(u.default,{value:d,roundingMode:"ceil",currency:p}))))}},530561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentsMenuItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(445549),o=r(520072),c=r(319048),s=r(651828),u=r(139321);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}t.AgentsMenuItem=function(){var e=(0,i.useTranslation)("filters").t,t=(0,a.useDispatch)(),r=(0,a.useSelector)(c.getIsAnyAgentSelected),l=(0,a.useSelector)(c.getSelectedAgentsCount),f=(0,a.useSelector)(c.getTotalAgentsCount),d=(0,n.useMemo)((function(){return r?e("selectedNumber",{selected:l,total:f}):e("all")}),[e,r,l,f]),p=(0,n.useCallback)((function(){t((0,s.changeFilters)({agents:[]}))}),[t]),v=(0,n.useCallback)((function(){t((0,o.openPopup)("nestedFilters",{filterType:"agents"}))}),[t]);return n.default.createElement(u.FiltersMenuItem,{title:e("agents.title"),onClick:v,isTagSelected:r,tagText:d,onTagClose:p})}},291090:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AgentsMenuItem",{enumerable:!0,get:function(){return n.AgentsMenuItem}});var n=r(530561)},712471:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AirlinesMenuItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(224562),o=r(520072),c=r(590340),s=r(651828),u=r(139321);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}t.AirlinesMenuItem=function(){var e=(0,i.useDispatch)(),t=(0,a.useTranslation)("filters").t,r=(0,i.useSelector)(c.getIsAirlinesFilterSelected),l=(0,i.useSelector)(c.getSelectedAirlinesCount),f=(0,i.useSelector)(c.getTotalAirlinesCount),d=(0,n.useMemo)((function(){return r?t("selectedNumber",{selected:l,total:f}):t("all")}),[t,r,l,f]),p=(0,n.useCallback)((function(){e((0,s.changeFilters)({airlines:[],withoutLowcosts:!1,withoutInterlines:!1}))}),[e]),v=(0,n.useCallback)((function(){e((0,o.openPopup)("nestedFilters",{filterType:"airlines"}))}),[e]);return n.default.createElement(u.FiltersMenuItem,{title:t("airlines.title"),onClick:v,isTagSelected:r,tagText:d,onTagClose:p})}},813015:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AirlinesMenuItem",{enumerable:!0,get:function(){return n.AirlinesMenuItem}});var n=r(712471)},565422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AirportsMenuItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(224562),o=r(520072),c=r(590129),s=r(651828),u=r(139321),l=r(299425),f=r(668894);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}t.AirportsMenuItem=function(){var e=(0,i.useDispatch)(),t=(0,a.useTranslation)("filters").t,r=(0,i.useSelector)(f.getIsSameDepartureArrivalFilterSelected),d=(0,i.useSelector)(c.getIsAnyAirportSelected),p=(0,i.useSelector)(c.getSelectedAirportsCount),v=(0,i.useSelector)(c.getTotalAirportsCount),g=(0,i.useSelector)(l.getIsAnyTransfersAirportSelected),h=(0,i.useSelector)(l.getSelectedTransfersAirportsCount),m=(0,i.useSelector)(l.getTotalTransfersAirportsCount),y=r||d||g,_=p+h,b=v+m,S=(0,n.useMemo)((function(){return y?t("selectedNumber",{selected:_||b,total:b}):t("all")}),[t,y,_,b]),T=(0,n.useCallback)((function(){e((0,s.changeFilters)({airports:[],transfersAirports:[],sameDepartureArrivalAirports:[]}))}),[e]),O=(0,n.useCallback)((function(){e((0,o.openPopup)("nestedFilters",{filterType:"airports"}))}),[e]);return n.default.createElement(u.FiltersMenuItem,{title:t("airports.airports"),onClick:O,isTagSelected:y,tagText:S,onTagClose:T})}},646258:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AirportsMenuItem",{enumerable:!0,get:function(){return n.AirportsMenuItem}});var n=r(565422)},328733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersModal=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(445549),o=r(601779),c=r(735475),s=r(742029),u=r(520072),l=r(833928),f=r(651828),d=r(295035),p=r(579324),v=r(82443),g=r(569993),h=r(775737),m=r(832033),y=r(594920),_=r(185519),b=r(291090),S=r(813015),T=r(646258),O=r(927061),P=r(829176);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}t.FiltersModal=function(){var e=(0,a.useSelector)((function(e){return(0,s.getPopupIsOpen)(e,"filters")})),t=(0,a.useSelector)(c.getIsAnyFilterSelected),r=(0,i.useTranslation)("filters").t,E=(0,a.useDispatch)(),k=(0,n.useCallback)((function(){E((0,u.closePopup)("filters"))}),[E]),C=(0,n.useCallback)((function(){E((0,f.relaxFilters)())}),[E]);return n.default.createElement(o.ModalCore,{fixedFooter:!0,header:n.default.createElement(l.MainFiltersNavbar,{title:r("filters"),onDone:k,onReset:C,showResetBtn:t}),animationType:o.ModalAnimationType.Up,visible:e,width:o.ModalWidth.Medium,onClose:k,footer:n.default.createElement(d.MainModalFooter,null)},n.default.createElement(m.BaggageFilterContainer,null),n.default.createElement(p.TransfersCountFilterContainer,null),n.default.createElement(y.TransfersDurationFilterContainer,null),n.default.createElement(v.ConvenienceFilterContainer,null),n.default.createElement(h.DepartureArrivalTimeFilterContainer,null),n.default.createElement(_.TripDurationFilterContainer,null),n.default.createElement(g.PriceFilterContainer,null),n.default.createElement(S.AirlinesMenuItem,null),n.default.createElement(T.AirportsMenuItem,null),n.default.createElement(b.AgentsMenuItem,null),n.default.createElement(O.PaymentMethodsMenuItem,null),n.default.createElement(P.SortingContainer,{variant:"mobile"}))}},568941:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersModal",{enumerable:!0,get:function(){return n.FiltersModal}});var n=r(328733)},86620:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersSidebar=void 0;var a=n(r(797972)),i=r(224562),o=r(445549),c=n(r(492709)),s=r(902093),u=r(539786),l=r(627039),f=r(829176),d=r(579324),p=r(82443),v=r(569993),g=r(775737),h=r(768402),m=r(594920),y=r(537509),_=r(296111),b=r(651599),S=r(860187),T=r(185519),O=r(832033),P=r(811430),E=r(727697),k=n(r(899659)),C=c.default.bind(k.default);t.FiltersSidebar=function(){var e=(0,o.useTranslation)("filters").t,t=(0,i.useSelector)(u.getSearchStatus),r="access_denied"===(0,i.useSelector)(l.getError)||t===s.SearchStatus.Inited||t===s.SearchStatus.Started,n=(0,i.useSelector)(u.getIsSearchExpired);if(r)return a.default.createElement(E.FiltersLoader,null);var c=C(k.default.root,"--sidebar",{"is-disabled":n}),w=e("agents.title"),D=e("paymentMethods.title");return a.default.createElement("div",{className:c},a.default.createElement(d.TransfersCountFilterContainer,null),a.default.createElement(m.TransfersDurationFilterContainer,null),a.default.createElement(p.ConvenienceFilterContainer,null),a.default.createElement(g.DepartureArrivalTimeFilterContainer,null),a.default.createElement(O.BaggageFilterContainer,null),a.default.createElement(_.AirlinesFilterContainer,null),a.default.createElement(b.AlliancesFilterContainer,null),a.default.createElement(T.TripDurationFilterContainer,null),a.default.createElement(P.TransfersAirportsFilterContainer,null),a.default.createElement(h.AirportsFilterContainer,null),a.default.createElement(v.PriceFilterContainer,null),a.default.createElement(y.AgentsFilterContainer,{title:w}),a.default.createElement(S.PaymentMethodsFilterContainer,{title:D}),a.default.createElement(f.SortingContainer,{variant:"desktop"}))}},70025:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersSidebar",{enumerable:!0,get:function(){return n.FiltersSidebar}});var n=r(86620)},63101:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AgentsMenuItem",{enumerable:!0,get:function(){return n.AgentsMenuItem}}),Object.defineProperty(t,"AirlinesMenuItem",{enumerable:!0,get:function(){return a.AirlinesMenuItem}}),Object.defineProperty(t,"AirportsMenuItem",{enumerable:!0,get:function(){return i.AirportsMenuItem}}),Object.defineProperty(t,"FiltersModal",{enumerable:!0,get:function(){return c.FiltersModal}}),Object.defineProperty(t,"FiltersSidebar",{enumerable:!0,get:function(){return s.FiltersSidebar}}),Object.defineProperty(t,"MainModalFooter",{enumerable:!0,get:function(){return u.MainModalFooter}}),Object.defineProperty(t,"NestedModalFooter",{enumerable:!0,get:function(){return l.NestedModalFooter}}),Object.defineProperty(t,"PaymentMethodsMenuItem",{enumerable:!0,get:function(){return o.PaymentMethodsMenuItem}});var n=r(291090),a=r(813015),i=r(646258),o=r(927061),c=r(568941),s=r(70025),u=r(295035),l=r(518681)},295035:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MainModalFooter",{enumerable:!0,get:function(){return n.MainModalFooter}});var n=r(255885)},255885:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.MainModalFooter=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(224562),o=r(896911),c=n(r(954206)),s=r(386452),u=r(520072),l=r(239733),f=r(25614),d=r(139321),p=r(653520);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}t.MainModalFooter=function(){var e=(0,i.useDispatch)(),t=(0,i.useSelector)(f.getIsTicketsListEmpty),r=(0,i.useSelector)(l.getSearchPageIsLoaded),n=(0,o.useStore)(s.$currency),v=(0,i.useSelector)(p.getCheapestPrice),g=(0,a.useCallback)((function(){e((0,u.closePopup)("filters"))}),[e]);return a.default.createElement(d.FiltersModalFooter,null,a.default.createElement(d.SubmitButton,{type:t?"empty":"showResults",progress:!r,disabled:!r||t,price:(0,c.default)(v)?v:void 0,currency:n,onClick:g}))}},518681:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NestedModalFooter",{enumerable:!0,get:function(){return n.NestedModalFooter}});var n=r(772864)},772864:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestedModalFooter=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(520072),o=r(239733),c=r(25614),s=r(139321);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}t.NestedModalFooter=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(c.getIsTicketsListEmpty),r=(0,a.useSelector)(o.getSearchPageIsLoaded),u=(0,n.useCallback)((function(){e((0,i.closePopup)("nestedFilters"))}),[e]);return n.default.createElement(s.FiltersModalFooter,null,n.default.createElement(s.SubmitButton,{type:t?"empty":"done",progress:!r,disabled:!r||t,onClick:u}))}},927061:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(44498);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},44498:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethodsMenuItem=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(445549),o=r(520072),c=r(536150),s=r(651828),u=r(139321);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}t.PaymentMethodsMenuItem=function(){var e=(0,i.useTranslation)("filters").t,t=(0,a.useDispatch)(),r=(0,a.useSelector)(c.getIsAnyPaymentMethodSelected),l=(0,a.useSelector)(c.getSelectedPaymentMethodsCount),f=(0,a.useSelector)(c.getTotalPaymentMethodsCount),d=(0,n.useMemo)((function(){return r?e("selectedNumber",{selected:l,total:f}):e("all")}),[e,r,l,f]),p=(0,n.useCallback)((function(){t((0,s.changeFilters)({paymentMethods:[]}))}),[t]),v=(0,n.useCallback)((function(){t((0,o.openPopup)("nestedFilters",{filterType:"paymentMethods"}))}),[t]);return n.default.createElement(u.FiltersMenuItem,{title:e("paymentMethods.title"),onClick:v,isTagSelected:r,tagText:d,onTagClose:p})}},829176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SortingContainer",{enumerable:!0,get:function(){return n.SortingContainer}});var n=r(972418)},972418:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SortingContainer=t.SCORING_SORT_FLAG_KEY=void 0;var a=n(r(797972)),i=r(445549),o=r(568082),c=r(663579),s=n(r(702944)),u=r(896943),l="serp-exp-scoringSort";t.SCORING_SORT_FLAG_KEY=l;var f=(0,c.withFlagr)(s.default,[l])((function(e){var t=e.variant,r=(0,i.useTranslation)("filters").t,n="mobile"===t?"large":"old",c="mobile"===t?"sorting_mobile":"sorting_desktop";return s.default.is(l)?null:a.default.createElement(u.FilterGroup,{title:r("sorting.title"),openType:"dropdown",titleSize:n,isDividerVisible:!0},a.default.createElement(o.SeleneWidget,{name:c}))}));t.SortingContainer=f},82443:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ConvenienceFilterContainer=void 0;var a=n(r(435850)),i=n(r(101339)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(171353)),u=r(296117),l=r(651828),f=r(773094),d=r(304547),p=r(185658);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m={sidebar:{isDividerVisible:!0,titleSize:"old"},horizontal:{},mobile:{isInitiallyOpen:!0,titleSize:"large"}};t.ConvenienceFilterContainer=function(){var e=(0,c.useSelector)(p.getFiltersState),t=(0,c.useSelector)(u.getConvenienceFilterData),r=(0,c.useDispatch)(),n=(0,d.useFilterVariantProps)(m),i=(0,c.useSelector)(u.getIsAnyConvenienceFilterSelected),v=(0,o.useCallback)((function(e,t){var n;r((0,l.changeFilters)(((n={})[e]=t,n)))}),[r]),g=(0,o.useCallback)((function(){r((0,l.changeFilters)((0,s.default)((function(t,r){var n;return e[r]?h(h({},t),{},((n={})[r]=!1,n)):t}),e,u.CONVENIENCE_FILTER_KEYS)))}),[r,e]);return t.length?o.default.createElement(f.ConvenienceFilter,(0,a.default)({filters:t,onChange:v,onResetAllClick:g,isResetVisible:i},n)):null}},773094:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ConvenienceFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=r(896943),u=r(77528);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,o.memo)((function(e){var t=e.filters,r=e.onChange,n=(0,i.default)(e,["filters","onChange"]),l=(0,c.useTranslation)("filters").t;return o.default.createElement(s.FilterGroup,(0,a.default)({title:l("convenience.title")},n),t.map((function(e){return o.default.createElement(u.ConvenienceFilterSwitchRow,(0,a.default)({key:e.id},e,{onChange:r}))})))}));t.ConvenienceFilter=f,f.displayName="ConvenienceFilter"},77528:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConvenienceFilterSwitchRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(510890);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.id,r=e.isChecked,o=e.onChange,c=(0,a.useTranslation)("filters").t,s=(0,n.useMemo)((function(){return c("convenience."+t+".info",{returnObjects:!0})}),[c,t]),u=(0,n.useCallback)((function(e){o(t,e)}),[t,o]);return n.default.createElement(i.SwitchRow,{checked:r,onChange:u,filterInfo:s},c("convenience."+t+".title"))}));t.ConvenienceFilterSwitchRow=c,c.displayName="ConvenienceFilterSwitchRow"},775737:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.DepartureArrivalTimeFilterContainer=void 0;var a=n(r(435850)),i=n(r(101339)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(966054)),u=r(445549),l=r(63607),f=r(430162),d=r(922746),p=r(651828),v=r(31116),g=r(304547);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,titleSize:"large"}},b=function(e){var t,r=e.segmentIndex,n=(0,u.useTranslation)("filters").t,i=(0,c.useDispatch)(),h=(0,o.useMemo)(d.makeGetDepartureArrivalTimeFilterData,[]),m=(0,c.useSelector)(f.getSearchParams),b=(0,c.useSelector)(d.getDepartureArrivalTimeFilterState),S=(0,c.useSelector)((function(e){return h(e,{segmentIndex:r})})),T=(0,c.useSelector)((function(e){return(0,d.getIsDepartureArrivalTimeFilterSegmentSelected)(e,r)})),O=(0,g.useFilterVariantProps)(_),P=(0,o.useCallback)((function(e,t){var n,a,o=e.getTime(),c=(null==b||null===(n=b[r])||void 0===n?void 0:n.selectedDates)||[],u=t?[].concat(c,[o]):(0,s.default)([o])(c),l=y(y({},b),{},((a={})[r]=y(y({},null==b?void 0:b[r]),{},{selectedDates:u}),a));i((0,p.changeFilters)({departureArrivalTime:l}))}),[i,b,r]),E=(0,o.useCallback)((function(e,t){var n,a,o=y(y({},b),{},((a={})[r]=y(y({},null==b?void 0:b[r]),{},((n={})[e]=t,n)),a));i((0,p.changeFilters)({departureArrivalTime:o}))}),[i,b,r]),k=(0,o.useCallback)((function(e){E("departure",e)}),[E]),C=(0,o.useCallback)((function(e){E("arrival",e)}),[E]),w=(0,o.useCallback)((function(){var e,t=y(y({},b),{},((e={})[r]={},e));i((0,p.changeFilters)({departureArrivalTime:t}))}),[i,b,r]);if(!S||!m)return null;var D=m.segments,I=m.tripType;if(!D||!D[r])return null;var A=r===D.length-1&&I===l.TripDirectionType.RoundTrip?n("departureArrivalTime.roundTripSegmentPrefix"):n("departureArrivalTime.segmentPrefix"),x=D[r],j=I===l.TripDirectionType.Multiway?x.origin+" – "+x.destination:A+" "+(null===(t=x.destination_cases)||void 0===t?void 0:t.vi),R=S.arrival,M=S.departure,F=S.dates,N=S.currency;return o.default.createElement(v.DepartureArrivalTimeFilter,(0,a.default)({title:j,arrival:R,departure:M,dates:F,currency:N,onCheckboxChange:P,onDepartureChange:k,onArrivalChange:C,onResetAllClick:w,isResetVisible:T},O))};t.DepartureArrivalTimeFilterContainer=function(){var e=(0,c.useSelector)(f.getSearchParams);return e&&e.segments?o.default.createElement(o.Fragment,null,e.segments.map((function(e,t){return o.default.createElement(b,{key:t,segmentIndex:t})}))):null}},771426:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useTagTextFormatter=t.useCheckboxText=void 0;var a=n(r(114558)),i=n(r(116)),o=r(372662),c=r(402030);t.useCheckboxText=function(e){return{dayOfMonth:(0,c.useToken)("ts_day_month",e),dayOfWeek:(0,c.useToken)("ts_day_short",e)}},t.useTagTextFormatter=function(){var e=(0,c.useToken)("interval_time");return function(t){var r=(0,a.default)(t,2),n=r[0],c=r[1],s=(0,i.default)().getTime();return e(new o.Interval({start:new Date(s+n),end:new Date(s+c)}))}}},31116:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.DepartureArrivalTimeFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=n(r(797972)),c=n(r(604281)),s=r(445549),u=n(r(225385)),l=r(463854),f=r(896943),d=r(489075),p=r(305300),v=r(771426);r(21068);var g=(0,u.default)("departure-arrival-filter");t.DepartureArrivalTimeFilter=function(e){var t=e.title,r=e.arrival,n=e.departure,u=e.dates,h=e.currency,m=e.onCheckboxChange,y=void 0===m?c.default:m,_=e.onDepartureChange,b=void 0===_?c.default:_,S=e.onArrivalChange,T=void 0===S?c.default:S,O=(0,i.default)(e,["title","arrival","departure","dates","currency","onCheckboxChange","onDepartureChange","onArrivalChange"]),P=(0,s.useTranslation)("filters").t,E=(0,v.useTagTextFormatter)();return o.default.createElement(f.FilterGroup,(0,a.default)({},O,{title:t,className:g()}),o.default.createElement(d.RangeRow,(0,a.default)({},n,{title:P("departureArrivalTime.departure"),currency:h,formatTagText:E,onChange:b})),o.default.createElement(d.RangeRow,(0,a.default)({},r,{title:P("departureArrivalTime.arrival"),currency:h,formatTagText:E,onChange:T})),o.default.createElement("div",{className:g("dates-wrap")},o.default.createElement(l.Text,{type:l.TextType.Body2Regular,className:g("dates-title")},P("departureArrivalTime.arrival_date")),u.map((function(e){return o.default.createElement(p.DepartureArrivalTimeCheckboxRow,(0,a.default)({},e,{currency:h,key:e.date.toDateString(),onChange:y}))}))))}},305300:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DepartureArrivalTimeCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(206067),i=r(771426);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.date,r=e.isChecked,o=e.price,c=e.currency,s=e.onChange,u=(0,n.useCallback)((function(e){s(t,e)}),[t,s]),l=(0,i.useCheckboxText)(t),f=l.dayOfMonth,d=l.dayOfWeek;return n.default.createElement(a.CheckboxRow,{checked:r,price:o,currency:c,onChange:u},f,n.default.createElement("span",{className:"--secondary"},", "+d))}));t.DepartureArrivalTimeCheckboxRow=c,c.displayName="DepartureArrivalTimeCheckboxRow"},459195:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterCarrier=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(696204);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}r(179863);var s=(0,i.default)("filter-carrier"),u=(0,a.memo)((function(e){var t,r=e.carrier,n=e.carrierName,i=e.transportType,c=e.isNight,u=void 0!==c&&c,l=e.className,f=(0,o.getTransportTypeInfo)(i),d=s(null,((t={})[""+l]=!!l,t));return a.default.createElement(a.default.Fragment,null,"plane"===i&&a.default.createElement(o.CarrierLogo,{className:d,marketingCarrierIata:r,marketingCarrierName:n,size:o.CarrierLogoSize.Small,isNightMode:u}),"plane"!==i&&f&&a.default.createElement(o.CarrierIcon,{type:f.icon,className:d,size:o.CarrierIconSize.Small}))}));t.FilterCarrier=u,u.displayName="FilterCarrier"},896943:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterGroup=void 0;var a=n(r(435850)),i=n(r(114558)),o=n(r(377754)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),s=n(r(225385)),u=r(310443);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(350839);var f=(0,s.default)("filter-group");t.FilterGroup=function(e){var t,r=e.className,n=e.children,s=e.isInitiallyOpen,l=void 0!==s&&s,d=e.openType,p=e.onTitleClick,v=(0,o.default)(e,["className","children","isInitiallyOpen","openType","onTitleClick"]),g=(0,c.useState)(!d||l),h=(0,i.default)(g,2),m=h[0],y=h[1],_=(0,c.useCallback)((function(){if(d){var e=!m;"modal"===d&&p&&p(e),"dropdown"===d&&y(e)}}),[m,d,p]);return c.default.createElement("div",{className:f(null,(t={"--is-open":m},t[""+r]=!!r,t))},c.default.createElement(u.FilterHeader,(0,a.default)({isOpen:m,openType:d,onTitleClick:d?_:void 0},v)),c.default.createElement("div",{className:f("content")},n))}},310443:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterHeader=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=n(r(604281)),s=r(385509),u=r(757418),l=r(463854),f=r(248333),d=r(372819);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}r(752757);var v=(0,i.default)("filter-header"),g=(0,a.memo)((function(e){var t,r,n=e.title,i=e.titleSize,p=void 0===i?"regular":i,g=e.isDividerVisible,h=void 0!==g&&g,m=e.isResetVisible,y=void 0!==m&&m,_=e.isSelectAllVisible,b=void 0!==_&&_,S=e.isTagVisible,T=void 0!==S&&S,O=e.isTagSelected,P=void 0!==O&&O,E=e.tagText,k=e.openType,C=e.isOpen,w=void 0!==C&&C,D=e.onTitleClick,I=void 0===D?c.default:D,A=e.onSelectAllClick,x=void 0===A?c.default:A,j=e.onResetAllClick,R=void 0===j?c.default:j,M=e.onTagClose,F=void 0===M?c.default:M,N=(0,o.useTranslation)("filters").t,L=(0,u.useCurrentBreakpoint)(s.breakpoints),B=null==L?void 0:L.is([s.BreakpointName.Desktop,s.BreakpointName.Tablet]),U=(0,a.useMemo)((function(){return"old"===p?l.TextType.Body3Semi:B?l.TextType.Body2Bold:"large"===p?l.TextType.Title4Bold:l.TextType.Body2Bold}),[p,B]),H=(0,a.useCallback)((function(){return I(w)}),[w,I]),W=(0,a.useCallback)((function(e){e.stopPropagation(),R()}),[R]),G=(0,a.useCallback)((function(e){e.stopPropagation(),x()}),[x]);return a.default.createElement("div",{className:v(null,(t={},t["--"+p]=!0,t["--with-divider"]=h,t["--is-clickable"]=!!k,t)),onClick:H},a.default.createElement(l.Text,{className:v("title"),type:U,truncateMode:l.TruncateTextMode.SingleLine},n),T&&Boolean(null==E?void 0:E.length)&&a.default.createElement("div",{className:v("tag-wrapper")},a.default.createElement(d.FilterTag,{isSelected:P,onClose:F},E)),y&&a.default.createElement("button",{className:v("toggle-all"),onClick:W},a.default.createElement(l.Text,{className:v("toggle-all-text"),type:l.TextType.Body2Regular},N("reset"))),b&&a.default.createElement("button",{className:v("toggle-all"),onClick:G},a.default.createElement(l.Text,{className:v("toggle-all-text"),type:l.TextType.Body2Regular},N("selectAll"))),k&&a.default.createElement(f.Icon24ControlsChevron,{className:v("open-icon",(r={},r["--"+k]=!0,r["--is-open"]=!!w,r))}))}));t.FilterHeader=g,g.displayName="FilterHeader"},617642:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterInfo=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(445549),s=r(385509),u=r(757418),l=r(265950),f=r(150455),d=r(129844),p=r(463854),v=r(392220);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}r(292063);var h=(0,o.default)("filter-info"),m=(0,i.memo)((function(e){var t=e.title,r=e.text,n=(0,c.useTranslation)("filters").t,o=(0,u.useCurrentBreakpoint)(s.breakpoints),g=null==o?void 0:o.is([s.BreakpointName.Mobile,s.BreakpointName.MobileLandscape]),m=(0,i.useState)(!1),y=(0,a.default)(m,2),_=y[0],b=y[1],S=(0,i.useCallback)((function(e){e.stopPropagation(),b(!0)}),[]),T=(0,i.useCallback)((function(){b(!1)}),[]);return t||r?i.default.createElement("div",{className:h()},g?i.default.createElement(i.default.Fragment,null,i.default.createElement("button",{className:h("button"),type:"button",onClick:S},i.default.createElement(d.Icon24ControlsInfo,{className:h("icon")})),i.default.createElement(f.Dialog,{className:h("dialog"),visible:_},t&&i.default.createElement(p.Text,{className:h("dialog-title"),type:p.TextType.Body1Bold},t),r&&i.default.createElement(p.Text,{className:h("dialog-text"),type:p.TextType.Body2Regular},r),i.default.createElement(v.Button,{className:h("dialog-cancel"),onClick:T,mod:v.ButtonMod.Secondary,size:v.ButtonSize.Small},i.default.createElement(p.Text,{className:h("dialog-cancel-text"),type:p.TextType.Body2Semi},n("cancelDialog"))))):i.default.createElement(l.Tooltip,{placement:"right",content:i.default.createElement(p.Text,{type:p.TextType.Body3Paragraph},t&&i.default.createElement(i.default.Fragment,null,t,i.default.createElement("br",null)),r)},i.default.createElement(d.Icon24ControlsInfo,{className:h("icon")}))):null}));t.FilterInfo=m,m.displayName="FilterInfo"},918165:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterPrice=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=n(r(805814));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}r(283959);var s=(0,i.default)("filter-price"),u=(0,a.memo)((function(e){var t=e.price,r=e.currency;return a.default.createElement(o.default,{className:s(),value:t,currency:r,mode:"kilos"})}));t.FilterPrice=u,u.displayName="FilterPrice"},100590:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FilterRow=void 0;var a=n(r(435850)),i=n(r(377754)),o=n(r(797972)),c=n(r(225385));r(552007);var s=(0,c.default)("filter-row"),u=function(e){var t,r=e.withHover,n=void 0!==r&&r,c=e.rowRef,u=e.className,l=(0,i.default)(e,["withHover","rowRef","className"]);return o.default.createElement("div",(0,a.default)({ref:c,className:s(null,(t={},t[""+u]=!!u,t["--with-hover"]=n,t))},l))};t.FilterRow=u,u.displayName="FilterRow"},836930:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersLoader=void 0;var a=n(r(797972)),i=r(445549),o=r(463854),c=r(561401),s=r(867357),u=n(r(951231));t.FiltersLoader=function(){var e=(0,i.useTranslation)("filters").t;return a.default.createElement("div",{className:u.default.card},a.default.createElement(o.Text,{className:u.default.text,type:c.TextType.Body2Regular},e("filters:loading")),a.default.createElement(s.ProgressBar,{className:u.default.progressBar,definition:s.ProgressBarDef.Indeterminate}))}},727697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersLoader",{enumerable:!0,get:function(){return n.FiltersLoader}});var n=r(836930)},238738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFilterVariantProps=t.useFilterVariant=void 0;var n=r(937435),a=function(){return(0,n.useIsMobile)()?"mobile":"sidebar"};t.useFilterVariant=a,t.useFilterVariantProps=function(e){return e[a()]}},481639:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useFilterVariant",{enumerable:!0,get:function(){return n.useFilterVariant}}),Object.defineProperty(t,"useFilterVariantProps",{enumerable:!0,get:function(){return n.useFilterVariantProps}});var n=r(238738)},304547:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useFilterVariant",{enumerable:!0,get:function(){return n.useFilterVariant}}),Object.defineProperty(t,"useFilterVariantProps",{enumerable:!0,get:function(){return n.useFilterVariantProps}});var n=r(481639)},851306:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FiltersModal",{enumerable:!0,get:function(){return n.FiltersModal}}),Object.defineProperty(t,"FiltersSidebar",{enumerable:!0,get:function(){return n.FiltersSidebar}});var n=r(63101)},833928:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MainFiltersNavbar",{enumerable:!0,get:function(){return n.MainFiltersNavbar}}),Object.defineProperty(t,"MainFiltersNavbarProps",{enumerable:!0,get:function(){return a.MainFiltersNavbarProps}});var n=r(728141),a=r(233786)},728141:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.MainFiltersNavbar=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=r(445549),c=r(463854),s=r(633656),u=n(r(758894));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=i.default.bind(u.default),d=(0,a.memo)((function(e){var t=e.title,r=e.onReset,n=e.onDone,i=e.showResetBtn,u=(0,o.useTranslation)("filters").t;return a.default.createElement(s.MobileNavbar,{title:t,leftNode:a.default.createElement(a.default.Fragment,null,i&&a.default.createElement("button",{className:f("button","left"),onClick:r},a.default.createElement(c.Text,{type:c.TextType.Body1Regular},u("mainFiltersNavbar.buttonReset")))),rightNode:a.default.createElement("button",{className:f("button","right"),onClick:n},a.default.createElement(c.Text,{type:c.TextType.Body1Semi},u("mainFiltersNavbar.buttonDone")))})}));t.MainFiltersNavbar=d,d.displayName="MainFiltersNavbar"},233786:function(){},860187:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethodsFilterContainer=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=n(r(966054)),u=r(536150),l=r(651828),f=r(45646),d=r(304547);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var v={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,isDividerVisible:!0,isSelectAllVisible:!0}};t.PaymentMethodsFilterContainer=function(e){var t=e.title,r=(0,c.useDispatch)(),n=(0,d.useFilterVariant)(),p=(0,d.useFilterVariantProps)(v),g=p.isSelectAllVisible,h=(0,i.default)(p,["isSelectAllVisible"]),m=(0,c.useSelector)(u.getPaymentMethodsFilterData),y=(0,c.useSelector)(u.getPaymentMethodsFilterState),_=(0,c.useSelector)(u.getAllPaymentMethodIds),b=(0,c.useSelector)(u.getIsAnyPaymentMethodSelected),S=(0,o.useCallback)((function(e,t){var n=y||[],a=t?[].concat(n,[e]):(0,s.default)([e],n);r((0,l.changeFilters)({paymentMethods:a}))}),[r,y]),T=(0,o.useCallback)((function(){r((0,l.changeFilters)({paymentMethods:_}))}),[r,_]),O=(0,o.useCallback)((function(){r((0,l.changeFilters)({paymentMethods:[]}))}),[r]);return o.default.createElement(f.PaymentMethodsFilter,(0,a.default)({title:t,paymentMethods:m,onChange:S,onSelectAllClick:T,onResetAllClick:O,showToggleAllRow:"sidebar"===n,isResetVisible:b,isSelectAllVisible:g&&!b},h))}},45646:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethodsFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=n(r(789914)),u=r(896943),l=r(206067),f=r(997236);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p=(0,o.memo)((function(e){var t=e.title,r=e.paymentMethods,n=e.onChange,d=e.showToggleAllRow,p=void 0!==d&&d,v=(0,i.default)(e,["title","paymentMethods","onChange","showToggleAllRow"]),g=(0,c.useTranslation)("filters").t,h=v.onResetAllClick,m=v.onSelectAllClick,y=(0,o.useMemo)((function(){return(0,s.default)("isChecked",r)}),[r]),_=y?h:m;return o.default.createElement(u.FilterGroup,(0,a.default)({title:t},v),p&&o.default.createElement(l.CheckboxRow,{checked:y,onChange:_},g("selectAll")),r.map((function(e){return o.default.createElement(f.PaymentMethodsFilterCheckboxRow,(0,a.default)({key:e.id,onChange:n},e))})))}));t.PaymentMethodsFilter=p,p.displayName="PaymentMethodsFilter"},997236:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethodsFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(206067);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.id,r=e.price,o=e.currency,c=e.isChecked,s=e.onChange,u=(0,a.useTranslation)("payment").t,l=(0,n.useCallback)((function(e){s(t,e)}),[t,s]);return n.default.createElement(i.CheckboxRow,{checked:c,checkboxPosition:"left",onChange:l,price:r,currency:o},u("types."+t))}));t.PaymentMethodsFilterCheckboxRow=c,c.displayName="PaymentMethodsFilterCheckboxRow"},569993:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PriceFilterContainer=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(445549),s=r(651828),u=r(189842),l=r(818934),f=r(304547);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,titleSize:"large"}};t.PriceFilterContainer=function(){var e=(0,c.useTranslation)("filters").t,t=(0,o.useDispatch)(),r=(0,o.useSelector)(u.getPriceFilterData),n=(0,f.useFilterVariant)(),d=(0,f.useFilterVariantProps)(p),v=(0,o.useSelector)(u.getIsPriceFilterSelected),g=e("sidebar"===n?"price.description":"price.title"),h=(0,i.useCallback)((function(e){t((0,s.changeFilters)({price:{value:e}}))}),[t]),m=(0,i.useCallback)((function(){t((0,s.changeFilters)({price:{value:(null==r?void 0:r.max)||0}}))}),[t,r]);return r?i.default.createElement(l.PriceFilter,(0,a.default)({},r,{onChange:h,title:e("price.title"),description:g,onResetAllClick:m,isResetVisible:v},d)):null}},818934:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PriceFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=r(285291),u=r(489075),l=r(896943);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}t.PriceFilter=function(e){var t=e.title,r=e.description,n=e.min,f=e.max,d=e.value,p=e.currency,v=e.onChange,g=(0,i.default)(e,["title","description","min","max","value","currency","onChange"]),h=(0,c.useTranslation)("filters").t,m=(0,o.useCallback)((function(e){return h("price.tag",{price:(0,s.formatPriceWithSign)(e,p)})}),[h,p]);return o.default.createElement(l.FilterGroup,(0,a.default)({title:t},g),o.default.createElement(u.SliderRow,{title:r,min:n,max:f,value:d,onChange:v,formatTagText:m}))}},489075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RangeRow",{enumerable:!0,get:function(){return n.RangeRow}}),Object.defineProperty(t,"SliderRow",{enumerable:!0,get:function(){return a.SliderRow}});var n=r(45272),a=r(366018)},833621:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RangeHead",{enumerable:!0,get:function(){return n.RangeHead}});var n=r(434924)},434924:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.RangeHead=void 0;var a=n(r(797972)),i=n(r(225385)),o=r(463854),c=r(372819);r(745976);var s=(0,i.default)("range-head");t.RangeHead=function(e){var t=e.tagText,r=e.onTagClose,n=e.className,i=e.children,u=e.isTagSelected,l=void 0!==u&&u;return a.default.createElement("div",{className:s(null,n)},a.default.createElement(o.Text,{className:s("content"),type:o.TextType.Body2Regular,truncateMode:o.TruncateTextMode.SingleLine},i),t&&a.default.createElement(c.FilterTag,{className:s("tag"),isSelected:l,onClose:r},t))}},45272:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RangeRow",{enumerable:!0,get:function(){return n.RangeRow}});var n=r(627523)},81097:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RangeGraph",{enumerable:!0,get:function(){return n.RangeGraph}});var n=r(345838)},573888:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useRangeGraphAttrs=void 0;var a=n(r(114558)),i=r(797972),o=n(r(954206)),c=r(41889),s=function(e,t){var r=t||[0,e.length-1],n=(0,a.default)(r,2),i=n[0],s=n[1],u=e.slice(i,s+1).reduce((function(e,t){var r=t.value;return(0,o.default)(r)&&r>0&&e.push(r),e}),[]);if(0===u.length)return[0,0];var l=u.sort((function(e,t){return e-t}));return[l[0],(0,c.percentile)(l,.75)]};t.useRangeGraphAttrs=function(e,t){return(0,i.useMemo)((function(){var r=1/e.length*100,n=.25*r,i=r-n,o=s(e),c=(0,a.default)(o,2)[1],u=t||[0,e.length-1],l=(0,a.default)(u,2),f=l[0],d=l[1],p=f*r,v=(Math.abs(d-f)+1)*r-n,g=!(0===f&&d===e.length-1),h=s(e,t);return{from:f,to:d,step:r,width:i,maxValue:c,highlightStart:p,highlightWidth:v,showHighlightOverlay:g,minHighlightedValue:(0,a.default)(h,1)[0],priceElementLeftPosition:p+v/2}}),[e,t])}},345838:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.RangeGraph=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(463854),s=n(r(805814)),u=r(573888);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(849515);var f=(0,i.default)("range-graph"),d=(0,a.memo)((function(e){var t=e.cols,r=e.highlightedRange,n=e.currency,i=void 0===n?"rub":n,l=e.className,d=(0,u.useRangeGraphAttrs)(t,r),p=d.from,v=d.to,g=d.width,h=d.step,m=d.maxValue,y=d.highlightStart,_=d.highlightWidth,b=d.showHighlightOverlay,S=d.minHighlightedValue,T=d.priceElementLeftPosition;return a.default.createElement("div",{className:f(null,l)},a.default.createElement("svg",{className:f("svg")},t.map((function(e,t){var r=e.key,n=e.value,i=n?100*Math.min(1,n/m):0,o=!b||t>=p&&t<=v;return a.default.createElement("rect",{className:f("col",{"--is-highlighted":o,"--empty":!n}),key:r,width:g+"%",height:i+"%",x:h*t+"%",y:100-i+"%"})})),b&&a.default.createElement("rect",{className:f("highlight"),width:_+"%",height:"100%",x:y+"%",y:"0%"})),a.default.createElement(c.Text,{type:c.TextType.CaptionSemi,className:f("price",{"--is-visible":b}),style:{left:T+"%"}},a.default.createElement(o.Trans,{ns:"common",i18nKey:"minRangeLabel"},a.default.createElement(s.default,{value:S,currency:i,mode:"kilos"}))))}));t.RangeGraph=d,d.displayName="RangeGraph"},627523:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.RangeRow=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=n(r(531760)),s=n(r(673784)),u=r(246605),l=r(100590),f=r(833621),d=r(81097),p=r(659792);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}r(434674);var g=(0,o.default)("range-filter"),h=function(e){var t=e.title,r=e.value,n=e.min,a=e.step,o=e.cols,c=e.currency,s=e.tagText,u=e.isTagSelected,l=e.onTagClose,v=(0,i.useMemo)((function(){return(0,p.getHighlightedRange)(n,r,a)}),[n,r,a]);return i.default.createElement("div",{className:g("overlay")},t&&i.default.createElement(f.RangeHead,{className:g("overlay-head"),tagText:s,isTagSelected:u,onTagClose:l},t),i.default.createElement(d.RangeGraph,{className:g("graph"),cols:o,highlightedRange:v,currency:c}))};t.RangeRow=function(e){var t=e.title,r=e.value,n=e.min,o=e.max,d=e.valueMapper,p=void 0===d?s.default:d,v=e.marks,m=e.formatTagText,y=e.cols,_=e.step,b=void 0===_?1:_,S=e.currency,T=void 0===S?"rub":S,O=e.onChange,P=(0,i.useState)(r),E=(0,a.default)(P,2),k=E[0],C=E[1],w=(0,i.useMemo)((function(){return p(k)}),[p,k]),D=(0,i.useMemo)((function(){return p([n,o])}),[p,n,o]),I=!(0,c.default)(w,D),A=(0,i.useMemo)((function(){return m?m(w):""}),[m,w]),x=(0,i.useCallback)((function(){null==O||O(D)}),[D,O]),j=(0,i.useCallback)((function(e){C(e)}),[]),R=(0,i.useCallback)((function(){null==O||O(w)}),[w,O]);return(0,i.useEffect)((function(){C(r)}),[r]),i.default.createElement(l.FilterRow,{className:g(null,{"--with-graph":!!y})},t&&i.default.createElement(f.RangeHead,{tagText:A,isTagSelected:I,onTagClose:x},t),i.default.createElement("div",{className:g("slider-wrap")},i.default.createElement("div",{className:g("slider")},i.default.createElement(u.Range,{value:k,min:n,max:o,step:b,marks:v,pushable:b,allowCross:!1,onChange:j,onAfterChange:R})),y&&i.default.createElement(h,{title:t,min:n,value:k,step:b,cols:y,currency:T,tagText:A,isTagSelected:I,onTagClose:x})))}},659792:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getHighlightedRange=void 0;var a=n(r(114558));t.getHighlightedRange=function(e,t,r){var n=(0,a.default)(t,2),i=n[0],o=n[1];return[Math.floor((i-e)/r),Math.floor((o-e-r)/r)]}},366018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SliderRow",{enumerable:!0,get:function(){return n.SliderRow}});var n=r(285498)},285498:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SliderRow=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(246605),s=r(100590),u=r(833621);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(434674);var f=(0,o.default)("range-filter");t.SliderRow=function(e){var t=e.value,r=e.min,n=e.max,o=e.formatTagText,l=e.marks,d=e.title,p=e.step,v=void 0===p?1:p,g=e.onChange,h=(0,i.useState)(t),m=(0,a.default)(h,2),y=m[0],_=m[1],b=y<n,S=(0,i.useMemo)((function(){return o?o(y):""}),[o,y]),T=(0,i.useCallback)((function(){null==g||g(n)}),[n,g]),O=(0,i.useCallback)((function(e){_(e)}),[]),P=(0,i.useCallback)((function(){null==g||g(y)}),[y,g]);return(0,i.useEffect)((function(){_(t)}),[t]),i.default.createElement(s.FilterRow,{className:f()},d&&i.default.createElement(u.RangeHead,{tagText:S,isTagSelected:b,onTagClose:T},d),i.default.createElement("div",{className:f("slider-wrap")},i.default.createElement("div",{className:f("slider")},i.default.createElement(c.Slider,{value:y,min:r,max:n,step:v,marks:l,onChange:O,onAfterChange:P}))))}},510890:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchRow=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(217624),c=r(463854),s=r(100590),u=r(617642);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(226430);var f=(0,i.default)("switch-row");t.SwitchRow=function(e){var t,r=e.checked,n=e.filterInfo,i=e.onChange,l=e.children,d=e.className,p=(0,a.useRef)(null),v=(0,a.useCallback)((function(e){var t;e.preventDefault(),null!==(t=p.current)&&void 0!==t&&t.contains(e.target)&&i(!r)}),[r,i]);return a.default.createElement(s.FilterRow,{rowRef:p,className:f(null,(t={},t[""+d]=!!d,t)),onClick:v,withHover:!0},a.default.createElement(c.Text,{className:f("content"),type:c.TextType.Body2Regular},l),n&&a.default.createElement("div",{className:f("info")},a.default.createElement(u.FilterInfo,n)),a.default.createElement("div",{className:f("switch")},a.default.createElement(o.Switch,{checked:r,onChange:v})))}},811430:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersAirportsFilterContainer=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(224562),s=r(299425),u=r(651828),l=r(957144),f=r(304547);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,isDividerVisible:!0,isSelectAllVisible:!0}};t.TransfersAirportsFilterContainer=function(){var e=(0,c.useSelector)(s.getTransfersAirportsFilterData),t=(0,c.useSelector)(s.getTransfersAirportsFilterState),r=(0,c.useDispatch)(),n=(0,f.useFilterVariant)(),d=(0,f.useFilterVariantProps)(p),v=d.isSelectAllVisible,g=(0,i.default)(d,["isSelectAllVisible"]),h=(0,c.useSelector)(s.getAllTransfersAirportsIatas),m=(0,c.useSelector)(s.getIsAnyTransfersAirportSelected),y=(0,o.useCallback)((function(e,n){var a=t||[],i=n?[].concat(a,[e]):a.filter((function(t){return t!==e}));r((0,u.changeFilters)({transfersAirports:i}))}),[r,t]),_=(0,o.useCallback)((function(){r((0,u.changeFilters)({transfersAirports:h}))}),[r,h]),b=(0,o.useCallback)((function(){r((0,u.changeFilters)({transfersAirports:[]}))}),[r]);return e?o.default.createElement(l.TransfersAirportsFilter,(0,a.default)({airports:e,onChange:y,onSelectAllClick:_,onResetAllClick:b,showToggleAllRow:"sidebar"===n,isResetVisible:m,isSelectAllVisible:v&&!m},g)):null}},957144:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersAirportsFilter=void 0;var a=n(r(435850)),i=n(r(114558)),o=n(r(377754)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),s=r(445549),u=n(r(789914)),l=n(r(826158)),f=n(r(492709)),d=r(254894),p=r(896943),v=r(206067),g=r(157210),h=n(r(905010));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var y=f.default.bind(h.default),_=(0,c.memo)((function(e){var t=e.airports,r=e.onChange,n=e.showToggleAllRow,f=void 0!==n&&n,h=(0,o.default)(e,["airports","onChange","showToggleAllRow"]),m=(0,s.useTranslation)("filters").t,_=(0,c.useState)(""),b=(0,i.default)(_,2),S=b[0],T=b[1],O=(0,c.useCallback)((function(e){return T(e)}),[]),P=(0,c.useMemo)((function(){return new l.default(t,{keys:["iata","name","cityName","countryName"]})}),[t]),E=(0,c.useMemo)((function(){return S?P.search(S).map((function(e){return e.item})):t}),[P,S,t]),k=h.onResetAllClick,C=h.onSelectAllClick,w=(0,c.useMemo)((function(){return(0,u.default)("isChecked",t)}),[t]),D=w?k:C;return c.default.createElement(p.FilterGroup,(0,a.default)({title:m("transfersAirports.title")},h),c.default.createElement(d.SearchInput,{className:y("search-input"),placeholder:m("transfersAirports.searchPlaceholder"),value:S,onChange:O}),f&&c.default.createElement(v.CheckboxRow,{checked:w,onChange:D},m("selectAll")),E.map((function(e){return c.default.createElement(g.TransfersAirportsFilterCheckboxRow,(0,a.default)({key:e.iata,onChange:r},e))})))}));t.TransfersAirportsFilter=_,_.displayName="TransfersAirportsFilter"},157210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersAirportsFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(463854),i=r(206067);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.iata,r=e.name,o=e.cityName,c=e.countryName,s=e.price,u=e.currency,l=e.isChecked,f=e.onChange,d=(0,n.useCallback)((function(e){f(t,e)}),[t,f]);return n.default.createElement(i.CheckboxRow,{checked:l,price:s,currency:u,onChange:d},o,n.default.createElement("span",{className:"--secondary"},", ",r," ",t),n.default.createElement("br",null),n.default.createElement(a.Text,{className:"--secondary",type:a.TextType.Body3Regular},c))}));t.TransfersAirportsFilterCheckboxRow=c,c.displayName="TransfersAirportsFilterCheckboxRow"},579324:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersCountFilterContainer=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=n(r(966054)),s=r(168585),u=r(651828),l=r(675792),f=r(304547);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p={sidebar:{isDividerVisible:!0,titleSize:"old"},horizontal:{},mobile:{isInitiallyOpen:!0,titleSize:"large"}};t.TransfersCountFilterContainer=function(){var e=(0,o.useSelector)(s.getTransfersCountFilterData),t=(0,o.useSelector)(s.getTransfersCountFilterState),r=(0,o.useDispatch)(),n=(0,f.useFilterVariantProps)(p),d=(0,o.useSelector)(s.getIsAnyTransfersCountSelected),v=(0,i.useCallback)((function(e,n){var a=t||[],i=n?[].concat(a,[e]):(0,c.default)([e])(a);r((0,u.changeFilters)({transfersCount:i}))}),[r,t]),g=(0,i.useCallback)((function(){r((0,u.changeFilters)({transfersCount:[]}))}),[r]);return e?i.default.createElement(l.TransfersCountFilter,(0,a.default)({transfers:e,onChange:v,onResetAllClick:g,isResetVisible:d},n)):null}},675792:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersCountFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=r(896943),u=r(933117);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,o.memo)((function(e){var t=e.transfers,r=e.onChange,n=(0,i.default)(e,["transfers","onChange"]),l=(0,c.useTranslation)("filters").t;return o.default.createElement(s.FilterGroup,(0,a.default)({title:l("transfersCount.title")},n),t.map((function(e){return o.default.createElement(u.TransfersCountFilterCheckboxRow,(0,a.default)({key:e.filterKey,onChange:r},e))})))}));t.TransfersCountFilter=f,f.displayName="TransfersCountFilter"},933117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersCountFilterCheckboxRow=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(206067);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.filterKey,r=e.price,o=e.currency,c=e.isChecked,s=e.onChange,u=(0,a.useTranslation)("stops").t,l=(0,n.useCallback)((function(e){s(t,e)}),[t,s]);return n.default.createElement(i.CheckboxRow,{checked:c,checkboxPosition:"left",onChange:l,price:r,currency:o},"0"===t?u("withoutStops"):u("stopsCount",{stopsCount:t}))}));t.TransfersCountFilterCheckboxRow=c,c.displayName="TransfersCountFilterCheckboxRow"},594920:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersDurationFilterContainer=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(651828),s=r(741845),u=r(448008),l=r(304547);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d={sidebar:{isDividerVisible:!0,titleSize:"old"},horizontal:{},mobile:{isInitiallyOpen:!0}};t.TransfersDurationFilterContainer=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(s.getTransfersDurationFilterData),r=(0,l.useFilterVariantProps)(d),n=(0,i.useCallback)((function(t){e((0,c.changeFilters)({transfersDuration:{value:t}}))}),[e]);return t?i.default.createElement(u.TransfersDurationFilter,(0,a.default)({},t,{onChange:n},r)):null}},770245:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useTransfersDurationSettings=void 0;var a=n(r(114558)),i=r(797972),o=r(445549),c=n(r(531760)),s=r(39569),u=r(139375),l=r(587113);t.useTransfersDurationSettings=function(e,t,r){var n=(0,o.useTranslation)("filters").t,f=(0,i.useMemo)((function(){return(0,l.getTransfersDurationMax)(t)}),[t]),d=(0,i.useMemo)((function(){return(0,l.getTransfersDurationMarks)(t)}),[t]),p=(0,i.useRef)(e),v=(0,l.getTransfersDurationRangeValue)(e,t),g=(0,i.useCallback)((function(e){(0,c.default)(p.current,e)||(p.current=e,r(e))}),[r]);return{min:0,max:f,step:.1,marks:d,value:v,valueMapper:(0,i.useCallback)((function(e){return(0,l.getTransfersDurationValue)(e,t)}),[t]),formatTagText:(0,i.useCallback)((function(e){var t=(0,a.default)(e,2),r=t[0],i=t[1],o=(0,u.getLang)(),c=(0,s.formatLocaleNumber)(r,o),l=(0,s.formatLocaleNumber)(i,o);return 0===r?n("transfersDuration.upTo",{max:l}):n("transfersDuration.fromTo",{min:c,max:l})}),[n]),onChange:g}}},448008:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TransfersDurationFilter=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(445549),c=r(489075),s=r(770245);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=(0,i.memo)((function(e){var t=e.value,r=e.max,n=e.onChange,u=(0,o.useTranslation)("filters").t,l=(0,s.useTransfersDurationSettings)(t,r,n);return i.default.createElement(c.RangeRow,(0,a.default)({},l,{title:u("transfersDuration.title")}))}));t.TransfersDurationFilter=l,l.displayName="TransfersDurationFilter"},587113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransfersDurationValue=t.getTransfersDurationRangeValue=t.getTransfersDurationMax=t.getTransfersDurationMarks=t.getInitialTransfersDurationValue=void 0;var r=12,n=function(e){return Math.round(2*e)/2},a=function(e){return e/50*100/100*r},i=function(e){return e>1&&e<4?n(e):Math.round(e)},o=function(e){return e<=8?8:e<=12?12:e<=24?24:100};t.getTransfersDurationMax=o,t.getTransfersDurationMarks=function(e){var t;return e<=8?{2:2,4:4}:e<=12?{4:4,8:8}:e<=24?{4:4,8:8,12:12}:((t={})[50/3*1]=4,t[50/3*2]=8,t[50]=12,t)},t.getTransfersDurationRangeValue=function(e,t){return t<=24?e:e.map((function(e){return function(e,t){return e<=r?e/r*100/2:(e-r)/(t-r)*100/2+50}(e,t)}))},t.getTransfersDurationValue=function(e,t){return t<=24?e.map(i):e.map((function(e){return function(e,t){var i;return e<=50?(i=a(e))<4?n(i):Math.round(i):Math.round(function(e,t){return(e-50)/50*100/100*(t-r)+a(50)}(e,t))}(e,t)}))},t.getInitialTransfersDurationValue=function(e){var t=o(e);return t<=24?[0,t]:[0,e]}},185519:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TripDurationFilter",{enumerable:!0,get:function(){return a.TripDurationFilter}}),Object.defineProperty(t,"TripDurationFilterContainer",{enumerable:!0,get:function(){return n.TripDurationFilterContainer}}),Object.defineProperty(t,"TripDurationFilterProps",{enumerable:!0,get:function(){return i.TripDurationFilterProps}});var n=r(110758),a=r(897927),i=r(210313)},110758:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationFilterContainer=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(141901),s=r(651828),u=r(897927),l=r(304547);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d={sidebar:{isDividerVisible:!0,titleSize:"old",openType:"dropdown"},horizontal:{},mobile:{isInitiallyOpen:!0,titleSize:"large"}};t.TripDurationFilterContainer=function(){var e=(0,o.useDispatch)(),t=(0,l.useFilterVariantProps)(d),r=(0,o.useSelector)(c.getTripDurationFilterData),n=(0,o.useSelector)(c.getIsTripDurationFilterSelected),f=(0,i.useCallback)((function(t){t!==(null==r?void 0:r.value)&&e((0,s.changeFilters)({tripDuration:t}))}),[e,r]),p=(0,i.useCallback)((function(){e((0,s.changeFilters)({tripDuration:null==r?void 0:r.max}))}),[e,r]);return r?i.default.createElement(u.TripDurationFilter,(0,a.default)({value:r.value,min:r.min,max:r.max,onChange:f,onResetAllClick:p,isResetVisible:n},t)):null}},897927:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TripDurationFilter=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(445549),s=r(39569),u=r(139375),l=r(896943),f=r(489075);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p=(0,o.memo)((function(e){var t=e.min,r=e.max,n=e.value,d=e.onChange,p=(0,i.default)(e,["min","max","value","onChange"]),v=(0,c.useTranslation)("filters").t,g=(0,o.useCallback)((function(e){var t=(0,u.getLang)(),r=(0,s.formatLocaleNumber)(e,t);return v("tripDuration.tag",{duration:r})}),[v]);return o.default.createElement(l.FilterGroup,(0,a.default)({},p,{title:v("tripDuration.title")}),o.default.createElement(f.SliderRow,{title:v("tripDuration.description"),min:t,max:r,value:n,formatTagText:g,onChange:d}))}));t.TripDurationFilter=p,p.displayName="TripDurationFilter"},210313:function(){},618375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WithoutInterlinesFilter",{enumerable:!0,get:function(){return n.WithoutInterlinesFilter}}),Object.defineProperty(t,"WithoutInterlinesFilterContainer",{enumerable:!0,get:function(){return a.WithoutInterlinesFilterContainer}}),Object.defineProperty(t,"WithoutInterlinesFilterProps",{enumerable:!0,get:function(){return i.WithoutInterlinesFilterProps}});var n=r(357441),a=r(581282),i=r(457138)},581282:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithoutInterlinesFilterContainer=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(385874),o=r(651828),c=r(357441);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.WithoutInterlinesFilterContainer=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.getWithoutInterlinesFilterData),r=(0,n.useCallback)((function(t){e((0,o.changeFilters)({withoutInterlines:t}))}),[e]);return t.isShown?n.default.createElement(c.WithoutInterlinesFilter,{isChecked:t.withoutInterlines,onChange:r}):null}},357441:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithoutInterlinesFilter=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(510890);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.isChecked,r=e.onChange,o=(0,a.useTranslation)("filters").t,c=(0,n.useMemo)((function(){return o("withoutInterlines.info",{returnObjects:!0})}),[o]);return n.default.createElement(i.SwitchRow,{checked:t,onChange:r,filterInfo:c},o("withoutInterlines.title"))}));t.WithoutInterlinesFilter=c,c.displayName="WithoutInterlinesFilter"},457138:function(){},462881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WithoutLowcostsFilter",{enumerable:!0,get:function(){return n.WithoutLowcostsFilter}}),Object.defineProperty(t,"WithoutLowcostsFilterContainer",{enumerable:!0,get:function(){return a.WithoutLowcostsFilterContainer}}),Object.defineProperty(t,"WithoutLowcostsFilterProps",{enumerable:!0,get:function(){return i.WithoutLowcostsFilterProps}});var n=r(268263),a=r(494798),i=r(335005)},494798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithoutLowcostsFilterContainer=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(824684),o=r(651828),c=r(268263);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.WithoutLowcostsFilterContainer=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.getWithoutLowcostsFilterData),r=(0,n.useCallback)((function(t){e((0,o.changeFilters)({withoutLowcosts:t}))}),[e]);return t.isShown?n.default.createElement(c.WithoutLowcostsFilter,{isChecked:t.withoutLowcosts,onChange:r}):null}},268263:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithoutLowcostsFilter=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(510890);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.isChecked,r=e.onChange,o=(0,a.useTranslation)("filters").t;return n.default.createElement(i.SwitchRow,{checked:t,onChange:r},o("withoutLowcosts.title"))}));t.WithoutLowcostsFilter=c,c.displayName="WithoutLowcostsFilter"},335005:function(){},268637:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"WithoutVirtualInterlineFilter",{enumerable:!0,get:function(){return n.WithoutVirtualInterlineFilter}}),Object.defineProperty(t,"WithoutVirtualInterlineFilterContainer",{enumerable:!0,get:function(){return a.WithoutVirtualInterlineFilterContainer}}),Object.defineProperty(t,"WithoutVirtualInterlineFilterProps",{enumerable:!0,get:function(){return i.WithoutVirtualInterlineFilterProps}});var n=r(401559),a=r(993478),i=r(191794)},993478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithoutVirtualInterlineFilterContainer=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(224562),i=r(890338),o=r(651828),c=r(401559);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.WithoutVirtualInterlineFilterContainer=function(){var e=(0,a.useDispatch)(),t=(0,a.useSelector)(i.getVirtualInterlineFilterData),r=(0,n.useCallback)((function(t){e((0,o.changeFilters)({withoutVirtualInterline:t}))}),[e]);return t.isShown?n.default.createElement(c.WithoutVirtualInterlineFilter,{isChecked:t.isChecked,onChange:r}):null}},401559:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WithoutVirtualInterlineFilter=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(510890);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.isChecked,r=e.onChange,o=(0,a.useTranslation)("filters").t;return n.default.createElement(i.SwitchRow,{checked:t,onChange:r},o("withoutVirtualInterline.title"))}));t.WithoutVirtualInterlineFilter=c,c.displayName="WithoutVirtualInterlineFilter"},191794:function(){},46589:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filtersBoundaries=void 0;var n=r(4480),a={};t.filtersBoundaries=function(e,t){switch(void 0===e&&(e=a),t.type){case n.UPDATE_FILTERS_BOUNDARIES:return t.boundaries;case n.RESET_FILTERS_BOUNDARIES:return a;default:return e}}},701553:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.filtersState=void 0;var a=n(r(101339)),i=n(r(137329)),o=r(945143),c=r(242608);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={};t.filtersState=function(e,t){switch(void 0===e&&(e=l),t.type){case c.FILTERS_CHANGE:return u(u({},e),t.payload.filters);case c.UPDATE_FILTERS_STATE:var r=(0,i.default)(e.departureArrivalTime,t.state.departureArrivalTime);return u(u(u({},e),t.state),{},{departureArrivalTime:r});case c.RESET_FILTERS_STATE:case c.FILTERS_RELAX:return l;case o.EXPLORE_FILTERS_CHANGE:return u(u({},e),t.payload.filters);default:return e}}},79651:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"filtersBoundaries",{enumerable:!0,get:function(){return n.filtersBoundaries}}),Object.defineProperty(t,"filtersState",{enumerable:!0,get:function(){return a.filtersState}});var n=r(46589),a=r(701553)},319048:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalAgentsCount=t.getSelectedAgentsCount=t.getIsAnyAgentSelected=t.getAllAgentsIds=t.getAgentsFilterState=t.getAgentsFilterData=void 0;var a=n(r(101339)),i=r(774953),o=n(r(26045)),c=n(r(299657)),s=r(386452),u=r(483743),l=r(185658);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,l.createFilterBoundariesSelector)("agents"),v=(0,i.createSelector)(p,u.getGates,(function(e,t){if(e)return[].concat(e).sort((function(e,r){var n,a,i=(null===(n=t[e.id])||void 0===n?void 0:n.label)||e.id,o=(null===(a=t[r.id])||void 0===a?void 0:a.label)||r.id;return i.localeCompare(o)}))})),g=(0,l.createFilterStateSelector)("agents");t.getAgentsFilterState=g;var h=(0,i.createSelector)(v,g,s.$currency.getState,u.getGates,(function(e,t,r,n){return null==e?void 0:e.map((function(e){var a;return d(d({},e),{},{isChecked:(null==t?void 0:t.includes(e.id))||!1,currency:r,name:(null===(a=n[e.id])||void 0===a?void 0:a.label)||e.id})}))}));t.getAgentsFilterData=h;var m=(0,i.createSelector)([p],(function(e){return(0,o.default)("id",e)}));t.getAllAgentsIds=m;var y=(0,i.createSelector)([m],(function(e){return e.length}));t.getTotalAgentsCount=y;var _=(0,i.createSelector)([g],(function(e){return!(0,c.default)(e)}));t.getIsAnyAgentSelected=_;var b=(0,i.createSelector)([g],(function(e){return(null==e?void 0:e.length)||0}));t.getSelectedAgentsCount=b},590340:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalAirlinesCount=t.getSelectedAirlinesCount=t.getIsAirlinesFilterSelected=t.getAllAirlinesIatas=t.getAirlinesFilterState=t.getAirlinesFilterData=void 0;var a=n(r(101339)),i=r(774953),o=n(r(26045)),c=n(r(299657)),s=n(r(399136)),u=r(908813),l=r(386452),f=r(550278),d=r(185658);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=(0,d.createFilterBoundariesSelector)("airlines"),h=(0,i.createSelector)(g,f.getAirlines,(function(e,t){if(e)return(0,u.localeSortByWithLang)((function(e){var r;return(null===(r=t[e.iata])||void 0===r?void 0:r.name)||e.iata}),e)})),m=(0,d.createFilterStateSelector)("airlines");t.getAirlinesFilterState=m;var y=(0,i.createSelector)(h,m,l.$currency.getState,f.getAirlines,(function(e,t,r,n){return null==e?void 0:e.map((function(e){var a;return v(v({},e),{},{isChecked:(null==t?void 0:t.includes(e.iata))||!1,currency:r,name:(null===(a=n[e.iata])||void 0===a?void 0:a.name)||e.iata,transportType:"plane"})}))}));t.getAirlinesFilterData=y;var _=(0,i.createSelector)([g],(function(e){return(0,o.default)("iata",e)}));t.getAllAirlinesIatas=_;var b=(0,i.createSelector)([_],(function(e){return e.length}));t.getTotalAirlinesCount=b;var S=(0,i.createSelector)([m],(function(e){return!(0,c.default)(e)}));t.getIsAirlinesFilterSelected=S;var T=(0,i.createSelector)([m],(function(e){return(0,s.default)(e)}));t.getSelectedAirlinesCount=T},590129:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalAirportsCount=t.getSelectedAirportsCount=t.getNormalizedAirportsFilterBoundaries=t.getIsAnyAirportSelected=t.getIsAnyAirportOfCitySelected=t.getIsAirportFilterSelected=t.getAirportsFilterState=t.getAirportsFilterData=void 0;var a=n(r(114558)),i=r(774953),o=n(r(115031)),c=n(r(864884)),s=n(r(193578)),u=n(r(171353)),l=n(r(944408)),f=n(r(300726)),d=n(r(257110)),p=n(r(649159)),v=n(r(399136)),g=n(r(299657)),h=r(386452),m=r(334),y=r(185658),_=r(668894),b=(0,y.createFilterBoundariesSelector)("airports"),S=(0,y.createFilterStateSelector)("airports");t.getAirportsFilterState=S;var T=(0,i.createSelector)(b,m.getAirports,(function(e,t){var r={citiesList:[],cities:{},airports:{}};return e?Object.values(e).reduce((function(e,r){return[r.departure,r.arrival].forEach((function(r){return Object.entries(r).forEach((function(r){var n=(0,a.default)(r,2),i=n[0],o=n[1];if(void 0===e.airports[i]){var s,u,l=null===(s=t[i])||void 0===s?void 0:s.city_code;if(!l)return;var f=(null===(u=t[i])||void 0===u?void 0:u.name)||i;e.cities[l]||(e.citiesList.push(l),e.cities[l]=[]);var d=(0,c.default)((function(e){var r;return(null===(r=t[e])||void 0===r?void 0:r.name)||e}),f,e.cities[l]);e.cities[l].splice(d,0,i),e.airports[i]=o}else e.airports[i]=Math.min(e.airports[i],o)}))})),e}),r):r}));t.getNormalizedAirportsFilterBoundaries=T;var O=(0,i.createSelector)([b],(function(e){return(0,u.default)((function(e,t){var r=t.departure,n=t.arrival;return{departure:(0,f.default)((0,l.default)(r),e.departure),arrival:(0,f.default)((0,l.default)(n),e.arrival)}}),{departure:[],arrival:[]},e)})),P=(0,i.createSelector)([O,T,S,m.getAirports,_.getSameDepartureArrivalAirportsFilterState,h.$currency.getState],(function(e,t,r,n,a,i){return void 0===a&&(a=[]),t.citiesList.map((function(o){var c=t.cities[o],s=c.map((function(e){return{iata:e,name:n[e].name||e,price:t.airports[e],currency:i,isChecked:!(null==r||!r.includes(e)),cityIata:o}})),u=(0,p.default)((function(t){var r=e.departure,n=e.arrival;return(0,d.default)(t,r)&&(0,d.default)(t,n)&&(0,v.default)(c)>1}),c),l=a.includes(o);return{cityIata:o,airports:s,isSameDepartureArrival:l,isSameDepartureArrivalVisible:u}}))}));t.getAirportsFilterData=P;var E=(0,i.createSelector)([T],(function(e){return(0,v.default)(e.airports)}));t.getTotalAirportsCount=E;var k=(0,i.createSelector)([S],(function(e){return(0,v.default)(e)}));t.getSelectedAirportsCount=k;var C=(0,i.createSelector)([k],(function(e){return e>0}));t.getIsAnyAirportSelected=C;var w=(0,i.createSelector)([S,_.getSameDepartureArrivalAirportsFilterState],(function(e,t){return!(0,g.default)(e)||!(0,g.default)(t)}));t.getIsAirportFilterSelected=w;var D=(0,o.default)([function(e,t){return t},S],(function(e,t){return void 0===t&&(t=[]),(0,s.default)(e,t).length>0}))((function(e,t){return t}));t.getIsAnyAirportOfCitySelected=D},524609:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAnyAllianceSelected=t.getAlliancesFilterState=t.getAlliancesFilterData=t.getAllAlliancesIds=void 0;var a=n(r(101339)),i=r(774953),o=n(r(299657)),c=n(r(26045)),s=r(908813),u=r(386452),l=r(72282),f=r(185658);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=(0,f.createFilterBoundariesSelector)("alliances"),g=(0,i.createSelector)(v,l.getAlliances,(function(e,t){if(e)return(0,s.localeSortByWithLang)((function(e){var r;return(null===(r=t[e.id])||void 0===r?void 0:r.name)||e.id}),e)})),h=(0,f.createFilterStateSelector)("alliances");t.getAlliancesFilterState=h;var m=(0,i.createSelector)(g,h,u.$currency.getState,l.getAlliances,(function(e,t,r,n){return null==e?void 0:e.map((function(e){var a;return p(p({},e),{},{isChecked:(null==t?void 0:t.includes(e.id))||!1,currency:r,name:(null==n||null===(a=n[e.id])||void 0===a?void 0:a.name)||e.id})}))}));t.getAlliancesFilterData=m;var y=(0,i.createSelector)([v],(function(e){return(0,c.default)("id",e)}));t.getAllAlliancesIds=y;var _=(0,i.createSelector)([h],(function(e){return!(0,o.default)(e)}));t.getIsAnyAllianceSelected=_},52735:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAvailableTransferUpsellBoundaries=void 0;var n=r(774953),a=r(185658),i=(0,n.createSelector)(a.getFiltersBoundaries,(function(e){var t=e.withoutNightTransfers,r=e.withoutAirportChange,n=e.withoutShortLayover;return[{id:"visa_required",filter:"withoutVisa",boundaries:e.withoutVisa},{id:"airport_change",filter:"withoutAirportChange",boundaries:r},{id:"overnight_layover",filter:"withoutNightTransfers",boundaries:t},{id:"short_layover",filter:"withoutShortLayover",boundaries:n}].filter((function(e){var t;return null===(t=e.boundaries)||void 0===t?void 0:t.enableMinPrice}))}));t.getAvailableTransferUpsellBoundaries=i},595173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIsBaggageFilterSelected=t.getBaggageFilterState=t.getBaggageFilterData=void 0;var n=r(774953),a=r(386452),i=r(185658),o=(0,i.createFilterBoundariesSelector)("baggage"),c=(0,i.createFilterStateSelector)("baggage");t.getBaggageFilterState=c;var s=(0,n.createSelector)(o,c,a.$currency.getState,(function(e,t,r){if(void 0!==e)return{price:e,currency:r,isChecked:Boolean(t)}}));t.getBaggageFilterData=s;var u=(0,n.createSelector)([c],(function(e){return Boolean(e)}));t.getIsBaggageFilterSelected=u},296117:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAnyConvenienceFilterSelected=t.getConvenienceFilterData=t.CONVENIENCE_FILTER_KEYS=void 0;var a=r(774953),i=n(r(396673)),o=n(r(257110)),c=n(r(171353)),s=n(r(26045)),u=r(185658),l=["withoutCovidRestrictions","withoutVisa","withoutAirportChange","withoutNightTransfers"];t.CONVENIENCE_FILTER_KEYS=l;var f=(0,a.createSelector)(u.getFiltersBoundaries,u.getFiltersState,(function(e,t){return(0,c.default)((function(r,n){var a;return("withoutCovidRestrictions"===n?null==e?void 0:e[n]:null==e||null===(a=e[n])||void 0===a?void 0:a.value)&&r.push({id:n,isChecked:Boolean(null==t?void 0:t[n])}),r}),[],l)}));t.getConvenienceFilterData=f;var d=(0,a.createSelector)([u.getFiltersState],(function(e){return(0,i.default)([(0,s.default)((function(t){return e[t]})),(0,o.default)(!0)])(l)}));t.getIsAnyConvenienceFilterSelected=d},922746:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.makeGetDepartureArrivalTimeFilterData=t.getIsDepartureArrivalTimeFilterSelected=t.getIsDepartureArrivalTimeFilterSegmentSelected=t.getDepartureArrivalTimeSegment=t.getDepartureArrivalTimeFilterState=t.getDepartureArrivalTimeBoundary=void 0;var a=n(r(114558)),i=r(774953),o=n(r(115031)),c=n(r(748596)),s=n(r(257110)),u=n(r(299657)),l=n(r(954206)),f=n(r(26045)),d=n(r(577048)),p=n(r(171353)),v=n(r(106980)),g=n(r(44123)),h=n(r(649159)),m=r(386452),y=r(185658),_=function(e,t){var r=function(e,t){var r=(0,v.default)(e),n=(0,c.default)((function(e){var r=(0,a.default)(e,1)[0],n=(0,g.default)(Number(r)).getTime();return(0,u.default)(t)||(0,s.default)(n,t)}),r);return(0,p.default)((function(e,t){var r=(0,a.default)(t,2),n=r[0],i=r[1],o=function(e){var t=Number(e),r=new Date(t);return 60*r.getHours()+r.getMinutes()}(n);return e[o]?e[o]=Math.min(e[o],i):e[o]=i,e}),{},n)}(e.buckets,t),n=Math.floor((e.max-e.min)/e.bucketWidth),i=(0,d.default)(0,n);return(0,f.default)((function(t){var n=e.min+t*e.bucketWidth,a=r[n/1e3/60];return(0,l.default)(a)?{key:n,value:a}:{key:n}}),i)},b=function(e,t){var r=e.dates;return(0,f.default)((function(e){var r=e.timestamp;return{price:e.price,date:new Date(r),isChecked:(0,s.default)(r,t)}}),r)},S=function(e,t,r){var n=null==t?void 0:t[e],a=null==r?void 0:r[e];if(!n||!a)return!1;if((0,u.default)(n)||(0,u.default)(a))return!1;if(!(0,u.default)(null==n?void 0:n.selectedDates))return!0;var i=n.arrival,o=n.departure,c=a.arrival_time,s=a.departure_time,l=i&&(i[0]!==c.min||i[1]!==c.max),f=o&&(o[0]!==s.min||o[1]!==s.max);return l||f},T=function(e,t){return t.segmentIndex},O=(0,y.createFilterBoundariesSelector)("departureArrivalTime"),P=(0,y.createFilterStateSelector)("departureArrivalTime");t.getDepartureArrivalTimeFilterState=P;var E=(0,i.createSelector)([T,O],(function(e,t){if(t)return t[e]}));t.getDepartureArrivalTimeBoundary=E;var k=(0,i.createSelector)([T,P],(function(e,t){if(t)return t[e]}));t.getDepartureArrivalTimeSegment=k,t.makeGetDepartureArrivalTimeFilterData=function(){return(0,i.createSelector)([E,k,m.$currency.getState],(function(e,t,r){if(e){var n=e.departure_time,a=e.arrival_time,i=(null==t?void 0:t.selectedDates)||[],o=(null==t?void 0:t.departure)||[n.min,n.max],c=(null==t?void 0:t.arrival)||[a.min,a.max],s=_(n,[]),u=_(a,i);return{departure:{cols:s,min:n.min,max:n.max,value:o,step:n.bucketWidth},arrival:{cols:u,min:a.min,max:a.max,value:c,step:a.bucketWidth},dates:b(a,i),currency:r}}}))};var C=(0,o.default)([function(e,t){return t},P,O],S)((function(e,t){return t}));t.getIsDepartureArrivalTimeFilterSegmentSelected=C;var w=(0,i.createSelector)([P,O],(function(e,t){return!(!e||!t)&&(0,h.default)((function(r){return S(Number(r),e,t)}),Object.keys(e))}));t.getIsDepartureArrivalTimeFilterSelected=w},185658:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFiltersState=t.getFiltersBoundaries=t.createFilterStateSelector=t.createFilterBoundariesSelector=void 0;var n=r(774953),a=function(e){return e.filtersBoundaries};t.getFiltersBoundaries=a;var i=function(e){return e.filtersState};t.getFiltersState=i,t.createFilterStateSelector=function(e){return(0,n.createSelector)(i,(function(t){return t[e]}))},t.createFilterBoundariesSelector=function(e){return(0,n.createSelector)(a,(function(t){return t[e]}))}},653520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCheapestPrice",{enumerable:!0,get:function(){return n.getCheapestPrice}});var n=r(168395)},735475:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsAnyFilterSelected=void 0;var a=n(r(649159)),i=r(774953),o=r(319048),c=r(590340),s=r(590129),u=r(524609),l=r(595173),f=r(296117),d=r(922746),p=r(536150),v=r(189842),g=r(299425),h=r(168585),m=r(141901),y=r(385874),_=r(824684),b=r(741845),S=r(890338),T=(0,i.createSelector)([o.getIsAnyAgentSelected,c.getIsAirlinesFilterSelected,s.getIsAirportFilterSelected,u.getIsAnyAllianceSelected,l.getIsBaggageFilterSelected,f.getIsAnyConvenienceFilterSelected,d.getIsDepartureArrivalTimeFilterSelected,p.getIsAnyPaymentMethodSelected,v.getIsPriceFilterSelected,g.getIsAnyTransfersAirportSelected,h.getIsAnyTransfersCountSelected,b.getIsTransfersDurationFilterSelected,m.getIsTripDurationFilterSelected,y.getIsWithoutInterlinesFilterSelected,_.getIsWithoutLowcostsFilterSelected,S.getIsVirtualInterlineFilterSelected],(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.default)(Boolean,t)}));t.getIsAnyFilterSelected=T},536150:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTotalPaymentMethodsCount=t.getSelectedPaymentMethodsCount=t.getPaymentMethodsFilterState=t.getPaymentMethodsFilterData=t.getIsAnyPaymentMethodSelected=t.getAllPaymentMethodIds=void 0;var a=n(r(257110)),i=n(r(26045)),o=n(r(299657)),c=r(774953),s=r(386452),u=r(185658),l=(0,u.createFilterBoundariesSelector)("paymentMethods"),f=(0,u.createFilterStateSelector)("paymentMethods");t.getPaymentMethodsFilterState=f;var d=(0,c.createSelector)([l],(function(e){return(0,i.default)("id",e)}));t.getAllPaymentMethodIds=d;var p=(0,c.createSelector)([d],(function(e){return e.length}));t.getTotalPaymentMethodsCount=p;var v=(0,c.createSelector)([l,f,s.$currency.getState],(function(e,t,r){return(0,i.default)((function(e){var n=e.id;return{id:n,price:e.price,currency:r,isChecked:(0,a.default)(n,t)}}),e)}));t.getPaymentMethodsFilterData=v;var g=(0,c.createSelector)([f],(function(e){return!(0,o.default)(e)}));t.getIsAnyPaymentMethodSelected=g;var h=(0,c.createSelector)([f],(function(e){return(null==e?void 0:e.length)||0}));t.getSelectedPaymentMethodsCount=h},189842:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getPriceFilterData=t.getIsPriceFilterSelected=void 0;var a=r(774953),i=n(r(954206)),o=r(386452),c=r(185658),s=(0,c.createFilterBoundariesSelector)("price"),u=(0,c.createFilterStateSelector)("price"),l=(0,a.createSelector)(s,u,o.$currency.getState,(function(e,t,r){return e?{min:e.min,max:e.max,value:"number"==typeof(null==t?void 0:t.value)?t.value:e.max,currency:r}:void 0}));t.getPriceFilterData=l;var f=(0,a.createSelector)([s,u],(function(e,t){return(0,i.default)(null==e?void 0:e.max)&&(0,i.default)(null==t?void 0:t.value)&&t.value<e.max}));t.getIsPriceFilterSelected=f},668894:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getSameDepartureArrivalAirportsFilterState=t.getIsSameDepartureArrivalFilterSelected=void 0;var a=n(r(299657)),i=r(774953),o=(0,r(185658).createFilterStateSelector)("sameDepartureArrivalAirports");t.getSameDepartureArrivalAirportsFilterState=o;var c=(0,i.createSelector)([o],(function(e){return!(0,a.default)(e)}));t.getIsSameDepartureArrivalFilterSelected=c},168395:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getCheapestPrice=void 0;var a=n(r(626514)),i=r(774953),o=r(25614),c=r(249094),s=(0,i.createSelector)(o.getTicketsState,(function(e){var t=e.ticketsList,r=e.proposals,n=e.ticketsProposals;return t.reduce((function(e,t){var i=(0,a.default)(n[t]),o=i&&r[i];if(!o)return e;var s=(0,c.getProposalPriceForPreview)(o);return null===e||s<e?s:e}),null)}));t.getCheapestPrice=s},299425:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransfersAirportsFilterState=t.getTransfersAirportsFilterData=t.getTotalTransfersAirportsCount=t.getSelectedTransfersAirportsCount=t.getIsAnyTransfersAirportSelected=t.getAllTransfersAirportsIatas=void 0;var a=r(774953),i=n(r(26045)),o=n(r(299657)),c=n(r(399136)),s=r(386452),u=r(908813),l=r(334),f=r(854755),d=r(185658),p=(0,d.createFilterBoundariesSelector)("transfersAirports"),v=(0,a.createSelector)(p,l.getAirports,(function(e,t){if(e)return(0,u.localeSortByWithLang)((function(e){return function(e){return null!=e&&e.city&&null!=e&&e.name?e.city+"_"+e.name:null}(t[e.filterKey])||e.filterKey}),e)})),g=(0,d.createFilterStateSelector)("transfersAirports");t.getTransfersAirportsFilterState=g;var h=(0,a.createSelector)(v,g,s.$currency.getState,l.getAirports,f.getCountries,(function(e,t,r,n,a){return null==e?void 0:e.reduce((function(e,i){var o=i.price,c=i.filterKey,s=n[c];if(!s)return e;var u=s.city,l=s.name,f=s.country,d=f?a[f].name:null;return d?(e.push({iata:c,name:l,price:o,currency:r,countryName:d,isChecked:(null==t?void 0:t.includes(c))||!1,cityName:u}),e):e}),[])}));t.getTransfersAirportsFilterData=h;var m=(0,a.createSelector)([p],(function(e){return(0,i.default)("filterKey",e)}));t.getAllTransfersAirportsIatas=m;var y=(0,a.createSelector)([g],(function(e){return!(0,o.default)(e)}));t.getIsAnyTransfersAirportSelected=y;var _=(0,a.createSelector)([m],(function(e){return(0,c.default)(e)}));t.getTotalTransfersAirportsCount=_;var b=(0,a.createSelector)([g],(function(e){return(0,c.default)(e)}));t.getSelectedTransfersAirportsCount=b},168585:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransfersCountFilterState=t.getTransfersCountFilterData=t.getIsAnyTransfersCountSelected=void 0;var a=n(r(101339)),i=r(774953),o=n(r(299657)),c=r(386452),s=r(185658);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,s.createFilterBoundariesSelector)("transfersCount"),d=(0,s.createFilterStateSelector)("transfersCount");t.getTransfersCountFilterState=d;var p=(0,i.createSelector)(f,d,c.$currency.getState,(function(e,t,r){return null==e?void 0:e.map((function(e){return l(l({},e),{},{isChecked:(null==t?void 0:t.includes(e.filterKey))||!1,currency:r})}))}));t.getTransfersCountFilterData=p;var v=(0,i.createSelector)([d],(function(e){return!(0,o.default)(e)}));t.getIsAnyTransfersCountSelected=v},741845:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTransfersDurationFilterData=t.getIsTransfersDurationFilterSelected=void 0;var a=n(r(114558)),i=r(774953),o=r(185658),c=(0,o.createFilterBoundariesSelector)("transfersDuration"),s=(0,o.createFilterStateSelector)("transfersDuration"),u=(0,i.createSelector)(c,s,(function(e,t){return e?{min:e.min,max:e.max,value:(null==t?void 0:t.value)||[e.min,e.max]}:void 0}));t.getTransfersDurationFilterData=u;var l=(0,i.createSelector)([c,s],(function(e,t){if(!t||!e)return!1;var r=(0,a.default)(t.value,2),n=r[0],i=r[1];return!(n<=e.min&&i>=e.max)}));t.getIsTransfersDurationFilterSelected=l},141901:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTripDurationFilterState=t.getTripDurationFilterData=t.getIsTripDurationFilterSelected=void 0;var a=r(774953),i=n(r(954206)),o=r(185658),c=(0,o.createFilterBoundariesSelector)("tripDuration"),s=(0,o.createFilterStateSelector)("tripDuration");t.getTripDurationFilterState=s;var u=(0,a.createSelector)([c,s],(function(e,t){if(e){var r=e.min,n=e.max;return{min:r,max:n,value:t||n}}}));t.getTripDurationFilterData=u;var l=(0,a.createSelector)([c,s],(function(e,t){return(0,i.default)(null==e?void 0:e.max)&&(0,i.default)(t)&&t<e.max}));t.getIsTripDurationFilterSelected=l},472075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithoutCovidRestrictionsFilterData=t.getWithoutCovidRestrictionsFilterBoundaries=t.getIsWithoutCovidRestrictionsFilterSelected=void 0;var n=r(774953),a=r(185658),i=(0,a.createFilterBoundariesSelector)("withoutCovidRestrictions");t.getWithoutCovidRestrictionsFilterBoundaries=i;var o=(0,a.createFilterStateSelector)("withoutCovidRestrictions"),c=(0,n.createSelector)([i,o],(function(e,t){return{isShown:Boolean(e),withoutCovidRestrictions:Boolean(t)}}));t.getWithoutCovidRestrictionsFilterData=c;var s=(0,n.createSelector)([o],(function(e){return Boolean(e)}));t.getIsWithoutCovidRestrictionsFilterSelected=s},385874:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithoutInterlinesFilterData=t.getIsWithoutInterlinesFilterSelected=void 0;var n=r(774953),a=r(185658),i=(0,a.createFilterBoundariesSelector)("withoutInterlines"),o=(0,a.createFilterStateSelector)("withoutInterlines"),c=(0,n.createSelector)([i,o],(function(e,t){return{isShown:Boolean(e),withoutInterlines:Boolean(t)}}));t.getWithoutInterlinesFilterData=c;var s=(0,n.createSelector)([o],(function(e){return Boolean(e)}));t.getIsWithoutInterlinesFilterSelected=s},824684:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWithoutLowcostsFilterData=t.getIsWithoutLowcostsFilterSelected=void 0;var n=r(774953),a=r(185658),i=(0,a.createFilterBoundariesSelector)("withoutLowcosts"),o=(0,a.createFilterStateSelector)("withoutLowcosts"),c=(0,n.createSelector)([i,o],(function(e,t){return{isShown:Boolean(e),withoutLowcosts:Boolean(t)}}));t.getWithoutLowcostsFilterData=c;var s=(0,n.createSelector)([o],(function(e){return Boolean(e)}));t.getIsWithoutLowcostsFilterSelected=s},890338:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVirtualInterlineFilterData=t.getVirtualInterlineFilterBoundaries=t.getIsVirtualInterlineFilterSelected=void 0;var n=r(774953),a=r(185658),i=(0,a.createFilterBoundariesSelector)("withoutVirtualInterline");t.getVirtualInterlineFilterBoundaries=i;var o=(0,a.createFilterStateSelector)("withoutVirtualInterline"),c=(0,n.createSelector)([i,o],(function(e,t){return{isShown:Boolean(e),isChecked:Boolean(t)}}));t.getVirtualInterlineFilterData=c;var s=(0,n.createSelector)([o],(function(e){return Boolean(e)}));t.getIsVirtualInterlineFilterSelected=s},4480:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_FILTERS_BOUNDARIES=t.RESET_FILTERS_BOUNDARIES=void 0,t.UPDATE_FILTERS_BOUNDARIES="UPDATE_FILTERS_BOUNDARIES",t.RESET_FILTERS_BOUNDARIES="RESET_FILTERS_BOUNDARIES"},242608:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_FILTERS_STATE=t.RESET_FILTERS_STATE=t.FILTERS_RELAX=t.FILTERS_CHANGE=t.ChangeFiltersSource=void 0,t.FILTERS_CHANGE="FILTERS_CHANGE",t.FILTERS_RELAX="FILTERS_RELAX",t.UPDATE_FILTERS_STATE="UPDATE_FILTERS_STATE",t.RESET_FILTERS_STATE="RESET_FILTERS_STATE",t.ChangeFiltersSource=r,function(e){e.LayoverUpsellFilters="layover_upsell_filters",e.GeneralFilters="general_filters"}(r||(t.ChangeFiltersSource=r={}))},249094:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.isPricePerPassengerEnabled=t.getProposalPriceForPreview=t.getProposalCashBackForPreview=t.getPassengersCount=t.getCashBackByTariff=t.diffCeil=void 0;var a=n(r(396673)),i=n(r(257597)),o=n(r(626514)),c=r(863974),s=r(917152),u=function(){var e=c.userService.$userSettings.getState().use_price_per_passenger;return Boolean(e)};t.isPricePerPassengerEnabled=u,t.getProposalPriceForPreview=function(e){return u()?null==e?void 0:e.pricePerPerson:null==e?void 0:e.price},t.getProposalCashBackForPreview=function(e){return u()?null==e?void 0:e.cashbackPerPerson:null==e?void 0:e.cashback},t.getCashBackByTariff=function(e,t){var r=u()?"cashbackPerPerson":"cashback";return(0,a.default)([(0,i.default)([],e),o.default,(0,i.default)(0,r)])(t)},t.diffCeil=function(e,t){return Math.ceil(e)-Math.ceil(t)},t.getPassengersCount=function(e){return u()?1:(0,s.getSubscriptionPassengersCount)(e)}},233945:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"mapClientErrorToExplosionError",{enumerable:!0,get:function(){return n.mapClientErrorToExplosionError}}),Object.defineProperty(t,"searchResultsSaga",{enumerable:!0,get:function(){return a.searchResultsSaga}}),Object.defineProperty(t,"sendClientErrorToRollbar",{enumerable:!0,get:function(){return n.sendClientErrorToRollbar}});var n=r(663241),a=r(331547)},104699:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapAgents=void 0;var a=n(r(101339)),i=n(r(114558)),o=r(542565);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapAgents=function(e,t){return Object.entries(e.agents||{}).reduce((function(e,r){var n,a=(0,i.default)(r,2),c=a[0],u=a[1];return s(s({},e),{},((n={})[c]={id:u.id,payment_methods:u.payment_methods,mobile_version:u.mobile_version,assisted:u.assisted,label:(0,o.getTextFromLocalizableContextString)(u.label,t,c),airline_iatas:u.airline_iatas},n))}),{})}},729177:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapAirlines=void 0;var a=n(r(101339)),i=n(r(114558)),o=r(542565);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapAirlines=function(e,t){return Object.entries(e.airlines||{}).reduce((function(e,r){var n,a=(0,i.default)(r,2),c=a[0],u=a[1];return s(s({},e),{},((n={})[c]={iata:u.iata,name:(0,o.getTextFromLocalizableContextString)(u.name,t,u.iata),siteName:u.site_name,brandColor:u.brand_color},n))}),{})}},555728:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapAirports=void 0;var a=n(r(101339)),i=n(r(114558)),o=r(542565),c=r(152263);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapAirports=function(e,t){return Object.entries(e.places.airports||{}).reduce((function(r,n){var a,s=(0,i.default)(n,2),l=s[0],f=s[1],d=e.places.cities[f.city_code],p=d?e.places.countries[d.country]:null;return u(u({},r),{},((a={})[l]={city_code:f.city_code,name:(0,o.getTextFromLocalizableContextString)(f.name,t,l),cases:(0,c.mapLocalizableContextStringToOldCases)((null==d?void 0:d.name)||null,t,f.city_code),city:d?(0,o.getTextFromLocalizableContextString)(d.name,t,d.code):"",country:p?p.code:""},a))}),{})}},976293:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapAlliances=void 0;var a=n(r(101339)),i=n(r(114558));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapAlliances=function(e){return Object.entries(e.alliances||{}).reduce((function(e,t){var r,n=(0,i.default)(t,2),a=n[0],o=n[1];return c(c({},e),{},((r={})[a]={id:o.id,name:o.name},r))}),{})}},979030:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapBrandTicket=void 0;var a=n(r(26045)),i=r(18681),o=r(49216);t.mapBrandTicket=function(e,t,r,n){var c=e.brand_ticket;if(c){var s=(0,a.default)((function(a){return(0,i.mapProposal)(a,c,e,t,r,n)}))(c.proposals);return[(0,o.mapTicket)(c,e),s]}}},872709:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapCities=void 0;var a=n(r(101339)),i=n(r(114558)),o=r(542565);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapCities=function(e,t){return Object.entries(e.places.cities||{}).reduce((function(e,r){var n,a=(0,i.default)(r,2),c=a[0],u=a[1];return s(s({},e),{},((n={})[c]={code:u.code,airports:u.airports,country:u.country,name:(0,o.getTextFromLocalizableContextString)(u.name,t,c)},n))}),{})}},204954:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapCountries=void 0;var a=n(r(101339)),i=n(r(114558)),o=r(542565),c=r(152263);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapCountries=function(e,t){return Object.entries(e.places.countries||{}).reduce((function(e,r){var n,a=(0,i.default)(r,2),s=a[0],l=a[1];return u(u({},e),{},((n={})[s]={code:l.code,name:(0,o.getTextFromLocalizableContextString)(l.name,t,s),cases:(0,c.mapLocalizableContextStringToOldCases)(l.name,t,l.code)},n))}),{})}},998072:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapDicts=function(e,t){var r={alliances:(0,i.mapAlliances)(e),airlines:(0,o.mapAirlines)(e,t),airports:(0,c.mapAirports)(e,t),countries:(0,s.mapCountries)(e,t),gates:(0,u.mapAgents)(e,t),gatesMeta:(0,l.mapGatesMeta)(e),ticketCities:(0,f.mapCities)(e,t)};return d("parsed dicts: %o",r),r};var a=n(r(491167)),i=r(976293),o=r(729177),c=r(555728),s=r(204954),u=r(104699),l=r(502885),f=r(872709),d=(0,a.default)("helios:search_results_mappers:dicts_mapper")},729868:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapExtraFareCollection=void 0;var a=n(r(207116)),i=n(r(939483)),o=function(e){return(0,i.default)("index",e.map((function(e){return{proposal_id:e.proposal_id,index:e.index}})))};t.mapExtraFareCollection=function(e){return(0,a.default)(o,e)}},502885:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapGatesMeta=void 0;var a=n(r(294650));t.mapGatesMeta=function(e){var t;return(0,a.default)(null===(t=e.debug_info)||void 0===t?void 0:t.gates)||{}}},210031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"mapAgents",{enumerable:!0,get:function(){return n.mapAgents}}),Object.defineProperty(t,"mapAirlines",{enumerable:!0,get:function(){return a.mapAirlines}}),Object.defineProperty(t,"mapAirports",{enumerable:!0,get:function(){return i.mapAirports}}),Object.defineProperty(t,"mapAlliances",{enumerable:!0,get:function(){return o.mapAlliances}}),Object.defineProperty(t,"mapBrandTicket",{enumerable:!0,get:function(){return c.mapBrandTicket}}),Object.defineProperty(t,"mapCheapestTicket",{enumerable:!0,get:function(){return d.mapCheapestTicket}}),Object.defineProperty(t,"mapCountries",{enumerable:!0,get:function(){return s.mapCountries}}),Object.defineProperty(t,"mapDicts",{enumerable:!0,get:function(){return u.mapDicts}}),Object.defineProperty(t,"mapGatesMeta",{enumerable:!0,get:function(){return l.mapGatesMeta}}),Object.defineProperty(t,"mapProposal",{enumerable:!0,get:function(){return f.mapProposal}}),Object.defineProperty(t,"mapTickets",{enumerable:!0,get:function(){return d.mapTickets}}),Object.defineProperty(t,"mapTransfers",{enumerable:!0,get:function(){return p.mapTransfers}});var n=r(104699),a=r(729177),i=r(555728),o=r(976293),c=r(979030),s=r(204954),u=r(998072),l=r(502885),f=r(18681),d=r(396138),p=r(651245)},18681:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapTariffMergeParams=t.mapTariffInfoItem=t.mapProposal=void 0;var a=n(r(101339)),i=n(r(299657)),o=r(39569),c=r(804701),s=r(682237),u=n(r(702944)),l=r(570355),f=r(834853),d=r(626358),p=r(663241);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(e){return{available:e.available,penaltyCurrencyCode:e.penalty_currency_code,penaltyValue:e.penalty_value}};t.mapTariffMergeParams=h;var m=function(e){if(e)return{isFromConfig:(0,s.getBagInfo)(e.is_from_config),mismatch:(0,s.getBagInfo)(e.mismatch)}},y=function(e){if(e)return{isFromConfig:h(e.is_from_config),mismatch:h(e.mismatch)}},_=function(e){if(e)return{baggage:m(e.baggage),handbags:m(e.handbags),changeAfterFlight:y(e.change_after_flight),changeBeforeFlight:y(e.change_before_flight),returnAfterFlight:y(e.return_after_flight),returnBeforeFlight:y(e.return_before_flight),seatAtPurchase:y(e.seat_at_purchase),seatAtRegistration:y(e.seat_at_registration)}},b=function(e){if(e)return{currencyCode:e.currency_code,value:e.value}},S=function(e){if(e)return{available:e.available,penalty:b(e.penalty),isFromConfig:e.is_from_config}};t.mapTariffInfoItem=S;var T=function(e){if(e)return{changeAfterFlight:S(e.change_after_flight),changeBeforeFlight:S(e.change_before_flight),returnAfterFlight:S(e.return_after_flight),returnBeforeFlight:S(e.return_before_flight)}},O=function(e){return{isVirtualInterline:e.is_virtual_interline,tags:e.tags}};t.mapProposal=function(e,t,r,n,a,i){for(var v,h,m,y,b,S,E,k,C,w,D=[],I=[],A={},x=0;x<t.segments.length;x+=1){for(var j=t.segments[x],R=[],M=e.transfer_terms[x],F=null==M?void 0:M.map(O),N=0;N<j.flights.length;N+=1){var L,B=j.flights[N],U=e.flight_terms[B],H=U.seats_available,W=(0,p.getBagsInfo)(U);0===x&&0===N&&(A=W),(L={})[c.BagsType.Baggage]=(0,p.getWorstBags)(A[c.BagsType.Baggage],W[c.BagsType.Baggage]),L[c.BagsType.Handbags]=(0,p.getWorstBags)(A[c.BagsType.Handbags],W[c.BagsType.Handbags]),A=L,H&&(!C||C>H)&&(C=H);var G={fareCode:(w=g(g({},U),W)).fare_code,tripClass:w.trip_class,marketingCarrierDesignator:(0,d.mapFlightDesignator)(w.marketing_carrier_designator),baggage:(0,s.getBagInfo)(w.baggage),handbags:(0,s.getBagInfo)(w.handbags),isCharter:w.is_charter,tags:w.tags,seatsAvailable:w.seats_available,additionalTariffInfo:T(w.additional_tariff_info),mergedTermsInfo:_(w.merged_terms_info)};R.push(G)}D.push(R),I.push(F)}var K=(0,p.getProposalDebugInfo)(e,t,r),V=Math.ceil(e.unified_price.value),Y=e.agent_id,q=r.agents[e.agent_id],z=(0,o.getTextFromLocalizableContextString)(q.label,i,String(Y)),X=null===(v=q.airline_iatas)||void 0===v?void 0:v[0],Q=function(e,t,r,n,a){return e===a&&n?n:(0,l.convertUnifiedToCurrency)(r,e,t).value}(n,a,V,e.price.value,e.price.currency_code.toLowerCase());return{agentId:Y,agentLabel:z,currency:e.price.currency_code.toLowerCase(),price:e.price.value,pricePerPerson:e.price_per_person.value,cashback:null===(h=e.cashback)||void 0===h||null===(m=h.localized_amount)||void 0===m?void 0:m.value,cashbackPerPerson:null===(y=e.cashback_per_person)||void 0===y||null===(b=y.localized_amount)||void 0===b?void 0:b.value,acceptedCards:e.accepted_cards,unifiedPrice:V,searchPrice:Q,worstBags:A,weight:e.weight,tags:e.tags||[],id:e.id,flightTerms:D,transferTerms:I,agentMainAirlineIata:X,assisted:r.agents[e.agent_id].assisted,seatsAvailable:C,hotel:null!==(S=e.options)&&void 0!==S&&S.hotel?P(e.options.hotel):void 0,badPartner:!(null===(E=u.default.get("avs-exp-downgradedGates"))||void 0===E||null===(k=E.gatesId)||void 0===k||!k.includes(Y)),fromMainAirline:e.from_main_airline,debugInfo:K||null,minimumFare:f.MinimumFareMapper.fromDto(e.minimum_fare)}};var P=function(e){if(!(0,i.default)(e))return{name:e.name||"",stars:e.stars||0}}},49216:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapTicket=t.formatFlightSERP=void 0;var a=n(r(114558)),i=r(729868),o=r(663241),c=r(651245);t.mapTicket=function(e,t,r){void 0===r&&(r={});var n=new Set,u=e.segments.map((function(e){var a=(0,c.mapTransfers)(e,t);return{flights:e.flights.map((function(e,i){var o=t.flight_legs[e],c=a[i-1];return n.add(o.operating_carrier_designator.airline_id),r[e]||(r[e]=s(o,c)),r[e]})),transfers:a}})),l=(0,o.getTotalSegmentsDuration)(u),f=(0,o.getTransfersMaxCount)(e.segments),d=(0,o.getMinMaxTransferDuration)(u),p=(0,a.default)(d,2);return{sort_rating:0,segments:u,is_direct:0===f,max_stops:f,min_stop_duration:p[0],max_stop_duration:p[1],segments_time:(0,o.getSegmentsTime)(u),segment_durations:(0,o.getSegmentsDurations)(u),total_duration:l,segments_airports:(0,o.getSegmentsAirports)(u),carriers:Array.from(n),hashsum:e.hashsum,sign:e.signature,tags:e.tags||[],badges:e.badges||[],debug:{agent_id:e.proposals[0].agent_id,popularity:e.popularity},extra_fares:(0,i.mapExtraFareCollection)(e.extra_fares),score:e.score}};var s=function(e,t){var r,n=(0,o.buildDateFromString)(e.local_arrival_date_time),a=(0,o.buildDateFromString)(e.local_departure_date_time),i=(+n-6e4*n.getTimezoneOffset())/1e3,c=(+a-6e4*a.getTimezoneOffset())/1e3;return{arrival:e.destination,arrival_date:(0,o.getDateStrFromDateTime)(e.local_arrival_date_time),arrival_time:(0,o.getTimeStrFromDateTime)(e.local_arrival_date_time),arrival_timestamp:e.arrival_unix_timestamp,departure:e.origin,departure_date:(0,o.getDateStrFromDateTime)(e.local_departure_date_time),departure_time:(0,o.getTimeStrFromDateTime)(e.local_departure_date_time),departure_timestamp:e.departure_unix_timestamp,duration:(0,o.getFlightDuration)(1e3*e.departure_unix_timestamp,1e3*e.arrival_unix_timestamp),local_arrival_timestamp:i,local_departure_timestamp:c,number:e.operating_carrier_designator.number,operating_carrier:e.operating_carrier_designator.carrier,airline_id:e.operating_carrier_designator.airline_id,aircraft:e.equipment.name,equipment:e.equipment.code,delay:(null==t?void 0:t.duration)||0,technical_stops:e.technical_stops,transport:e.equipment.type,signature:null!=(r=e.signature)?r:""}};t.formatFlightSERP=s},396138:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapTickets=t.mapDirectScheduleTicket=t.mapCheapestTicket=void 0;var a=n(r(101339)),i=n(r(114558)),o=n(r(491167)),c=n(r(26045)),s=r(84324),u=r(18681),l=r(49216);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,o.default)("helios:search_results_mappers:tickets_mapper");t.mapCheapestTicket=function(e){var t=e.chunk,r=e.currency,n=e.currencies,a=e.language,i=t.cheapest_ticket;if(!i)return null;var o=(0,c.default)((function(e){return(0,u.mapProposal)(e,i,t,r,n,a)}),i.proposals);return[(0,l.mapTicket)(i,t),o]};var v=function(e){var t=e.ticketsState,r=e.chunk,n=e.currency,a=e.currencies,i=e.language;return function(e,o){var c=[],s=e.reduce((function(e,s){var f,d=s.signature,v=null==t||null===(f=t.tickets)||void 0===f?void 0:f[s.signature];s.proposals.forEach((function(t){return e.proposals[t.id]=(0,u.mapProposal)(t,s,r,n,a,i),e.ticketsProposals[d]||(e.ticketsProposals[d]=[]),e.ticketsProposals[d].push(t.id),e.proposals[t.id]}),[]);var g=!(null!=v&&v.hashsum)||v.hashsum!==s.hashsum;return e.tickets[d]=g?(0,l.mapTicket)(s,r):v,p((o?o+": ":"")+"sign: %s, current hash: %s, next hash: %s, is ticket changed: %s",d,null==v?void 0:v.hashsum,s.hashsum,g),c.push(s.signature),e}),{tickets:{},proposals:{},ticketsProposals:{}});return[c,s]}},g=function(e,t){var r=t(e),n=(0,i.default)(r,2),a=n[0];return d(d({},n[1]),{},{ticketsList:a})};t.mapTickets=function(e){var t=e.chunk,r=e.currency,n=e.currencies,a=e.ticketsState,o=e.language,c=function(e){var t;return{directCount:e.meta.direct_tickets_count,filteredTicketsCount:e.meta.filtered_tickets_count,totalTicketsCount:e.meta.total_tickets_count,cheapestTicketSign:(null===(t=e.cheapest_ticket)||void 0===t?void 0:t.signature)||null}}(t),u=t.tickets,l=t.soft_tickets,f=t.direct_flights,p=v({ticketsState:a,chunk:t,currency:r,currencies:n,language:o}),h=g(u,p),m=function(e,t){if(null==e||!e.tickets)return{tickets:{},proposals:{},ticketsProposals:{},softTickets:{tickets:[],appliedFilters:[]}};var r=t(e.tickets,"soft ticket"),n=(0,i.default)(r,2),a=n[0];return d(d({},n[1]),{},{softTickets:{tickets:a,appliedFilters:[].concat(null==e?void 0:e.filters_applied)}})}(l,p),y=function(e,t){if(!(0,s.getIsDirectScheduleFeatureEnabled)())return{tickets:{},proposals:{},ticketsProposals:{},directFlightsCheapestTicketSigns:[]};var r=t(e.map((function(e){return e.cheapest_ticket})),"direct flight cheapest ticket"),n=(0,i.default)(r,2),a=n[0];return d(d({},n[1]),{},{directFlightsCheapestTicketSigns:a})}(f,p);return{meta:c,ticketsList:h.ticketsList,directFlightsCheapestTicketSigns:y.directFlightsCheapestTicketSigns,softTickets:m.softTickets,tickets:d(d(d({},h.tickets),y.tickets),m.tickets),proposals:d(d(d({},h.proposals),y.proposals),m.proposals),ticketsProposals:d(d(d({},h.ticketsProposals),y.ticketsProposals),m.ticketsProposals)}},t.mapDirectScheduleTicket=function(e){var t=e.chunk,r=e.currency,n=e.currencies,a=e.ticketsState,i=e.language,o=[e.directScheduleTicket],c=v({ticketsState:a,chunk:t,currency:r,currencies:n,language:i}),s=g(o,c);return{tickets:s.tickets,proposals:s.proposals,ticketsProposals:s.ticketsProposals}}},651245:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapTransfers=void 0;var a=n(r(101339));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.mapTransfers=function(e,t){return e.transfers?e.transfers.map((function(r,n){var a,i=t.flight_legs[e.flights[n]],c=t.flight_legs[e.flights[n+1]],s=t.places.airports[c.origin];return o(o({},r),{},{arrival_airport:i.destination,departure_airport:c.origin,departure_airline:c.operating_carrier_designator.carrier,arrival_airline:i.operating_carrier_designator.carrier,duration:Math.round((1e3*c.departure_unix_timestamp-1e3*i.arrival_unix_timestamp)/1e3/60),country_code:null===(a=t.places.cities[null==s?void 0:s.city_code])||void 0===a?void 0:a.country,city_code:null==s?void 0:s.city_code,tags:r.tags||[]})})):[]}},331547:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.searchResultsSaga=l;var a=n(r(385882)),i=r(67085),o=r(965993),c=r(709854),s=r(333435),u=a.default.mark(l);function l(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.fork)(o.watchStartSearch);case 2:return e.next=4,(0,i.fork)(c.searchResultsProcessingSaga);case 4:return e.next=6,(0,i.fork)(s.clientUpdater);case 6:case"end":return e.stop()}}),u)}},965993:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.watchStartSearch=S;var a=n(r(385882)),i=r(982175),o=n(r(816550)),c=r(39569),s=r(260159),u=r(32958),l=r(754266),f=r(165652),d=r(749748),p=r(639662),v=r(405628),g=n(r(702944)),h=r(563676),m=r(431556),y=a.default.mark(b),_=a.default.mark(S);function b(){var e,t,r,n,c,s,f;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,i.select)(u.getStartSearchRequestParams);case 2:if(e=a.sent,t=(0,h.getTicketsApiUrl)(),!(0,o.default)(e)){a.next=6;break}return a.abrupt("return");case 6:return a.next=8,(0,i.select)(m.getSearchTriggerSource);case 8:return r=a.sent,a.next=11,(0,l.emitSeleneEvent)({type:"service/helios/serp/api/search_start_source_changed",payload:r});case 11:return a.next=13,e;case 13:return n=a.sent,c=n.debugHeaders,s=n.options,f=g.default.is("avs-exp-foreignCards"),a.next=19,(0,l.emitSeleneEvent)({type:"service/helios/serp/api/start",payload:{isForeignCardsFlagEnabled:f,options:s,debugHeaders:c,searchHostUrl:t}});case 19:return a.next=21,(0,i.cancelled)();case 21:if(!a.sent){a.next=24;break}return a.next=24,(0,l.emitSeleneEvent)({type:"service/helios/serp/api/abort",payload:"cancelled"});case 24:case"end":return a.stop()}}),y)}function S(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(f.COLLECT_SEARCH_RESULTS,a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.put)((0,s.updateSearchStatus)(c.SearchStatus.Started));case 2:return e.next=4,(0,i.delay)(200);case 4:return e.next=6,(0,i.fork)(b);case 6:if(t=e.sent,!(0,v.selectIsAutosearchEnabled)(g.default)){e.next=11;break}return e.next=11,(0,i.put)((0,p.resetAutosearchTickets)());case 11:return e.next=13,(0,i.put)((0,d.resetTicketsAndDicts)());case 13:return e.next=15,(0,i.take)(f.ABORT_SEARCH);case 15:return console.log("Search has been aborted"),e.next=18,(0,i.cancel)(t);case 18:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}},333435:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.clientUpdater=j;var i=n(r(385882)),o=r(982175),c=r(20344),s=r(754266),u=r(242608),l=r(829181),f=r(294317),d=r(430162),p=r(627275),v=r(340227),g=r(821277),h=r(239733),m=r(651949),y=a.mark(k),_=a.mark(C),b=a.mark(w),S=a.mark(D),T=a.mark(I),O=a.mark(A),P=a.mark(x),E=a.mark(j);function k(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([u.FILTERS_CHANGE,u.RESET_FILTERS_STATE],i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,p.updateSearchResultsRequestStatus)(c.RequestStatus.Pending,"filtersUpdate"));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),y)}function C(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.UPDATE_SEARCH_RESULTS_PAGE,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(h.getSearchResultsPage);case 2:return t=e.sent,e.next=5,(0,s.emitSeleneEvent)({type:"service/helios/serp/page/change",payload:{page:t}});case 5:return e.next=7,(0,o.put)((0,p.updateSearchResultsRequestStatus)(c.RequestStatus.Pending,"pageUpdate"));case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),_)}function w(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(g.REQUIRED_TICKET_SIGN_ADD,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sign,e.next=3,(0,s.emitSeleneEvent)({type:"service/helios/serp/api/required_tickets/add",payload:{tickets:[r]}});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),b)}function D(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(g.REQUIRED_TICKET_SIGN_REMOVE,i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sign,e.next=3,(0,s.emitSeleneEvent)({type:"service/helios/serp/api/required_tickets/remove",payload:{tickets:[r]}});case 3:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),S)}function I(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.RESET_SEARCH_RESULTS_PAGE,i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.emitSeleneEvent)({type:"service/helios/serp/page/reset"});case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),T)}function A(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(f.UPDATE_SEARCH_PARAMS_SEGMENTS,i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.select)(d.getSearchParams);case 2:return t=e.sent,e.next=5,(0,s.emitSeleneEvent)({type:"service/helios/serp/api/search_params_updated",payload:t});case 5:return e.next=7,(0,s.emitSeleneEvent)({type:"service/helios/serp/api/results"});case 7:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),O)}function x(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([v.UPDATE_TICKETS_AND_DICTS,m.UPDATE_DIRECT_SCHEDULE_TICKETS],i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)((0,p.updateSearchResultsRequestStatus)(c.RequestStatus.Success));case 2:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),P)}function j(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.fork)(A);case 2:return e.next=4,(0,o.fork)(k);case 4:return e.next=6,(0,o.fork)(C);case 6:return e.next=8,(0,o.fork)(w);case 8:return e.next=10,(0,o.fork)(D);case 10:return e.next=12,(0,o.fork)(I);case 12:return e.next=14,(0,o.fork)(x);case 14:case"end":return e.stop()}}),E)}},709854:function(e,t,r){"use strict";var n=r(35220),a=r(385882);Object.defineProperty(t,"__esModule",{value:!0}),t.searchResultsProcessingSaga=q,t.watchChunksLoadedSaga=K,t.watchDirectScheduleChunksLoadedSaga=V;var i=n(r(385882)),o=n(r(101339)),c=n(r(491167)),s=r(67085),u=n(r(275347)),l=n(r(457216)),f=n(r(245755)),d=n(r(396673)),p=n(r(142313)),v=n(r(299657)),g=n(r(941622)),h=r(165652),m=r(749748),y=r(386452),_=r(671747),b=r(13786),S=r(107),T=r(194149),O=r(239733),P=r(64084),E=r(220270),k=r(663894),C=r(25614),w=r(496630),D=r(405628),I=r(639662),A=n(r(702944)),x=r(426267),j=r(666367),R=r(210031),M=a.mark(K),F=a.mark(V),N=a.mark(Y),L=a.mark(q);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return W(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=(0,c.default)("helios:search_results_handlers:process_chunks");function K(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(h.CHUNKS_LOADED,i.default.mark((function e(t){var r,n,a,o,c,g,h,E,k,x,j,M,F;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.chunks,n=u.default.language,a=y.$currency.getState(),e.next=5,(0,s.select)(_.getCurrencies);case 5:return o=e.sent,e.next=8,(0,s.select)(C.getTicketsState);case 8:return c=e.sent,e.next=11,(0,s.select)(O.getSearchResultsPage);case 11:return g=e.sent,e.next=14,(0,s.call)(O.getTicketsPerPage);case 14:return h=e.sent,e.next=17,(0,s.select)(w.getHighlightedTicketParamsSign);case 17:E=e.sent,k=(0,D.selectIsAutosearchEnabled)(A.default),x=(0,l.default)({chunk_id:"debug"},r),j=i.default.mark((function e(){var t,r,u,y,_,O,C,w,D,A,x,j;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F.value,G("processing a chunk: %o",t),r=(0,R.mapDicts)(t,n),u=(0,R.mapTickets)({chunk:t,currency:a,currencies:o,ticketsState:c,language:n}),y=g*h,_=(0,d.default)([(0,l.default)((function(e){return e===E})),(0,f.default)(0,y)])(u.ticketsList),O=U(U({},u),{},{ticketsList:_}),e.next=9,(0,s.put)((0,m.updateTicketsAndDicts)(O,r));case 9:if(!k){e.next=13;break}return C=(0,p.default)(2,u.ticketsList),e.next=13,(0,s.put)((0,I.updateAutosearchTickets)(C));case 13:if(!(w=(0,R.mapCheapestTicket)({chunk:t,currency:a,currencies:o,ticketsState:c,language:n}))){e.next=17;break}return e.next=17,(0,s.put)((0,P.updateCheapestTicket)(w));case 17:return D=(0,R.mapBrandTicket)(t,a,o,n),e.next=20,(0,s.select)((function(e){var r;return(0,T.getBrandTicketCampaignByAgentId)(e,null===(r=t.brand_ticket)||void 0===r?void 0:r.proposals[0].agent_id)}));case 20:return A=e.sent,e.next=23,(0,s.select)(S.getBrandTicketData);case 23:if(x=e.sent,j=(0,v.default)(x),!D||!A){e.next=35;break}if(!x){e.next=31;break}return e.next=29,(0,s.put)((0,b.updateBrandTicketData)({ticket:D}));case 29:e.next=33;break;case 31:return e.next=33,(0,s.put)((0,b.addBrandTicket)(D,A));case 33:e.next=38;break;case 35:if(j){e.next=38;break}return e.next=38,(0,s.put)((0,b.removeBrandTicket)());case 38:G("ticketsState: %o",O),G("dicts: %o",r),G("boundaries: %o",null==t?void 0:t.filter_boundaries),G("brandTicket: %o %o",D,A);case 42:case"end":return e.stop()}}),e)})),M=H(x);case 22:if((F=M()).done){e.next=26;break}return e.delegateYield(j(),"t0",24);case 24:e.next=22;break;case 26:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),M)}function V(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeEvery)(h.DIRECT_SCHEDULE_CHUNKS_LOADED,i.default.mark((function e(t){var r,n,a,o,c,u,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.chunks,n=(0,l.default)({chunk_id:"debug"},r),a=H(n);case 3:if((o=a()).done){e.next=11;break}return c=o.value,u=c.tickets.map((function(e){return U(U({},e),{},{proposals:e.proposals.map((function(t){return(0,x.mapProposalDTOWithBaggage)(t,e)}))})})),f=(0,g.default)("signature",u),e.next=9,(0,s.put)((0,j.updateDirectScheduleTickets)(f,c));case 9:e.next=3;break;case 11:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),F)}function Y(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(h.CHUNKS_LOADED,i.default.mark((function e(t){var r,n,a,o,c,f,d,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.chunks,n=u.default.language,a=(0,l.default)({chunk_id:"results"},r),o=H(a);case 4:if((c=o()).done){e.next=14;break}return f=c.value,d=(0,R.mapAgents)(f,n),p=(0,R.mapGatesMeta)(f),e.next=10,(0,s.put)((0,k.addAgents)(d));case 10:return e.next=12,(0,s.put)((0,E.addGatesMeta)(p));case 12:e.next=4;break;case 14:case"end":return e.stop()}}),e)})));case 2:case"end":return e.stop()}}),N)}function q(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.fork)(K);case 2:return e.next=4,(0,s.fork)(V);case 4:return e.next=6,(0,s.fork)(Y);case 6:case"end":return e.stop()}}),L)}},32958:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.prepareDebugHeaders=t.getStartSearchRequestParams=void 0;var a=n(r(385882)),i=n(r(971410)),o=n(r(275347)),c=r(774953),s=n(r(816550)),u=n(r(702944)),l=r(452130),f=n(r(897360)),d=r(123766),p=r(131052),v=r(430162),g=r(785843),h=r(863974),m=(0,c.createSelector)([v.getSearchParams,p.getDebugSettings],function(){var e=(0,i.default)(a.default.mark((function e(t,r){var n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.default)(t)){e.next=2;break}return e.abrupt("return",null);case 2:return n=_(r),e.next=5,y(t,r);case 5:return i=e.sent,e.abrupt("return",{debugHeaders:n,options:i});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());t.getStartSearchRequestParams=m;var y=function(){var e=(0,i.default)(a.default.mark((function e(t,r){var n,i,c,s,d,p,v,m;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.default.language,d=t.segments.map((function(e){return{origin:e.original_origin||e.origin,destination:e.original_destination||e.destination,date:e.date}})),y=r.marker,p=y||f.default.marker(),e.next=5,b(r.experimentGroups);case 5:return v=e.sent,null!==(n=u.default.get("avs-exp-searchLimitOption"))&&void 0!==n&&n.limit&&(v||(v={}),v.split_chunk_experiment="on"),m=r.marketCode||(0,l.getMarket)(),e.abrupt("return",{search_params:{directions:d,passengers:t.passengers,trip_class:t.tripClass},client_features:{direct_flights:!0,brand_ticket:!0,top_filters:!0,badges:!0,tour_tickets:!0,assisted:!0},marker:p,market_code:m,citizenship:null!=(void 0,i=null===(a=h.userService.$userSettings.getState())||void 0===a?void 0:a.citizenship)?i:m,currency_code:r.currencyCode||t.currency,languages:S(r.languages)||(c={},c[s]=1,c),debug:{gate_errors:r.gateErrors,dump_requests:r.dumpRequests,bypass_rulers:r.bypassRulers,disable_cache:r.disableCache,experiment_groups:v,referrer:r.referrer},gates_to_request:T(r.gatesToRequest),jwt:null,brand:g.BRAND});case 9:case"end":return e.stop()}var a,y}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_=function(e){return["X-Client-Type"].reduce((function(t,r){var n=e[r];return n&&(t||(t={}),t[r]=n),t}),void 0)};t.prepareDebugHeaders=_;var b=function(){var e=(0,i.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getExpFlagsReady)();case 2:return r=e.sent,t&&t.reduce((function(e,t){var r=t.expName,n=t.groupName,a=t.enabled;return r&&n&&a&&(e[r]=n),e}),r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){return null==e?void 0:e.split(",").reduce((function(e,t,r){var n=t.trim();return n&&(e||(e={}),e[n]=r),e}),void 0)},T=function(e){return null==e?void 0:e.split(",").reduce((function(e,t){var r=t.trim();return r&&(e||(e=[]),e.push(r)),e}),void 0)}},790946:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorstBags=t.getBagsInfo=void 0;var n=r(804701),a=r(682237);t.getBagsInfo=function(e){var t;return(t={})[n.BagsType.Baggage]=(0,a.getBagInfo)(e[n.BagsType.Baggage]),t[n.BagsType.Handbags]=(0,a.getBagInfo)(e[n.BagsType.Handbags]),t},t.getWorstBags=function(e,t){return i(e)<i(t)?e:t};var i=function(e){return e?e.count?e.weight?e.weight*e.count:e.dimensions?e.count-.1:e.count:-1:0}},660722:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeStrFromDateTime=t.getDateStrFromDateTime=t.buildDateFromString=void 0;var r=function(e){return e.split(" ")};t.getDateStrFromDateTime=function(e){return r(e)[0]},t.getTimeStrFromDateTime=function(e){return r(e)[1]},t.buildDateFromString=function(e){var t=e.replace(/-/gi,"/");return new Date(t)}},975494:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendClientErrorToRollbar=t.mapClientErrorToExplosionError=void 0;var n=r(215196);t.mapClientErrorToExplosionError=function(e){switch(e){case"SameOriginDestination":return"wrong_places";case"WrongDates":return"wrong_dates";case"WrongSearchParams":return"bad_search_params";case"GatewayForbidden":return"access_denied";default:return"search_failed";case"SearchTimeout":return"common_error";case"UserOffline":return"user_offline"}},t.sendClientErrorToRollbar=function(e,t,r){var a=e;switch(null!=r&&r.serverResponseStatus&&(a=e+". "+r.serverResponseStatus+" - Server Response Status"),e){case"SameOriginDestination":case"WrongDates":case"WrongSearchParams":n.ErrorsTracker.warning(a,r);break;case"StartSearchInternalServerError":case"StartSearchUnknownError":case"ChunkLoadMaxRetriesError":case"NoSearchIdRecieved":n.ErrorsTracker.critical(a,r);break;case"ChunkLoadClientTimeout":case"GatewayForbidden":case"UserOffline":case"UnavailableForLegalReasons":break;default:n.ErrorsTracker.error(a,r)}}},663241:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"buildDateFromString",{enumerable:!0,get:function(){return a.buildDateFromString}}),Object.defineProperty(t,"getBagsInfo",{enumerable:!0,get:function(){return n.getBagsInfo}}),Object.defineProperty(t,"getDateStrFromDateTime",{enumerable:!0,get:function(){return a.getDateStrFromDateTime}}),Object.defineProperty(t,"getFlightDuration",{enumerable:!0,get:function(){return s.getFlightDuration}}),Object.defineProperty(t,"getMinMaxTransferDuration",{enumerable:!0,get:function(){return s.getMinMaxTransferDuration}}),Object.defineProperty(t,"getPrecheckFilters",{enumerable:!0,get:function(){return o.getPrecheckFilters}}),Object.defineProperty(t,"getProposalDebugInfo",{enumerable:!0,get:function(){return c.getProposalDebugInfo}}),Object.defineProperty(t,"getSegmentsAirports",{enumerable:!0,get:function(){return s.getSegmentsAirports}}),Object.defineProperty(t,"getSegmentsDurations",{enumerable:!0,get:function(){return s.getSegmentsDurations}}),Object.defineProperty(t,"getSegmentsTime",{enumerable:!0,get:function(){return s.getSegmentsTime}}),Object.defineProperty(t,"getTimeStrFromDateTime",{enumerable:!0,get:function(){return a.getTimeStrFromDateTime}}),Object.defineProperty(t,"getTotalSegmentsDuration",{enumerable:!0,get:function(){return s.getTotalSegmentsDuration}}),Object.defineProperty(t,"getTransfersMaxCount",{enumerable:!0,get:function(){return s.getTransfersMaxCount}}),Object.defineProperty(t,"getWorstBags",{enumerable:!0,get:function(){return n.getWorstBags}}),Object.defineProperty(t,"mapClientErrorToExplosionError",{enumerable:!0,get:function(){return i.mapClientErrorToExplosionError}}),Object.defineProperty(t,"sendClientErrorToRollbar",{enumerable:!0,get:function(){return i.sendClientErrorToRollbar}});var n=r(790946),a=r(660722),i=r(975494),o=r(611719),c=r(626358),s=r(305903)},611719:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getPrecheckFilters=void 0;var a=n(r(101339)),i=n(r(711723)),o=n(r(299657)),c=n(r(26045)),s=n(r(396673)),u=n(r(171353)),l=n(r(823584)),f=n(r(178115));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(e,t){var r=t["original_"+e],n=t[e],a=t[e+"_type"];if(r&&r!==n||"airport"===a)return r||n},g=function(e,t){var r=t["original_"+e],n=t[e],a=t[e+"_type"];if(r&&r!==n||"airport"===a)return n},h=(0,i.default)((function(e,t){if(!e)return t;if("roundtrip"!==e.tripType)return t;if((0,o.default)(t.segments))return t;var r=(0,s.default)((0,u.default)((function(e,t){var r=g("origin",t),n=g("destination",t);return r&&e.push(r),n&&e.push(n),e}),[]),l.default)(e.segments);return p(p({},t),{},{with_same_departure_arrival_airport:r})})),m=(0,i.default)((function(e,t){if(!e)return t;if((0,o.default)(e.segments))return t;var r=e.segments.reduce((function(e,t,r){var n,a=v("origin",t),i=v("destination",t),c=e?p({},e[r]):{};return a&&(c.airports_departure=[].concat(c.airports_departure||[],[a])),i&&(c.airports_arrival=[].concat(c.airports_arrival||[],[i])),(0,f.default)(o.default,p(p({},e),{},((n={})[r]=c,n)))}),{});return(0,f.default)(o.default,p(p({},t),{},{segments:r}))})),y=(0,i.default)((function(e,t,r){var n;return t.baggage||null!=e&&null!==(n=e.precheckedFilters)&&void 0!==n&&n.filter_baggage?p(p({},r),{},{baggage:["full_baggage"]}):r})),_=(0,i.default)((function(e,t){var r,n,a=null==e||null===(r=e.precheckedFilters)||void 0===r?void 0:r.filter_agents,i=null==e||null===(n=e.precheckedFilters)||void 0===n?void 0:n.filter_gates,o=a||i;return o?p(p({},t),{},{agents:(0,c.default)(Number,o)}):t})),b=(0,i.default)((function(e,t,r){var n,a=(null==t?void 0:t.transfersCount)||(null==e||null===(n=e.precheckedFilters)||void 0===n?void 0:n.filter_stops);return a?p(p({},r),{},{transfers_count:(0,c.default)(Number,a)}):r})),S=(0,i.default)((function(e,t){var r,n=null==e||null===(r=e.precheckedFilters)||void 0===r?void 0:r.filter_airlines;return n?p(p({},t),{},{airlines:n}):t})),T=(0,i.default)((function(e,t){var r=null==e?void 0:e.paymentMethod;return r&&"all"!==r?p(p({},t),{},{payment_methods:[r]}):t})),O=(0,i.default)((function(e,t,r){var n;return null!=t&&t.withoutVisa||null!=e&&null!==(n=e.precheckedFilters)&&void 0!==n&&n.filter_transfers_without_visa?p(p({},r),{},{transfers_without_visa:!0}):r})),P=(0,i.default)((function(e,t){return null!=e&&e.withoutCovidRestrictions?p(p({},t),{},{without_covid_restrictions:!0}):t}));t.getPrecheckFilters=function(e,t){return(0,s.default)([m(e),h(e),_(e),b(e,t),S(e),y(e,t),T(e),O(e,t),P(t)])({})}},626358:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.mapFlightDesignator=t.getProposalDebugInfo=void 0;var a=n(r(114558)),i=n(r(101339)),o=n(r(396673)),c=n(r(299657)),s=n(r(984637)),u=n(r(171353)),l=n(r(106980)),f=n(r(26045)),d=n(r(218043));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){return e?{carrier:e.carrier,airlineId:e.airline_id,number:e.number}:e};t.mapFlightDesignator=g,t.getProposalDebugInfo=function(e,t,r){var n=r.debug_info;if(n){var a=function(e,t){var r=h(e.gates)[t.agent_id];if(r&&r.proposals&&!(0,c.default)(r.proposals)){var n=r.proposals[t.id];if(!(0,c.default)(n))return{gateName:r.gateName,proposalDebugInfo:r.proposals[t.id]}}}(n,e);if(a){var i=a.proposalDebugInfo,s=a.gateName,u=(0,o.default)([(0,f.default)((function(e){return function(e,t,r){var n=e.flights;return(0,o.default)([(0,f.default)((function(e){var n,a,i,o,c=t.flight_legs[e];return{operatingCarrierDesignator:g(c.operating_carrier_designator),equipment:c.equipment,technicalStops:c.technical_stops,baggageSource:null==r||null===(n=r.flight_terms)||void 0===n||null===(a=n[e])||void 0===a?void 0:a.baggage_source,handbagsSource:null==r||null===(i=r.flight_terms)||void 0===i||null===(o=i[e])||void 0===o?void 0:o.handbags_source}}))])(n)}(e,r,i)}))])(t.segments);return{gateName:s,productivity:i.productivity,multiplier:i.multiplier,flightInfo:u,agencyPrice:{currencyCode:i.agency_price.currency_code,value:i.agency_price.value}}}}};var h=(0,d.default)((function(e){return(0,o.default)([s.default,(0,u.default)((function(e,t){var r=t.name,n=function(e,t){return(0,o.default)([l.default,(0,u.default)((function(e,r){var n,i=(0,a.default)(r,2),o=i[0],c=i[1],s=Number(o),u=v({id:s,gateName:t},c);return v(((n={})[s]=u,n),e)}),{})])(e)}(t.agents,r);return v(v({},n),e)}),{})])(e)}))},305903:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransfersMaxCount=t.getTotalSegmentsDuration=t.getSegmentsTime=t.getSegmentsDurations=t.getSegmentsAirports=t.getMinMaxTransferDuration=t.getFlightDuration=void 0,t.getSegmentsAirports=function(e){return e.map((function(e){return[e.flights[0].departure,e.flights[e.flights.length-1].arrival]}))},t.getSegmentsTime=function(e){return e.map((function(e){return[e.flights[0].local_departure_timestamp,e.flights[e.flights.length-1].local_arrival_timestamp]}))};var r=function(e){return function(e){return e.flights.reduce((function(e,t){return t.duration+e}),0)}(e)+function(e){return e.transfers.reduce((function(e,t){return t.duration+e}),0)}(e)},n=function(e){return e.map(r)};t.getSegmentsDurations=n,t.getTotalSegmentsDuration=function(e){return n(e).reduce((function(e,t){return e+t}),0)},t.getTransfersMaxCount=function(e){return Math.max.apply(Math,e.map((function(e){return e.transfers.length})))},t.getFlightDuration=function(e,t){return(new Date(t).getTime()-new Date(e).getTime())/6e4},t.getMinMaxTransferDuration=function(e){return e.reduce((function(e,t){return t.transfers.forEach((function(t){(!e[0]||t.duration<e[0])&&(e[0]=t.duration),t.duration>e[1]&&(e[1]=t.duration)})),e}),[0,0])}},99389:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(947981)),i=n(r(797972)),o=r(445549),c=n(r(871838)),s=r(681334),u=n(r(267821));function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(396971);var f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onImageClick=function(e){var r=t.props,n=r.onClick,a=void 0===n?s.noop:n,i=r.href;a(e,"image",void 0===i?"":i,t.props.index)},t.onTitleClick=function(e){var r=t.props,n=r.onClick,a=void 0===n?s.noop:n,i=r.href;a(e,"title",void 0===i?"":i,t.props.index)},t.onButtonClick=function(e){var r=t.props,n=r.onClick,a=void 0===n?s.noop:n,i=r.href;a(e,"button",void 0===i?"":i,t.props.index)},t}return(0,a.default)(t,e),t.getRatingTitleKey=function(e){for(var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t.ratings);!(r=n()).done;){var a=r.value;if(e>=a.min&&e<=a.max)return a.i18nKey}return t.ratings[0].i18nKey},t.prototype.render=function(){var e=this.props,r=e.image,n=e.stars,a=e.price,s=e.currency,l=e.rating,f=e.title,d=e.currencyRate,p=e.design,v=e.t,g=e.href,h=g?g+"&source="+t.source:void 0;return i.default.createElement("div",{className:"booking-banner-card"+(p?" --"+p:"")},i.default.createElement("a",{href:h,className:"booking-banner-card__image",style:{backgroundImage:"url('"+r+"')"},onClick:this.onImageClick}),i.default.createElement("div",{className:"booking-banner-card-stars"},Array.apply(null,{length:n}).map((function(e,t){return i.default.createElement("img",{src:u.default,className:"booking-banner-card-stars__star",alt:"",key:t})}))),i.default.createElement("a",{onClick:this.onTitleClick,href:h,className:"booking-banner-card__title"},f),i.default.createElement("a",{onClick:this.onButtonClick,href:h,className:"booking-banner-card__button"},i.default.createElement(o.Trans,{ns:"ad_booking_banner",i18nKey:"priceFrom"},i.default.createElement(c.default,{value:a/(d||1),currency:s}))),i.default.createElement("div",{className:"booking-banner-card-rating"},"minimal"!==p&&i.default.createElement(i.default.Fragment,null,v("ad_booking_banner:"+t.getRatingTitleKey(l))," "),i.default.createElement("span",{className:"booking-banner-card-rating__rating",title:v("ad_booking_banner:"+t.getRatingTitleKey(l))},l)))},t}(i.default.PureComponent);f.source="flights_results_hotel_banner",f.ratings=[{min:0,max:7.9,i18nKey:"good"},{min:8,max:8.5,i18nKey:"veryGood"},{min:8.6,max:8.9,i18nKey:"wonderful"},{min:9,max:9.5,i18nKey:"excellent"},{min:9.6,max:10,i18nKey:"exceptional"}];var d=(0,o.withTranslation)("ad_booking_banner")(f);t.default=d},75793:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BookingBanner=void 0;var a=n(r(435850)),i=n(r(760497)),o=n(r(947981)),c=n(r(797972)),s=r(740537),u=r(445549),l=r(968875),f=r(681334),d=n(r(702944)),p=r(663579),v=n(r(736481)),g=n(r(99389)),h=n(r(601864)),m=r(915071),y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onCardClick=function(e,r,n,a){var i=t.props,o=i.onCardClick,c=void 0===o?f.noop:o,s=i.variant;c({target:r,type:i.type,variant:s,index:a,url:n})},t.onContainerClick=function(e,r,n){var a=t.props,i=a.onContainerClick;(void 0===i?f.noop:i)({target:r,type:a.type,variant:a.variant,url:n})},t}(0,o.default)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props,t=e.onShown;(void 0===t?f.noop:t)(e.type,e.variant)},r.getBookingLink=function(){return(0,m.createBookingUrl)({urlParams:{destinationIATA:this.props.iata,dateFrom:this.dateFrom,dateTo:this.dateTo,childrenCount:this.props.children||0,infantsCount:this.props.infants||0,adultsCount:this.props.adults||0,currency:this.props.currency,utm:this.props.utm||"aviasales",utmCampaign:this.props.utm||"aviasales",utmSource:this.props.utm_source||"aviasales",utmMedium:this.props.utm_medium||"aviasales",utmContent:this.props.utm_content}})},r.render=function(){var e,t=this,r=this.props,n=r.showAllText,i=r.showAllLink,o=r.logoLink,s=r.cards,u=r.orientation,l=r.cardDesign,f=r.locationName,p=this.getBookingLink();if(!s.length)return null;if(function(e,t){return(!t||"horizontal"===t)&&e<2}(s.length,u))return null;var h=n||f?this.props.t("ad_booking_banner:allHotelsLink",{locationName:f}):void 0,m=d.default.get("serp-exp-hotels","variantAttachment"),y=Boolean((null==m?void 0:m.enabled)&&(null==m||null===(e=m.entry_points)||void 0===e?void 0:e.flights_results_banner));return c.default.createElement(v.default,{showAllText:h,showAllLink:i||p,logoLink:o||p,onClick:this.onContainerClick,orientation:u},s.map((function(e,r){return c.default.createElement(g.default,(0,a.default)({},e,{key:e.id,index:r,currency:t.props.currency,currencyRate:t.props.currencyRate,onClick:t.onCardClick,design:l,href:y?e.urlV2:p}))})))},(0,i.default)(t,[{key:"dateFrom",get:function(){return this.props.dateFrom instanceof Date?(0,s.format)(this.props.dateFrom,"YYYY-MM-DD"):this.props.dateFrom}},{key:"dateTo",get:function(){return this.props.dateTo&&this.props.dateTo instanceof Date?(0,s.format)(this.props.dateTo,"YYYY-MM-DD"):this.props.dateTo}}]),t}(c.default.PureComponent);t.BookingBanner=y;var _=(0,l.compose)((0,u.withTranslation)("ad_booking_banner"),(0,p.withFlagr)(d.default,["serp-exp-hotel"]),h.default)(y);t.default=_},736481:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(947981)),i=n(r(797972)),o=r(681334);r(719095);var c=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onLogoClick=function(e){var r=t.props,n=r.onClick;(void 0===n?o.noop:n)(e,"logo",r.logoLink)},t.onShowMoreClick=function(e){var r=t.props,n=r.onClick;(void 0===n?o.noop:n)(e,"showMore",r.showAllLink)},t}return(0,a.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.showAllText,r=e.showAllLink,n=e.logoLink,a=e.orientation;return i.default.createElement("div",{className:"booking-banner-cards-container --"+a},i.default.createElement("div",{className:"booking-banner-cards-container-head"},i.default.createElement("a",{onClick:this.onLogoClick,target:"_blank",href:n,className:"booking-banner-cards-container-head__logo"}),t&&"horizontal"===a&&i.default.createElement("a",{onClick:this.onShowMoreClick,target:"_blank",className:"booking-banner-cards-container-head__showMore",href:r},t)),i.default.createElement("div",{className:"booking-banner-cards-container__cards"},this.props.children))},t}(i.default.PureComponent);t.default=c,c.defaultProps={orientation:"horizontal"}},601864:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){function r(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).state={cards:null,prevSearchUrl:null,locationName:null,currencies:{}},e.isLoading=!1,e}(0,s.default)(r,t);var n=r.prototype;return n.componentDidMount=function(){this.loadData(),this.loadCurrenciesRate()},n.componentDidUpdate=function(){!this.isLoading&&this.state.prevSearchUrl&&this.state.prevSearchUrl!==this.getUrl()&&this.loadData()},n.getUrl=function(){var e=g.IS_WAYAWAY?"wa_web":"as_web";return"https://api-web.hotellook.com/best_hotels/get?"+(0,l.stringify)({iata:this.props.iata,date_from:this.dateFrom,date_to:this.dateTo,adults:this.props.adults||1,children:this.props.children||0,infants:this.props.infants||0,photo_width:460,photo_height:300,channel:e,brand:g.BRAND,min_count:2,max_count:2,locale:p.default.language})},n.loadCurrenciesRate=function(){var e=(0,o.default)(i.default.mark((function e(){var t,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.default.get("/currency.json");case 3:t=e.sent,r=t.data,this.setState({currencies:r}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),n.loadData=function(){var e=(0,o.default)(i.default.mark((function e(){var t,r,n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(void 0===(t=this.props.onLoad)?v.noop:t)(),e.prev=2,this.isLoading=!0,r=this.getUrl(),e.next=7,d.default.get(r);case 7:n=e.sent,a=n.data,o=a.best_hotels.slice(0,this.props.hotelsCount||3).map((function(e){return{id:e.id,image:e.photo_url,rating:e.rating,price:e.price_from,title:e.name,stars:e.stars,urlV2:e.url_v2}})),this.setState({cards:o,prevSearchUrl:r,locationName:a.location_name}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.prev=15,this.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,13,15,18]])})));return function(){return e.apply(this,arguments)}}(),n.getCurrencyRate=function(){return this.state.currencies[this.props.currency]},n.render=function(){if(!this.state.cards)return null;var t=this.getCurrencyRate(),r=m(m({},this.props),{},{cards:this.state.cards||[],currency:this.props.currency||"rub",currencyRate:t||1,locationName:this.state.locationName});return u.default.createElement(e,r)},(0,c.default)(r,[{key:"dateFrom",get:function(){return this.props.dateFrom instanceof Date?(0,f.format)(this.props.dateFrom,"YYYY-MM-DD"):this.props.dateFrom}},{key:"dateTo",get:function(){return this.props.dateTo&&this.props.dateTo instanceof Date?(0,f.format)(this.props.dateTo,"YYYY-MM-DD"):this.props.dateTo}}]),r}(u.default.PureComponent)};var a=n(r(101339)),i=n(r(385882)),o=n(r(971410)),c=n(r(760497)),s=n(r(947981)),u=n(r(797972)),l=r(721193),f=r(740537),d=n(r(10520)),p=n(r(275347)),v=r(681334),g=r(785843);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},63134:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=n(r(492126));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}r(724778);var u=(0,o.default)("button-group"),l=(0,i.memo)((function(e){var t=e.buttons,r=e.className;return t?i.default.createElement("div",{className:u(null,r)},t.map((function(e,t){return i.default.createElement(c.default,(0,a.default)({},e,{key:t}))}))):null}));t.default=l},492126:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}r(724778);var c=(0,i.default)("button-group"),s=(0,a.memo)((function(e){var t=e.content,r=e.isActive,n=e.onClick;return(0,a.useCallback)((function(){n&&n()}),[n]),a.default.createElement("button",{className:c("button",{"--active":!!r}),type:"button",onClick:n},t)}));t.default=s},829065:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackPlacementType=void 0,t.CashbackPlacementType=r,function(e){e.Autosearch="autosearch",e.Results="results",e.Ticket="ticket",e.BottomDrawer="bottomDrawer",e.Proposals="proposals"}(r||(t.CashbackPlacementType=r={}))},629679:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackInformerContainer=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=r(896911),s=n(r(257597)),u=n(r(396673)),l=n(r(257110)),f=n(r(702944)),d=r(863974),p=r(747596),v=r(259879),g=r(810767),h=r(829065),m=r(479419),y=r(220635),_=r(825844);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}var S=(0,i.memo)((function(e){var t=e.placement,r=e.cashback,n=e.className,b=(0,i.useState)(!1),S=(0,a.default)(b,2),T=S[0],O=S[1],P=(0,i.useRef)(),E=(0,i.useRef)(!1),k=(0,o.useDispatch)(),C=(0,i.useCallback)((function(e){!1===e||E.current?P.current&&clearTimeout(P.current):P.current=setTimeout((function(){E.current=!0,k((0,g.cashbackInformerInView)({placement:t}))}),1e3)}),[k,t]),w=(0,i.useCallback)((function(){(0,p.setLocalStorageItem)(y.INFORMER_SUSPENSION_TIME_KEY,String((new Date).getTime())),O(!0)}),[]),D=(0,i.useCallback)((function(){(0,_.openMoreLanding)({placement:t,type:"informer"})}),[t]),I=f.default.is("serp-feat-aviaCashback"),A=(0,u.default)([(0,s.default)([],"informerPlacements"),(0,l.default)(t)])(f.default.get("serp-feat-aviaCashback","variantAttachment")),x=Boolean((0,c.useStore)(d.userService.$isUserHasPremiumSubscription)),j=(0,y.getIsSuspensionTimeEnded)(),R=I&&A&&!x&&!T&&j,M=(0,i.useMemo)((function(){var e;return((e={})[h.CashbackPlacementType.Ticket]=i.default.createElement(m.CashbackTicketInformer,{handleCloseClick:w,handleActionClick:D,cashback:r}),e[h.CashbackPlacementType.Proposals]=i.default.createElement(m.CashbackProposalInformer,{handleActionClick:D}),e[h.CashbackPlacementType.Results]=i.default.createElement(m.CashbackResultsInformer,{handleCloseClick:w,handleActionClick:D}),e[h.CashbackPlacementType.Autosearch]=i.default.createElement(m.CashbackAutosearchInformer,{handleCloseClick:w,handleActionClick:D}),e[h.CashbackPlacementType.BottomDrawer]=i.default.createElement(m.CashbackBottomDrawerInformer,{handleActionClick:D}),e)[t]}),[t,r,w,D]);return R?i.default.createElement(v.InView,{onChange:C,threshold:1},i.default.createElement("div",{className:n},M)):null}));t.CashbackInformerContainer=S,S.displayName="CashbackInformerContainer"},243179:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackAutosearchInformer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(555480),c=r(463854),s=r(785843),u=n(r(650704));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,a.memo)((function(e){var t=e.handleCloseClick,r=e.handleActionClick,n=(0,i.useTranslation)("cashback_informers").t,l=a.default.createElement(c.Text,{className:u.default.text,type:c.TextType.Body1Bold,transformOnMobile:!0},n("autosearch.header."+s.BRAND)),f=a.default.createElement(c.Text,{className:u.default.text,type:c.TextType.Body2Regular},a.default.createElement(i.Trans,{ns:"cashback_informers",i18nKey:"autosearch.text."+s.BRAND,components:{wrapper:a.default.createElement(c.Text,{className:u.default.text,tag:"span",type:c.TextType.Body2Semi})}})),d=s.IS_WAYAWAY?"burdCrown":void 0;return a.default.createElement(o.CashbackInformerLarge,{headerSlot:l,textSlot:f,buttonText:n("autosearch.button."+s.BRAND),onCloseButtonClick:t,onActionButtonClick:r,iconName:d})}));t.CashbackAutosearchInformer=f,f.displayName="CashbackAutosearchInformer"},426396:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackBottomDrawerInformer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(555480),c=r(463854),s=r(785843),u=n(r(650704));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,a.memo)((function(e){var t=e.handleActionClick,r=(0,i.useTranslation)("cashback_informers").t,n=a.default.createElement(c.Text,{className:u.default.text,type:c.TextType.Body2Regular},r("bottomDrawer.text."+s.BRAND));return a.default.createElement(o.CashbackInformerSmall,{textSlot:n,buttonText:r("bottomDrawer.button."+s.BRAND),onActionButtonClick:t})}));t.CashbackBottomDrawerInformer=f,f.displayName="CashbackBottomDrawerInformer"},76330:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackProposalInformer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(555480),c=r(463854),s=r(785843),u=n(r(650704));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,a.memo)((function(e){var t=e.handleActionClick,r=(0,i.useTranslation)("cashback_informers").t,n=a.default.createElement(c.Text,{className:u.default.text,type:c.TextType.Body2Regular},r("proposals.text."+s.BRAND));return a.default.createElement(o.CashbackInformerSmall,{textSlot:n,buttonText:r("proposals.button."+s.BRAND),onActionButtonClick:t})}));t.CashbackProposalInformer=f,f.displayName="CashbackProposalInformer"},407964:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackResultsInformer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(555480),c=r(463854),s=r(785843),u=n(r(650704));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,a.memo)((function(e){var t=e.handleCloseClick,r=e.handleActionClick,n=(0,i.useTranslation)("cashback_informers").t,l=a.default.createElement(c.Text,{className:u.default.text,type:c.TextType.Body1Bold,transformOnMobile:!0},n("results.header."+s.BRAND)),f=a.default.createElement(c.Text,{className:u.default.text,type:c.TextType.Body2Regular},a.default.createElement(i.Trans,{ns:"cashback_informers",i18nKey:"results.text."+s.BRAND,components:{wrapper:a.default.createElement(c.Text,{className:u.default.text,tag:"span",type:c.TextType.Body2Semi})}})),d=s.IS_WAYAWAY?"burdCrown":void 0;return a.default.createElement(o.CashbackInformerLarge,{headerSlot:l,textSlot:f,buttonText:n("results.button"),onCloseButtonClick:t,onActionButtonClick:r,iconName:d})}));t.CashbackResultsInformer=f,f.displayName="CashbackResultsInformer"},537813:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackTicketInformer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(816550)),c=r(555480),s=r(317619),u=r(463854),l=r(785843),f=n(r(650704));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p=(0,a.memo)((function(e){var t=e.cashback,r=e.handleCloseClick,n=e.handleActionClick,d=(0,i.useTranslation)("cashback_informers").t,p=a.default.createElement(u.Text,{className:f.default.text,type:u.TextType.Body2Bold},a.default.createElement(i.Trans,{ns:"cashback_informers",i18nKey:"cashback_informers:ticket.header."+l.BRAND},t&&a.default.createElement(s.Price,{value:t.value,roundingMode:"floor",currency:t.currency}))),v=a.default.createElement(u.Text,{className:f.default.text,type:u.TextType.Body2Regular},a.default.createElement(i.Trans,{ns:"cashback_informers",i18nKey:"ticket.text."+l.BRAND,components:{wrapper:a.default.createElement(u.Text,{className:f.default.text,tag:"span",type:u.TextType.Body2Semi})}}));if((0,o.default)(t)||0===t.value)return null;var g=l.IS_WAYAWAY?"burdGlasses":void 0;return a.default.createElement(c.CashbackInformerLarge,{headerSlot:p,textSlot:v,buttonText:d("ticket.button."+l.BRAND),onCloseButtonClick:r,onActionButtonClick:n,iconName:g})}));t.CashbackTicketInformer=p,p.displayName="CashbackTicketInformer"},479419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashbackAutosearchInformer",{enumerable:!0,get:function(){return n.CashbackAutosearchInformer}}),Object.defineProperty(t,"CashbackBottomDrawerInformer",{enumerable:!0,get:function(){return a.CashbackBottomDrawerInformer}}),Object.defineProperty(t,"CashbackProposalInformer",{enumerable:!0,get:function(){return i.CashbackProposalInformer}}),Object.defineProperty(t,"CashbackResultsInformer",{enumerable:!0,get:function(){return o.CashbackResultsInformer}}),Object.defineProperty(t,"CashbackTicketInformer",{enumerable:!0,get:function(){return c.CashbackTicketInformer}});var n=r(243179),a=r(426396),i=r(76330),o=r(407964),c=r(537813)},708771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashbackInformerContainer",{enumerable:!0,get:function(){return n.CashbackInformerContainer}});var n=r(629679)},220635:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsSuspensionTimeEnded=t.INFORMER_SUSPENSION_TIME_KEY=void 0;var a=n(r(257597)),i=r(747596),o=n(r(702944)),c="informerSuspensionTime";t.INFORMER_SUSPENSION_TIME_KEY=c,t.getIsSuspensionTimeEnded=function(){var e=o.default.get("serp-feat-aviaCashback","variantAttachment"),t=(0,a.default)(null,c,e),r=(0,i.getLocalStorageItem)(c);return null!==t&&(null===r||(new Date).getTime()-Number(r)>=1e3*t)}},903963:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackTitleContainer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(896911),c=r(224562),s=n(r(492709)),u=n(r(257597)),l=n(r(396673)),f=n(r(257110)),d=r(555480),p=n(r(702944)),v=r(863974),g=r(937435),h=r(38474),m=r(930893),y=r(829065),_=r(456299),b=r(825844),S=n(r(698450));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}var O=s.default.bind(S.default);t.CashbackTitleContainer=function(e){var t=e.cashback,r=e.placement,n=e.unsignedClassName,s=e.signedClassName,S=e.className,T=(0,i.useTranslation)("cashback_titles").t,P=(0,c.useSelector)(h.getIsNightMode),E=p.default.get("serp-feat-aviaCashback","variantAttachment"),k=p.default.is("serp-feat-aviaCashback"),C=(0,l.default)([(0,u.default)([],["informerPlacements"]),(0,f.default)(r)])(E),w=k&&C&&t,D=Boolean((0,o.useStore)(v.userService.$isUserHasPremiumSubscription)),I=Boolean((0,g.useIsMobile)()),A=(0,a.useMemo)((function(){return(0,_.getTooltipTextKey)(r,I)}),[r,I]),x=(0,a.useMemo)((function(){return(0,_.getLocalizableKey)(r,D,I)}),[r,D,I]),j=(0,a.useCallback)((function(e){var t=[y.CashbackPlacementType.Results,y.CashbackPlacementType.Autosearch];I&&t.includes(r)||(e.preventDefault(),e.stopPropagation(),(0,b.openMoreLanding)({placement:r,type:"title"}))}),[r,I]);return w?D?a.default.createElement("div",{className:O("root",S)},a.default.createElement(d.CashbackTitleSigned,{className:s,textSlot:a.default.createElement(m.CashbackTitleSignedText,{cashback:t,localizableKey:x})})):a.default.createElement("div",{className:O("root",S)},a.default.createElement(d.CashbackTitleUnsigned,{onClick:j,className:O("unsigned-title",n),isNightMode:P,textSlot:a.default.createElement(m.CashbackTitleUnsignedText,{cashback:t,localizableKey:x,tooltipText:A&&T(A)})})):null}},456299:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTooltipTextKey=t.getLocalizableKey=void 0;var n=r(829065);t.getLocalizableKey=function(e,t,r){var a,i;return{with_premium:(a={},a[n.CashbackPlacementType.Autosearch]="cashback_amount_short",a[n.CashbackPlacementType.Results]="cashback_amount_short",a[n.CashbackPlacementType.Proposals]="cashback_amount_short",a[n.CashbackPlacementType.BottomDrawer]="get_cashback",a[n.CashbackPlacementType.Ticket]="get_cashback",a),without_premium:(i={},i[n.CashbackPlacementType.Autosearch]=r?"cashback_amount_long":"cashback_amount_short",i[n.CashbackPlacementType.Results]=r?"cashback_amount_long":"cashback_amount_short",i[n.CashbackPlacementType.Proposals]="cashback_amount_short",i[n.CashbackPlacementType.BottomDrawer]="cashback_amount_long",i[n.CashbackPlacementType.Ticket]="cashback_amount_long",i)}[t?"with_premium":"without_premium"][e]},t.getTooltipTextKey=function(e,t){return[n.CashbackPlacementType.Autosearch,n.CashbackPlacementType.Results].includes(e)&&!t?"cashback_tooltip":null}},607417:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackTitleSignedText=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(492709)),c=r(463854),s=r(317619),u=n(r(698450));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=o.default.bind(u.default),d=(0,a.memo)((function(e){var t=e.cashback,r=e.localizableKey;return a.default.createElement(c.Text,{type:c.TextType.Body3Regular,truncateMode:c.TruncateTextMode.SingleLine,className:f("signed-text")},a.default.createElement(i.Trans,{i18nKey:r,ns:"cashback_titles",components:{wrapper:a.default.createElement(c.Text,{type:c.TextType.Body3Semi,tag:"span"}),price:a.default.createElement(s.Price,{currency:t.currency,roundingMode:"floor",value:t.value})},tOptions:{fallbackLng:["en","ru"]}}))}));t.CashbackTitleSignedText=d,d.displayName="CashbackTitleSignedText"},328250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackTitleTooltip=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=a?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(n,i,c):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(265950),i=r(463854);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var c=(0,n.memo)((function(e){var t=e.tooltipText,r=e.children;return n.default.createElement(a.Tooltip,{placement:"right",delay:100,content:n.default.createElement(i.Text,{type:i.TextType.Body3Semi},t)},r)}));t.CashbackTitleTooltip=c,c.displayName="CashbackTitleTooltip"},759986:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CashbackTitleUnsignedTextWithoutTooltip=t.CashbackTitleUnsignedText=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(492709)),c=r(463854),s=r(317619),u=r(328250),l=n(r(698450));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d=o.default.bind(l.default),p=(0,a.forwardRef)((function(e,t){var r=e.cashback,n=e.localizableKey;return a.default.createElement(c.Text,{type:c.TextType.Body3Regular,truncateMode:c.TruncateTextMode.SingleLine,className:d("unsigned-text"),ref:t},a.default.createElement(i.Trans,{ns:"cashback_titles",i18nKey:n,components:{wrapper:a.default.createElement(c.Text,{type:c.TextType.Body3Regular,tag:"span"}),price:a.default.createElement(s.Price,{currency:r.currency,roundingMode:"floor",value:r.value})},tOptions:{fallbackLng:["en","ru"]}}))}));t.CashbackTitleUnsignedTextWithoutTooltip=p;var v=(0,a.memo)((function(e){var t=e.tooltipText,r=e.cashback,n=e.localizableKey;return t?a.default.createElement(u.CashbackTitleTooltip,{tooltipText:t},a.default.createElement(p,{cashback:r,localizableKey:n})):a.default.createElement(p,{cashback:r,localizableKey:n})}));t.CashbackTitleUnsignedText=v,p.displayName="CashbackTitleUnsignedTextWithoutTooltip",v.displayName="CashbackTitleUnsignedText"},930893:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashbackTitleSignedText",{enumerable:!0,get:function(){return a.CashbackTitleSignedText}}),Object.defineProperty(t,"CashbackTitleTooltip",{enumerable:!0,get:function(){return i.CashbackTitleTooltip}}),Object.defineProperty(t,"CashbackTitleUnsignedText",{enumerable:!0,get:function(){return n.CashbackTitleUnsignedText}});var n=r(759986),a=r(607417),i=r(328250)},331375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashbackTitleContainer",{enumerable:!0,get:function(){return n.CashbackTitleContainer}});var n=r(903963)},203089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CashbackInformerContainer",{enumerable:!0,get:function(){return i.CashbackInformerContainer}}),Object.defineProperty(t,"CashbackPlacementType",{enumerable:!0,get:function(){return a.CashbackPlacementType}}),Object.defineProperty(t,"CashbackTitleContainer",{enumerable:!0,get:function(){return n.CashbackTitleContainer}});var n=r(331375),a=r(829065),i=r(708771)},825844:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openMoreLanding=void 0;var n=r(754266);t.openMoreLanding=function(e){var t=e.placement,r=e.type;(0,n.emitSeleneEvent)({type:"service/helios/serp/more_landing/shown",payload:{placement:t,type:r}})}},219270:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GOOGLE_RECAPTCHA_SCRIPT_URL=t.GOOGLE_RECAPTCHA_SCRIPT_REGEX=t.GOOGLE_RECAPTCHA_DEFAULT_SITE_KEY_WA=t.GOOGLE_RECAPTCHA_DEFAULT_SITE_KEY=t.GOOGLE_RECAPTCHA_COOKIE_NAME=t.GOOGLE_RECAPTCHA_AVIASALES_SERVER_URL=void 0,t.GOOGLE_RECAPTCHA_SCRIPT_URL="https://recaptcha.net/recaptcha/api.js",t.GOOGLE_RECAPTCHA_SCRIPT_REGEX=/(http|https):\/\/(www)?.+\/recaptcha/,t.GOOGLE_RECAPTCHA_DEFAULT_SITE_KEY="6LfYMxMcAAAAAEDoxfaGzEZqAeGqV1KXPAV25QX-",t.GOOGLE_RECAPTCHA_DEFAULT_SITE_KEY_WA="6LeLXA8gAAAAABCpV1HxcMqueFkD3vGCP21DKC1i",t.GOOGLE_RECAPTCHA_AVIASALES_SERVER_URL="/google_recaptcha/",t.GOOGLE_RECAPTCHA_COOKIE_NAME="google_recaptcha_token"},578377:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.verifyGoogleRecaptchaOnServer=t.removeRecaptchaStyles=t.addRecaptchaStyles=void 0;var a=n(r(10520)),i=r(215196),o=r(219270),c=document.querySelector("html");t.verifyGoogleRecaptchaOnServer=function(e){return a.default.get(o.GOOGLE_RECAPTCHA_AVIASALES_SERVER_URL,{params:{captcha_token:e}}).then((function(e){return e})).catch((function(e){return i.ErrorsTracker.error("Error during token verification on "+o.GOOGLE_RECAPTCHA_AVIASALES_SERVER_URL+"\n",e.response)}))},t.addRecaptchaStyles=function(){c.classList.add("g-recaptcha-active")},t.removeRecaptchaStyles=function(){c.classList.remove("g-recaptcha-active")}},915071:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.createBookingUrl=m,t.createBookingUrlFromSearchParams=function(e){var t=e.searchParams,r=e.params,n=e.special,a=void 0===n?{}:n,i=e.urlHost,c="";try{c=t.destinationCityIata||t.segments[0][u.PlaceField.Destination].iata}catch(e){c=""}var s="";try{s=t.segments[0][u.PlaceField.Destination].countryIata}catch(e){s=""}var l,f=y(t.segments,u.DateType.DepartDate)||new Date;return l=y(t.segments,u.DateType.ReturnDate)?y(t.segments,u.DateType.ReturnDate)||new Date:(0,o.addDays)(f,3),m({urlParams:v({childrenCount:t.passengers.children,infantsCount:t.passengers.infants,adultsCount:t.passengers.adults,destinationIATA:c,destinationCountryIATA:s,dateFrom:(0,o.format)(f,"YYYY-MM-DD"),dateTo:(0,o.format)(l,"YYYY-MM-DD")},r),special:a,urlHost:i})},t.createFallbackUrl=h;var a=n(r(101339)),i=r(721193),o=r(740537),c=n(r(382697)),s=r(785843),u=r(543358),l=r(565569),f=r(518428),d=r(808460);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g="https://hotels."+l.API_HOST+"/hotels";function h(e,t){void 0===t&&(t={});var r=c.default.fetch("marker","direct"),n=e.dateFrom.split("-"),a={aid:338584,city:-2960561,label:e.label,checkin_monthday:n[2],checkin_year_month:n[0]+"-"+n[1],do_availability_check:1,selected_currency:e.currency,marker:r};if(e.dateTo){var o=e.dateTo.split("-");a.checkout_monthday=o[2],a.checkout_year_month=o[0]+"-"+o[1]}return encodeURIComponent("http://www.booking.com/searchresults.html?"+(0,i.stringify)(v(v({},a),t)))}function m(e){for(var t=e.urlParams,r=e.special,n=void 0===r?{}:r,a=[],o=e.urlHost||g,u=0;u<(t.childrenCount||0);u++)a.push(7);for(var l=0;l<(t.infantsCount||0);l++)a.push(1);return t.utm=t.utm||"aviasales",o+"?"+(0,i.stringify)(v({brand:s.BRAND,language:(0,f.getLocale)(t.language||"ru"),destination:t.destinationIATA,checkIn:t.dateFrom,checkOut:t.dateTo,adults:t.adultsCount,children:""+a,currency:t.currency,marker:c.default.fetch("marker","direct"),as_auid:(0,d.readAuid)(),utm:t.utm,utm_source:t.utmSource,utm_medium:t.utmMedium,utm_campaign:t.utmCampaign,utm_content:t.utmContent,fallback:h({currency:t.currency,dateFrom:t.dateFrom,dateTo:t.dateTo,label:t.fallbackLabel||t.utm})},n))}function y(e,t){var r=e[t===u.DateType.DepartDate?0:1];if(r)return r.date||void 0}},505689:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getGateNames=void 0;var a=n(r(257597)),i=r(452130),o={ru:["Kupibilet","OneTwoTrip","Tinkoff","SuperKassa","S7 Airlines","Mytrip","Mego.travel","Kiwi","Nordwind","OZON.travel","Biletix","Pobeda","City.Travel","Aviakassa","Svyaznoy Travel","Aeroflot","Tickets.ru","Utair","Red Wings","SmartFares","Trip.com","KLM AirFrance"],us:["Expedia","Kiwi.com","MyHolidays","Trip.com","Vayama","Lufthansa","SmartFares","Mytrip.com","Air France","KLM","JustFly","Gotogate","FlightNetwork","City.Travel","Bravofly","FlyFar","Kissandfly","Thefaremasters"]};t.getGateNames=function(){var e=(0,i.getMarket)(),t=o.ru;return(0,a.default)(t,[e],o)}},634425:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(445549),c=n(r(225385)),s=r(505689);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}r(216298);var l=(0,c.default)("search-countdown");t.default=function(e){var t=function(e){var t=(0,i.useState)(e),r=(0,a.default)(t,2),n=r[0],o=r[1];return(0,i.useEffect)((function(){var t=new Date;t.setSeconds(t.getSeconds()+e);var r=t.getTime(),n=window.setInterval((function(){var e=(new Date).getTime(),t=r-e,a=Math.floor(t/1e3);t<0?window.clearInterval(n):o(a)}),100);return function(){return window.clearInterval(n)}}),[e]),n}(e.durationInSec),r=(0,s.getGateNames)(),n=r[t%r.length];return i.default.createElement("div",{className:l()},i.default.createElement("div",{className:l("timer")},t),i.default.createElement("div",{className:l("title")},i.default.createElement(o.Trans,{ns:"prediction",i18nKey:"countdownTitle",values:{gateName:n}},i.default.createElement("div",{className:l("gate")}))))}},774962:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=n(r(377754)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=r(534212);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}r(968177);var u=function(e){var t=e.className,r=e.forwardedRef,n=e.onChange,s=e.inputClassName,u=e.error,l=(0,i.default)(e,["className","forwardedRef","onChange","inputClassName","error"]),f=["styled-input"],d=(0,o.useCallback)((function(e){"email"===l.type&&(e.target.value=(0,c.toUnicode)(e.target.value)),n&&n(e)}),[l.type,n]);return void 0!==u&&f.push("--invalid"),s&&f.push(s),o.default.createElement("div",{className:t},u&&u.length&&o.default.createElement("span",{className:"styled-input__error-text"},u),o.default.createElement("input",(0,a.default)({},l,{className:f.join(" "),ref:r,onChange:d})))},l=(0,o.memo)(u);t.default=l},346790:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.actualizeSubscriber=function(e,t,r,n,c){var s="/subscriptions/subscribers/"+btoa(n)+"/actualize.json",u=a.default.create({headers:{Authorization:"Bearer "+c,"X-Request-Brand":i.BRAND},params:{host:o.host}}),l={subscriber:{marker:r,currency_code:e,locale:t,host:o.host}};return u.patch(s,l)},t.createDirectionSubscription=function(e,t,r,n,i,c,s){void 0===s&&(s=!1);var u=a.default.create({headers:{Authorization:"Bearer "+i}});return new Promise((function(a,i){return u.post("/subscriptions/direction_subscriptions.json",(0,o.mapSearchParamsToDirectionSubscription)(e,t,r,n,c,s)).then((function(e){e.data&&e.data.info&&e.data.info.direction_subscription?a(e.data.info.direction_subscription):i(e)})).catch(i)}))},t.createFlexibleSubscription=function(e,t,r,n,i,c,s){var u=a.default.create({headers:{Authorization:"Bearer "+i}});return new Promise((function(a,i){return u.post("/subscriptions/flexible_subscriptions.json",(0,o.mapSearchParamsToFlexibleSubscription)(e,t,r,n,c,s)).then((function(e){e.data&&e.data.info&&e.data.info.flexible_subscription?a(e.data.info.flexible_subscription):i(e)})).catch(i)}))},t.createTicketSubscription=function(e,t,r,n,c,s,u){var l=a.default.create({headers:{Authorization:"Bearer "+u,"X-Request-Brand":i.BRAND},params:{host:o.host}});return new Promise((function(a,i){return l.post("/subscriptions/ticket_subscriptions.json",(0,o.mapTicketToTicketSubscription)(e,t,r,n,c,s)).then((function(e){e.data?a(e.data.info.ticket_subscription):i(e)})).catch(i)}))},t.fetchSubscriptions=function(e){var t=a.default.create({headers:{Authorization:"Bearer "+e,"X-Request-Brand":i.BRAND},params:{host:o.host}});return new Promise((function(e,r){t.get("/subscriptions/subscription_domain.json",{}).then((function(t){t.data?e(t.data):r(t.data)})).catch(r)}))},t.removeDirectionSubscription=function(e,t,r){var n=a.default.create({headers:{Authorization:"Bearer "+r},params:{host:o.host}}),i="/subscriptions/subscribers/"+btoa(t)+"/direction_subscriptions/"+e+".json";return n.delete(i)},t.removeFlexibleSubscription=function(e,t,r){var n=a.default.create({headers:{Authorization:"Bearer "+r},params:{host:o.host}}),i="/subscriptions/subscribers/"+btoa(t)+"/flexible_subscriptions/"+e+".json";return n.delete(i)},t.removeTicketSubscription=function(e,t,r){var n=a.default.create({headers:{Authorization:"Bearer "+r},params:{host:o.host}}),i="/subscriptions/subscribers/"+btoa(t)+"/ticket_subscriptions/"+e+".json";return n.delete(i)};var a=n(r(10520)),i=r(785843),o=r(536317)},536317:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.findTicketSubscriptionDataBySign=function(e,t){return t.find((function(t){return e===t.sign}))},t.getDirectionSubscriptionBySearchParams=function(e,t){var r=e.segments;try{var n=c.default.is("usc-feat-shouldDropChildrenFromTicketSubscription");return t.find((function(t,a){return t.segments.length===r.length&&t.segments.every((function(a,i){var o,c,s=r[i];o=a.origin_airport?a.origin_airport===s.origin_iata||a.origin_airport===s.origin:a.origin_city===s.origin,c=a.destination_airport?a.destination_airport===s.destination_iata||a.destination_airport===s.destination:a.destination_city===s.destination;var u=o&&c&&a.date===s.date&&t.trip_class===e.trip_class&&t.adults===e.passengers.adults;return n?u:u&&t.children===e.passengers.children}))}))}catch(e){return}},t.mapDatesToMonthCodes=t.host=void 0,t.mapSearchParamsToDirectionSubscription=function(e,t,r,n,a,i){return{token:n,marker:r,direction_subscription:f(f({},e.passengers),{},{trip_class:e.tripClass||"Y",segments:e.segments.map((function(e){return{date:e.date,destination_city:e.destination,destination_airport:e.destination===e.destination_iata?null:e.destination_iata,origin_city:e.origin,origin_airport:e.origin===e.origin_iata?null:e.origin_iata}})),price:{value:t,host:d},note:"note1",flexibility:a,max_stops:i?0:null})}},t.mapSearchParamsToFlexibleSubscription=function(e,t,r,n,a,i){var o=e.segments[0],c=1===e.segments.length,s=o.date,u=c?void 0:e.segments[1].date;return{host:d,token:n,marker:r,flexible_subscription:{one_way:c,origin:{code:o.origin,type:"city"},destination:{code:o.destination,type:"city"},months:p(a),durations_range:i,search_info:{host:d,depart_date:s,return_date:u},price:{value:t,host:d}}}},t.mapTicketToTicketSubscription=function(e,t,r,n,a,s){var l=(0,i.default)(e,2),p=l[0],v=l[1],g=r.segments.map((function(e,t){var r=p.segments[t],n=r.flights[0],a=r.flights[r.flights.length-1];return{date:e.date,destination_airport:a.arrival,origin_airport:n.departure,destination_city:e.destination,origin_city:e.origin}})),h=(0,i.default)(v,1)[0],m=t.minimumFare.baggage,y=c.default.is("usc-feat-shouldDropChildrenFromTicketSubscription")?f(f({},r.passengers),{},{children:0,infants:0}):r.passengers;return{token:s,marker:a,ticket_subscription:f(f({baggage:Boolean(null==m?void 0:m.count)},y),{},{trip_class:r.tripClass||"Y",segments:g,ticket:{charter:(0,o.default)("charter",h.tags),validating_carrier:(0,u.getLongestMarketingCarrier)(p,h.flightTerms),segments:p.segments},price:{value:h.unifiedPrice,host:d},direction_price:{value:n,host:d}})}};var a=n(r(101339)),i=n(r(114558)),o=n(r(257110)),c=n(r(702944)),s=r(567110),u=r(378011);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=r(565569).API_HOST;t.host=d;var p=function(e){return e.map((function(e){return{code:(0,s.getMonthNameByDate)(e)}}))};t.mapDatesToMonthCodes=p},466814:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(804701);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}r(254346);var s=r(103845),u=r(636992),l=(0,i.default)("bag-icon"),f=(0,a.memo)((function(e){return a.default.createElement("span",{className:l("",["--"+e.type,p(e)]),"data-label":d(e),"data-test-id":"bag-icon"},e.type===o.BagsType.Baggage?a.default.createElement(s,null):a.default.createElement(u,null))})),d=function(e){return e.isUnknown?"?":0===e.count?"×":e.count&&e.count>1?"x"+e.count:e.weight?e.weight:e.dimensions?"":"x"+e.count},p=function(e){return e.isUnknown?"--unknown":0===e.count?"--without-baggage":e.count&&e.count>1||e.weight?void 0:e.dimensions?"--with-dimensions":void 0},v=f;t.default=v},235713:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageSwitch=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(899213),o=n(r(10014));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=(0,a.forwardRef)((function(e,t){var r=e.availability,n=e.isDisabled,c=e.isChecked,s=e.currency,u=e.price,l=e.basePrice,f=e.onChange,d=(0,a.useCallback)((function(e){e.stopPropagation()}),[]);return a.default.createElement("div",{className:o.default.luggageCardWrapper,ref:t,onClick:d},a.default.createElement(i.LuggageCard,{disabled:n,checked:c,availability:r,price:u,basePrice:l,currency:s,onChange:f}))}));t.BaggageSwitch=s,s.displayName="BaggageSwitch"},404266:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageUpsellNew=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(224562),c=n(r(968598)),s=r(250594),u=r(623128),l=r(317637),f=r(982564),d=r(281569),p=r(214743),v=r(931162),g=r(249094),h=r(235713);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var y=(0,i.memo)((function(e){var t,r=e.fareProposals,n=void 0===r?[]:r,m=e.proposals,y=e.sign,_=void 0===y?"":y,b=e.proposal,S=e.isFaresExpEnabled,T=(0,o.useDispatch)(),O=(0,l.useLocaleContext)(),P=(0,i.useMemo)((function(){return S?[(e=n).find((function(e){var t,r=e.minimumFare;return Boolean(null==r||null===(t=r.baggage)||void 0===t?void 0:t.count)})),e.find((function(e){var t,r,n=e.minimumFare;return Boolean(null==n||null===(t=n.handbags)||void 0===t?void 0:t.count)&&!(null!=n&&null!==(r=n.baggage)&&void 0!==r&&r.count)}))]:function(e){return[(0,a.default)(e.hasBaggage,1)[0],(0,a.default)(e.otherBaggage,1)[0]]}(m);var e}),[S,m,n]),E=(0,a.default)(P,2),k=E[0],C=E[1],w=[(0,d.getHandBagsOption)(O,b.minimumFare.handbags),(0,d.getBaggageOption)(O,b.minimumFare.baggage)],D=(null==k?void 0:k.currency)||(null==C?void 0:C.currency),I=Boolean(k&&C),A=Boolean(null===(t=b.minimumFare.baggage)||void 0===t?void 0:t.count),x=!(0,c.default)(k)?u.AvailabilityState.AVAILABLE:u.AvailabilityState.NOT_AVAILABLE,j=(0,d.getFareCardOptionText)(b),R=x===u.AvailabilityState.AVAILABLE&&!I,M=(0,i.useCallback)((function(){if(S){var e=A?C:k;T((0,f.selectFareProposal)(_,e.id))}else{var t=A?v.TariffType.OtherBaggage:v.TariffType.HasBaggage;T((0,p.changeTicketSelectedTariff)(_,t))}}),[T,_,k,C,S,A]);return i.default.createElement(s.FareTooltip,{availability:x,title:j,options:w},i.default.createElement(h.BaggageSwitch,{isDisabled:R,isChecked:A,availability:x,currency:D,price:(0,g.getProposalPriceForPreview)(k),basePrice:(0,g.getProposalPriceForPreview)(C),onChange:M}))}));t.BaggageUpsellNew=y,y.displayName="BaggageUpsellNew"},35710:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BrandTicketDesktop=void 0;var a=n(r(435850)),i=n(r(101339)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=n(r(225385)),s=r(445549),u=r(603723),l=r(249094),f=n(r(715635)),d=n(r(86940)),p=n(r(345168)),v=r(86344),g=r(811508);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=(0,c.default)("ticket-desktop"),b=(0,o.memo)((function(e){var t=e.theme,r=e.onTicketClick,n=e.currentTariff,i=e.mainProposal,c=e.modifiers,h=e.strikePrice,m=e.isSearchExpired,b=e.carriers,S=e.isNightMode,T=e.segments,O=e.tripDirectionType,P=(0,s.useTranslation)("ticket").t,E=null!=t&&t.sideContent?t.sideContent:P("ticket:advertisement"),k=null!=t&&t.expandButtonText?t.expandButtonText:P("ticket:advertisement"),C=(0,o.useMemo)((function(){return(0,g.buildBrandTicketTarriffs)(n,i)}),[n,i]);return o.default.createElement("div",{className:_(null,y({"--brand-ticket":!0},c)),onClick:r},o.default.createElement("div",{className:_("side-content")},o.default.createElement("div",{className:_("tariffs")},o.default.createElement(d.default,{currentTariff:n,proposals:C})),o.default.createElement("div",{className:_("side-container")},o.default.createElement("div",{className:_("buy-button")},o.default.createElement(f.default,{proposal:i,price:(0,l.getProposalPriceForPreview)(i),brandColor:null==t?void 0:t.brandColor,strikePrice:h,isSearchExpired:m}),o.default.createElement(u.Text,{type:u.TextType.Body3Regular,className:_("advertisement-label")},E)))),o.default.createElement("div",{className:_("content")},o.default.createElement("div",{className:_("header")},o.default.createElement("div",{className:_("carriers")},o.default.createElement(p.default,{carriers:b,isNightMode:S}))),o.default.createElement("div",{className:_("body")},T.map((function(e,t){return o.default.createElement("div",{className:_("segment"),key:t},o.default.createElement(v.TicketSegment,(0,a.default)({pinFlightSigns:[],segmentIndex:t,showPin:!1,tripDirectionType:O,route:e.flights},e)))})))),o.default.createElement("div",{className:_("expand-button","--with-brand-color"),style:{backgroundColor:null==t?void 0:t.brandColor}},o.default.createElement(u.Text,{type:u.TextType.Body3Regular,className:_("expand-button-text")},k)))}));t.BrandTicketDesktop=b,b.displayName="BrandTicketDesktop"},969971:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BrandTicketMobile=void 0;var a=n(r(101339)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=n(r(933097));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,o.default)("ticket-mobile"),d=(0,i.memo)((function(e){var t=e.onTicketClick,r=e.mainProposal,n=e.segments,a=e.isNightMode,o=e.theme,s=e.isPriceLinkStyle,u=e.carriers,d=e.modifiers;return i.default.createElement("div",{className:f(null,l({"--brand-ticket":!0},d)),onClick:t},i.default.createElement(c.default,{mainProposal:r,segments:n,isNightMode:a,theme:o,isPriceLinkStyle:s,carriers:u}))}));t.BrandTicketMobile=d,d.displayName="BrandTicketMobile"},811508:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildBrandTicketTarriffs=void 0;var n=r(931162);t.buildBrandTicketTarriffs=function(e,t){var r;return(r={priceDifference:0})[n.TariffType.HasBaggage]=[],r[n.TariffType.OtherBaggage]=[],r[e]=t?[t]:[],r}},875661:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=(0,i.default)("buy-button"),u=(0,a.memo)((function(){var e=(0,o.useTranslation)("ticket").t;return a.default.createElement(a.default.Fragment,null,a.default.createElement("span",{className:s("assisted-tooltip-title")},a.default.createElement("svg",{className:s("assisted-tooltip-icon"),width:7,height:12},a.default.createElement("path",{fill:"#fff",fillRule:"nonzero",d:"M4.722 0L0 6.944h2.917l-1.111 5L6.666 5H3.75z"})),e("ticket:buyButton.assistedTitle")),a.default.createElement("span",{className:s("assisted-tooltip-text")},e("ticket:buyButton.assistedText")))}));t.default=u},715635:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=h(r(797972)),o=n(r(225385)),c=r(445549),s=r(463854),u=r(392220),l=h(r(441361)),f=n(r(875661)),d=r(354336),p=n(r(652635)),v=n(r(344955));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}r(543943);var m=(0,o.default)("buy-button"),y=function(e){var t=e.type,r=e.showPrice,n=e.price,a=e.strikePrice,o=(0,c.useTranslation)("ticket").t;if("preview"===t)return i.default.createElement(i.default.Fragment,null,o("buyButton.showDetails"));var s=r?"buyButton.buyFor":"buyButton.buyTicket";return i.default.createElement(c.Trans,{ns:"ticket",i18nKey:s,components:[i.default.createElement("span",{key:"buyButtonText",className:m("text")}),i.default.createElement(S,{key:"buyButtonPrice",price:n,strikePrice:a})]})},_=(0,i.memo)((function(e){var t=(0,c.useTranslation)("ticket").t,r=e.proposal,n=e.getMetaInfo,o=e.type,f=void 0===o?"product":o,d=e.actual,v=void 0===d||d,g=e.showPrice,h=e.onClick,y=e.onContextMenu,_=e.innerRef,S=e.customBtnText,T=e.price,O=n&&JSON.stringify(r?n(r):n()),P=(0,i.useCallback)((function(e){e.stopPropagation(),null==h||h(e,r)}),[h,r]),E=(0,i.useCallback)((function(e){e.stopPropagation(),null==y||y(e,r)}),[y,r]),k=(0,i.useMemo)((function(){return i.default.createElement(b,{customBtnText:S,proposal:r,strikePrice:e.strikePrice,isSearchExpired:e.isSearchExpired,type:f,showPrice:g,price:T})}),[r,e.strikePrice,e.isSearchExpired,f,g]),C=(0,i.useMemo)((function(){var t;return{type:"button",className:m("button",(t={"--with-brand-color":!!e.brandColor},t[""+e.btnClassName]=!!e.btnClassName,t)),style:{backgroundColor:e.brandColor},disabled:!r||!v,onClick:P,onContextMenu:E}}),[e.brandColor,e.btnClassName,r,v,P,E]);return i.default.createElement("div",{className:m(null,e.className)},v&&i.default.createElement(p.default,{originalCurrency:r&&r.currency,price:r&&r.price,className:m("tooltip")},"preview"===f?i.default.createElement(l.Button,(0,a.default)({ref:_,priority:l.ButtonPriority.Primary,mod:l.ButtonMod.Orange,size:l.ButtonSize.M},C,{style:{padding:0}}),i.default.createElement(s.Text,{type:s.TextType.Body1Semi},k)):i.default.createElement(u.Button,(0,a.default)({ref:_,mod:u.ButtonMod.Primary,size:u.ButtonSize.TwoLines,target:"_blank",href:r&&r.deeplink,"data-metainfo":O,rel:"opener"},C),k)),!e.isProposalTitleHidden&&(null==r?void 0:r.agentLabel)&&i.default.createElement("span",{className:m("proposal")},t("ticket:buyButton.buyOn",{gateLabel:r.agentLabel})))}));_.displayName="BuyButton";var b=(0,i.memo)((function(e){var t=e.proposal,r=e.strikePrice,n=e.isSearchExpired,a=e.type,o=e.showPrice,s=void 0===o||o,u=e.customBtnText,l=e.price,p=(0,c.useTranslation)("ticket").t;return t?"favorite"===a?i.default.createElement("span",{className:m("text")},p("ticket:buyButton.look")):l?n?i.default.createElement(i.default.Fragment,null,s&&"preview"!==a&&i.default.createElement("span",{className:m("small-price")},i.default.createElement(v.default,{searchPrice:l})),i.default.createElement("span",{className:m("text")},p("ticket:buyButton.update"))):u?i.default.createElement("span",{className:m("text")},u):i.default.createElement(i.default.Fragment,null,i.default.createElement(y,{price:l,type:a,showPrice:s,strikePrice:r}),t.assisted&&i.default.createElement(d.BuyButtonTooltipIcon,{tooltipTestId:"assisted-tooltip",iconTestId:"assisted-tooltip-wrapper",modifier:"--assisted"},i.default.createElement(f.default,null))):i.default.createElement("span",{className:m("text")},p("ticket:buyButton.findPrice")):i.default.createElement("span",{className:m("text")},p("ticket:buyButton.loading"))}));b.displayName="ButtonContent";var S=function(e){var t=e.price,r=e.strikePrice;return i.default.createElement("span",{className:m("price")},i.default.createElement(v.default,{searchPrice:t}),r&&i.default.createElement("del",{className:m("small-price")},i.default.createElement(v.default,{unifiedPrice:r})))},T=_;t.default=T},354336:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BuyButtonTooltipIcon=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=n(r(983065));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=(0,i.default)("buy-button"),u=(0,a.memo)((function(e){var t=e.modifier,r=e.iconTestId,n=e.tooltipTestId,i=e.children;return a.default.createElement(o.default,{position:"top",showDelay:100,tooltip:function(){return a.default.createElement("div",{className:s("icon-tooltip",t),"data-test-id":n},i)},wrapperClassName:s("icon-wrap")},a.default.createElement("i",{className:s("icon",t),"data-test-id":r}))}));t.BuyButtonTooltipIcon=u},928005:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=n(r(983065));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}r(809514);var s=r(985703),u=(0,i.default)("pin"),l=(0,a.memo)((function(e){var t=e.tooltip,r=e.size,n=e.state,i=e.onClick,c=(0,a.useMemo)((function(){return function(){return a.default.createElement("span",{className:u("tooltip")},t)}}),[t]),l=(0,a.useCallback)((function(e){return i(e)}),[i]);return a.default.createElement(o.default,{wrapperClassName:u(null,["--"+r,"--"+n]),wrapperProps:{title:t,onClick:l,role:"pin"},tooltip:c},a.default.createElement(s,{className:u("icon")}))}));t.default=l},326258:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.PinState=t.PinSize=void 0,t.PinState=r,function(e){e.ACTIVE="active",e.PARTIAL="partial",e.INACTIVE="inactive"}(r||(t.PinState=r={})),t.PinSize=n,function(e){e.BIG="big",e.NORMAL="normal",e.SMALL="small"}(n||(t.PinSize=n={}))},429759:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MIN_SEATS_LEFT=t.MAX_VISIBLE_PROPOSALS=void 0,t.MIN_SEATS_LEFT=8,t.MAX_VISIBLE_PROPOSALS=3},533736:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketDesktop=void 0;var a=n(r(101339)),i=n(r(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=n(r(225385)),s=r(445549),u=r(463854),l=r(518011),f=r(965302),d=r(234743),p=n(r(702944)),v=r(249094),g=n(r(715635)),h=n(r(345168)),m=n(r(378435)),y=n(r(374049)),_=r(86344),b=n(r(582934)),S=n(r(673919)),T=n(r(395856)),O=n(r(344955)),P=r(404266),E=r(349989),k=r(203089);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(788581);var I=(0,c.default)("ticket-desktop"),A=(0,o.memo)((function(e){var t=e.actual,r=void 0===t||t,n=e.isSearchExpired,a=e.proposals,c=e.currentTariff,C=e.travelRestrictionTags,w=e.travelInformationTags,A=e.handleTravelRestrictionClick,x=e.hasSubscription,j=e.modifiers,R=e.withBuyCol,M=e.buyButtonType,F=e.getMetaInfo,N=e.strikePrice,L=e.showRemainingSeatsCount,B=e.seatsCount,U=e.hotelInfo,H=e.searchParams,W=e.segments,G=e.sideExtraContent,K=e.carriers,V=e.isNightMode,Y=e.tags,q=e.withComparison,z=e.sign,X=e.isCompared,Q=e.isAutoSearch,$=void 0!==Q&&Q,Z=e.ticketUrl,J=e.withSubscription,ee=e.withSharing,te=e.extraActions,re=e.tripDirectionType,ne=e.badge,ae=e.onHotelInfoClick,ie=e.onTicketClick,oe=e.showBaggage,ce=void 0===oe||oe,se=e.showPin,ue=e.onBuyButtonClick,le=e.onWarningTagTooltip,fe=e.onCompareClick,de=e.onSubscriptionClick,pe=e.onTicketShare,ve=e.ticketSharingSocials,ge=e.onShareTooltipShow,he=e.onTicketUrlCopy,me=e.onPinClick,ye=e.pinFlightSigns,_e=e.isFaresExpEnabled,be=e.selectedFareProposal,Se=e.faresProposals,Te=e.theme,Oe=(0,s.useTranslation)("ticket").t,Pe=(0,i.default)(a[c],1)[0],Ee=(0,d.getProposalToRender)({isFaresExpEnabled:_e,fareProposal:be,upsellProposal:Pe}),ke=(0,o.useMemo)((function(){return ce&&p.default.is("serp-exp-baggageUpsale")}),[ce]),Ce=(0,o.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),ie()}),[ie]),we=Boolean(null==C?void 0:C.length),De=(0,E.getProposalUniqueMarketingCarriers)(Pe),Ie=(0,o.useMemo)((function(){return(0,v.getCashBackByTariff)(c,a)}),[c,a]);return o.default.createElement("div",{"data-test-id":"ticket-desktop",className:I(null,D({"--has-subscription":Boolean(x)},j)),onClick:Ce},R&&o.default.createElement("div",{className:I("side-content")},o.default.createElement("div",{className:I("side-container"),key:c},"preview"===M&&o.default.createElement(u.Text,{className:I("price"),type:u.TextType.Title3Bold},o.default.createElement(O.default,{searchPrice:(0,v.getProposalPriceForPreview)(Ee)})),Ie>0&&o.default.createElement(k.CashbackTitleContainer,{cashback:{value:Ie,currency:Pe.currency},placement:$?k.CashbackPlacementType.Autosearch:k.CashbackPlacementType.Results,unsignedClassName:I("cashback-title-unsigned","rewrite-ui-kit-class"),className:I("cashback-wrapper")}),ke&&o.default.createElement(P.BaggageUpsellNew,{sign:z,proposals:a,fareProposals:Se,proposal:Ee,isFaresExpEnabled:_e}),o.default.createElement("div",{className:I("buy-button-wrap")},o.default.createElement(g.default,{btnClassName:I("buy-button"),getMetaInfo:F,proposal:Ee,price:(0,v.getProposalPriceForPreview)(Ee),isSearchExpired:n,onClick:n||"preview"!==M?ue:Ce,isProposalTitleHidden:!0,type:M,actual:r,strikePrice:N})),L&&B&&o.default.createElement(u.Text,{type:u.TextType.Body3Semi,className:I("remaining-tickets")},Oe("ticket:remainingTickets",{count:B})),U&&H&&Ee&&o.default.createElement(b.default,{getMetaInfo:F,hotel:U,segments:W,passengers:H.passengers,onDeeplinkClick:ae,mainProposal:Ee}),(null==Te?void 0:Te.sideContent)&&o.default.createElement(u.Text,{type:u.TextType.Body3Regular,className:I("advertisement-label")},Te.sideContent),G)),o.default.createElement("div",{className:I("content")},o.default.createElement("div",{className:I("header")},o.default.createElement("div",{className:I("carriers")},o.default.createElement(h.default,{carriers:De||K,isNightMode:V})),o.default.createElement("div",{className:I("tags-wrap")},Y.other&&Y.other.length&&o.default.createElement("div",{className:I("tags")},o.default.createElement(m.default,{tags:Y.other})),Y.warning&&Y.warning.length&&o.default.createElement("div",{className:I("tags")},o.default.createElement(m.default,{tags:Y.warning,onTooltip:le}))),q&&o.default.createElement("div",{className:I("comparison")},o.default.createElement(S.default,{sign:z,isCompared:X,onCompareClick:fe})),J&&o.default.createElement("div",{className:I("subs")},o.default.createElement(T.default,{hasSubscription:x,onSubscriptionClick:de})),ee&&o.default.createElement("div",{className:I("share")},o.default.createElement(y.default,{ticketSharingSocials:ve,onTicketShare:pe,onShareTooltipShow:ge,onTicketUrlCopy:he,ticketUrl:Z})),te),o.default.createElement("div",{className:I("body")},o.default.createElement(f.RestrictionInformerGroup,{className:I("travel-restrictions"),informers:C,onClick:A,type:"preview"}),!we&&o.default.createElement(f.RestrictionInformerGroup,{className:I("travel-restrictions"),informers:w,onClick:A,type:"preview"}),o.default.createElement("div",{className:I("segments-wrap")},W.map((function(e,t){return o.default.createElement("div",{className:I("segment"),key:t},o.default.createElement(_.TicketSegment,{pinFlightSigns:ye,segmentIndex:t,onPinClick:me,showPin:se,tripDirectionType:re,route:e.flights}))}))))),ne&&o.default.createElement(l.Badge,{className:I("outer-badge"),color:ne.color,isLoading:ne.isLoading,size:l.BadgeSize.S,customHexColor:ne.colorHex},ne.title))}));t.TicketDesktop=A,A.displayName="TicketDesktop"},182502:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.formatTicketTime=t.formatTicketDate=void 0;var a=n(r(740537)),i=n(r(81861)),o=r(372662),c=function(e){return a.default.utc((0,i.default)(e))};t.formatTicketTime=function(e,t){var r=c(t);return(0,o.format)(e,"ts_time",r)},t.formatTicketDate=function(e,t){var r=c(t);return(0,o.format)(e,"ts_day_month_short_weekday",r)}},89037:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketMobile=void 0;var a=n(r(101339)),i=n(r(114558)),o=n(r(797972)),c=n(r(225385)),s=n(r(702944)),u=r(663579),l=n(r(933097));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(908534);var p=(0,c.default)("ticket-mobile"),v=(0,u.withFlagr)(s.default,["avs-exp-downgradedGates"])((function(e){var t=e.proposals,r=e.currentTariff,n=e.segments,a=e.carriers,c=e.isNightMode,s=e.withBuyCol,u=e.badge,f=e.modifiers,v=e.withSubscription,g=e.hasSubscription,h=e.isPriceLinkStyle,m=e.strikePrice,y=e.withSubscriptionOnMobilePreview,_=void 0===y||y,b=e.extraActionsMobile,S=e.totalAmount,T=e.showRemainingSeatsCount,O=e.seatsCount,P=e.theme,E=e.onSubscriptionClick,k=e.onMobilePreviewClick,C=e.isSubscriptionTicket,w=(0,i.default)(t[r],1)[0];return o.default.createElement("div",{"data-test-id":"ticket-mobile",className:p(null,d({"--with-outer-badge":Boolean(u)},f))},o.default.createElement(l.default,{isSubscriptionTicket:C,mainProposal:w,carriers:a,segments:n,isNightMode:c,withBuyCol:s,withSubscription:v&&_,hasSubscription:g,onSubscriptionClick:E,badge:u,strikePrice:m,extraActionsMobile:b,onClick:k,isPriceLinkStyle:h,totalAmount:S,showRemainingSeatsCount:T,seatsCount:O,theme:P}))}));t.TicketMobile=v},63607:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.TripDirectionType=t.TicketMediaQueryTypes=void 0,t.TripDirectionType=r,function(e){e.OneWay="oneway",e.RoundTrip="roundtrip",e.Multiway="multiway"}(r||(t.TripDirectionType=r={})),t.TicketMediaQueryTypes=n,function(e){e.Desktop="desktop",e.Mobile="mobile"}(n||(t.TicketMediaQueryTypes=n={}))},773698:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=n(r(101339)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),c=n(r(225385)),s=r(696204),u=n(r(983065)),l=n(r(216179)),f=r(929155),d=r(626108);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(725036);var h=(0,c.default)("ticket-carrier"),m=function(e){var t=e.carrierIata,r=e.isSmall,n=void 0!==r&&r,i=e.isNightMode,c=void 0!==i&&i,p=(e.type,e.modifiers),v=void 0===p?[]:p,m=e.width,y=void 0===m?n?d.LOGO_SIZE.square.width:d.LOGO_SIZE.rectangular.width:m,_=e.height,b=void 0===_?n?d.LOGO_SIZE.square.height:d.LOGO_SIZE.rectangular.height:_,S=e.withTooltip,T=void 0===S||S,O=e.newCarrierLogo,P=void 0!==O&&O,E=(0,(0,o.useContext)(l.default).getAirlineName)(t),k=(0,o.useMemo)((function(){return function(){return o.default.createElement("div",{className:h("tooltip")},E)}}),[E]),C=(0,o.useMemo)((function(){return(0,d.getImageSource)(n,c)}),[n,c]),w=T?{}:{showByProps:!0,isVisible:!1};return o.default.createElement(u.default,(0,a.default)({wrapperClassName:h(null,g(g({},(0,d.arrModifiersToObj)(v)),{},{"--rounded":n})),position:"top",tooltip:k,showDelay:100},w),P?o.default.createElement(s.CarrierLogo,{marketingCarrierIata:t,marketingCarrierName:E}):o.default.createElement(f.OldCarrierLogo,{isSmall:n,src:C,width:y,height:b,carrierIata:t,carrierName:E,className:h("img")}))},y=o.default.memo(m);t.default=y},626108:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getImageSource=t.arrModifiersToObj=t.SQUARE_LOGO_PATH=t.NIGHT_SQUARE_LOGO_PATH=t.NIGHT_LOGO_PATH=t.LOGO_SIZE=void 0;var a=n(r(101339));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.LOGO_SIZE={square:{width:36,height:36},rectangular:{width:99,height:36}};var c="/al_square";t.SQUARE_LOGO_PATH=c;var s="/night_square";t.NIGHT_SQUARE_LOGO_PATH=s;var u="/night";t.NIGHT_LOGO_PATH=u,t.arrModifiersToObj=function(e){return e.reduce((function(e,t){var r;return o(o({},e),{},((r={})[t]=!0,r))}),{})},t.getImageSource=function(e,t){var r=e?c:"";return t&&(r=e?s:u),r}},1121:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CarrierLabel=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(673784)),o=r(463854),c=n(r(295342));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}t.CarrierLabel=function(e){var t=e.carrier,r=e.isNightMode,n=e.getAirlineName,s=void 0===n?i.default:n,u=e.getAirlineBrandColor,l=null==u?void 0:u(t),f=(0,a.useMemo)((function(){if(l&&!r)return{color:"#"+l}}),[l,r]);return a.default.createElement("div",{className:c.default.wrapper},a.default.createElement(o.Text,{type:o.TextType.Body2Semi,truncateMode:o.TruncateTextMode.SingleLine,className:c.default.carrierName,style:f},s(t)))}},345168:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=n(r(983065)),s=n(r(702944)),u=r(937435),l=r(1121),f=n(r(773698)),d=n(r(216179));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}r(186516);var v=(0,o.default)("ticket-carrier-list"),g=function(e){var t=e.carriers,r=e.isNightMode,n=void 0!==r&&r,o=e.maxLogos,p=void 0===o?5:o,g=e.modifiers,h=e.withTooltip,m=void 0===h||h,y=e.showAlwaysRounded,_=(0,i.useContext)(d.default),b=_.getAirlineName,S=_.getAirlineBrandColor,T=(0,u.useIsMobile)();if(!t||!t.length)return null;var O=m?{}:{showByProps:!0,isVisible:!1},P=[].concat(t),E=y||t.length>1,k=P.length>p?P.splice(p-1):[],C=k.map(b).join(", "),w=s.default.is("serp-exp-marketingOperatingCarrier");return i.default.createElement("ul",{className:v(null,g)},P.map((function(e,t){return i.default.createElement("li",{key:t,className:v("item")},i.default.createElement(f.default,{carrierIata:e,isSmall:E,isNightMode:n,modifiers:g,withTooltip:m,newCarrierLogo:w}))})),!E&&w&&!T&&i.default.createElement(l.CarrierLabel,{carrier:t[0],isNightMode:n,getAirlineName:b,getAirlineBrandColor:S}),C&&i.default.createElement("li",{key:"carriersMore","data-test-id":"carriersMore",className:v("item")},i.default.createElement(c.default,(0,a.default)({wrapperClassName:v("more"),position:"top",tooltip:function(){return i.default.createElement("div",{className:v("tooltip")},C)},showDelay:100},O),"+",k.length)))},h=i.default.memo(g);t.default=h},929155:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.OldCarrierLogo=void 0;var a=n(r(435850)),i=n(r(797972)),o=r(565569),c=function(e){var t=e.isSmall,r=e.src,n=e.width,c=e.height,s=e.carrierIata,u=e.carrierName,l=e.className;return i.default.createElement("img",(0,a.default)({className:l},t?{src:"//"+o.PICS_HOST+r+"/"+n+"/"+c+"/"+s+"@2x.png"}:{src:"//"+o.PICS_HOST+r+"/"+n+"/"+c+"/"+s+".png",srcSet:"//"+o.PICS_HOST+r+"/"+n+"/"+c+"/"+s+"@2x.png 2x"},{width:n,height:c,alt:u}))},s=i.default.memo(c);t.OldCarrierLogo=s},673919:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(445549),c=n(r(225385)),s=n(r(983065));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}r(228956);var l=r(613900),f=r(969598),d=(0,c.default)("ticket-comparison"),p=function(e){var t=e.sign,r=e.isCompared,n=e.onCompareClick,c=e.withTooltip,u=void 0===c||c,p=(0,(0,o.useTranslation)("ticket").t)(r?"ticket:comparisonTooltip.remove":"ticket:comparisonTooltip.add"),v=(0,i.useCallback)((function(){return i.default.createElement("div",{className:d("tooltip")},p)}),[p]),g=(0,i.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),n&&n(!!r,t)}),[r,n,t]),h=u?{}:{showByProps:!0,isVisible:!1};return i.default.createElement(s.default,(0,a.default)({wrapperClassName:d(null,{"--is-active":!!r}),tooltip:v},h),i.default.createElement("button",{onClick:g,className:d("button")},r?i.default.createElement(f,{className:d("icon")}):i.default.createElement(l,{className:d("icon")})))},v=i.default.memo(p);t.default=v},899553:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(377754)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(224562),s=n(r(816550)),u=r(696204),l=r(895459),f=n(r(374049)),d=r(940377),p=r(704356),v=r(104185),g=r(203089),h=r(101271);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}r(888976);var y=(0,o.default)("ticket-content-modal");t.default=function(e){var t=e.type,r=e.modal,n=e.modalData,o=e.ticketSign,m=(0,a.default)(e,["type","modal","modalData","ticketSign"]),_=(0,c.useSelector)((function(e){return(0,v.getSelectedFareProposal)(e,null!=o?o:"")})),b=(0,i.useMemo)((function(){return(0,p.getModalHeaderTitle)(t,_)}),[t,_]),S=(0,p.getGreyBackgroundFlag)(n.type);if(t===h.TicketContentModalType.Proposals){var T=m,O=T.proposals.filter((function(e){var t="cashback"in e?null==e?void 0:e.cashback:null;return!((0,s.default)(t)||0===t)}))[0],P=O?O.id:"";return i.default.createElement(l.ProposalListModal,{isVisible:r.visible,proposals:T.proposals,getMetaInfo:T.getMetaInfo,onProposalClick:function(e){var t=e.event,r=e.proposal,n=e.proposalPosition;t.stopPropagation(),T.onProposalClick&&T.onProposalClick(t,r,n)},getCashbackTitleSlotContent:function(e){return e?i.default.createElement(g.CashbackTitleContainer,{cashback:{value:e.value,currency:e.currency},placement:g.CashbackPlacementType.Proposals,unsignedClassName:y("cashback-title-unsigned","rewrite-ui-kit-class"),signedClassName:y("cashback-title-signed")}):null},onClose:r.onClose,firstProposalWithCashbackId:P,cashbackInformerSlot:i.default.createElement(g.CashbackInformerContainer,{className:y("cashback-informer"),placement:g.CashbackPlacementType.Proposals})})}return t===h.TicketContentModalType.FlightInfo?null:i.default.createElement(u.TicketModal,{modal:r,type:"content",header:i.default.createElement(u.TicketModalContentHeader,{title:b,onBackClick:r.onClose}),isBackgroundGrey:S},i.default.createElement("div",{className:y("modal-content")},t===h.TicketContentModalType.Share&&i.default.createElement(f.default,m),t===h.TicketContentModalType.Content&&i.default.createElement(u.TicketContent,n.payload),t===h.TicketContentModalType.Fares&&o&&i.default.createElement(d.FaresModalContentContainer,{ticketSign:o})))}},101271:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TicketContentModalType=void 0,t.TicketContentModalType=r,function(e){e.Proposals="proposals",e.Share="share",e.FlightInfo="flightInfo",e.Content="content",e.Fares="fares"}(r||(t.TicketContentModalType=r={}))},704356:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getModalHeaderTitle=t.getGreyBackgroundFlag=void 0;var a=n(r(275347)),i=r(101271),o=r(281569),c=r(104185);t.getModalHeaderTitle=function(e,t){return e===i.TicketContentModalType.Fares?a.default.t("ticket:faresModalTitle"):e===i.TicketContentModalType.Proposals?(0,c.isFaresExperimentEnabled)()&&t?(0,o.getFareProposalsText)(t):a.default.t("ticket:mobileProposalsTitle"):null};var s=[i.TicketContentModalType.FlightInfo,i.TicketContentModalType.Fares];t.getGreyBackgroundFlag=function(e){return s.includes(e)}},216179:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(797972),a=r(682237),i=(0,n.createContext)((0,a.buildAirlines)({}));t.default=i},453291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.buildGatesContext=void 0;var n=r(797972),a=function(e){return{gates:e,getLabel:function(t){return(e[t]||{}).label||t},getGate:function(t){return e[t]||null}}};t.buildGatesContext=a;var i=(0,n.createContext)(a({}));t.default=i},513290:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPlacesContext=t.default=void 0;var a=n(r(797972)),i=(0,r(682237).buildPlaces)({},{});t.defaultPlacesContext=i;var o=a.default.createContext(i);t.default=o},492190:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTicketPriceContext=t.defaultCurrenciesList=t.default=void 0;var a=n(r(101339)),i=r(797972);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=r(386452).SUPPORTED_CURRENCIES;t.defaultCurrenciesList=s;var u={currency:"rub",currencies:s.reduce((function(e,t){var r;return c(c({},e),{},((r={})[t]=-9999,r))}),{}),currenciesList:s};t.defaultTicketPriceContext=u;var l=(0,i.createContext)(u);t.default=l},582934:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(740537),o=n(r(225385)),c=r(445549);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}r(498686);var u=(0,o.default)("ticket-hotel-info"),l=function(e){var t=e.hotel,r=e.segments,n=e.passengers,i=e.mainProposal,o=e.onDeeplinkClick,s=e.getMetaInfo,l=(0,c.useTranslation)("ticket").t,d=f(r),p=(0,a.useCallback)((function(e){e.stopPropagation(),o&&i&&o(e,i)}),[o,i]);if(!t||null==i||!i.deeplink||!d)return null;var v=Object.values(n).reduce((function(e,t){return e+t})),g=l("ticket:dateTime.nights",{days:d}),h=l("ticket:hotelInfo.man",{count:v}),m=JSON.stringify(s(i));return a.default.createElement("div",{className:u()},a.default.createElement("a",{href:i.deeplink,className:u("link"),onClick:p,"data-metainfo":m},t.name),a.default.createElement("div",{className:u("stars")},new Array(t.stars).fill(null).map((function(e,t){return a.default.createElement("i",{key:t,className:u("star")})}))),a.default.createElement("div",{className:u("supply")},g),a.default.createElement("div",{className:u("supply")},l("ticket:hotelInfo.description",{passengers:h})))},f=function(e){if(e[0]&&e[1])return Math.abs((0,i.diff)(new Date(e[0].flights[0].arrival_date),new Date(e[1].flights[0].departure_date)))},d=(0,a.memo)(l);t.default=d},649065:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketVisaRequiredCountries=t.getTicketAlertsInfo=t.getPassengersCount=void 0;var a=n(r(257110)),i=n(r(823584));t.getPassengersCount=function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)},t.getTicketVisaRequiredCountries=function(e,t){if(!e)return[];var r=e.transferTerms.map((function(e,r){var n,a=(null===(n=t[r])||void 0===n?void 0:n.transfers)||[];return 0===a.length?[]:e.reduce((function(e,t,r){var n;if(null!==(n=t.tags)&&void 0!==n&&n.includes("visa_required")){var i=a[r].country_code;return[].concat(e,[i])}return e}),[])}));return(0,i.default)(r.flat())},t.getTicketAlertsInfo=function(e,t){if(!t)return[];var r=[];return(0,a.default)("virtual_interline_international",t.tags)?r.push({tag:"virtual_interline_international",icon:"warning",title:e("ticket:ticketAlerts.virtual_interline")}):(0,a.default)("virtual_interline_domestic",t.tags)&&r.push({tag:"virtual_interline_domestic",icon:"warning",title:e("ticket:ticketAlerts.virtual_interline")}),(0,a.default)("charter",t.tags)&&r.push({tag:"charter",icon:"warning",title:e("ticket:ticketAlerts.charter")}),r}},652635:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(983065)),o=n(r(871838)),c=r(785843),s=n(r(492190));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(e){var t=e.className,r=e.originalCurrency,n=e.price,u=void 0===n?0:n,l=e.children,f=(0,a.useContext)(s.default).currency;return a.default.createElement(i.default,{position:"right",tooltip:function(){return!r||r.toLowerCase()===f.toLowerCase()||(0,c.isWayAway)(c.BRAND)?null:a.default.createElement("div",{className:t,"data-test-id":"original-currency-tooltip"},a.default.createElement(o.default,{value:Math.round(u),currency:r}))},showDelay:1e3},l)},f=(0,a.memo)(l);t.default=f},525833:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ItineraryAirports",{enumerable:!0,get:function(){return n.ItineraryAirports}});var n=r(67415)},67415:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ItineraryAirports=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=r(463854),c=n(r(386769));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=i.default.bind(c.default),l=(0,a.memo)((function(e){var t,r=e.flights,n=e.isLongFormatTime,i=[r[0],r[r.length-1]],c=i[0],s=i[1],l=u(((t={})["long-format"]=n,t));return a.default.createElement("div",{className:u("root")},a.default.createElement("div",{className:u("start-airport",l)},a.default.createElement(o.Text,{type:o.TextType.Body3Regular},c.departure)),a.default.createElement("div",{className:u("end-airport",l)},a.default.createElement(o.Text,{type:o.TextType.Body3Regular},s.arrival)))}));t.ItineraryAirports=l,l.displayName="ItineraryAirports"},162595:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ItineraryDuration",{enumerable:!0,get:function(){return n.ItineraryDuration}});var n=r(705895)},705895:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItineraryDuration=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(463854),o=r(29282);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}var s=(0,n.memo)((function(e){var t,r=e.flights,c=(0,a.useTranslation)("ticket").t,s=[r[0],r[r.length-1]],u=s[0],l=s[1];t=l.arrival_timestamp&&u.departure_timestamp?Math.floor((l.arrival_timestamp-u.departure_timestamp)/60):r.reduce((function(e,t){return e+t.delay+t.duration}),0);var f=(0,o.useDurationFormatter)({durationMinutes:t,removeMinutesZeros:!0,type:o.TypeDurationFormatter.RoundShort});return n.default.createElement(i.Text,{type:i.TextType.Body3Regular},c("itinerary.tripDuration",{duration:f}))}));t.ItineraryDuration=s,s.displayName="ItineraryDuration"},921337:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ItineraryTechStop",{enumerable:!0,get:function(){return n.ItineraryTechStop}});var n=r(274617)},274617:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItineraryTechStop=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(445549),i=r(224562),o=r(463854),c=r(334);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var u=(0,n.memo)((function(e){var t=e.airport_code,r=(0,a.useTranslation)("ticket").t,s=(0,i.useSelector)(c.getAirports)[t].city+" "+r("techStop");return n.default.createElement(o.Text,{type:o.TextType.Body3Regular},s)}));t.ItineraryTechStop=u,u.displayName="ItineraryTechStop"},569108:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ItineraryTime",{enumerable:!0,get:function(){return n.ItineraryTime}});var n=r(922521)},922521:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ItineraryTime=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=r(317637),c=r(463854),s=r(182502),u=n(r(698219));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=i.default.bind(u.default),d=(0,a.memo)((function(e){var t,r=e.flights,n=e.isLongFormatTime,i=(0,o.useLocaleContext)(),u=[r[0],r[r.length-1]],l=u[0],d=u[1],p=(0,s.formatTicketTime)(i,l.local_departure_timestamp),v=(0,s.formatTicketTime)(i,d.local_arrival_timestamp),g=f(((t={})["long-format"]=n,t));return a.default.createElement("div",{className:f("root")},a.default.createElement("div",{className:f("start-wrapper",g)},a.default.createElement(c.Text,{className:f("start-time"),type:c.TextType.Body3Regular},p),a.default.createElement("div",{className:f("divider")})),a.default.createElement("div",{className:f("end-wrapper",g)},a.default.createElement(c.Text,{className:f("end-time"),type:c.TextType.Body3Regular},v)))}));t.ItineraryTime=d,d.displayName="ItineraryTime"},237013:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ItineraryTransferList",{enumerable:!0,get:function(){return n.ItineraryTransferList}});var n=r(687454)},687454:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ItineraryTransferList=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=n(r(299657)),c=r(979773),s=r(921337),u=n(r(678756));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=i.default.bind(u.default),d=(0,a.memo)((function(e){var t=e.technicalStops;return a.default.createElement(a.default.Fragment,null,t.map((function(e){var t=e.airport_code;return a.default.createElement(s.ItineraryTechStop,{airport_code:t,key:t})})))}));d.displayName="ItineraryTechStopList";var p=(0,a.memo)((function(e){var t,r=e.segment,n=e.isLongFormatTime,i=r.flights,s=r.transfers,u=i.reduce((function(e,t){var r=t.arrival,n=t.technical_stops;return(0,o.default)(n)||(e[r]=n),e}),{});return a.default.createElement("div",{className:f("root",(t={},t["long-format"]=n,t))},s.map((function(e){var t=e.departure_airport,r=e.city_code,n=u[t];return a.default.createElement(a.default.Fragment,{key:r},n&&a.default.createElement(d,{technicalStops:n}),a.default.createElement(c.TicketPreviewTransferContainer,{transfer:e}))})))}));t.ItineraryTransferList=p,p.displayName="ItineraryTransferList"},933097:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(463854),s=r(518011),u=n(r(702944)),l=n(r(871838)),f=r(249094),d=n(r(345168)),p=n(r(996166)),v=n(r(395856)),g=n(r(876125)),h=r(81445),m=r(349989),y=r(203089);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}r(772839);var b=(0,i.default)("ticket-preview"),S=(0,a.memo)((function(e){var t,r,n=(0,o.useTranslation)("ticket").t,i=e.badge,_=e.theme&&e.theme.expandButtonText?e.theme.expandButtonText:n("ticket:advertisement"),S=e.mainProposal&&e.mainProposal.assisted,T=(0,m.getProposalUniqueMarketingCarriers)(e.mainProposal),O=u.default.is("serp-exp-newMobileWebTicketPreview");return a.default.createElement("div",{className:b(null,{"--brand-ticket":!!e.theme,"--has-subscription":!!e.hasSubscription,"--new-ticket-preview":O}),onClick:e.onClick},a.default.createElement("div",{className:b("header")},e.totalAmount&&a.default.createElement(l.default,{value:e.totalAmount.value,currency:e.totalAmount.currency,formatPriceFn:e.totalAmount.formatPriceFn,className:b("total-amount")}),e.withSubscription&&a.default.createElement("div",{className:b("subs")},a.default.createElement(v.default,{hasSubscription:e.hasSubscription,onSubscriptionClick:e.onSubscriptionClick,withTooltip:!1})),e.withBuyCol&&e.mainProposal&&e.mainProposal.price?a.default.createElement(p.default,{isSubscriptionTicket:e.isSubscriptionTicket,mainProposal:e.mainProposal,strikePrice:e.strikePrice,isLinkStyle:e.isPriceLinkStyle}):null,a.default.createElement("div",{className:b("carriers")},a.default.createElement(d.default,{carriers:T||e.carriers,isNightMode:e.isNightMode,modifiers:["--size-s"],maxLogos:S?2:3,withTooltip:!1})),e.extraActionsMobile&&e.extraActionsMobile),e.theme&&e.theme.sideContent&&a.default.createElement("div",{className:b("brand-content")},e.theme.sideContent),a.default.createElement("div",{className:b("cashback-remaining-wrapper")},void 0!==(null===(t=e.mainProposal)||void 0===t?void 0:t.cashback)&&(null===(r=e.mainProposal)||void 0===r?void 0:r.cashback)>0&&!e.theme&&a.default.createElement(y.CashbackTitleContainer,{cashback:{value:(0,f.getProposalCashBackForPreview)(e.mainProposal),currency:e.mainProposal.currency},placement:y.CashbackPlacementType.Results,signedClassName:b("cashback-title","--signed"),unsignedClassName:b("cashback-title","--unsigned")}),e.showRemainingSeatsCount&&e.seatsCount&&a.default.createElement(c.Text,{className:b("remaining-tickets"),type:c.TextType.Body3Regular},n("ticket:remainingTickets",{count:e.seatsCount}))),a.default.createElement("div",{className:b("body")},e.segments.map((function(e,t){return O?a.default.createElement(h.TicketPreviewSegment,{key:t,segment:e,className:b("segment-new")}):a.default.createElement(g.default,{key:t,segment:e,className:b("segment")})}))),e.theme&&a.default.createElement("div",{className:b("brand-bar"),style:{backgroundColor:e.theme.brandColor,color:e.theme.textColor}},a.default.createElement(c.Text,{className:b("brand-bar-text"),type:c.TextType.Body3Regular},_)),i&&a.default.createElement(s.Badge,{className:b("outer-badge"),color:i.color,isLoading:i.isLoading,size:s.BadgeSize.S,customHexColor:i.colorHex},i.title))}));S.defaultProps={withBuyCol:!0};var T=S;t.default=T},876125:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getSegmentRouteStops=t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(317637),s=r(29282),u=r(182502);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(423072);var f=(0,i.default)("ticket-preview-segment"),d=function(e){var t,r=e.segment,n=e.className,i=(0,o.useTranslation)("ticket").t,l=(0,c.useLocaleContext)(),d=[r.flights[0],r.flights[r.flights.length-1]],v=d[0],g=d[1],h=r.flights.length>1?p(r.flights):[i("ticket:mobileDirectFlight")],m=(0,u.formatTicketTime)(l,v.local_departure_timestamp),y=(0,u.formatTicketTime)(l,g.local_arrival_timestamp),_=h.length>1?i("ticket:mobileStopsWithCount",{count:h.length}):i("ticket:mobileStops");h.length>2&&h.splice(1,h.length,h[1]+"..."),t=g.arrival_timestamp&&v.departure_timestamp?(g.arrival_timestamp-v.departure_timestamp)/60|0:r.flights.reduce((function(e,t){return e+t.delay+t.duration}),0);var b=(0,s.useDurationFormatter)({durationMinutes:t,removeMinutesZeros:!0});return a.default.createElement("div",{className:f("",n)},a.default.createElement("div",{className:f("flight")},a.default.createElement("p",{className:f("flight-label")},v.departure," – ",g.arrival),a.default.createElement("p",{className:f("flight-value")},m," – ",y)),a.default.createElement("div",{className:f("flight")},a.default.createElement("p",{className:f("flight-label")},i("ticket:mobileflightDuration")),a.default.createElement("p",{className:f("flight-value")},b)),a.default.createElement("div",{className:f("flight")},a.default.createElement("p",{className:f("flight-label")},_),a.default.createElement("p",{className:f("flight-value")},h.join(", "))))},p=function(e){return e.map((function(t,r){if(r<e.length-1)return v(t,e[r+1])?[t.arrival,e[r+1].departure].join(" - "):t.arrival})).filter(Boolean)};t.getSegmentRouteStops=p;var v=function(e,t){return e.arrival!==t.departure},g=(0,a.memo)(d);t.default=g},81445:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketPreviewSegment=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(492709)),o=r(445549),c=r(317637),s=r(463854),u=r(182502),l=r(569108),f=r(525833),d=r(237013),p=r(162595),v=r(605035),g=n(r(656595));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m=i.default.bind(g.default),y=(0,a.memo)((function(e){var t=e.segment,r=e.className,n=(0,o.useTranslation)("ticket").t,i=(0,c.useLocaleContext)(),g=t.flights,h=t.transfers,y=(0,u.formatTicketTime)(i,g[0].local_arrival_timestamp),_=(0,v.isAmPmFormat)(y),b=h.length>0?n("ticket:mobileStopsWithCount",{count:h.length}):n("ticket:withoutStops");return a.default.createElement("div",{className:r},a.default.createElement("div",{className:m("top-row")},a.default.createElement(l.ItineraryTime,{flights:g,isLongFormatTime:_}),a.default.createElement("div",{className:m("top-right-row")},a.default.createElement(s.Text,{className:m("stops-title"),truncateMode:s.TruncateTextMode.SingleLine,type:s.TextType.Body3Regular},b),a.default.createElement(p.ItineraryDuration,{flights:g}))),a.default.createElement("div",{className:m("bottom-row")},a.default.createElement(f.ItineraryAirports,{flights:g,isLongFormatTime:_}),a.default.createElement(d.ItineraryTransferList,{segment:t,isLongFormatTime:_})))}));t.TicketPreviewSegment=y,y.displayName="TicketPreviewSegment"},605035:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAmPmFormat=void 0,t.isAmPmFormat=function(e){return e.includes("am")||e.includes("pm")}},979773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TicketPreviewTransferContainer",{enumerable:!0,get:function(){return n.TicketPreviewTransferContainer}});var n=r(529857)},529857:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketPreviewTransferContainer=void 0;var a=n(r(797972)),i=r(224562),o=r(304426),c=r(948248);t.TicketPreviewTransferContainer=function(e){var t=e.transfer,r=(0,i.useSelector)(o.getCities);return a.default.createElement(c.TicketPreviewTransfer,{transfer:t,cities:r})}},948248:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketPreviewTransfer=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=n(r(492709)),c=r(29282),s=r(463854),u=n(r(415713)),l=r(390821);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var d=o.default.bind(u.default),p=(0,a.memo)((function(e){var t,r=e.transfer,n=e.cities,o=(0,i.useTranslation)("ticket").t,u=r.duration,f=r.tags,p=r.city_code,v=(null===(t=n[p])||void 0===t?void 0:t.name)||p,g=(0,c.useDurationFormatter)({durationMinutes:u,type:c.TypeDurationFormatter.RoundShort,removeMinutesZeros:!0}),h=(0,a.useMemo)((function(){return(0,l.getTagsText)(f,o)}),[f]),m=d("root",{highlights:Boolean(h)}),y=d("text",{highlights:f.includes("short_layover")});return a.default.createElement(s.Text,{className:m,type:s.TextType.Body3Regular,truncateMode:s.TruncateTextMode.SingleLine},a.default.createElement(s.Text,{className:y,type:s.TextType.Body3Regular},g),a.default.createElement("span",null," "),a.default.createElement(s.Text,{type:s.TextType.Body3Regular,className:d("text")},v),a.default.createElement("span",null," "),a.default.createElement(s.Text,{type:s.TextType.Body3Regular,className:d("text","highlights")},h))}));t.TicketPreviewTransfer=p,p.displayName="TicketPreviewTransfer"},390821:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTagsText=void 0;var a=n(r(823584)),i=n(r(193578)),o=n(r(299657)),c={visa_required:"shortTags.visa_required",airport_change:"shortTags.airport_change",overnight_layover:"shortTags.overnight_layover",virtual_interline_domestic:"shortTags.exit_to_city",virtual_interline_international:"shortTags.exit_to_city",short_with_interline_layover:"shortTags.exit_to_city",transfer_to_plane:"shortTags.transfer_to_plane",transfer_to_train:"shortTags.transfer_to_train",transfer_to_bus:"shortTags.transfer_to_bus",transfer_to_helicopter:"shortTags.transfer_to_helicopter"},s=["transfer_to_plane","transfer_to_train","transfer_to_bus","transfer_to_helicopter"];t.getTagsText=function(e,t){var r=function(e){return(0,o.default)((0,i.default)(e,s))?e:e.filter((function(e){return"airport_change"!==e}))}(e),n=r.reduce((function(e,r){return c[r]&&e.push(t(c[r])),e}),[]);return(0,a.default)(n).join(", ")}},996166:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(487699),s=r(249094),u=n(r(344955));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(770486);var f=(0,i.default)("ticket-price-mobile"),d=function(e){(0,o.useTranslation)("ticket");var t=e.mainProposal&&e.mainProposal.assisted;if(!e.mainProposal)return null;var r=(0,s.getProposalPriceForPreview)(e.mainProposal),n=e.isSubscriptionTicket?{unifiedPrice:r}:{searchPrice:r};return a.default.createElement("div",{className:f(null,[!!e.isLinkStyle&&"--link-style",!!t&&"--assisted",!!e.strikePrice&&"--double-price"].concat(e.modifiers||[])),style:e.theme?{color:e.theme.brandColor}:{}},a.default.createElement(u.default,n),e.strikePrice&&a.default.createElement("del",{className:f("small")},a.default.createElement(u.default,{unifiedPrice:e.strikePrice})),!e.isProposalTitleHidden&&e.proposalLabel&&a.default.createElement("p",{className:f("proposal",{"--abc":!0}),onClick:e.onProposalLabelClick},a.default.createElement(o.Trans,{ns:"ticket",i18nKey:"buyButton.buyOn2",values:{gateLabel:e.proposalLabel}},a.default.createElement("span",{className:f("gate-label")}),e.onProposalLabelClick&&a.default.createElement(c.Icon16ControlsExpand,{className:f("expand-icon")}))))},p=(0,a.memo)(d);t.default=p},344955:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=n(r(377754)),o=n(r(954206)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),s=n(r(871838)),u=n(r(805814)),l=r(570355),f=n(r(492190));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var p=function(e){var t=e.searchPrice,r=e.unifiedPrice,n=e.type,d=(0,i.default)(e,["searchPrice","unifiedPrice","type"]),p=(0,c.useContext)(f.default),v=p.currency,g=p.currencies,h=(0,o.default)(t)?t:(0,l.convertUnifiedToCurrency)(r,v,g).value;return"short"===n?c.default.createElement(u.default,(0,a.default)({currency:v,value:h},d)):c.default.createElement(s.default,(0,a.default)({currency:v,roundingMode:"ceil",value:h},d))},v=(0,c.memo)(p);t.default=v},86344:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSegment=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=n(r(931699));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}r(988521);var s=(0,i.default)("ticket-segment"),u=(0,a.memo)((function(e){var t=e.route,r=e.pinFlightSigns,n=e.segmentIndex,i=e.onPinClick,c=e.showPin,u=e.tripDirectionType;return a.default.createElement("div",{className:s()},a.default.createElement("div",{className:s("route")},a.default.createElement(o.default,{segmentIndex:n,trips:t,pinFlightSigns:r,onPinClick:i,showPin:c,tripDirectionType:u})))}));t.TicketSegment=u,u.displayName="TicketSegment"},596055:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(29282),s=n(r(983065)),u=n(r(513290));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var f=(0,i.default)("segment-route"),d=(0,a.memo)((function(e){var t=e.tripOut.delay,r=v(e)?[e.tripIn.arrival,e.tripOut.departure]:[e.tripIn.arrival];return a.default.createElement(s.default,{wrapperClassName:f("stop",{"--change-airport":v(e)}),showDelay:100,fixPosition:{top:-3},wrapperProps:{style:{flexGrow:t},"data-iatas":r.join("\n")},tooltip:function(){return a.default.createElement("div",{className:f("tooltip")},a.default.createElement(p,e))}})})),p=(0,a.memo)((function(e){var t=(0,o.useTranslation)("ticket").t,r=(0,a.useContext)(u.default),n=e.tripIn,i=n.transport,s=n.arrival,l=e.tripOut,f=l.transport,d=l.departure,p=l.delay,g=(0,c.useDurationFormatter)({durationMinutes:p,removeMinutesZeros:!0}),h=[r.getPlaceName(s),r.getCityName(s),g],m=h[0],y=h[1],_=h[2],b=t("ticket:transfer",{returnObjects:!0,from_place:r.getPlaceName(s),to_place:r.getPlaceName(d),delay:_,city:y,place:m}),S=i+"_"+f;return v(e)?b.place_change[S]||b.place_change.default:m===y?b.short[S]||b.short.default:b[S]||b.default})),v=function(e){return e.tripIn.arrival!==e.tripOut.departure},g=d;t.default=g},931699:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(947981)),i=n(r(797972)),o=n(r(225385)),c=r(445549),s=n(r(405947)),u=r(463854),l=r(424002),f=r(15310),d=r(201547),p=r(708191),v=r(666161),g=r(787632),h=r(452130),m=r(844770),y=n(r(983065)),_=n(r(596055)),b=r(326258),S=n(r(928005)),T=r(63607),O=r(182502),P=n(r(513290)),E=r(451316),k=r(60837);r(340527);var C=["us","au","ca"].includes((0,h.getMarket)()),w={boat:d.Icon24TransportBoat,taxi:g.Icon24TransportTaxi,train:v.Icon24TransportTrain,bus:p.Icon24TransportBus},D={departure:l.Icon24TicketDeparture,arrival:f.Icon24TicketArrival},I=(0,o.default)("segment-route"),A=function(e){function t(t){var r;return(r=e.call(this,t)||this).isOneWay=void 0,r.pinClickHandler=function(e){e.preventDefault(),e.stopPropagation();var t=r.props,n=t.onPinClick,a=t.trips,i=t.segmentIndex,o=void 0===i?0:i;n&&n(a,r.isActiveSegment(),"segment",o)},r.getSegmentPinState=function(){return r.isActiveSegment()?b.PinState.ACTIVE:r.isFlightPinned()?b.PinState.PARTIAL:b.PinState.INACTIVE},r.isActiveSegment=function(){var e=r.props,t=e.trips,n=e.pinFlightSigns;return(0,E.isPinnedSegment)(t,n)},r.isFlightPinned=function(){var e=r.props,t=e.trips,n=e.pinFlightSigns;return t.some((function(e){return(0,E.isPinnedFlight)(e,n)}))},r.renderTechStopsText=function(e,t){var n=r.props.t;if(e&&e.length){var a=e.map((function(e){var r=e.airport_code,a=t.getPlaceName(r),i=t.getCityName(r);return""+(a===i?n("ticket:placeShort",{place:a}):n("ticket:place",{place:a,city:i}))}));return n("ticket:techStops",{stopsCount:a.length,stopsText:a.join(", ")})}return null},r.handleConnectorClick=function(e,t){e.preventDefault(),e.stopPropagation();var n=r.props,a=n.onPinClick,i=n.showPin;a&&i&&a([t],(0,E.isPinnedFlight)(t,r.props.pinFlightSigns),"connector")},r.isOneWay=t.tripDirectionType===T.TripDirectionType.OneWay,r}(0,a.default)(t,e);var r=t.prototype;return r.renderEndpoint=function(e,t,r){var n=this.props,a=n.t,o=n.showPin,c=n.localeContext,s=this.getSegmentPinState();return i.default.createElement("div",{className:I("endpoint",e),"data-test-id":e+"-endpoint"},o&&!this.isOneWay&&"origin"===e&&i.default.createElement("div",{className:I(C?"pin-shrinked":"pin")},i.default.createElement(S.default,{state:s,size:b.PinSize.BIG,tooltip:a("ticket:pinTooltip.segment"),onClick:this.pinClickHandler})),i.default.createElement(u.Text,{type:C?u.TextType.Body1Regular:u.TextType.Title2Regular,className:I("time"),testId:"time"},(0,O.formatTicketTime)(c,r)),i.default.createElement("div",{className:I("city"),"data-test-id":"city"},t),i.default.createElement("div",{className:I("date"),"data-test-id":"date"},(0,O.formatTicketDate)(c,r)))},r.renderPathEndpoint=function(e,t,r){var n=this.props,a=n.t,o=n.localeContext,c="departure"===e,s=c?t.departure:t.arrival,u=c?t.local_departure_timestamp:t.local_arrival_timestamp,l=r.getPlaceName(s),f=r.getCityName(s),d=l===f?a("ticket:placeShort",{place:l}):a("ticket:place",{place:l,city:f}),p=t.transport||"plane",v="plane"===p?D[e]:w[p]||null,g=a("ticket:"+e+"."+t.transport,{place:d,time:(0,O.formatTicketTime)(o,u)}),h=c?{left:10}:{left:-10};return i.default.createElement(y.default,{wrapperClassName:I("path-endpoint",["--"+e,"--"+t.transport]),showDelay:200,fixPosition:h,tooltip:function(){return i.default.createElement("div",{className:I("tooltip")},g)}},i.default.createElement(v,{className:I("path-endpoint-icon")}),i.default.createElement("span",{className:I("path-endpoint-iata")},s))},r.renderConnector=function(e){var t=e.trip,r=e.pinable,n=e.onClick,a=e.places,o=this.props,c=o.t,s=o.showPin,u=this.renderTechStopsText(t.technical_stops,a);return r?i.default.createElement(y.default,{tooltip:function(){return i.default.createElement("div",{className:I("tooltip")},c("ticket:tripDuration",{duration:(0,k.durationFormatterWrapper)({t:c,durationMinutes:t.duration})}),u&&i.default.createElement(i.default.Fragment,null,i.default.createElement("br",null),"(",u,")"),i.default.createElement("br",null),s&&c("ticket:pinTooltip."+("plane"===t.transport?"plane":"otherTransport")))},wrapperClassName:I("connector",{"--is-pinned":(0,E.isPinnedFlight)(t,this.props.pinFlightSigns),"--pinable":!0}),wrapperProps:{style:{flexGrow:t.duration},onClick:n},fixPosition:{top:-5}}):i.default.createElement("div",{className:I("connector"),style:{flexGrow:t.duration},onClick:E.handleStopPropagation})},r.render=function(){var e,t=this,r=this.props,n=r.t,a=r.trips,o=[a[0],a[a.length-1]],c=o[0],s=o[1];return e=s.arrival_timestamp&&c.departure_timestamp?(s.arrival_timestamp-c.departure_timestamp)/60:a.reduce((function(e,t){return e+t.delay+t.duration}),0),i.default.createElement(P.default.Consumer,null,(function(r){var o=r.getCityName(c.departure),u=r.getCityName(s.arrival);return i.default.createElement("div",{className:I(),"data-test-id":"ticket-segment-route"},i.default.createElement("div",{className:I("body")},t.renderEndpoint("origin",o,c.local_departure_timestamp),i.default.createElement("div",{className:I("route_wrap")},i.default.createElement("div",{className:I("duration")},n("ticket:tripDuration",{duration:(0,k.durationFormatterWrapper)({t:t.props.t,durationMinutes:e})})),i.default.createElement("div",{className:I("path")},a.map((function(e,n){return i.default.createElement(i.default.Fragment,{key:n},0===n&&t.renderPathEndpoint("departure",e,r),t.renderConnector({trip:e,pinable:!t.isOneWay||t.isOneWay&&a.length>1,onClick:function(r){return t.handleConnectorClick(r,e)},places:r}),n<a.length-1?i.default.createElement(_.default,{tripIn:e,tripOut:a[n+1]}):t.renderPathEndpoint("arrival",e,r))})))),t.renderEndpoint("destination",u,s.local_arrival_timestamp)))}))},t}(i.default.PureComponent);A.defaultProps={pinFlightSigns:[],showPin:!1};var x=(0,s.default)([(0,c.withTranslation)(["ticket","uiKit"]),m.withLocaleContext])(A);t.default=x},60837:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.durationFormatterWrapper=void 0;var n=r(29282),a=r(139375);t.durationFormatterWrapper=function(e){var t=e.durationMinutes,r=e.t,i=(0,a.getLang)();return(0,n.durationFormatter)({durationMinutes:t,t:function(e,t){return r("uiKit:"+e,t)},removeMinutesZeros:!0,language:i})}},811361:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=a?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972)),a=r(375617);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var o=function(e){var t=e.network,r=e.urlToShare,i=e.textToShare,o=e.title,c=e.size,s=e.onClick,u=(0,n.useCallback)((function(e){e.stopPropagation(),s&&s(t)}),[t,r,i,s]);return n.default.createElement(a.ShareButton,{type:t,urlToShare:r,textToShare:i,title:o,onClick:u,size:c,innerClassName:e.className,showTitle:e.showTitle})},c=(0,n.memo)(o);t.default=c},605076:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(445549),s=r(812619),u=r(932581),l=r(375617),f=r(191280),d=n(r(983065)),p=n(r(811361));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}r(717590);var g=r(258797),h=(0,o.default)("ticket-sharing-desktop"),m=function(e){var t=(0,c.useTranslation)(["ticket","sharing"]).t,r=(0,i.useState)(!1),n=(0,a.default)(r,2),o=n[0],v=n[1],m=(0,i.useRef)(null),y=function(e){m.current&&m.current.contains(e.target)||v(!1)},_=(0,i.useCallback)((function(t){t.stopPropagation(),!o&&e.onShareTooltipShow&&e.onShareTooltipShow(),v(!o)}),[o,v,e.onShareTooltipShow]);(0,i.useEffect)((function(){return o&&window.addEventListener("click",y),function(){window.removeEventListener("click",y)}}),[o,y]);var b=function(e){return function(){return i.default.createElement("span",{className:h("tooltip")},t("sharing:share."+e))}},S=(0,i.useCallback)((function(e){e.stopPropagation()}),[]);return i.default.createElement(s.CSSTransition,{classNames:{enterActive:"--is-opening",enterDone:"--is-open"},in:o,timeout:700},i.default.createElement("div",{className:h(),ref:m},i.default.createElement("button",{type:"button",className:h("open-button"),onClick:_},i.default.createElement(u.Icon24ControlsShare,{className:h("share-icon"),onClick:_})),i.default.createElement("button",{type:"button",className:h("close-button"),onClick:_},i.default.createElement(g,{className:h("close-icon")})),i.default.createElement("div",{className:h("bar")},i.default.createElement("div",{className:h("bar-content")},i.default.createElement("div",{className:h("list")},(e.ticketSharingSocials||[]).map((function(r){return i.default.createElement(d.default,{key:r,className:h("tooltip"),wrapperClassName:h("list-item"),tooltip:b(r),showDelay:200,position:"top",fixPosition:{top:-5}},i.default.createElement(p.default,{network:r,urlToShare:e.ticketUrl,textToShare:t("ticket:sharingText"),title:t("sharing:share."+r),onClick:e.onTicketShare,size:f.SocialButtonSize.Small,className:h("share-btn")}))})),i.default.createElement("div",{className:h("list-item")},i.default.createElement(d.default,{tooltip:b(e.isTicketUrlCopied?"copyLinkDone":"copyLink"),showDelay:200,position:"top",fixPosition:{top:-5}},i.default.createElement(l.ShareButton,{type:l.ShareButtonType.CopyLink,urlToShare:e.ticketUrl,title:t("sharing:share."+(e.isTicketUrlCopied?"copyLinkDone":"copyLink")),onClick:S,onLinkCopy:e.handleTicketUrlCopy,size:f.SocialButtonSize.Small,innerClassName:h("share-btn")}))))))))},y=(0,i.memo)(m);t.default=y},491182:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(375617),s=r(191280),u=n(r(811361));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}r(344357);var f=(0,i.default)("ticket-sharing-mobile"),d=function(e,t){var r=(0,o.useTranslation)(["ticket","sharing"]).t;return(0,a.useEffect)((function(){e.onShareTooltipShow&&e.onShareTooltipShow()}),[]),a.default.createElement("div",{className:f("")},a.default.createElement("ul",{className:f("list")},(e.ticketSharingSocials||[]).map((function(t){return a.default.createElement("li",{key:t,className:f("list-item")},a.default.createElement(u.default,{network:t,urlToShare:e.ticketUrl,textToShare:r("ticket:sharingText"),title:r("sharing:shortShare."+t),onClick:e.onTicketShare,size:s.SocialButtonSize.XLarge,className:f("share-btn"),showTitle:!0}))})),a.default.createElement("li",{className:f("list-item")},a.default.createElement(c.ShareButton,{type:c.ShareButtonType.CopyLink,urlToShare:e.ticketUrl,title:r("sharing:shortShare."+(e.isTicketUrlCopied?"copyLinkDone":"copyLink")),onLinkCopy:e.handleTicketUrlCopy,size:s.SocialButtonSize.XLarge,innerClassName:f("share-btn"),showTitle:!0}))))},p=(0,a.memo)(d);t.default=p},374049:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(63607),c=n(r(605076)),s=n(r(491182));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=(0,i.memo)((function(e){var t=(0,i.useState)(!1),r=(0,a.default)(t,2),n=r[0],u=r[1],l=(0,i.useCallback)((function(t){u(t),e.onTicketUrlCopy&&e.onTicketUrlCopy(t)}),[e.onTicketUrlCopy]);return e.mediaQueryType===o.TicketMediaQueryTypes.Mobile?i.default.createElement(s.default,{ticketSharingSocials:e.ticketSharingSocials,isTicketUrlCopied:n,ticketUrl:e.ticketUrl,handleTicketUrlCopy:l,onShareTooltipShow:e.onShareTooltipShow,onTicketShare:e.onTicketShare}):i.default.createElement(c.default,{ticketSharingSocials:e.ticketSharingSocials,isTicketUrlCopied:n,ticketUrl:e.ticketUrl,handleTicketUrlCopy:l,onShareTooltipShow:e.onShareTooltipShow,onTicketShare:e.onTicketShare})}));t.default=l},286324:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useGetTicketSharingSocials=void 0;var a=n(r(702944));t.useGetTicketSharingSocials=function(){var e=a.default.get("serp-feat-ticketSharingMethods","variantAttachment");return(null==e?void 0:e.list)||[]}},395856:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=r(445549),c=n(r(225385)),s=n(r(983065));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}r(920463);var l=r(618487),f=(0,c.default)("ticket-subscriptions"),d=function(e){var t=e.hasSubscription,r=e.onSubscriptionClick,n=e.withTooltip,c=void 0===n||n,u=(0,(0,o.useTranslation)("ticket").t)(t?"ticket:subscriptionTooltip.remove":"ticket:subscriptionTooltip.add"),d=(0,i.useCallback)((function(){return i.default.createElement("div",{className:f("tooltip")},u)}),[u]),p=(0,i.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),r&&r()}),[r]),v=c?{}:{showByProps:!0,isVisible:!1};return i.default.createElement(s.default,(0,a.default)({wrapperClassName:f(null,{"--is-active":!!t}),tooltip:d},v),i.default.createElement("button",{onClick:p,className:f("button")},i.default.createElement(l,{className:f("icon")})))},p=i.default.memo(d);t.default=p},24891:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TAGS=void 0;var n=r(225043),a=r(898854),i=[{type:n.TagTypes.Text,valueKey:"charter",tooltipTextKey:"charter",id:"charter"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Train,tooltipTextKey:"all_way_by_train",id:"all_way_by_train"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Train,tooltipTextKey:"part_way_by_train",id:"part_way_by_train"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Bus,tooltipTextKey:"all_way_by_bus",id:"all_way_by_bus"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Bus,tooltipTextKey:"part_way_by_bus",id:"part_way_by_bus"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Train,tooltipTextKey:"all_way_by_bus_and_train",id:"all_way_by_bus_and_train"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Train,tooltipTextKey:"part_way_by_bus_and_train",id:"part_way_by_bus_and_train"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Change,tooltipTextKey:"airport_change",id:"airport_change",valueType:"warning"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Moon,tooltipTextKey:"night_transfer",id:"night_transfer",valueType:"warning"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Time,tooltipTextKey:"long_transfer",id:"long_transfer",valueType:"warning"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.RecheckBaggage,tooltipTextKey:"recheck_baggage",id:"recheck_baggage",valueType:"warning"},{type:n.TagTypes.Text,valueKey:"tour_ticket",tooltipTextKey:"tour_ticket",id:"tour_ticket"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.DifferentAirport,tooltipTextKey:"airport_different",id:"airport_different",valueType:"warning"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.RunningMen,tooltipTextKey:"very_short_transfer",id:"very_short_transfer",valueType:"warning"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.RunningMen,tooltipTextKey:"short_transfer",id:"short_transfer"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Chair,tooltipTextKey:"uncomfortable_seats",id:"uncomfortable_seats",valueType:"warning"},{type:n.TagTypes.Icon,valueKey:a.TicketIconType.Visa,tooltipTextKey:"need_visa",id:"need_visa",valueType:"warning"}];t.TAGS=i},556870:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=n(r(275347)),c=r(445549),s=n(r(983065)),u=r(225043),l=r(898854);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}r(552294);var d=(0,i.default)("ticket-tag"),p=function(e){var t,r=e.type,n=e.valueKey,i=e.tooltipTextKey,f=e.valueType,p=e.onTooltip,v=(0,c.useTranslation)("ticket").t;if(r===u.TagTypes.Text&&!o.default.exists("ticket:tags."+n))return null;var g,h=d(null,((t={})["--"+r]=!!r,t["--"+f]=!!f,t));if(r===u.TagTypes.Icon){var m=l.TicketIconColor.Blue;"warning"===f?m=l.TicketIconColor.Red:"info"===f&&(m=l.TicketIconColor.Grey),g=a.default.createElement(l.TicketIcon,{type:n,color:m})}else g=a.default.createElement("span",{className:d("text")},v("ticket:tags."+n));return i&&o.default.exists("ticket:tags."+i)?a.default.createElement(s.default,{tooltip:function(){return a.default.createElement("div",{className:d("tooltip")},v("ticket:tags."+i))},wrapperClassName:h,showingCallback:function(){return p&&i&&p(i)}},g):a.default.createElement("div",{className:h},g)},v=(0,a.memo)(p);t.default=v},225043:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TagTypes=void 0,t.TagTypes=r,function(e){e.Icon="icon",e.Text="text"}(r||(t.TagTypes=r={}))},53993:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitTagsByValueType=t.getTagsData=void 0;var n=r(24891);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.splitTagsByValueType=function(e){return e.reduce((function(e,t){var r="other";return t.valueType&&(r=t.valueType),e[r]=[].concat(e[r]||[],[t]),e}),{})},t.getTagsData=function(e,t){if(!e.length)return[];for(var r,i=[],o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(n.TAGS);!(r=o()).done;){var c=r.value;("need_visa"!==c.id||t)&&("need_visa"!==c.id?e.includes(c.id)&&i.push(c):i.push(c))}return i}},378435:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),i=n(r(225385)),o=n(r(556870));r(107848);var c=(0,i.default)("ticket-tag-list"),s=function(e){var t=e.tags,r=e.onTooltip,n=e.modifiers,i=void 0===n?[]:n;return t&&t.length?a.default.createElement("ul",{className:c(null,i)},t.map((function(e,t){return a.default.createElement("li",{key:e.id,className:c("item")},a.default.createElement(o.default,{onTooltip:r,type:e.type,valueKey:e.valueKey,tooltipTextKey:e.tooltipTextKey,valueType:e.valueType}))}))):null},u=a.default.memo(s);t.default=u},117425:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketTariffsBagsInfo=t.BagsIcons=void 0;var a=n(r(435850)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),o=n(r(225385)),c=r(445549),s=r(804701),u=n(r(983065)),l=r(858067),f=n(r(466814));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}r(806130);var p=(0,o.default)("bags-info"),v=(0,i.memo)((function(e){var t=e.bagInfo,r=e.type;if(!t)return i.default.createElement(f.default,{type:r,isUnknown:!0});if(r===s.BagsType.Baggage&&2===t.count&&(t.weight||t.dimensions)){var n=Array(t.count).fill(null);return i.default.createElement(i.default.Fragment,null,n.map((function(e,n){return i.default.createElement(f.default,{key:n,type:r,count:1,weight:t.weight,dimensions:t.dimensions})})))}return i.default.createElement(f.default,{type:r,count:t.count,weight:t.weight,dimensions:t.dimensions})}));t.BagsIcons=v;var g=(0,i.memo)((function(e){var t=e.withTooltip?{}:{showByProps:!0,isVisible:!1};return i.default.createElement(u.default,(0,a.default)({wrapperClassName:p(),showDelay:100,tooltip:function(){return i.default.createElement(h,e)}},t),i.default.createElement(v,{type:s.BagsType.Handbags,bagInfo:e.handbags}),i.default.createElement(v,{type:s.BagsType.Baggage,bagInfo:e.baggage}))}));t.TicketTariffsBagsInfo=g;var h=(0,i.memo)((function(e){var t=(0,c.useTranslation)("ticket").t;return i.default.createElement("div",{className:p("tooltip")},function(e,t){var r=[],n=(0,l.getBagDescription)(t,s.BagsType.Baggage,e.baggage),a=(0,l.getBagDescription)(t,s.BagsType.Handbags,e.handbags);return n&&r.push(n),a&&r.push(a),r}(e,t).map((function(e,t){return i.default.createElement("div",{key:t},e)})))}))},334510:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=r(445549),o=r(858067),c=r(14189),s=n(r(344955));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=function(e){var t=e.tariffType,r=e.worstBags,n=e.priceDifference,u=(0,o.getTariffTitleType)(t,r,n),l=(0,i.useTranslation)("ticket").t;switch(u){case c.TariffTitleType.PriceIncrease:return n?a.default.createElement(a.default.Fragment,null,"+ ",a.default.createElement(s.default,{searchPrice:Math.abs(n)})):null;case c.TariffTitleType.PriceDecrease:return a.default.createElement(a.default.Fragment,null,l("ticket:tariffs."+c.TariffTitleType.NoDiff));default:return a.default.createElement(a.default.Fragment,null,l("ticket:tariffs."+u)||l("ticket:tariffs."+c.TariffTitleType.UnknownAll)||"")}},f=(0,a.memo)(l);t.default=f},86940:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(931162),c=r(117425),s=n(r(334510));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}r(248982);var l=(0,i.default)("ticket-tariffs"),f=function(e){var t=e.currentTariff,r=e.proposals,n=e.onTariffChange,i=e.withTooltip,u=void 0===i||i,f=(0,a.useCallback)((function(e){return function(r){r.stopPropagation(),r.preventDefault(),n&&e!==t&&n(e)}}),[t,n]);return a.default.createElement("div",{className:l()},[o.TariffType.OtherBaggage,o.TariffType.HasBaggage].map((function(e){var n=r[e];if(!n.length)return null;var i=n[0].worstBags;return a.default.createElement("div",{key:e,onClick:f(e),"data-test-id":"tariff-"+e,className:l("item",{"is-selected":e===t})},a.default.createElement(c.TicketTariffsBagsInfo,{baggage:i.baggage,handbags:i.handbags,tariffType:e,withTooltip:u}),a.default.createElement("div",{className:l("title")},a.default.createElement(s.default,{tariffType:e,worstBags:i,priceDifference:r.priceDifference})))})))},d=(0,a.memo)(f);t.default=d},14189:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TariffTitleType=void 0,t.TariffTitleType=r,function(e){e.NoBaggage="noBaggage",e.NoHandbags="noHandbags",e.UnknownBaggage="unknownBaggage",e.UnknownHandbags="unknownHandbags",e.UnknownAll="unknownAll",e.NoDiff="noDiff",e.PriceIncrease="priceIncrease",e.PriceDecrease="priceDecrease"}(r||(t.TariffTitleType=r={}))},858067:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTariffTitleType=t.getBagDescription=void 0;var n=r(931162),a=r(14189);t.getTariffTitleType=function(e,t,r){return e===n.TariffType.OtherBaggage?t.baggage||t.handbags?t.baggage?t.handbags?0===t.baggage.count?a.TariffTitleType.NoBaggage:0===t.handbags.count?a.TariffTitleType.NoHandbags:a.TariffTitleType.UnknownHandbags:a.TariffTitleType.UnknownHandbags:a.TariffTitleType.UnknownBaggage:a.TariffTitleType.UnknownAll:0===r?a.TariffTitleType.NoDiff:r>0?a.TariffTitleType.PriceIncrease:a.TariffTitleType.PriceDecrease},t.getBagDescription=function(e,t,r,n){if(void 0===n&&(n=!0),!r)return e("ticket:tariffTooltip."+t+".unknown");var a=r.count,i=r.weight,o=r.dimensions;return 0===a?e("ticket:tariffTooltip."+t+".notIncluded"):function(e,t,r,n,a,i){var o=r;return o+=i?a?".withDimensions.withWeight":".withDimensions.anyWeight":a?".withWeight":".withAmount",n&&(o+="_short"),e("ticket:tariffTooltip."+o,{amount:t,dimensions:i,weight:a})}(e,a,t,n,i,o)}},126405:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TicketUIResolver",{enumerable:!0,get:function(){return n.TicketUIResolver}}),Object.defineProperty(t,"TicketUIResolverProps",{enumerable:!0,get:function(){return n.TicketUIResolverProps}});var n=r(928763)},928763:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketUIResolver=void 0;var a=n(r(435850)),i=n(r(797972)),o=r(533736),c=r(63607),s=r(35710),u=r(969971),l=r(89037);r(404084),t.TicketUIResolver=function(e){if(e.isBrandTicket){var t={carriers:e.carriers,theme:e.theme,onTicketClick:e.onTicketClick,mainProposal:e.proposals[e.currentTariff][0],isSearchExpired:e.isSearchExpired,segments:e.segments,seatsCount:e.seatsCount,showRemainingSeatsCount:e.showRemainingSeatsCount,searchParams:e.searchParams,tripDirectionType:e.tripDirectionType,strikePrice:e.strikePrice,isNightMode:e.isNightMode,modifiers:e.modifiers,currentTariff:e.currentTariff};return e.mediaQueryType===c.TicketMediaQueryTypes.Mobile?i.default.createElement(u.BrandTicketMobile,t):i.default.createElement(s.BrandTicketDesktop,t)}return e.mediaQueryType===c.TicketMediaQueryTypes.Mobile?i.default.createElement(l.TicketMobile,e):i.default.createElement(o.TicketDesktop,(0,a.default)({},e,{buyButtonType:e.buyButtonType||"preview"}))}},451316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPinnedSegment=t.isPinnedFlight=t.handleStopPropagation=t.getTripDirectionType=t.getMetaInfo=void 0;var n=r(63607);t.getTripDirectionType=function(e,t){if(1===e.length)return n.TripDirectionType.OneWay;if(2===e.length){var r=e[0],i=r.flights[0],o=r.flights[r.flights.length-1],c=a(i.departure,t),s=a(o.arrival,t),u=e[1],l=u.flights[0],f=u.flights[u.flights.length-1],d=a(l.departure,t);if(c===a(f.arrival,t)&&s===d)return n.TripDirectionType.RoundTrip}return n.TripDirectionType.Multiway};var a=function(e,t){var r=t[e];return r||(r=Object.values(t).find((function(t){return t.city_code===e}))),r&&r.city_code||e};t.isPinnedFlight=function(e,t){return Boolean(t&&t.includes(e.signature))},t.isPinnedSegment=function(e,t){return Boolean(t&&e.every((function(e){var r=e.signature;return t.includes(r)})))},t.handleStopPropagation=function(e){return e.stopPropagation()},t.getMetaInfo=function(e){var t=e.proposal,r=e.ticketData,n=e.gates;return{price_rub:t&&t.unifiedPrice,gate_id:t&&t.agentId,gate:t&&t.agentId&&n[t.agentId]&&n[t.agentId].label,first_operating_carrier:r.segments[0].flights[0].operating_carrier}}},920374:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getIsTicketUncertain=t.getIsTicketForbidden=void 0;var a=n(r(193578)),i=["restrictions_ticket_forbidden_direct","restrictions_ticket_forbidden_layover"],o=["restrictions_ticket_uncertain_layover"];t.getIsTicketForbidden=function(e){return!!e&&!!(0,a.default)(e,i).length},t.getIsTicketUncertain=function(e){return!!e&&!!(0,a.default)(e,o).length}},570237:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getTicketUrlBySearchParams=void 0;var a=n(r(114558)),i=n(r(101339)),o=r(774953),c=r(127563),s=r(671747),u=r(535081),l=r(534074),f=n(r(204333));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=(0,o.createSelector)((function(e,t){return t}),(function(e,t,r){return r}),(function(e,t){return(0,c.getTicketShortUrl)(e,t[0].sign)}),s.getCurrencies,l.getMarker,(function(e,t,r,n,i){var o;if(r)return r;var c=(0,a.default)(e,2),s=c[0],l=c[1],d=function(e){var t=e.segments.map((function(e){return{origin:{iata:e.origin},destination:{iata:e.destination},date:new Date(Date.parse(e.date))}}));return p(p({},e),{},{segments:t})}(t),v=(0,f.default)(d);return(0,u.createUrl)({baseSearchUrl:v,ticket:s,unifiedPrice:null===(o=l[0])||void 0===o?void 0:o.unifiedPrice,currencyRates:n,marker:i})}));t.getTicketUrlBySearchParams=v},490502:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(947981)),i=n(r(797972)),o=n(r(225385)),c=r(445549),s=r(224562),u=r(392220),l=r(199178),f=n(r(702944)),d=r(694630),p=r(553104),v=r(63607),g=r(38474),h=r(148860),m=r(871255),y=r(646268),_=r(565020),b=n(r(345168)),S=n(r(673919)),T=n(r(395856)),O=r(349989),P=r(570237),E=n(r(560540)),k=n(r(123449));r(443805);var C=(0,o.default)("short-ticket"),w=function(e){function t(r){var n;return(n=e.call(this,r)||this).setTicketExpire=function(){var e=t.getTimeDiff(n.props.comparisonTicket.expireDate);e>0&&setTimeout((function(){return n.setState({isTicketExpired:!0})}),e)},n.handleBuyClick=function(e,t,r,a){var i=a===h.BuyEvents.BuyButton?h.BuyEvents.ComparisonTicketBuyButton:a;n.props.onBuyClick(e,{proposal:t,eventType:i,ticketSign:n.props.comparisonTicket.ticket[0].sign,proposalPosition:r})},n.handleBuyButtonClick=function(e,t){return n.handleBuyClick(e,t,0,h.BuyEvents.BuyButton)},n.handleCompareClick=function(){n.props.onCompareClick(!0,n.props.comparisonTicket)},n.handleShowTicket=function(){var e=n.props,t=e.comparisonTicket.ticket,r=e.ticketUrl;n.props.showTicket(t[0].sign,r)},n.handleSubscriptionClick=function(){n.props.onSubscriptionClick&&n.props.onSubscriptionClick(n.props.comparisonTicket.ticket[0].sign,"comparison_widget")},n.state={isTicketExpired:!1},n}(0,a.default)(t,e),t.getDerivedStateFromProps=function(e,r){var n=null;return t.getTimeDiff(e.comparisonTicket.expireDate)<0&&(n={isTicketExpired:!0}),n},t.getTimeDiff=function(e){var t=(new Date).getTime();return e.getTime()-t};var r=t.prototype;return r.componentDidMount=function(){this.state.isTicketExpired||this.setTicketExpire()},r.componentDidUpdate=function(e){e.comparisonTicket.expireDate!==this.props.comparisonTicket.expireDate&&this.setTicketExpire()},r.render=function(){var e=this.props,t=e.comparisonTicket,r=e.hasSubscription,n=t.ticket[0].sign,a=t.mainProposal&&t.mainProposal.assisted,o=!!(0,l.getProductListTicketDomElementBySign)(n),c=(0,O.getProposalUniqueMarketingCarriers)(t.mainProposal);return i.default.createElement("div",{className:C()},i.default.createElement("div",{className:C("header")},i.default.createElement("div",{className:C("price")},i.default.createElement(E.default,{proposal:t.mainProposal,onClick:this.handleBuyButtonClick,isExpired:this.state.isTicketExpired})),i.default.createElement("div",{className:C("carriers")},i.default.createElement(b.default,{carriers:c||t.ticket[0].carriers,isNightMode:e.isNightMode,modifiers:["--size-xs"],maxLogos:a?2:3,withTooltip:!1,showAlwaysRounded:!0})),i.default.createElement("div",{className:C("actions")},e.withSubscription&&i.default.createElement("div",{className:C("subs")},i.default.createElement(T.default,{hasSubscription:r,onSubscriptionClick:this.handleSubscriptionClick})),i.default.createElement("div",{className:C("comparison")},i.default.createElement(S.default,{sign:n,isCompared:e.isCompared,onCompareClick:this.handleCompareClick,withTooltip:!1})))),i.default.createElement("div",{className:C("body")},e.segments.map((function(e,t){return i.default.createElement("div",{className:C("segment"),key:t},i.default.createElement(k.default,{segment:e}))}))),i.default.createElement(u.Button,{className:C("btn-show",{"--transparent":!o}),mod:u.ButtonMod.Secondary,size:u.ButtonSize.Small,onClick:this.handleShowTicket},i.default.createElement(D,{isSameTicketInProductList:o})))},t}(i.default.Component),D=function(e){var t=e.isSameTicketInProductList,r=(0,c.useTranslation)().t;return i.default.createElement(i.default.Fragment,null,r(t?"tickets_comparison:showTicket":"tickets_comparison:openTicketInNewTab"))},I={onBuyClick:p.ticketBuyClick,onCompareClick:p.ticketComparisonClick,showTicket:y.showComparisonTicket,onSubscriptionClick:p.ticketSubscription},A=(0,s.connect)((function(e,t){var r=t.comparisonTicket,n=r.ticket,a=r.searchParams,i=(0,d.getTripDirectionType)(e,n[0]),o=f.default.is("avs-feat-subscription")&&[v.TripDirectionType.OneWay,v.TripDirectionType.RoundTrip].includes(i);return{isNightMode:(0,g.getIsNightMode)(e),segments:n[0].segments,tripDirection:(0,d.getTripDirectionType)(e,n[0]),isCompared:!!(0,m.getComparisonTicketByTicketSign)(e,n[0].sign),ticketUrl:(0,P.getTicketUrlBySearchParams)(e,n,a),withSubscription:o,hasSubscription:(0,_.getTicketHasSubscription)(e,n[0].sign)}}),I)(w);t.default=A},560540:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(392220),c=n(r(344955));r(496460);var s=r(249094);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var l=(0,i.default)("short-ticket-price"),f=function(e){var t,r=(0,a.useCallback)((function(t){t.stopPropagation(),e.onClick&&!e.isExpired&&e.onClick(t,e.proposal)}),[e.onClick,e.proposal]),n=!e.isExpired&&e.proposal?e.proposal.deeplink:void 0;return a.default.createElement(o.Button,{className:l(null,(t={"--expired":!!e.isExpired},t[""+e.className]=!!e.className,t)),type:"button",mod:o.ButtonMod.Ghost,size:o.ButtonSize.Custom,target:"_blank",href:n,onClick:r},a.default.createElement(c.default,{className:l("text"),searchPrice:(0,s.getProposalPriceForPreview)(e.proposal)}))},d=(0,a.memo)(f);t.default=d},123449:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=a?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(797972)),i=n(r(225385)),o=r(445549),c=r(317637),s=r(29282),u=r(182502),l=r(876125);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}r(340338);var d=(0,i.default)("short-ticket-segment"),p=function(e){var t,r=e.segment,n=e.className,i=(0,o.useTranslation)("ticket").t,f=(0,c.useLocaleContext)(),p=[r.flights[0],r.flights[r.flights.length-1]],v=p[0],g=p[1],h=r.flights.length>1?(0,l.getSegmentRouteStops)(r.flights):[i("ticket:mobileDirectFlight")],m=(0,u.formatTicketTime)(f,v.local_departure_timestamp),y=(0,u.formatTicketTime)(f,g.local_arrival_timestamp);t=g.arrival_timestamp&&v.departure_timestamp?(g.arrival_timestamp-v.departure_timestamp)/60|0:r.flights.reduce((function(e,t){return e+t.delay+t.duration}),0);var _=(0,s.useDurationFormatter)({durationMinutes:t,removeMinutesZeros:!0});return a.default.createElement("div",{className:d(null,n)},a.default.createElement("div",{className:d("departure")},a.default.createElement("p",{className:d("main-text")},m," ",v.departure),a.default.createElement("p",{className:d("sub-text")},(0,u.formatTicketDate)(f,v.local_departure_timestamp))),a.default.createElement("div",{className:d("duration")},a.default.createElement("p",{className:d("duration-time")},a.default.createElement("span",{className:d("duration-time-wrap")},_)),a.default.createElement("p",{className:d("iata")},h.join(", "))),a.default.createElement("div",{className:d("arrival")},a.default.createElement("p",{className:d("main-text")},y," ",g.arrival),a.default.createElement("p",{className:d("sub-text")},(0,u.formatTicketDate)(f,g.local_arrival_timestamp))))},v=(0,a.memo)(p);t.default=v},387581:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TicketsComparison=void 0;var a=n(r(947981)),i=n(r(797972)),o=n(r(225385)),c=r(224562),s=r(968875),u=r(445549),l=r(812619),f=r(601779),d=r(871255),p=r(63607),v=r(587273),g=r(405628),h=r(646268),m=r(663579),y=n(r(702944)),_=n(r(490502));r(446819);var b=(0,o.default)("tickets-comparison"),S={mobile:p.TicketMediaQueryTypes.Mobile,mobileLandscape:p.TicketMediaQueryTypes.Mobile,tablet:p.TicketMediaQueryTypes.Mobile,desktop:p.TicketMediaQueryTypes.Desktop},T=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleHeaderClick=function(){t.props.isTicketsComparisonOpen?t.props.closeTicketsComparison():t.props.openTicketsComparison()},t.getTicketList=function(){var e=t.props,r=e.ticketsComparisonTickets,n=e.mediaQueryType;return i.default.createElement("div",{className:b("ticket-list")},i.default.createElement(l.TransitionGroup,{component:null},r.map((function(e){return i.default.createElement(l.CSSTransition,{key:e.ticket[0].sign,timeout:{enter:300,exit:200},appear:!0,classNames:{enterActive:"--enter-active",enterDone:"--enter-done"}},i.default.createElement("div",{className:b("item")},i.default.createElement(_.default,{comparisonTicket:e,mediaQueryType:n,withSharing:!0})))}))))},t.getContent=function(){var e=t.getTicketsCount();return i.default.createElement("div",{className:b("body")},e?t.getTicketList():i.default.createElement(O,null))},t.renderHeader=function(){var e=t.props.t,r=t.getTicketsCount();return e(r>0?"headerTitleWithCount":"headerTitle",{ticketsCount:r})},t.getTicketsCount=function(){return t.props.ticketsComparisonTickets.length},t}return(0,a.default)(t,e),t.prototype.render=function(){if(!this.props.isTicketsComparisonVisible)return null;var e=this.props.mediaQueryType===p.TicketMediaQueryTypes.Mobile,t=!e&&this.props.isTicketsComparisonOpen,r=e&&this.props.isTicketsComparisonOpen;return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:b("",{"--is-open":t,"--is-hidden":e})},i.default.createElement("button",{className:b("header"),onClick:this.handleHeaderClick},i.default.createElement("p",{className:b("header-title")},this.renderHeader()),i.default.createElement("i",{className:b("header-arrow")})),this.getContent()),i.default.createElement(f.ModalCore,{className:b("modal"),visible:r,onClose:this.props.closeTicketsComparison,header:this.renderHeader(),fixedHeader:!0,animationType:f.ModalAnimationType.Right},this.getContent()))},t}(i.default.Component);t.TicketsComparison=T;var O=function(){return(0,u.useTranslation)("tickets_comparison").t,i.default.createElement("div",{className:b("empty-block")},i.default.createElement(u.Trans,{ns:"tickets_comparison",i18nKey:"empty"},i.default.createElement("span",{className:b("compare-icon")})))},P=(0,s.compose)((0,c.connect)((function(e){var t=(0,g.selectIsAutosearchEnabled)(y.default);return{ticketsComparisonTickets:(0,d.getTicketsComparisonTickets)(e),isTicketsComparisonOpen:(0,d.getIsTicketsComparisonOpen)(e),isTicketsComparisonVisible:y.default.is("avs-exp-comparisonWidget")&&!t}}),(function(e){return{openTicketsComparison:function(){return e((0,h.openTicketsComparison)())},closeTicketsComparison:function(){return e((0,h.closeTicketsComparison)())}}})),(0,v.withResponsive)(S),(0,m.withFlagr)(y.default,["avs-exp-comparisonWidget"]),(0,u.withTranslation)("tickets_comparison"))(T);t.default=P},986106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveComparisonTicketsToLS=t.initComparisonTickets=void 0;var n=r(747596),a=["ticket_comparison_widget","ticket_comparison_widget_v2","ticket_comparison_widget_v2.1"],i="ticket_comparison_widget_v3";t.saveComparisonTicketsToLS=function(e){(0,n.setLocalStorageJSONItem)(i,e)},t.initComparisonTickets=function(){try{a.forEach((function(e){(0,n.removeLocalStorageItem)(e)}))}catch(e){}var e=function(){var e=(0,n.getLocalStorageItem)(i);if(e)try{return JSON.parse(e)}catch(t){console.error("Couldn't parse comparison tickets from LocalStorage\n value: "+e+"\n",t)}}();if(!e)return[];var t=new Date((new Date).toDateString());return e.filter((function(e){return+new Date(e.searchParams.segments[0].date)>+t})).map((function(e){return e.expireDate=new Date(e.expireDate),e}))}},931162:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TariffType=void 0,t.TariffType=r,function(e){e.OtherBaggage="otherBaggage",e.HasBaggage="hasBaggage"}(r||(t.TariffType=r={}))},612821:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowGoogleAd=t.initializeAdFoxHeaderBindings=t.getTargetingParams=t.createAdFoxDynamicBanner=t.createAdFoxDynamicAdaptiveBanners=void 0;var a=n(r(101339)),i=n(r(816550)),o=n(r(178115)),c=n(r(128304)),s=n(r(396673)),u=n(r(207116)),l=r(452130);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=r(802647).targetParams;t.getTargetingParams=function(e){var t=e.adParams,r=e.searchParams,n=e.aviaParams,a=p(r||n||{}),l=d(d({},t),{},{puid2:null==a?void 0:a.trp_type,puid3:null==a?void 0:a.trp_cls,puid4:null==a?void 0:a.adt,puid5:null==a?void 0:a.cld,puid6:null==a?void 0:a.inf,puid7:(0,c.default)(null==a?void 0:a.orgn_airpt),puid8:(0,c.default)(null==a?void 0:a.orgn_city),puid9:(0,c.default)(null==a?void 0:a.orgn_ctry),puid10:(0,c.default)(null==a?void 0:a.dest_airpt),puid11:(0,c.default)(null==a?void 0:a.dest_city),puid12:(0,c.default)(null==a?void 0:a.dest_ctry),puid13:null==a?void 0:a.ddate,puid14:null==a?void 0:a.rdate,puid15:null==a?void 0:a.td});return(0,s.default)([(0,o.default)(i.default),(0,u.default)(String)])(l)},t.shouldShowGoogleAd=function(){return"ru"!==(0,l.getMarket)()},t.initializeAdFoxHeaderBindings=function(e,t){var r,n,a,i,o,c,s,u;!(null===(r=window)||void 0===r||null===(n=r.Ya)||void 0===n||null===(a=n.headerBidding)||void 0===a||null===(i=a.getBidsReceived)||void 0===i?void 0:i.call(a)).find((function(t){return t.containerId===e}))&&t&&(null===(o=window)||void 0===o||null===(c=o.Ya)||void 0===c||null===(s=c.headerBidding)||void 0===s||null===(u=s.pushAdUnits)||void 0===u||u.call(s,t))};var v=function(e,t){var r,n="adfox_"+(new Date).getTime()+Math.floor(1e3*Math.random()+1),a=null==t||null===(r=t.filter((function(t){return t.code===e})))||void 0===r?void 0:r.map((function(e){return d(d({},e),{},{code:n})}));return{dynamicContainerId:n,dynamicAdUnits:a}};t.createAdFoxDynamicAdaptiveBanners=function(e,t){return Object.keys(e).reduce((function(r,n){var a=e[n].containerId,i=v(a,t),o=i.dynamicContainerId,c=i.dynamicAdUnits;return r[n]=d(d({},e[n]),{},{containerId:o,adUnits:c}),r}),{})},t.createAdFoxDynamicBanner=function(e,t){var r=e.containerId,n=v(r,t),a=n.dynamicContainerId,i=n.dynamicAdUnits;return d(d({},e),{},{containerId:a,adUnits:i})}},378011:function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0;return function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.getLongestOperatingCarrier=t.getLongestMarketingCarrier=t.getFlatUniqCarriersList=void 0,t.getLongestOperatingCarrier=function(e){for(var t=e.segments[0].flights[0],r=0;r<e.segments.length;r++)for(var n=e.segments[r],a=0;a<n.flights.length;a++){var i=n.flights[a];t.duration<i.duration&&(t=i)}return t.operating_carrier},t.getLongestMarketingCarrier=function(e,t){for(var r=e.segments[0].flights[0],n=0,a=0,i=0;i<e.segments.length;i++)for(var o=e.segments[i],c=0;c<o.flights.length;c++){var s=o.flights[c];r.duration<s.duration&&(r=s,n=i,a=c)}return t[n][a].marketingCarrierDesignator.carrier},t.getFlatUniqCarriersList=function(e){for(var t,n=new Set,a=r(e);!(t=a()).done;)for(var i,o=r(t.value);!(i=o()).done;){var c=i.value;c.marketingCarrierDesignator&&n.add(c.marketingCarrierDesignator.carrier)}return Array.from(n)}},567110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDateToString=function(e,t){if(void 0===t&&(t="DD.MM.YYYY"),!e)return"";try{return(0,n.format)(e,t,!0).toLowerCase()}catch(e){return""}},t.getMonthNameByDate=function(e){return a[e.getMonth()]},t.monthNames=void 0;var n=r(740537),a=["january","february","march","april","may","june","july","august","september","october","november","december"];t.monthNames=a},104944:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.raiseAirlineProposal=t.prepareProposals=t.prepareProposal=t.getTariffsComparisonInfo=t.getPreparedAirlineProposalConsideringDowngrade=t.getPreparedAirlineProposal=t.getGatesToDowngrade=t.getDefaultTariffs=t.buildTariffs=void 0;var a=n(r(101339)),i=n(r(702944)),o=r(931162),c=r(249094);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.prepareProposals=function(e,t){var r=!1;return{proposals:e.reduce((function(e,n){if(e.readyKeys[n.agentId])return e;var a=t(n);if(!a)return e;var i=Boolean(n.fromMainAirline);e.readyKeys[n.agentId]=!0;var o=f(n,a);return i&&(r=!0),e.proposals.push(o),e}),{readyKeys:{},proposals:[]}).proposals,hasAirlineProposal:r}};var f=function(e,t){return l(l({},e),{},{deeplink:t})};t.prepareProposal=f,t.getTariffsComparisonInfo=function(e){if(!e.otherBaggage.length&&!e.hasBaggage.length||!e.otherBaggage.length)return{cheaperTariffKey:o.TariffType.HasBaggage,priceDifference:0};if(!e.hasBaggage.length)return{cheaperTariffKey:o.TariffType.OtherBaggage,priceDifference:0};var t=(0,c.diffCeil)(e.hasBaggage[0].price,e.otherBaggage[0].price);return{priceDifference:t,cheaperTariffKey:t>0?o.TariffType.OtherBaggage:o.TariffType.HasBaggage}},t.buildTariffs=function(e){for(var t,r=d(),n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=n()).done;){var a=t.value;p(r,a)}return r};var d=function(){return{otherBaggage:[],hasBaggage:[]}};t.getDefaultTariffs=d;var p=function(e,t){t.worstBags.baggage&&0!==t.worstBags.baggage.count?e.hasBaggage.push(t):e.otherBaggage.push(t)};t.getPreparedAirlineProposal=function(e,t){var r=e.find((function(e){var t=e.fromMainAirline;return Boolean(t)}));if(r){var n=t(r);return f(r,n)}};var v=function(){var e;return(null===(e=i.default.get("avs-exp-downgradedGates"))||void 0===e?void 0:e.gatesId)||[]};t.getGatesToDowngrade=v,t.getPreparedAirlineProposalConsideringDowngrade=function(e,t){var r=e.filter((function(e){return Boolean(e.fromMainAirline)}))||[],n=v(),a=r.filter((function(e){return!n.includes(e.agentId)}))[0];if(a){if(!t)return a;var i=t(a);return f(a,i)}},t.raiseAirlineProposal=function(e,t){if(e.length<=2)return e;var r=[].concat(e),n=r[0].agentId===(null==t?void 0:t.agentId);return t&&!n&&(r=r.filter((function(e){return e.agentId!==t.agentId}))).splice(1,0,t),r}},323057:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTrustedEnv=void 0;var r=/localhost|.*\.avs\.io|.*\.(beta|dev)\.(aviasales|wayaway)\.(ru|com|io)/.test(window.location.hostname)||!1;t.isTrustedEnv=r},815626:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.deepEqualUpdateFilter=function(e,t){return!(0,a.default)(e,t)};var a=n(r(531760))},173400:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"deepEqualUpdateFilter",{enumerable:!0,get:function(){return i.deepEqualUpdateFilter}}),Object.defineProperty(t,"observableToChannel",{enumerable:!0,get:function(){return n.observableToChannel}}),Object.defineProperty(t,"waitEffectResult",{enumerable:!0,get:function(){return a.waitEffectResult}});var n=r(637928),a=r(534023),i=r(815626)},637928:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observableToChannel=function(e){return(0,n.eventChannel)((function(t){var r=e.subscribe({next:function(e){return t({value:e})}});return function(){return r.unsubscribe()}}))};var n=r(62495)},534023:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waitEffectResult=void 0;var n=r(944246);t.waitEffectResult=function(e){var t=e.effectTrigger,r=e.effectTriggerParams,a=e.statusStore,i=(0,n.createEvent)({name:"resetStore",sid:"-sn4glb"});return new Promise((function(e,n){a.reset(i),i();var o=a.watch((function(t){var r=t.status,a=t.result,i=t.error;"done"===r&&(e(a),o.unsubscribe()),"fail"===r&&(n(i),o.unsubscribe())}));t(r)}))}},529288:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.withGdpr=function(e){return function(t){return(0,i.useStore)(o.gdprService.$isThirdPartyInited)?a.default.createElement(e,t):null}};var a=n(r(797972)),i=r(896911),o=r(705238)},47379:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.createSeleneChannel=void 0;var a=n(r(385882)),i=n(r(971410)),o=r(62495),c=n(r(968598)),s=r(754266),u=Symbol("empty");t.createSeleneChannel=function(e){return(0,o.eventChannel)((function(t){var r=(0,s.listenSeleneEvent)(e,(function(e){(0,c.default)(null!=e?e:void 0)?t(u):t(e)}));return(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:return e.t0=e.sent,e.abrupt("return",(0,e.t0)());case 4:case"end":return e.stop()}}),e)})))}))}},705238:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.gdprService=void 0;var a=r(944246),i=n(r(131672)),o=n(r(984437)),c=r(452130),s=(0,a.createDomain)({name:"gdprDomain",sid:"ucrwgg"}),u=s.createEffect((function(){o.default.Hit(),i.default.loadAll()}),{name:"initThirdPartyFx",sid:"-53qf00"}),l=s.createEvent({name:"init",sid:"-tr7yez"}),f=s.createEvent({name:"gdprCountryUpdated",sid:"-byd7v"}),d=s.createEvent({name:"initThirdParty",sid:"-c7pkkd"}),p=(0,a.restore)(f,null,{name:"$isGdprCountry",sid:"ye02gp"}),v=s.createStore(!1,{name:"$isThirdPartyInited",sid:"uamkbq"}).on(d,(function(){return!0})),g=p.map((function(e){return!e})),h=p.map((function(e){var t;return e&&"us"===(null===(t=(0,c.getMarket)())||void 0===t?void 0:t.toLowerCase())})),m=s.createStore(!1,{name:"$showSubscriptionInLoginFlag",sid:"-ijijq5"}).on(l,(function(e,t){return t.showSubscriptionInLogin})),y=(0,a.combine)({and:[m,g,function(e,t){return e?t:null}],or:{name:"$mailoutAcceptedAnalytics",sid:"-35tyhx"}});(0,a.sample)({and:[{clock:d,target:u}],or:{sid:"y1uu9j"}});var _={$isGdprCountry:p,$isCCPA:h,$showSubscriptionInLoginFlag:m,$isThirdPartyInited:v,$shouldPreCheckMarketingEmail:g,$mailoutAcceptedAnalytics:y,gdprCountryUpdated:f,init:l,initThirdParty:d};t.gdprService=_},192980:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(361467);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},361467:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showNotification=t.removeNotification=t.notificationClosed=t.notificationButtonClicked=void 0;var n=r(944246),a=r(754266),i=(0,n.createEvent)({name:"showNotification",sid:"iytqwb"});t.showNotification=i;var o=(0,a.createEmitterEffect)("service/helios/notification/show_notification");(0,n.sample)({and:[{clock:i,target:o}],or:{sid:"mxqfu2"}});var c=(0,n.createEvent)({name:"removeNotification",sid:"yqhg9a"});t.removeNotification=c;var s=(0,a.createEmitterEffect)("service/helios/notification/remove_notification");(0,n.sample)({and:[{clock:c,target:s}],or:{sid:"nrz4gx"}});var u=(0,n.createEvent)({name:"notificationButtonClicked",sid:"-ovm4id"});t.notificationButtonClicked=u,(0,a.listenSeleneEvent)("service/helios/notification/notification_button_clicked",u);var l=(0,n.createEvent)({name:"notificationClosed",sid:"j7wh5q"});t.notificationClosed=l,(0,a.listenSeleneEvent)("service/helios/notification/notification_closed",l)},807109:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsEventTypes=void 0,t.SubscriptionsEventTypes=r,function(e){e.FetchSubscriptions="service/helios/subscriptions/fetch",e.FetchSubscriptionsStatus="service/helios/subscriptions/fetch/status",e.CreateTicketSubscription="service/helios/subscriptions/ticket/create",e.CreateTicketSubscriptionStatus="service/helios/subscriptions/ticket/create/status",e.DeleteTicketSubscription="service/helios/subscriptions/ticket/delete",e.DeleteTicketSubscriptionStatus="service/helios/subscriptions/ticket/delete/status",e.TicketSubscriptionsCollectionChanged="service/helios/subscriptions/ticket/collection/changed"}(r||(t.SubscriptionsEventTypes=r={}))},73292:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptionsService=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(6903));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}t.subscriptionsService=n},6903:function(e,t,r){"use strict";var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.outputs=t.inputs=void 0;var a=n(r(711723)),i=r(944246),o=r(505216),c=r(807109),s=r(471703),u=(0,i.createDomain)({name:"subscriptionsDomain",sid:"mm2qi1"}),l=u.createEvent({name:"init",sid:"-ksjmjv"}),f=u.createEvent({name:"fetchSubscriptions",sid:"-gwwd30"}),d=u.createEvent({name:"changeFetchSubscriptionsStatus",sid:"-i1wiio"}),p=u.createEvent({name:"createTicketSubscription",sid:"-l03yns"}),v=u.createEvent({name:"changeCreateTicketSubscriptionStatus",sid:"dfrnr8"}),g=u.createEvent({name:"deleteTicketSubscription",sid:"-sil6i2"}),h=u.createEvent({name:"changeDeleteTicketSubscriptionStatus",sid:"9sdufm"}),m=u.createEvent({name:"ticketSubscriptionsCollectionChanged",sid:"-8bptdy"}),y=(0,i.restore)(m,{},{name:"$ticketSubscriptionsCollectionBySign",sid:"-7iujsb"}),_=(0,i.restore)(d,"initial",{name:"$fetchSubscriptionsStatus",sid:"m8xw2h"}),b=(0,i.restore)(v,"initial",{name:"$createTicketSubscriptionStatus",sid:"anquj8"}),S=(0,i.restore)(h,"initial",{name:"$deleteTicketSubscriptionStatus",sid:"629sf8"});(0,i.guard)({and:[{clock:l,filter:o.$isAuthorized,target:f}],or:{sid:"-gahc72"}}),(0,s.createSeleneEventEmitter)(f,c.SubscriptionsEventTypes.FetchSubscriptions),(0,s.createSeleneEventEmitter)(p,c.SubscriptionsEventTypes.CreateTicketSubscription),(0,s.createSeleneEventEmitter)(g,c.SubscriptionsEventTypes.DeleteTicketSubscription);var T=(0,a.default)(s.subscribeToSelene)(l);T(c.SubscriptionsEventTypes.FetchSubscriptionsStatus,d),T(c.SubscriptionsEventTypes.TicketSubscriptionsCollectionChanged,m),T(c.SubscriptionsEventTypes.CreateTicketSubscriptionStatus,v),T(c.SubscriptionsEventTypes.DeleteTicketSubscriptionStatus,h);var O={$ticketSubscriptionsCollectionBySign:y,$fetchSubscriptionsStatus:_,$createTicketSubscriptionStatus:b,$deleteTicketSubscriptionStatus:S};t.outputs=O;var P={init:l,fetchSubscriptions:f,createTicketSubscription:p,deleteTicketSubscription:g};t.inputs=P},471703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSeleneEventEmitter=function(e,t){(0,n.sample)({and:[{clock:e,target:(0,a.createEmitterEffect)(t)}],or:{sid:"g2se08"}})},t.subscribeToSelene=function(e,t,r){(0,n.sample)({and:[{clock:e,target:(0,a.createAddListenerEffect)(t,r)}],or:{sid:"fyxtup"}})};var n=r(944246),a=r(754266)},568082:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeleneWidget=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var c=i?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(797972));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}var i=(0,n.memo)((function(e){var t=e.name;return n.default.createElement("div",{"data-selene-widget":t})}));t.SeleneWidget=i,i.displayName="SeleneWidget"},351856:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PopupType=t.OPEN_POPUP=t.CLOSE_POPUP=void 0,t.PopupType=r,function(e){e.RemoveSearchHistory="remove-history",e.RemoveDocument="remove-document",e.EditDocument="edit-document"}(r||(t.PopupType=r={})),t.OPEN_POPUP="OPEN_POPUP",t.CLOSE_POPUP="CLOSE_POPUP"},917152:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubscriptionPassengersCount=t.getPricePerPassenger=void 0;var r=function(e){return((null==e?void 0:e.adults)||0)+((null==e?void 0:e.children)||0)+((null==e?void 0:e.infants)||0)};t.getSubscriptionPassengersCount=r,t.getPricePerPassenger=function(e,t){if(!t||function(e){return void 0===e.adults}(e))return t;var n=r({adults:e.adults||0,children:e.children||0,infants:e.infants||0});return Math.ceil(t/n)}},215293:function(e,t,r){"use strict";r.r(t)},564037:function(e,t,r){"use strict";r.r(t)},970495:function(e,t,r){"use strict";r.r(t)},272589:function(e,t,r){"use strict";r.r(t),t.default={clearfix:"aiM5XsuVD6jYUqX1Ucgw",root:"Zplk4w2e4JeiYyXSwPZ4"}},262863:function(e,t,r){"use strict";r.r(t),t.default={root:"DPG8SyegPztOubjSrYfe","is-visible":"B80cXCk9N67ZxW31S5I8"}},564120:function(e,t,r){"use strict";r.r(t)},33554:function(e,t,r){"use strict";r.r(t),t.default={clearfix:"FCo4mk56pZa3lihSnXW6",root:"dAVNxIiDvTs7wiGBLy40"}},852694:function(e,t,r){"use strict";r.r(t)},146578:function(e,t,r){"use strict";r.r(t)},862515:function(e,t,r){"use strict";r.r(t),t.default={filledBell:"ZYMTuYEXmUVsMn8hxU1S"}},882107:function(e,t,r){"use strict";r.r(t)},641385:function(e,t,r){"use strict";r.r(t)},861948:function(e,t,r){"use strict";r.r(t)},285725:function(e,t,r){"use strict";r.r(t),t.default={clearfix:"VHjWgkiwSN9M9O7qLABp",root:"Si55stkh3m3i9H1SxBxO",emoji:"qEbjxZMOV97tQSPOdgjr",title:"h59hTPLlGaLkQ5_08QDy",description:"Fqbk5D4wEGDXfKaRlW8f",reset:"igJs6JqTgB6JA7KbP54N",inner:"FdB5G8ITjAHg2hg3_htS"}},662472:function(e,t,r){"use strict";r.r(t)},865505:function(e,t,r){"use strict";r.r(t)},908059:function(e,t,r){"use strict";r.r(t),t.default={"--night":"vkxwZs9tPD6wuuViMaq1",root:"WSRXfIx2RpWHE4grK7w0",title:"oDAmWuwJ5EMs_TILxFQp",rightNode:"AVYMmO4kqqmBQooHddck",leftNode:"PqORNRPviy5nAnGwCIjP"}},588349:function(e,t,r){"use strict";r.r(t)},258997:function(e,t,r){"use strict";r.r(t)},50168:function(e,t,r){"use strict";r.r(t)},119603:function(e,t,r){"use strict";r.r(t)},265989:function(e,t,r){"use strict";r.r(t)},983342:function(e,t,r){"use strict";r.r(t)},769418:function(e,t,r){"use strict";r.r(t)},207586:function(e,t,r){"use strict";r.r(t)},69934:function(e,t,r){"use strict";r.r(t)},42803:function(e,t,r){"use strict";r.r(t)},136654:function(e,t,r){"use strict";r.r(t)},579219:function(e,t,r){"use strict";r.r(t)},498236:function(e,t,r){"use strict";r.r(t)},22519:function(e,t,r){"use strict";r.r(t),t.default={"sorting-results":"Jkx4XrO8p6okIL8Ln_2H","sorting-results_mobile":"mftT4AG50ltZ4uhcBCZs","sorting-results_customized":"tg9eiAgqv5Xap3vzQ6sx","product-list-with-badge":"X9to3ExGtvW7f810u9HW","product-list":"xAmEGr5FOnkrte8Wabp1"}},890681:function(e,t,r){"use strict";r.r(t)},663212:function(e,t,r){"use strict";r.r(t)},905613:function(e,t,r){"use strict";r.r(t),t.default={root:"PhLZ9i2cf38hkZoFA62O",variant_light:"jzTPmLwJypfv5lROV9UL",variant_dark:"ZnhBNCtZ4v0vt8JBigtm"}},705784:function(e,t,r){"use strict";r.r(t),t.default={skeleton_type_desktop:"xZm9LCPM9GUUs0e0OHGh",skeleton_type_mobile:"KtZl1gskjhGWexhIb9XA"}},1506:function(e,t,r){"use strict";r.r(t),t.default={root:"yqCOrcijVurYO8lD7Fww",variant_light:"cwBshcrPSCycBObVOsxa",variant_dark:"QqG_Bt4re1piS1Oc3iyH"}},674520:function(e,t,r){"use strict";r.r(t)},338106:function(e,t,r){"use strict";r.r(t)},934081:function(e,t,r){"use strict";r.r(t)},343201:function(e,t,r){"use strict";r.r(t)},351540:function(e,t,r){"use strict";r.r(t)},601732:function(e,t,r){"use strict";r.r(t),t.default={root:"fDsFDHBdEu0u_SEMTIu4"}},932910:function(e,t,r){"use strict";r.r(t),t.default={root:"tG21FBhtcgfkDNi3YKbD",button:"ZhQ70rLNI4JJrvg1bhYA"}},710823:function(e,t,r){"use strict";r.r(t),t.default={root:"wFpY1SgWuMhJ_JPThtKt"}},116540:function(e,t,r){"use strict";r.r(t),t.default={root:"b66HHaATgFOc7HELzMhQ",mobile:"pXewVBljDixjveOuQ492",item:"oGumHf_RWTrXriy2_kVk",disabled:"T9_k9Cwv0Oa8yxrkqdqy",ticket:"LOOpFGl0Kculs_jAuyyO",allTickets:"O691uOzoKc2Gdi3D7JvQ",cashbackInformer:"tOmjLtxxFmWWl51EYR8O"}},108249:function(e,t,r){"use strict";r.r(t),t.default={skeleton_type_desktop:"OluRxjxqyJnD6ZUUY4Wg",skeleton_type_mobile:"RMMCkiA1fc480uL9Nbfd"}},690570:function(e,t,r){"use strict";r.r(t),t.default={root:"ZiBBk9RiO_1m9lyQZoRS",content:"Q6xvsXgmsxk_zNpxQN29",item:"kqQKetmfCxKGcVmmG43s",filters:"WU7FZx7byykF0YELZcIV",option:"FYC5W390vS151kAubNXu",empty:"fmdPb8CJtHJ7jJ4mfNcy","empty-text":"E5yT8EoKkZRNv9V97otO",button:"QWgRSk5RYraywzajha7N"}},857446:function(e,t,r){"use strict";r.r(t),t.default={"button-change":"NgxeoKPNHomydxCfA2cC","baggage-text":"BhZAYqyV3I8t34o0lWYq"}},314337:function(e,t,r){"use strict";r.r(t),t.default={"search-input":"eFtaGTNZsfWAFhD87bo7"}},808392:function(e,t,r){"use strict";r.r(t),t.default={"search-input":"jTXzlgR58ivVMMqWtl8J"}},333788:function(e,t,r){"use strict";r.r(t),t.default={additionalContent:"mkDTQFX8VcTcnTSNiosV"}},255787:function(e,t,r){"use strict";r.r(t)},281005:function(e,t,r){"use strict";r.r(t),t.default={root:"ZPhp82duQojl2uEOBQpo"}},858540:function(e,t,r){"use strict";r.r(t),t.default={labelNotFound:"PKI5h3M5zF9gtmn1FDo_"}},899659:function(e,t,r){"use strict";r.r(t),t.default={root:"_7WYvzTyCL7jt4Pm1a8Jv","is-disabled":"sJTFMtFtLqMSXaSqMwbQ"}},21068:function(e,t,r){"use strict";r.r(t)},179863:function(e,t,r){"use strict";r.r(t)},350839:function(e,t,r){"use strict";r.r(t)},752757:function(e,t,r){"use strict";r.r(t)},292063:function(e,t,r){"use strict";r.r(t)},283959:function(e,t,r){"use strict";r.r(t)},552007:function(e,t,r){"use strict";r.r(t)},951231:function(e,t,r){"use strict";r.r(t),t.default={text:"cgm0b_a5_oEFvmniWF_1",progressBar:"Lg6uruVN0eEGMP3SH_vM",card:"B0BpsqfNFqDOTAj5C13W"}},758894:function(e,t,r){"use strict";r.r(t),t.default={button:"KJc0T6Ym86XS8iBJgb7A",left:"p7bGtYCSfCub2N1ch5Sw",right:"_PREfmpwqtLOFnLAezQq"}},434674:function(e,t,r){"use strict";r.r(t)},745976:function(e,t,r){"use strict";r.r(t)},849515:function(e,t,r){"use strict";r.r(t)},226430:function(e,t,r){"use strict";r.r(t)},905010:function(e,t,r){"use strict";r.r(t),t.default={"search-input":"dHc5hqCA4wl2lghmk25f"}},396971:function(e,t,r){"use strict";r.r(t)},719095:function(e,t,r){"use strict";r.r(t)},724778:function(e,t,r){"use strict";r.r(t)},650704:function(e,t,r){"use strict";r.r(t),t.default={text:"mRO3I0K0XBTzxjG3o3Xp"}},698450:function(e,t,r){"use strict";r.r(t),t.default={"unsigned-text":"YvIm3Kk0iGnFqDvQw4S0","signed-text":"jM20hpsoaQ3rsXbNzyVi","unsigned-title":"wchXnPXeUnKX4zLzh6M0",root:"ZbvqFLmvOR27iJ3nmxe3"}},216298:function(e,t,r){"use strict";r.r(t)},968177:function(e,t,r){"use strict";r.r(t)},254346:function(e,t,r){"use strict";r.r(t)},10014:function(e,t,r){"use strict";r.r(t),t.default={luggageCardWrapper:"gXq4lcPaRs5UPkGeU8wU"}},543943:function(e,t,r){"use strict";r.r(t)},809514:function(e,t,r){"use strict";r.r(t)},404084:function(e,t,r){"use strict";r.r(t)},788581:function(e,t,r){"use strict";r.r(t)},908534:function(e,t,r){"use strict";r.r(t)},725036:function(e,t,r){"use strict";r.r(t)},295342:function(e,t,r){"use strict";r.r(t),t.default={wrapper:"XEyw2UjHS9wo6WMST5nU",carrierName:"DR6WEw4xxkzQ3Cq9hrQw"}},186516:function(e,t,r){"use strict";r.r(t)},228956:function(e,t,r){"use strict";r.r(t)},888976:function(e,t,r){"use strict";r.r(t)},498686:function(e,t,r){"use strict";r.r(t)},386769:function(e,t,r){"use strict";r.r(t),t.default={root:"M22AisVWrNkZ3NHC1bIQ","start-airport":"VnPDOYniHuAqWC62AgRo","long-format":"al77tvlSx7qdchABWqnl","end-airport":"pHyLKbZHbg5CXeFjHOgN"}},698219:function(e,t,r){"use strict";r.r(t),t.default={root:"QcYlwi5jTSIe0MbKvwVm","start-wrapper":"dokoD3iw_3H_Ea0qvkzs","long-format":"MQoKVX8GYNfVUaODxPTs","end-wrapper":"X61cPK50d1Yq22XKtVAa","start-time":"YPFoQo7v0gOSrssawk4g","end-time":"CP34J_NEVt3Ta3Ic3VQw",divider:"WMWv2ZNRq_GV1wK7XKkG"}},678756:function(e,t,r){"use strict";r.r(t),t.default={root:"zsJiJ_QlAUl4JyXD1pic","long-format":"AiXnzBj_lLMACIGHGou4"}},772839:function(e,t,r){"use strict";r.r(t)},423072:function(e,t,r){"use strict";r.r(t)},656595:function(e,t,r){"use strict";r.r(t),t.default={"top-row":"pGGe_dE0VPzIyrmdQ_OA","top-right-row":"W9YW5a1SOjm0Ogez6OjV","stops-title":"InSBTJd6hM_FUPmbkiQu","bottom-row":"qLgruQIVbGUJWYiPT2DO"}},415713:function(e,t,r){"use strict";r.r(t),t.default={root:"KEgTRc4y2NrPWixmTKoH",highlights:"OFJWlXA8vBLWoMYa2k86",text:"SVVidIwbW8Etk8MYHjkv"}},770486:function(e,t,r){"use strict";r.r(t)},988521:function(e,t,r){"use strict";r.r(t)},340527:function(e,t,r){"use strict";r.r(t)},717590:function(e,t,r){"use strict";r.r(t)},344357:function(e,t,r){"use strict";r.r(t)},920463:function(e,t,r){"use strict";r.r(t)},552294:function(e,t,r){"use strict";r.r(t)},107848:function(e,t,r){"use strict";r.r(t)},806130:function(e,t,r){"use strict";r.r(t)},248982:function(e,t,r){"use strict";r.r(t)},443805:function(e,t,r){"use strict";r.r(t)},496460:function(e,t,r){"use strict";r.r(t)},340338:function(e,t,r){"use strict";r.r(t)},446819:function(e,t,r){"use strict";r.r(t)},258797:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="10" height="10" viewBox="0 0 10 10" fill="#A0B0B9" xmlns="http://www.w3.org/2000/svg"> <path d="M9.66665 1.27325L8.72665 0.333252L4.99998 4.05992L1.27331 0.333252L0.333313 1.27325L4.05998 4.99992L0.333313 8.72659L1.27331 9.66659L4.99998 5.93992L8.72665 9.66659L9.66665 8.72659L5.93998 4.99992L9.66665 1.27325Z"/> </svg>'}},this.props);return n.createElement("span",e)}})},254060:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor" fill-rule="evenodd"><path d="M8.65 1.76h-1.3l7 6a1 1 0 0 0 1.3-1.52l-7-6a1 1 0 0 0-1.3 0l-7 6a1 1 0 1 0 1.3 1.52l7-6z"/><path d="M7 15a1 1 0 1 0 2 0V2.5a1 1 0 1 0-2 0V15z"/></g></svg>'}},this.props);return n.createElement("span",e)}})},78736:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="19"> <g fill="none" fill-rule="evenodd" stroke="#FFF" stroke-linejoin="round"> <path d="M18 16.116V17c0 .553-.455 1-1 1H2a1 1 0 0 1-1-1v-3.05a2.502 2.502 0 0 0 0-4.9V6c0-.553.455-1 1-1h2.087"/> <path d="M23 9.95V13c0 .553-.455 1-1 1H7a1 1 0 0 1-1-1V9.95a2.502 2.502 0 0 0 0-4.9V2c0-.553.455-1 1-1h15a1 1 0 0 1 1 1v3.05a2.502 2.502 0 0 0 0 4.9z" stroke-linecap="round"/> </g> </svg>'}},this.props);return n.createElement("span",e)}})},103845:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="17" height="23" viewBox="0 0 17 23" xmlns="http://www.w3.org/2000/svg"> <path d="M4.987 21v-1h7.008v2.001c0 .001-.002-.001.001-.001.004 0 .002.002.002.001V20h3.089c.52 0 .913-.417.913-.995V6.995c0-.58-.392-.995-.913-.995H1.965C1.426 6 1 6.435 1 6.995v12.01c0 .561.425.995.965.995h3.019v2.001c0 .001-.002-.001.001-.001.004 0 .002.002.002.001V21zm1 0v1.001A.998.998 0 0 1 4.985 23a.997.997 0 0 1-1.001-.999V21h-2.02C.863 21 0 20.107 0 19.005V6.995C0 5.893.863 5 1.965 5h13.122C16.19 5 17 5.893 17 6.995v12.01C17 20.107 16.188 21 15.087 21h-2.089v1.001a.998.998 0 0 1-1.002.999.997.997 0 0 1-1.001-.999V21H5.987zM5.985 1h5.007c.009 0 .004.005.004 0H5.99c-.01 0-.005-.005-.005 0zm-1 0c0-.552.439-1 1.005-1h5.002a1 1 0 1 1 0 2H5.99a1 1 0 0 1-1.005-1zm1.002 1h1.001v3H5.987V2zm4.006 0h1.002v3H9.993V2z"/> </svg>'}},this.props);return n.createElement("span",e)}})},636992:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="19" height="20" viewBox="0 0 19 20" xmlns="http://www.w3.org/2000/svg"> <path d="M1.983 19h15.104c.518 0 .91-.416.91-.995V6.995c0-.58-.39-.995-.91-.995H1.983c-.537 0-.962.435-.962.995v11.01c0 .56.425.995.963.995h-.001zm0 1C.88 20 .02 19.107.02 18.005V6.995C.02 5.893.884 5 1.984 5h15.104c1.1 0 1.91.893 1.91 1.995v11.01c0 1.102-.81 1.995-1.91 1.995H1.983z"/> <path d="M14.5 6c0-3.027-2.226-5.5-5-5.5s-5 2.473-5 5.5h1c0-2.496 1.803-4.5 4-4.5s4 2.004 4 4.5h1z"/> </svg>'}},this.props);return n.createElement("span",e)}})},985703:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.76 9.77c-.188.156-.396.159-.551.007-.155-.154-.15-.37.008-.559A178.62 178.62 0 0 1 2.546 6.6L.087 4.142c-.181-.182-.032-.355.023-.41.471-.47 1.513-.666 2.476-.262l.146.146c1.015-.763 2.424-1.905 3.279-2.53L5.844.919a.5.5 0 0 1 0-.708L5.91.147a.5.5 0 0 1 .708 0l3.237 3.236a.5.5 0 0 1 0 .708l-.065.065a.5.5 0 0 1-.708 0l-.12-.12c-.634.854-1.788 2.241-2.565 3.244l.134.134c.388.935.185 1.974-.248 2.46-.065.065-.231.231-.433.03L3.393 7.446c-.812.72-2.248 2.001-2.634 2.322z" fill-rule="evenodd"/></svg>'}},this.props);return n.createElement("span",e)}})},969598:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M14.3152 6.29289L16.5978 8.67157C17.018 9.10948 17.6993 9.10948 18.1196 8.67157L22.6848 3.91421C23.1051 3.47631 23.1051 2.76633 22.6848 2.32843C22.2646 1.89052 21.5833 1.89052 21.1631 2.32843L17.3587 6.29289L15.8369 4.70711C15.4167 4.2692 14.7354 4.2692 14.3152 4.70711C13.8949 5.14501 13.8949 5.85499 14.3152 6.29289ZM4 20C3.44772 20 3 19.5523 3 19C3 18.4477 3.44772 18 4 18H18C18.5523 18 19 18.4477 19 19C19 19.5523 18.5523 20 18 20H4ZM4 14C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12H18C18.5523 12 19 12.4477 19 13C19 13.5523 18.5523 14 18 14H4ZM3 7C3 6.44772 3.44772 6 4 6H11.7778C12.3301 6 12.7778 6.44772 12.7778 7C12.7778 7.55228 12.3301 8 11.7778 8H4C3.44772 8 3 7.55228 3 7Z"/> </svg>'}},this.props);return n.createElement("span",e)}})},613900:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M18 9C18.5523 9 19 8.55228 19 8V6H21C21.5523 6 22 5.55228 22 5C22 4.44772 21.5523 4 21 4H19V2C19 1.44772 18.5523 1 18 1C17.4477 1 17 1.44772 17 2V4H15C14.4477 4 14 4.44772 14 5C14 5.55228 14.4477 6 15 6H17V8C17 8.55228 17.4477 9 18 9ZM4 20C3.44772 20 3 19.5523 3 19C3 18.4477 3.44772 18 4 18H18C18.5523 18 19 18.4477 19 19C19 19.5523 18.5523 20 18 20H4ZM4 14C3.44772 14 3 13.5523 3 13C3 12.4477 3.44772 12 4 12H18C18.5523 12 19 12.4477 19 13C19 13.5523 18.5523 14 18 14H4ZM3 7C3 6.44772 3.44772 6 4 6H11.7778C12.3301 6 12.7778 6.44772 12.7778 7C12.7778 7.55228 12.3301 8 11.7778 8H4C3.44772 8 3 7.55228 3 7Z"/> </svg>'}},this.props);return n.createElement("span",e)}})},618487:function(e,t,r){var n=r(797972),a=r(650047);e.exports=a({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M14 20C14 21.1 13.1 22 12 22C11.4696 22 10.9609 21.7893 10.5858 21.4142C10.2107 21.0391 10 20.5304 10 20H14Z" fill="#A0B0B9"/> <path d="M18.6354 18H5.36367L6.15243 17.1876C6.69598 16.6277 7 15.8781 7 15.0978V10.758C7 7.91096 8.43312 5.77943 10.737 5.21752L11.5 5.03141V4.246V3.545C11.5 3.21426 11.7499 3 12 3C12.2501 3 12.5 3.21426 12.5 3.545V4.245V5.0295L13.2619 5.21625C15.5576 5.77893 17 7.92209 17 10.757V15.0988C17 15.8791 17.304 16.6287 17.8476 17.1886L18.6354 18Z" stroke="#A0B0B9" stroke-width="2"/> </svg>'}},this.props);return n.createElement("span",e)}})},267821:function(e){"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSI+PHBhdGggZD0iTTEyIDQuNTgybC00LjE0OC0uNjMzTDYgMCA0LjE0OCAzLjk0OCAwIDQuNTgybDMgMy4wNzZMMi4yOTIgMTIgNiA5Ljk1MiA5LjcwOCAxMiA5IDcuNjU3bDMtMy4wNzZ6IiBmaWxsPSIjZmZjMDU3Ii8+PC9zdmc+"}}]);