"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8485],{56812:function(e,s,i){i.r(s),i.d(s,{EmailSubscriptionFormWidget:function(){return I}});var r=i(67294),a=i(34840),n=i(81468),o=i(94184),t=i.n(o),c=i(12462),l=i(84390),d=i(866),m=i(50377),u=i(94769),h=i(88956),p=i(996),x=i(83409),b=i(97179),g=i(79403),j=i(63246),f=i(34943),_=i(88084),v=i(73114),k=i(74526),y=i(23190);const E=(0,f.yM)({sid:"19m7sx"}),C=(0,f.yM)({sid:"-8cg97m"}),$=(0,f.MT)("",{sid:"-kgoc1g"}).on(E,((e,s)=>s.trim())),N=(0,f.MT)(!1,{sid:"-5vhziz"}),B=$.map((e=>(0,_.isEmailValid)(e))),S=B.map((e=>!e)),U=(0,f.$e)({and:[$,N,(e,s)=>!s&&e.length>0],or:{sid:"-fe951z"}}),z=(0,f.ub)({and:{source:$,mapParams:(e,s)=>({email:s,campaign_name:"main"}),effect:k.W.inputs.createMarketingSubscriptionFx},or:{sid:"83ifsl"}}),T=z.pending,w=y.D.outputs.$domain.map((e=>`mike@${e}`)),R=(0,f.UP)({and:[{clock:C,filter:S}],or:{sid:"alm8yz"}}),P=(0,f.MT)(!1,{sid:"-rulvma"}).on(R,(()=>!0)).reset($),{$enabled:A,turnOn:D,turnOff:M}=(0,f.MR)({sid:"qjo681",fn:()=>(0,v.qs)()});(0,f.UP)({and:[{clock:C,source:$,filter:B,target:z}],or:{sid:"brzjal"}}),(0,f.UP)({and:[{clock:z.fail,target:D}],or:{sid:"c7xki2"}}),(0,f.UP)({and:[{clock:z.done,fn:()=>!0,target:N}],or:{sid:"ca4qvi"}});const L={emailUpdated:E,subscribe:C,hideErrorSnackbar:M},O={$email:$,$showButton:U,$requestPending:T,$placeholderByDomain:w,$errorSnackbarVisible:A,$showIncorrectEmailError:P,$isSubscribedSuccessfully:N};var q=i(85893);const I=()=>{const{t:e}=(0,n.useTranslation)("widget_email_subscription_form"),s=(0,a.oR)(O.$email),i=(0,a.oR)(O.$showButton),o=(0,a.oR)(O.$requestPending),f=(0,a.oR)(O.$placeholderByDomain),_=(0,a.oR)(O.$errorSnackbarVisible),v=(0,a.oR)(O.$showIncorrectEmailError),k=(0,a.oR)(O.$isSubscribedSuccessfully),y=(0,a.oR)(j.y.outputs.$isClient),E=(0,a.oR)(g.U.outputs.$isWayAwayBrand),C=(0,a.zX)(L.subscribe),$=(0,a.zX)(L.emailUpdated),N=(0,a.zX)(L.hideErrorSnackbar),B=i&&"yAesR7FQhCfwHf_MUw6Z";return(0,q.jsxs)(r.StrictMode,{children:[(0,q.jsxs)("form",{className:"CZ_ztG3EqVEatV0ByVQP",onSubmit:e=>{e.preventDefault(),C()},children:[(0,q.jsxs)("div",{className:"GNUtTVRCyZP7d6uYhiCP",children:[(0,q.jsx)(c.EmojiLoveLetter,{className:"fLSjBxL7GzbHrGL9XUiu",width:64,height:64}),(0,q.jsxs)("div",{className:"In9ma85BlKdpVQmFyJ6r",children:[(0,q.jsx)(d.Text,{type:d.TextType.Body1Regular,transformOnMobile:!0,children:e("text."+(k?"success":"main"))}),k&&(0,q.jsx)(l.EmojiThumbsUp,{className:"ZWkAGN8PagPq9b4kg2aC",width:24,height:24})]})]}),(0,q.jsx)(u.Divider,{className:"ynT7rUmxO8WI0wm3gz3_"}),(0,q.jsxs)("div",{className:"xwCcpkkZQhu9ZOHKCcvp",children:[(0,q.jsxs)("div",{className:t()("mFq88H5kGX2RdApek6UM",k&&"h_uCgd6HnozMc2qfU8ni"),children:[(0,q.jsx)("div",{className:t()("HFe4nBrZTkC8qykG_mwF",B),children:(0,q.jsx)(m.Input,{id:"email_subscription_form_widget_input",value:s,onChange:e=>{$(e.currentTarget.value)},placeholder:E?f:e("placeholder"),error:v?e("error.incorrectEmail"):void 0,rightElement:k&&(0,q.jsx)(p.Icon24ControlsCheck,{className:"zTm4N97dUAuwvcnAnSti"}),rightElementNoPointerEvents:!0})}),(0,q.jsx)("div",{className:t()("BpOYmjExH2xazBQOhiD3",B),children:(0,q.jsx)(h.Button,{size:h.ButtonSize.Custom,mod:h.ButtonMod.Green,className:"v0Yh2Fjha5v2jciOfDQ7",progress:o,type:"submit",disabled:!i,children:(0,q.jsx)(h.Button.Icon,{children:(0,q.jsx)(p.Icon24ControlsCheck,{})})})})]}),E&&(0,q.jsx)(d.Text,{className:"l4Ans40hmr5oZE6IPiLd",type:d.TextType.FootnoteRegular,children:e("privacy")})]})]}),y&&(0,q.jsx)(b.Snackbar,{visible:_,onClose:N,message:e("error.common"),icon:(0,q.jsx)(x.Icon24ColorWarning,{})})]})}}}]);