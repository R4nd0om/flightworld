(self.webpackChunkhelios=self.webpackChunkhelios||[]).push([[4826],{374642:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,i,l,s,u=r(a(947981)),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),d=r(a(859941)),p=r(a(861233)),f=r(a(225385)),m=r(a(478086)),h=r(a(312204)),v=a(525930),g=a(445549);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}l=c.default.createFactory(m.default),s=(0,f.default)("additional-fields"),n={inc:{delta:1,event:"Plus"},dec:{delta:-1,event:"Minus"}},o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],i=function(){var e=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={hoveredControls:{adults:{inc:!1,dec:!1},children:{inc:!1,dec:!1},infants:{inc:!1,dec:!1}}},a}(0,u.default)(t,e);var a=t.prototype;return a.getBoundaries=function(e){var t;return t=this.props.isHotel?"hotel":"avia",{min:this.passengers[t][e].min(this.props),max:this.passengers[t][e].max(this.props)}},a.shouldShowWarning=function(e,t){var a,r,n,o=this.getBoundaries(e);switch(r=o.min,a=o.max,n=this.props[e],e){case"adults":return"dec"===t&&n===r&&1!==n;case"infants":return"inc"===t&&n===a&&this.props.adults<4;default:return!1}},a.isDisabled=function(e,t){var a,r,n,o=this.getBoundaries(e);switch(r=o.min,a=o.max,n=this.props[e],t){case"dec":return n===r;case"inc":return n===a}},a.handleClick=function(e,t){var a,r;if(!this.isDisabled(e,t)){var o=n[t];return a=o.delta,r=o.event,this.props.onChange(e,this.props[e]+a),h.default.triggerEvent(this.props.eventCategory,""+e+r,"click")}},a.handleMouseEnter=function(e,t){var a,r;return this.setState({hoveredControls:(0,p.default)(this.state.hoveredControls,(r={},r[""+e]=(a={},a[""+t]={$set:!0},a),r))})},a.handleMouseLeave=function(e,t){var a,r;return this.setState({hoveredControls:(0,p.default)(this.state.hoveredControls,(r={},r[""+e]=(a={},a[""+t]={$set:!1},a),r))})},a.handleChildrenAgeChange=function(e,t){var a=t.target;return this.props.onChildrenAgeChange(e,a.value)},a.isHovered=function(e,t){return this.state.hoveredControls[e][t]},a.getText=function(e){var t,a;return a=!("hotelForm"==(t=this.props.isHotel?"hotelForm":"aviaForm")&&"adults"===e),{title:this.props.t("additional_form_fields:ages."+e,""),subtitle:a?this.props.t("additional_form_fields:agesSubscription."+t+"."+e,""):void 0}},a.render=function(){var e;return(0,v.div)({className:s("passengers-wrap")},this.renderRow("adults"),this.renderRow("children"),this.props.isHotel?void 0:this.renderRow("infants"),this.props.isHotel&&(null!=(e=this.props.childrenAge)?e.length:void 0)?this.renderChildrenAgeControl():void 0)},a.renderRow=function(e){var t,a,r=this.getText(e);return a=r.title,t=r.subtitle,(0,v.div)({className:s("passenger-row")},(0,v.div)({className:s("passenger-title")},(0,v.strong)(null,a),t?(0,v.small)(null,t):void 0),(0,v.div)({"data-test-id":"passengers-"+e+"-field",className:s("passenger-control-wrap")},this.renderControl(e,"dec"),(0,v.span)({className:s("passenger-value")},this.props[e]),this.renderControl(e,"inc")))},a.renderControl=function(e,t){var a=this;return n[t].delta,l({tooltip:c.default.createFactory((function(){return a.renderTooltip(e)})),isVisible:this.shouldShowWarning(e,t)&&this.isHovered(e,t),showByProps:!0,position:"left"},(0,v.a)({className:s("passenger-control",{"--increment":"inc"===t,"--decrement":"dec"===t,"--is-disabled":this.isDisabled(e,t)}),onClick:this.handleClick.bind(this,e,t),onMouseEnter:this.handleMouseEnter.bind(this,e,t),onMouseLeave:this.handleMouseLeave.bind(this,e,t)},"dec"===t?(0,v.svg)({width:"8",height:"2",viewBox:"0 0 8 2",xmlns:"http://www.w3.org/2000/svg"},(0,v.path)({d:"M0 0h8v2H0z",fill:"#FFF",fillRule:"evenodd"},null)):(0,v.svg)({width:"8",height:"8",viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},(0,v.path)({d:"M5 3h3v2H5v3H3V5H0V3h3V0h2v3z",fill:"#FFF",fillRule:"evenodd"},null))))},a.renderTooltip=function(){var e;return(e=this.props.t("additional_form_fields:infantsWarning"))?(0,v.div)({className:s("warning-tooltip")},e):null},a.renderChildrenAgeControl=function(){var e,t,a,r;return(0,v.div)({className:s("children-age-wrap")},function(){var n,i,l,u;for(l=this.props.childrenAge,u=[],t=n=0,i=l.length;n<i;t=++n)e=l[t],u.push((0,v.div)({className:s("children-age-row"),key:t},(0,v.strong)({className:s("children-age-title")},this.props.t("hotels_form:childrenAge")),(0,v.div)({className:s("children-age-control")},(0,v.select)({className:s("children-age-select"),value:e,onChange:this.handleChildrenAgeChange.bind(this,t)},function(){var e,t,n;for(n=[],a=e=0,t=o.length;e<t;a=++e)r=o[a],n.push((0,v.option)({key:a,value:r},this.props.t("additional_form_fields:age",{age:r})));return n}.call(this)))));return u}.call(this))},t}(c.Component);return e.propTypes={adults:d.default.number.isRequired,children:d.default.number.isRequired,onChange:d.default.func.isRequired,eventCategory:d.default.oneOf(["avia_form","multiwayForm","hotel"]).isRequired,childrenAge:d.default.array,isHotel:d.default.bool,infants:d.default.number},e.prototype.passengers={avia:{adults:{min:function(e){e.adults,e.children;var t=e.infants;return Math.max(1,t)},max:function(e){return e.adults,9-e.children-e.infants}},children:{min:function(){return 0},max:function(e){var t=e.adults,a=(e.children,e.infants);return Math.min(9-t-a,8)}},infants:{min:function(){return 0},max:function(e){var t=e.adults,a=e.children;return e.infants,Math.min(9-t-a,t,4)}}},hotel:{adults:{min:function(){return 1},max:function(){return 4}},children:{min:function(){return 0},max:function(){return 3}}}},e}.call(void 0);var b=(0,g.withTranslation)(["avia_form","hotels_form","additional_form_fields"])(i);t.default=b},414977:function(e,t,a){"use strict";var r,n,o,i,l,s,u,c,d,p,f,m,h,v;a(886336),a(389988);var g=a(425214);n=g.fpLoaded,a(253442),s=a(275347).default,i=a(312204),m=a(897360).default;var y=a(747596);o=y.getLocalStorageItem,a(118035),a(24349),a(397012);var b=a(93694);h=b.registerComponents,d=b.loadComponents,c=a(688833).default,a(292538),l=a(560896).init,f=a(394296);var C=a(117720);r=C.flagrInitProccess,p=a(338958).lozadObserve;var P=a(100859);v=P.setDateFnsLocale,h({forms_set:a(538451).Z,onboarding:a(127270).Z}),u=function(){var e;return p(),window.Rollbar&&window.Rollbar.global({itemsPerMinute:5}),f("create",{project_name:"aviasales_helios",debug:!(window.env&&window.env.includes("prod")),auto_page_views:!1}),f("send_page_view",{url:window.location.href,ab_branch:window.abBranch}),e=o("userTheme")||"light",i.setContext({nightMode:"dark"===e,nightModeState:e}),i.init(),m.init(),Promise.all([n,l(),r]).then((function(){return c(),d(document),v(s.language)})),a(131672).default,document.removeEventListener("DOMContentLoaded",u)},window.documentContentLoaded?u():document.addEventListener("DOMContentLoaded",u)},126859:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={placements:[]},r=function(){googletag.cmd.push((function(){Criteo.SetDFPKeyValueTargeting(),googletag.pubads().refresh()}))},n=function(e,t,r){var n=googletag.defineSlot(e.name,e.sizes.map((function(e){return e[1]})),e.id).addService(googletag.pubads()).setCollapseEmptyDiv(!0,!0);if(e.sizes.length>1){var s,u,c,d=googletag.sizeMapping(),p={};for(s in e.sizes.forEach((function(e){var t=e[0],a=e[1];s=t.join("x"),p[s]||(p[s]=[]),p[s].push(a)})),p)p.hasOwnProperty(s)&&(c=p[s],u=l(s),d=d.addSize(u,c));n.defineSizeMapping(d.build())}for(var f in e.targetingParams||(e.targetingParams={}),e.targetingParams.url||(e.targetingParams.url=document.location.pathname),e.targetingParams)if(e.targetingParams.hasOwnProperty(f)){var m=e.targetingParams[f];m&&googletag.pubads().setTargeting(f,m)}return googletag.cmd.push((function(){googletag.display(e.id)})),t&&googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRenderEnded",(function(a){a.slot.getAdUnitPath()===e.name&&t({isFallback:r,slotId:a.slot.getSlotElementId(),unitPath:a.slot.getAdUnitPath(),isEmpty:a.isEmpty})}))})),e.fallback&&googletag.cmd.push((function(){googletag.pubads().addEventListener("slotRenderEnded",(function(r){var n=r.slot.getSlotElementId(),l=r.slot.getAdUnitPath();if(r.isEmpty&&l===e.name){var s=function(e){if(0!==a.placements.length){var t=!1;for(i=0;i<a.placements.length;i++)a.placements[i].slotid===e&&(t=!0);return t}}(n);console.info("Fallback google tag "+n+(s?"(criteo)":"")+" to "+e.fallback+"."),o(e.fallback,t)}}))})),n},o=function(e,t){var a,r,o,i=document.querySelector("#"+e);if((a=/(div-gpt-ad)/gi.exec(e))&&(r=a[0])&&(o=r.replace("div-gpt-ad","googletag")),"googletag"===o){var l=n(s(i),t,!0);googletag.pubads().refresh([l])}else console.log("we dont have fallback for id "+e+" and type "+o)},l=function(e){return e.split("x").map((function(e){return parseInt(e,10)}))},s=function(e){var t={},a=e.getAttribute("id"),r=e.getAttribute("data-slot"),n=e.getAttribute("data-fallback"),o=e.getAttribute("data-zoneid"),i="";if("div-gpt-ad-1477979940582-0"===a){var s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,u=JSON.parse(o);i=s<468?u["320x50"]:s>=468&&s<728?u["468x60"]:s>=728&&s<970?u["728x90"]:u["970x90"]}else i=o;var c,d=(c=[],e.getAttribute("data-size").split(",").forEach((function(e){var t=e.split(":").map(l),a=t[0],r=t[1];r||(r=a,a=[0,0]),c.push([a,r])})),c);try{t=JSON.parse(e.getAttribute("data-targeting-params"))}catch(e){console.error(e)}return{id:a,name:r,sizes:d,targetingParams:t,fallback:n,zoneid:i}};t.default=function(e){var t,o=[],i=document.querySelectorAll("[data-slot]");for(t=0;t<i.length;++t)o.push(s(i[t]));var l=[];o.forEach((function(e){e.fallback&&l.push(e.fallback),e.zoneid&&a.placements.push({slotid:e.id,zoneid:Number(e.zoneid)})})),o=o.filter((function(e){return-1===l.indexOf(e.id)})),googletag.cmd.push((function(){o.forEach((function(t){n(t,e,!1)})),googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.enableServices(),a.placements&&a.placements.length>0?Criteo.events.push((function(){Criteo.SetLineItemRanges("0.01..9:0.01;9.05..99:0.05"),Criteo.RequestBids(a,r,800)})):googletag.pubads().refresh()}))}},953451:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"scrollToElement",{enumerable:!0,get:function(){return n.scrollToElement}}),Object.defineProperty(t,"scrollToTopPosition",{enumerable:!0,get:function(){return r.scrollToTopPosition}});var r=a(318138),n=a(116166)},116166:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToElement=void 0;var r=a(318138);t.scrollToElement=function(e){var t=e.element,a=e.topMargin;(0,r.scrollToTopPosition)(window.pageYOffset+t.getBoundingClientRect().top-a)}},318138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToTopPosition=void 0,t.scrollToTopPosition=function(e){return window.scrollTo({top:e,left:0,behavior:"smooth"})}},70303:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CustomRadio=void 0;var n=r(a(435850)),o=r(a(377754)),i=r(a(797972)),l=r(a(225385));a(621400);var s=(0,l.default)("custom-radio");t.CustomRadio=function(e){var t=e.inputId,a=e.active,r=e.caption,l=e.modifiers,u=void 0===l?[]:l,c=e.icon,d=e.hasError,p=e.testId,f=(0,o.default)(e,["inputId","active","caption","modifiers","icon","hasError","testId"]);return i.default.createElement("label",{className:s(null,[].concat(u,[d&&"--error",a&&"--is-active"])),htmlFor:t,"data-test-id":p&&p+"-label"},i.default.createElement("input",(0,n.default)({},f,{type:"radio",id:t,className:s("input"),checked:a,"data-test-id":p&&p+"-input"})),i.default.createElement("div",{className:s("element")}),c&&i.default.createElement("div",{className:s("icon")},c),i.default.createElement("div",{className:s("caption")},r))}},703414:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=R(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),l=a(224562),s=r(a(225385)),u=a(785843),c=r(a(766353)),d=a(149739),p=r(a(948206)),f=r(a(897463)),m=a(598599),h=r(a(156564)),v=r(a(702944)),g=a(718123),y=r(a(512945)),b=a(405628),C=a(742029),P=r(a(10558)),w=r(a(247533)),k=a(424319),E=a(439094),O=a(819831),M=a(415136),T=a(596058),S=a(223002),D=a(219535),_=a(233725),I=a(568082),j=a(800373),N=a(884571),F=a(894781),x=a(359759);a(635240);var A=a(162523);function R(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(R=function(e){return e?a:t})(e)}var B=i.default.lazy((function(){return a.e(7302).then(a.bind(a,207551))})),L=document.documentElement,V=(0,s.default)("web-app"),W=(0,i.memo)((function(e){v.default.is("avs-feat-userProfile");var t,a=(0,i.useState)(!1),r=(0,o.default)(a,2),l=r[0],s=r[1],d=(0,i.useState)(!1),g=(0,o.default)(d,2),C=g[0],k=g[1],S=(0,b.selectIsAutosearchEnabled)(v.default),x=(0,b.selectIsSeleneFormEnabled)(v.default),R=e.currentPage,W=e.showExplosion,H=e.isPriceMap,z=e.isPageHeaderCompact,G=e.isSerpModalVisible,Y="search"===R||W||"user_account"===R||z||H,U="user_account"===R||W,q="user_account"===R,$=(0,i.useRef)(null);(0,N.useExplosionEffects)(e,Y,$,s,k),(0,i.useEffect)((function(){e.sendTiming("page_header_init",Math.round(e.initTime)),e.sendTiming("page_header_did_mount",Math.round(performance.now())),e.sendTiming("page_header_load_time",Math.round(performance.now()-e.initTime))}),[]);var Q="search"===e.currentPage,K="main"===e.currentPage,Z=!S&&Q&&!e.showExplosion&&(null===(t=e.segments)||void 0===t?void 0:t.every((function(e){return(0,j.isValidSegment)(e)}))),X=!S&&!Z&&!e.showExplosion&&Q,J=u.IS_AVIASALES&&K&&!e.isPageHeaderCompact;return i.default.createElement("div",{className:V()},i.default.createElement(T.GoogleRecaptchaContainer,null),i.default.createElement(y.default,{errorText:"LoginPopupContainer Error"},i.default.createElement(f.default,null)),i.default.createElement(F.PoletelyPromoWidget,null),J&&i.default.createElement(M.PremiumPromoWidget,null),i.default.createElement("div",{className:V("navbar-wrap",{"--sticky":l})}),!q&&i.default.createElement("div",{className:V("page-header-wrap")},i.default.createElement(w.default,(0,n.default)({},e.pageParams,{isCompact:Y,isStickyHeader:C,formTabs:e.tabs,explosionFormTabs:e.tabs,tabsRef:$,onFormCollapse:function(e){x||L.classList.toggle("--collapsed-form",e)},isFormCollapsable:U}))),S&&G?i.default.createElement(m.SerpModal,null,i.default.createElement(i.default.Suspense,{fallback:i.default.createElement(h.default,{className:V("spinner")})},i.default.createElement(B,null))):i.default.createElement(i.default.Fragment,null,Z&&i.default.createElement("div",{className:V("explosion-wrap")},i.default.createElement(h.default,{mod:"primary",size:"m"})),e.showExplosion&&i.default.createElement("div",{className:V("explosion-wrap")},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement(h.default,{mod:"primary",size:"m"})},i.default.createElement(B,null)))),X&&i.default.createElement(c.default,{reachGoal:e.reachGoal}),i.default.createElement(P.default,null),i.default.createElement(p.default,null),S&&i.default.createElement(i.default.Fragment,null,i.default.createElement(E.Autosearch,null),i.default.createElement(y.default,{errorText:"PopupsContainer Error"},i.default.createElement(A.SubscriptionsPopups,null))),i.default.createElement(O.ProductTicketModals,null),i.default.createElement(D.UnsubscribeDialog,null),i.default.createElement(_.TicketSubscriptionNotificationContainer,null),i.default.createElement(I.SeleneWidget,{name:"ticket"}))}));W.displayName="AviasalesApp";var H=(0,l.connect)((function(e){var t;return{showExplosion:"search"===e.currentPage&&Boolean((0,k.getDeviceSearchId)(e)),currentPage:e.currentPage,segments:e.aviaParams.segments,isPriceMap:(0,b.selectIsPriceMapWidgetEnabled)(v.default)&&(0,d.isValidAnywhereDirection)(e.aviaParams.segments)&&"avia"===(0,S.getActiveForm)(e),isPageHeaderCompact:null!=(t=e.pageHeader.isCollapsed)&&t,isSerpModalVisible:(0,C.getPopupIsOpen)(e,x.SERP_IN_MODAL)}}),(function(e){return{sendTiming:function(t,a){return e((0,g.sendTiming)(t,a))},reachGoal:function(t,a){return e((0,g.reachGoal)(t,a))}}}))(W);t.default=H},538451:function(e,t,a){"use strict";var r=a(35220);t.Z=void 0;var n=r(a(101339)),o=r(a(947981)),i=r(a(797972)),l=r(a(148001)),s=a(224562),u=a(445549),c=a(721193),d=r(a(275347)),p=r(a(470958)),f=r(a(531760)),m=r(a(382697)),h=r(a(965486)),v=a(104189),g=a(134616),y=r(a(897360)),b=r(a(772667)),C=r(a(204333)),P=r(a(860606)),w=a(556054),k=r(a(190815)),E=a(425944),O=r(a(702944)),M=a(405628),T=a(663579);a(821221),a(623764);var S=a(13377),D=a(808301),_=a(734682),I=a(718123),j=a(999361),N=a(971437),F=a(724573),x=a(417201),A=a(223002),R=a(977485),B=a(828451),L=a(742029),V=a(359759),W=a(482583),H=a(539786),z=a(149739),G=a(774599),Y=a(52367),U=r(a(703414)),q=a(548051);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var K=function(e){var t,a=window.document.getElementById(e),r=(null===(t=window.inputValuesBeforeInit)||void 0===t?void 0:t[e])||"";return a?{value:a.value,hasFocus:document.activeElement===a}:r?{value:r,hasFocus:!1}:void 0},Z=function(e){function t(t){var a,r,n;(n=e.call(this,t)||this).params=void 0,k.default.dispatch((0,D.initSeleneWidgets)()),k.default.dispatch((0,I.sendTiming)("page_header_before_render",Math.round(performance.now())));var o=K("origin"),i=K("destination"),l=(0,E.getPageData)();delete l.i18n;var s,u,m=(o||i)&&{origin:o,destination:i};n.params=Q(Q(Q({},v.DEFAULT_PAGE_HEADER_PARAMS),l),{},{initialInputValues:m}),d.default.on("loaded",(function(){k.default.dispatch((0,w.loaded)())})),Y.historyAPI.listen((function(e,t){!function(e,t){var a,r,n,o=k.default.getState(),i=null!=(a=null===(r=e.state)||void 0===r?void 0:r.aviaParams)?a:null,l=(0,M.selectIsAutosearchEnabled)(O.default);if("PUSH"===t&&i&&"formChange"===(null===(n=e.state)||void 0===n?void 0:n.type)&&k.default.dispatch((0,S.updateBrowserHistoryState)(e.state.aviaParams)),"POP"===t){if(window.isSearchPage=0===e.pathname.indexOf("/search"),!window.isSearchPage){var s,u,d=(null==i?void 0:i.segments)&&(0,B.isOpenJaw)(null==i?void 0:i.segments),p=(0,c.parse)(e.search),m=(0,A.getActiveForm)(o),h=(0,H.getIsSearchStarted)(o),v=(0,L.getPopupIsOpen)(o,V.SERP_IN_MODAL),g=("search"===(null==e||null===(s=e.state)||void 0===s?void 0:s.type)||(null==p?void 0:p.with_request))&&!v;if(!l&&h&&k.default.dispatch((0,_.clearSearch)()),g)return k.default.dispatch((0,S.updateBrowserHistory)(e,t));if("formChange"!==(null===(u=e.state)||void 0===u?void 0:u.type)||!i)return;var y=(0,W.getBrowserHistoryState)(o),w=!y||!(0,f.default)((0,z.makeSegmentsComparable)(y),(0,z.makeSegmentsComparable)(i));return d||"multiway"!==m?("multiway"===m&&w&&(k.default.dispatch((0,x.updateMultiwayParams)(i)),k.default.dispatch((0,S.updateBrowserHistoryState)(i))),d&&"avia"===m?k.default.dispatch((0,R.updateActiveForm)("multiway")):void("avia"===m&&w&&(k.default.dispatch((0,F.updateAviaParams)(i)),k.default.dispatch((0,S.updateBrowserHistoryState)(i))))):k.default.dispatch((0,R.updateActiveForm)("avia"))}try{var E,T;if("search"!==(null===(E=e.state)||void 0===E?void 0:E.type))return;var D=(0,b.default)(window.location.pathname),j=null===(T=o.searchParams)||void 0===T?void 0:T.formParams,N=(0,C.default)(D),G=(0,C.default)(j),Y=o.currentPage;N===G&&"search"===Y||(k.default.dispatch((0,I.reachGoal)("SEARCH_HISTORY_POP",{prev_url:G,new_url:N})),k.default.dispatch((0,S.updateBrowserHistory)(e,t)))}catch(e){P.default.error("Could not start search by pop state",e)}}}(e,t),k.default.dispatch((0,j.parsePathnameAndUpdateCurrentPage)())})),p.default.on("start_search",(function(e){k.default.dispatch((0,_.startSearchFromStandaloneNodes)(e))})),"search"!==(null===(a=Y.historyAPI.location)||void 0===a||null===(r=a.state)||void 0===r?void 0:r.type)&&k.default.dispatch((0,S.updateBrowserHistoryState)(null!=(s=null===(u=Y.historyAPI.location.state)||void 0===u?void 0:u.aviaParams)?s:null));var h=y.default.marker();return k.default.dispatch((0,N.updateMarker)(h)),n}return(0,o.default)(t,e),t.prototype.render=function(){var e=O.default.get("avs-feat-linksAboveForm"),t={avia:this.params.avia,multiway:this.params.multiway,hotel:this.params.hotel,business:{link:null!=e&&e.business?(null==e?void 0:e.business)+"&utm_medium=button":void 0}},a=q.POSSIBLY_VISIBLE_LINKS.filter((function(t){return Object.keys(e).includes(t)})),r=[].concat(q.ALWAYS_VISIBLE_FORM_TABS,a),n=(0,g.getFormTabsData)(r,t);return i.default.createElement(s.Provider,{store:k.default},i.default.createElement(h.default,{i18n:this.props.globalI18n,localeContext:this.props.localizerContext},i.default.createElement(U.default,{tabs:n,pageParams:this.params,initTime:performance.now()})))},t}(i.default.PureComponent),X=(0,T.withFlagr)(O.default,["avs-feat-linksAboveForm"])(Z),J=(0,u.withTranslation)(["form_tabs"])(X);t.Z=function(e){!function(){try{var e=window.location.search;void 0!==(0,c.parse)(e).showLanguages&&m.default.set("showLanguages",!0)}catch(e){}}(),(0,G.loadLocalizerContext)(document.documentElement.lang).then((function(t){l.default.render(i.default.createElement(J,{globalI18n:window.i18nextResources,localizerContext:t}),e)}))}},942364:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.HotelsCashbackInformerContainer=void 0;var n=r(a(797972)),o=a(593462),i=a(249862);t.HotelsCashbackInformerContainer=function(){var e=(0,i.useHotelTabCashbackText)(),t=(0,i.useIsGeniusLogoVisible)(),a=(0,i.useCashbackClickAction)();return e?"button"===a.type?n.default.createElement(o.HotelsCashbackInformer,{text:e,isGeniusLogoVisible:t,onClick:a.onClick}):n.default.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(o.HotelsCashbackInformer,{text:e,isGeniusLogoVisible:t})):null}},738735:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.HotelsPremiumTitlesContainer=void 0;var n=r(a(797972)),o=r(a(225385)),i=a(794272),l=a(249862),s=a(942364);a(265471);var u=(0,o.default)("page-header"),c=(0,o.default)("header");t.HotelsPremiumTitlesContainer=function(e){var t=e.mainTitleTag,a=(0,l.useHotelTabTitle)();return n.default.createElement("div",{className:u("titles")},n.default.createElement(i.BrandText,{type:i.BrandTextType.Hero3Bold,transformOnMobile:!0,className:c("title"),tag:t},a),n.default.createElement(s.HotelsCashbackInformerContainer,null))}},70576:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TitlesContainer",{enumerable:!0,get:function(){return r.TitlesContainer}});var r=a(535801)},535801:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TitlesContainer=void 0;var n=r(a(797972)),o=r(a(225385)),i=a(249862),l=a(738735);a(265471);var s=(0,o.default)("page-header"),u=function(e){var t=e.mainTitleTag,a=e.tabParams;if(a.HTMLTitle)return n.default.createElement("div",{dangerouslySetInnerHTML:{__html:a.HTMLTitle}});var r=t;return n.default.createElement(r,{className:"header__title",dangerouslySetInnerHTML:{__html:a.mainTitle}})};t.TitlesContainer=function(e){var t=e.tabParams,a=e.mainTitleTag,r=void 0===a?"h1":a,o=(0,i.useIsHotelCashbackInformerEnabled)();return"hotel"===t.type&&o?n.default.createElement(l.HotelsPremiumTitlesContainer,{mainTitleTag:r}):n.default.createElement("div",{className:s("titles")},n.default.createElement(u,{mainTitleTag:r,tabParams:t}),n.default.createElement("strong",{className:"header__title-form"},t.callToAction))}},249862:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useIsHotelCashbackInformerEnabled=t.useIsGeniusLogoVisible=t.useHotelTabTitle=t.useHotelTabCashbackText=t.useCashbackClickAction=void 0;var n=a(797972),o=a(896911),i=a(445549),l=a(937435),s=a(863974),u=a(785843),c=a(452130),d=a(825586),p=a(739441),f=r(a(702944)),m=a(754266),h=a(958227),v=r(a(633869)),g=["ua","kz","uz","kg","az","tj"],y="premium_landing_showed",b=function(e){return g.includes(e)},C=s.userService.$isUserHasPremiumSubscription,P=s.userService.$isAuthorized,w=s.userService.$hotelPartner,k=function(){var e=(0,p.useFlagReady)({flagName:"prem-feat-showPremium"}).isFlagReady,t=f.default.get("prem-feat-showPremium","variantAttachment");return Boolean(e&&(null==t?void 0:t.hotelsTab))};t.useIsHotelCashbackInformerEnabled=k,t.useHotelTabTitle=function(){var e=(0,i.useTranslation)(["premium_hotels","common"]).t,t=(0,c.getMarket)(),a=(0,l.useIsMobile)(),r=(0,o.useStore)(u.$isAviasales),n=(0,o.useStore)(u.$isWayaway),s=(0,o.useStore)(C),p=(0,o.useStore)(w),f=e("common:hotelPartners.su."+p),m=e("common:hotelPartners.pr."+p),h="ru"===t,v=b(t),g=p===d.HotelPartner.Tvil;return r&&h?a?f:e(g?s?"premium_hotels:apartmentsWithCashbackOn":"premium_hotels:searchApartments":s?"premium_hotels:hotelsWithCashbackOn":"premium_hotels:searchHotels",{hotelPartner:m}):r&&v?a?f:e("premium_hotels:hotelsWithCashbackOn",{hotelPartner:m}):n?e(s&&!a?"premium_hotels:hotelsWithCashbackOn":"premium_hotels:hotelsOn",{hotelPartner:m}):null},t.useHotelTabCashbackText=function(){var e=(0,i.useTranslation)(["premium_hotels","common"]).t,t=(0,c.getMarket)(),a=(0,l.useIsMobile)(),r=(0,o.useStore)(u.$isAviasales),n=(0,o.useStore)(u.$isWayaway),s=(0,o.useStore)(C),p=(0,o.useStore)(P),f="ru"===t,m=b(t),h=k(),v=(0,o.useStore)(w),g=v===d.HotelPartner.Tvil,y=v===d.HotelPartner.Yandex,E=v===d.HotelPartner.Ostrovok;return h?y?null:r&&f?s?e("premium_hotels:howToGetCashback2"):a?e("premium_hotels:howToGetCashback"):g?e("premium_hotels:howToBookWithCashbackUpTo",{cashbackRate:10}):E?e("premium_hotels:howToBookWithCashback",{cashbackRate:7}):e("premium_hotels:howToBookWithCashbackUpTo",{cashbackRate:10}):r&&m?p?e("premium_hotels:cashbackRate",{cashbackRate:5}):e("premium_hotels:howToGetCashback"):n?a?e("premium_hotels:howToGetCashbackOrDiscount"):e("premium_hotels:saveUpTo",{cashbackRate:20,brandName:"WayAway Plus"}):null:null},t.useIsGeniusLogoVisible=function(){var e=(0,c.getMarket)(),t=(0,o.useStore)(u.$isAviasales),a=b(e);return!(!t||!a)},t.useCashbackClickAction=function(){var e=(0,c.getMarket)(),t=(0,o.useStore)(u.$isAviasales),a=(0,o.useStore)(u.$isWayaway),r="ru"===e,i=b(e),l=(0,o.useStore)(P),d=(0,o.useStore)(C),p=Boolean(v.default.getItem(y)),f=(0,o.useStore)(s.userService.$premiumHotelPartnerRulesUrls),g=(0,o.useStore)(w),k=null==f?void 0:f[g],E=(0,n.useCallback)((function(){v.default.setItem(y,"1"),(0,m.emitSeleneEvent)({type:"service/helios/premium/pay_show_called",payload:h.PayShowEnvironment.HotelsTab})}),[]);return t&&r&&!d||t&&i&&!l||t&&i&&l&&!p||a&&!d?{type:"button",onClick:E}:{type:"link",url:k}}},247533:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PageHeader=void 0;var n=r(a(101339)),o=r(a(947981)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=E(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),l=a(148001),s=a(224562),u=r(a(225385)),c=r(a(476993)),d=a(740358),p=r(a(34790)),f=a(718123),m=r(a(702944)),h=a(977485),v=a(405628),g=a(424319),y=a(440661),b=a(641631),C=a(166058),P=a(754266),w=a(568082),k=a(70576);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(E=function(e){return e?a:t})(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(265471);var T=(0,u.default)("page-header"),S=function(e){function t(t){var a;return(a=e.call(this,t)||this).pageContentRef=void 0,a.unsubscribeFromSeleneEvents=void 0,a.pageContentRef=i.createRef(),a.state={isHeliosFormVisible:!0},(0,C.setNameToAnywherePlace)(),a}(0,o.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e,t=this;this.props.isSeleneFormEnabled&&(0,P.listenSeleneEvent)("service/helios/form/showSeleneForm",(function(){t.setState({isHeliosFormVisible:!1})})).then((function(e){t.unsubscribeFromSeleneEvents=e})),this.props.setHeaderInitialReducedState&&this.props.setHeaderInitialReducedState(),this.pageContentRef.current=null===(e=window.document.getElementsByClassName("page__content"))||void 0===e?void 0:e[0]},a.componentWillUnmount=function(){this.unsubscribeFromSeleneEvents&&this.unsubscribeFromSeleneEvents()},a.renderBanner=function(){var e,t,a,r=this.props,n=r.formParams,o=r.isRussianGeoIp,s=r.isExploreFlow,u=r.isCompact,d=null===(e=n.avia)||void 0===e||null===(t=e.segments)||void 0===t||null===(a=t.map((function(e){var t,a;return""+(null==e||null===(t=e.origin)||void 0===t?void 0:t.iata)+(null==e||null===(a=e.destination)||void 0===a?void 0:a.iata)})))||void 0===a?void 0:a.join(",");return u&&o&&s&&this.pageContentRef.current?(0,l.createPortal)(i.createElement("div",{className:T("bottom","--explore")},i.createElement(c.default,{key:d,isRussianGeoIp:!0})),this.pageContentRef.current):u?null:i.createElement("div",{className:T("bottom")},!s&&i.createElement(c.default,{isRussianGeoIp:!0}))},a.render=function(){var e=this.props,t=e.mainTitleTag,a=e.tabs,r=e.tabsRef,n=e.formTabs,o=e.explosionFormTabs,l=e.activeForm,s=e.isCompact,u=e.isSeleneFormEnabled,c=e.isProductHuntBadgeEnabled,f=a[l];if(!f)return null;var m=c&&!s,h=this.state.isHeliosFormVisible?m&&"avia"===l:m;return i.createElement("div",{className:T(null,{"--compact":Boolean(s)}),"data-test-id":s?"page-header-compact":"page-header"},i.createElement("div",{className:T("form-set")},!s&&i.createElement(k.TitlesContainer,{mainTitleTag:t,tabParams:f}),this.state.isHeliosFormVisible&&i.createElement(i.Fragment,null,i.createElement("div",{className:T("tabs"),ref:r},i.createElement(p.default,{tabs:s?n:o,showOnSticky:!1})),i.createElement("div",{className:T("form")},i.createElement(d.FormsResolver,{activeForm:this.props.activeForm,isDarkTheme:this.props.isDarkTheme,initialInputValues:this.props.initialInputValues,deviceSearchId:this.props.deviceSearchId,onCollapse:this.props.onFormCollapse,formParams:this.props.formParams,isStickyHeader:this.props.isStickyHeader,reachGoal:this.props.reachGoal,isFormCollapsable:this.props.isFormCollapsable}))),h&&i.createElement(w.SeleneWidget,{name:"product_hunt_badge"}),u&&i.createElement("div",{className:T("selene-form",{visible:!this.state.isHeliosFormVisible})},i.createElement(w.SeleneWidget,{name:"form"}))),this.renderBanner())},t}(i.Component);t.PageHeader=S;var D=(0,s.connect)((function(e){var t=e.userTheme;return M(M({},e.pageHeader),{},{formParams:{avia:e.aviaParams,multiway:e.multiwayParams},deviceSearchId:(0,g.getDeviceSearchId)(e),isExploreFlow:(0,v.selectHasMainContent)(m.default)||(0,v.selectIsPremiumBannerEnabled)(m.default),isDarkTheme:t===b.UserTheme.DARK,isRussianGeoIp:(0,y.checkIfGeoIpIsRussian)(e),isSeleneFormEnabled:(0,v.selectIsSeleneFormEnabled)(m.default),isProductHuntBadgeEnabled:(0,v.selectIsProductHuntBadgeEnabled)(m.default)})}),(function(e){return{reachGoal:function(t,a){return e((0,f.reachGoal)(t,a))},setHeaderInitialReducedState:function(){return e((0,h.updatePageHeaderReducedState)())}}}))(S);t.default=D},412085:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(101339)),o=r(a(510984)),i=r(a(587273));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={hideHeader:"--hide-header",hideMultiway:"--hide-multiway",stickyHeader:"--is-sticky-header",stickyTabs:"is-sticky"},c=function(){function e(e){var t=this;this.classes=u,this.scrollTimeout=void 0,this.lastScrollY=0,this.isShowHeader=!0,this.isShowMultiway=!0,this.showExplosion=!1,this.isStickyHeader=!1,this.isStickyTabs=!1,this.params=void 0,this.setStickyTabs=(0,o.default)(100,(function(){t.params.tabsRef&&t.params.tabsRef.current&&t.params.onStickyTabsChange&&(t.params.tabsRef.current.getBoundingClientRect().top<=-40?(!t.isStickyTabs&&t.params.onStickyTabsChange&&(document.body.classList.add(t.classes.stickyTabs),t.params.onStickyTabsChange(!0)),t.isStickyTabs=!0):(t.isStickyTabs&&t.params.onStickyTabsChange&&(document.body.classList.remove(t.classes.stickyTabs),t.params.onStickyTabsChange(!1)),t.isStickyTabs=!1))})),this.handleScroll=function(e){if(t.setStickyTabs(),t.showExplosion)return i.default.matches("tablet, desktop")&&((window.scrollY||window.pageYOffset)>50?(document.body.classList.add(t.classes.stickyHeader),!t.isStickyHeader&&t.params.onStickyHeaderChange&&t.params.onStickyHeaderChange(!0),t.isStickyHeader=!0):(document.body.classList.remove(t.classes.stickyHeader),t.isStickyHeader&&t.params.onStickyHeaderChange&&t.params.onStickyHeaderChange(!1),t.isStickyHeader=!1)),window.cancelAnimationFrame(t.scrollTimeout),t.scrollTimeout=window.requestAnimationFrame((function(){var e;if(!(t.lastScrollY===window.pageYOffset||Math.abs(window.pageYOffset-t.lastScrollY)<30)){e=t.lastScrollY<window.pageYOffset;var a=!0,r=!1;return window.pageYOffset>0&&e&&(a=!1),window.pageYOffset<100&&(r=!0),t.isShowHeader!==a&&(t.isShowHeader=a,a?document.body.classList.remove(t.classes.hideHeader):document.body.classList.add(t.classes.hideHeader)),t.isShowMultiway!==r&&(t.isShowMultiway=r,r?document.body.classList.remove(t.classes.hideMultiway):document.body.classList.add(t.classes.hideMultiway)),t.lastScrollY=window.pageYOffset}}))},this.updateParams(e),this.params=e,window.addEventListener("scroll",this.handleScroll)}var t=e.prototype;return t.unsubscribe=function(){window.removeEventListener("scroll",this.handleScroll),window.cancelAnimationFrame(this.scrollTimeout),document.body.classList.remove(this.classes.hideHeader),document.body.classList.remove(this.classes.hideMultiway),document.body.classList.remove(this.classes.stickyHeader),document.body.classList.remove(this.classes.stickyTabs)},t.updateParams=function(e){var t=e.classes?e.classes:{};this.classes=s(s({},u),t),void 0!==e.showExplosion&&(this.showExplosion=e.showExplosion)},e}();t.default=c},237617:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useFlagrLanguagesEqual=f,t.useMobileViewport=m,t.usePoletelyPromoEnabled=p,t.useVisible=function(){var e=p(),t=f(),a=m();return e&&t&&!a};var n=a(797972),o=a(224562),i=a(757418),l=a(385509),s=a(688012),u=a(825310),c=a(405628),d=r(a(702944));function p(){var e=(0,o.useSelector)(u.getCurrentPage),t=(0,c.selectIsPoletelyPromoEnabled)(d.default);return"main"===e&&t}function f(){var e;return(0,n.useMemo)((function(){var e;return null===(e=d.default.getBasicContext())||void 0===e?void 0:e.lang}),[])===(null===(e=d.default.getBasicContext())||void 0===e?void 0:e.lang)}function m(){var e=(0,i.useCurrentBreakpoint)(l.breakpoints);return null==e?void 0:e.is([s.BreakpointName.Mobile,s.BreakpointName.MobileLandscape])}},894781:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PoletelyPromoWidget=void 0;var n=r(a(797972)),o=a(237617),i=a(172796),l=r(a(248529));t.PoletelyPromoWidget=function(){return(0,o.useVisible)()?n.default.createElement("div",{className:l.default.root},n.default.createElement(i.PoletelyPromoView,null)):null}},172796:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PoletelyPromoView=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(224562),i=a(445549),l=a(812619),s=a(231364),u=a(463854),c=a(387758),d=a(392220),p=a(282897),f=a(155879),m=r(a(934010));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}t.PoletelyPromoView=function(){var e=(0,i.useTranslation)("poletely_promo").t,t=(0,o.useDispatch)();(0,n.useEffect)((function(){t((0,p.showPoletelyPromo)())}),[t]);var a=(0,n.useCallback)((function(){t((0,p.openPoletelyPromoLandingPage)())}),[t]);return n.default.createElement(l.CSSTransition,{timeout:{appear:500,enter:500},classNames:{appearActive:m.default.appearActive,enterActive:m.default.enterActive,enterDone:m.default.enterDone},appear:!0,in:!0},n.default.createElement(d.Button,{href:f.PROMO_PAGE_URL.UA,mod:d.ButtonMod.Link,size:d.ButtonSize.Custom,className:m.default.root,onClick:a,target:"_blank",rel:"noreferrer noopener",inline:!0},n.default.createElement(s.EmojiGlobe,{className:m.default.emoji}),n.default.createElement("div",{className:m.default.content},n.default.createElement(u.Text,{type:u.TextType.Body2Semi,className:m.default.title},e("title")),n.default.createElement("div",{className:m.default.followLink},n.default.createElement(u.Text,{type:u.TextType.Body2Semi},e("followLink")),n.default.createElement(c.Icon16ControlsLaunch,{className:m.default.followLinkIcon})))))}},155879:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROMO_PAGE_URL=t.EarthEmoji=void 0,t.EarthEmoji="🌎",t.PROMO_PAGE_URL={UA:"https://poletily.aviasales.ua/"}},884571:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useExplosionEffects=void 0;var n=a(797972),o=r(a(303596)),i=r(a(412085)),l=document.documentElement;t.useExplosionEffects=function(e,t,a,r,s){var u;(0,n.useEffect)((function(){return e.showExplosion&&(0,o.default)(),u?u.updateParams({showExplosion:e.showExplosion}):u=new i.default({tabsRef:a,showExplosion:e.showExplosion,onStickyTabsChange:r,onStickyHeaderChange:s}),"search"===e.currentPage||e.showExplosion?(e.rootElement&&e.rootElement.classList.remove("--main-page-form"),l.classList.remove("--home","--user"),l.classList.add("--serp")):(l.classList.remove("--serp"),e.rootElement&&"main"===e.currentPage&&e.rootElement.classList.add("--main-page-form"),"main"===e.currentPage&&l.classList.add("--home"),"user_account"===e.currentPage&&l.classList.add("--user"),e.isPriceMap?l.classList.add("price-map"):l.classList.remove("price-map")),function(){u.unsubscribe()}}),[e.showExplosion,e.currentPage,t,e.isPriceMap])}},251813:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useUnsubscribeDialog=void 0;var r=a(797972),n=a(224562),o=a(445549),i=a(520072),l=a(841511),s=a(742029),u=a(26817);t.useUnsubscribeDialog=function(){var e=(0,o.useTranslation)("avia_form").t,t=(0,n.useDispatch)();return{t:e,isOpen:(0,n.useSelector)((function(e){return(0,s.getPopupIsOpen)(e,u.UNSUBSCRIBE_DIALOG)})),handleConfirmDelete:(0,r.useCallback)((function(){t((0,i.closePopup)(u.UNSUBSCRIBE_DIALOG)),t((0,l.followThePrice)())}),[t]),handleCancelDelete:(0,r.useCallback)((function(){t((0,i.closePopup)(u.UNSUBSCRIBE_DIALOG))}),[t])}}},219535:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeDialog=void 0;var n=r(a(797972)),o=a(555362),i=a(561401),l=a(719731),s=a(862888),u=a(150455),c=a(251813),d=r(a(713517));t.UnsubscribeDialog=function(){var e=(0,c.useUnsubscribeDialog)(),t=e.t,a=e.isOpen,r=e.handleConfirmDelete,p=e.handleCancelDelete;return n.default.createElement(u.Dialog,{visible:a,padding:16},n.default.createElement("div",{className:d.default.dialogContent},n.default.createElement(o.Text,{type:i.TextType.Body1Bold},t("subscriptionDialog.title")),n.default.createElement(o.Text,{type:i.TextType.Body2Regular,className:d.default.dialogDescription},t("subscriptionDialog.description")),n.default.createElement("div",{className:d.default.dialogActions},n.default.createElement(l.Button,{type:"button",onClick:p,mod:s.ButtonMod.SecondaryOutline,size:s.ButtonSize.Medium},t("subscriptionDialog.cancel")),n.default.createElement(l.Button,{type:"button",onClick:r,mod:s.ButtonMod.Secondary,size:s.ButtonSize.Medium},t("subscriptionDialog.confirm")))))}},117720:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.flagrInitProccess=void 0,a(798297),a(993117),a(337719),a(745776),a(139303),a(216067),a(481106),a(522546),a(978425),a(192163),a(736273),a(930491),a(745316),a(221031),a(277962),a(329535),a(730304),a(315580),a(517978),a(732363),a(526898),a(566557),a(864413),a(431604),a(238237),a(465050),a(320893),a(466875),a(105563),a(341585),a(802247),a(188763),a(88550),a(624692),a(712709),a(645915),a(580595),a(932021),a(43481),a(97765),a(870963),a(399495),a(719008),a(771357),a(500206),a(252375),a(323508),a(787364),a(93928),a(377293),a(244535),a(482284),a(790564),a(688598),a(832973),a(211319),a(819024),a(931029),a(440157),a(953525),a(586510),a(768975),a(907787),a(708994),a(992880),a(273642),a(25961),a(696381),a(499746),a(73684),a(569532),a(492840),a(737993),a(336543),a(148474),a(495645),a(499762),a(972075),a(174113),a(959723),a(178865),a(734488),a(10747),a(128294),a(766345),a(732283),a(589970),a(845114),a(10425),a(752063),a(344856),a(142520),a(210288),a(63965),a(615412),a(753268),a(375587),a(372976),a(6088),a(345005),a(97383),a(29339),a(504124),a(88502),a(981769),a(842634),a(289136),a(168226),a(354522),a(732694),a(729145),a(154317),a(938463),a(982172),a(318884),a(67062),a(906503),a(681586),a(419946),a(884712),a(216527),a(377351),a(513950),a(146851),a(410213),a(493292),a(863505),a(301984),a(764884),a(210653),a(138976),a(524598),a(797362),a(152429),a(367200),a(735228),a(944120),a(685117),a(904487),a(853600),a(126834),a(886750),a(235878),a(535316),a(90298),a(671137),a(729281),a(570720),a(949731),a(523038),a(778360),a(804554),a(119225),a(173109),a(595831),a(191706),a(247620),a(891466),a(466938),a(568584),a(482599),a(509600),a(229774),a(436453),a(392309),a(969506),a(722900),a(33766),a(690796),a(272723),a(572499),a(650019),a(153764),a(777578),a(620405),a(323765),a(274040),a(564889),a(478722),a(778526),a(294030),a(723457),a(803185),a(72581),a(748382);var n=r(a(702944)),o=a(808460),i={lang:(document.documentElement.getAttribute("lang")||"ru").toLowerCase(),host:(document.documentElement.getAttribute("data-host")||"RU").toLowerCase(),market:(document.documentElement.getAttribute("data-market")||"ru").toLowerCase(),currency:(document.documentElement.getAttribute("data-currency")||"RUB").toLowerCase(),domain:window.location.hostname.replace("www.","").toLowerCase(),auid:(0,o.readAuid)()},l=n.default.onOnce("update",(function(e,t){window.updatedData={keys:e,isAll:t}})).updateBasicContext(i);t.flagrInitProccess=l},785220:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),l=r(a(225385)),s=a(445549),u=r(a(861233)),c=a(348131),d=a(70303);a(436917);var p=r(a(702944)),f=a(663579),m=r(a(374642));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}var v=(0,l.default)("additional-fields"),g={avia:"avia_form",multiway:"multiwayForm",hotel:"hotel"},y=(0,f.withFlagr)(p.default,["avs-feat-uzPayment","avs-feat-tripClasses"])((function(e){var t,a,r=(0,i.useState)(!1),l=(0,o.default)(r,2),f=l[0],h=l[1],y=(0,s.useTranslation)().t,b=e.adults,C=e.children,P=e.onPassengersChange,w=e.formType,k=e.infants,E=e.onChildrenAgeChange,O=e.onTripClassChange,M=e.reachGoal,T=(0,i.useCallback)((function(e,t){M&&M(g[w]+"--"+e,t)}),[M,w]),S=(0,i.useState)(e.childrenAge||[]),D=(0,o.default)(S,2),_=D[0],I=D[1],j=(0,i.useCallback)((function(e,t){var a,r=(0,u.default)(_,((a={})[e]={$set:t},a));I(r)}),[_]),N=(0,i.useState)({adults:b,children:C,infants:k}),F=(0,o.default)(N,2),x=F[0],A=F[1];(0,i.useEffect)((function(){A({adults:b,children:C,infants:k})}),[b,C,k]);var R=(0,i.useMemo)((function(){return x.adults+x.children+(x.infants||0)}),[x]),B=(0,i.useCallback)((function(e,t){var a,r=(0,u.default)(x,((a={})[e]={$set:t},a));if(A(r),"children"===e){for(var n=[],o=0;o<t;o+=1){var i;n.push(null!=(i=_[o])?i:7)}I(n)}}),[_,x]),L=(0,i.useRef)(e.tripClass),V=(0,i.useState)(L.current),W=(0,o.default)(V,2),H=W[0],z=W[1];(0,i.useEffect)((function(){e.tripClass!==L.current&&(L.current=e.tripClass,z(e.tripClass))}),[e.tripClass]);var G=(0,i.useCallback)((function(e){var t=e.currentTarget.value;z(t),T("tripClass--click",{tripClass:t})}),[T]),Y=(0,i.useCallback)((function(e){h(e),T("passengersDropdown--"+(e?"open":"close")),e||(P(x),O&&H&&O(H),E&&_&&E(_))}),[T,P,x,O,H,E,_]),U=(0,i.useCallback)((function(e){e.preventDefault(),P(x),O&&H&&O(H),E&&_&&E(_),h(!1)}),[P,E,x,_,O,H]),q=(0,i.useCallback)((function(){return Y(!1)}),[Y]),$=(0,i.useCallback)((function(){return Y(!f)}),[Y,f]),Q=p.default.get("avs-feat-tripClasses").tripClasses,K=i.default.createElement("div",{className:v("inner-wrap"),"data-test-id":"passengers-inner-field"},i.default.createElement(m.default,(0,n.default)({},x,{onChange:B,onChildrenAgeChange:j,childrenAge:_,eventCategory:g[w],isHotel:"hotel"===w})),"hotel"!==w&&i.default.createElement("div",{className:v("trip-class")},Q.map((function(e){return i.default.createElement("div",{key:e.code},i.default.createElement(d.CustomRadio,{value:e.code,inputId:"additional-fields-"+e.code,name:e.name,caption:y("additional_form_fields:tripClasses.codes."+e.code),active:H===e.code,modifiers:["--additional-fields","--"+e.name.toLowerCase()],onChange:G,testId:"tripclass-"+e.name.toLowerCase()}))}))),i.default.createElement("button",{className:v("done-button"),onClick:U},y("avia_form:done"))),Z=p.default.is("avs-feat-uzPayment")?y("additional_form_fields:passengers"):y("additional_form_fields:passengersAndClass");return"hotel"===w&&(Z=y("hotels_form:guestsTitle")),i.default.createElement(c.DropdownOrModal,{visible:f,dropdownContent:K,onClose:q,hideArrow:!0,modalHeader:y("additional_form_fields:passengers"),className:v("dropdown-container"),contentClassName:v("dropdown-inner",(t={},t["--"+w]=!0,t))},i.default.createElement("div",{className:v(null,(a={"--is-opened":f},a["--"+w]=!0,a)),onClick:$,"data-test-id":"passengers-field"},i.default.createElement("div",{className:v("label-hint")},Z),"avia"===w||"multiway"===w?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:v("label")},y("additional_form_fields:passengersLabelCount",{count:R})),i.default.createElement("div",{className:v("label",{"--is-gray":!0})},y("additional_form_fields:tripClasses.codes."+H).toLowerCase())):i.default.createElement("div",{className:v("label",{"--is-hotel":!0})},y("hotels_form:guestsCount",{count:R}))))}));t.default=y},439918:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,r,n=e.inputValue,i=e.items,d=e.historyItems,m=(0,l.default)(e,["inputValue","items","historyItems"]),h=function(e,t){return e.reduce((function(t,a){return"history"===a.type?function(e,t){return(0,u.default)(e,{2:{places:{$push:[t]}}})}(t,a):function(t,a){switch(a.type){case y.PlaceType.Airport:return a.inMetropolis?t:(0,u.default)(t,{0:{places:{$push:[a]}}});case y.PlaceType.City:var r=e.filter((function(e){return e.cityIata===a.iata}));return(0,u.default)(t,{0:{places:{$push:[a].concat(r)}}});case y.PlaceType.Country:return(0,u.default)(t,{1:{places:{$push:[a]}}});case y.PlaceType.HotelCity:case y.PlaceType.NationalPark:return(0,u.default)(t,{0:{places:{$push:[a]}}});case y.PlaceType.Hotel:return(0,u.default)(t,{3:{places:{$push:[a]}}});default:return t}}(t,a)}),[{key:"cities",title:f.default.t("avia_form:citiesAndAirports"),places:[]},{key:"countries",title:f.default.t("avia_form:countries"),places:[]},{key:"history",title:f.default.t("avia_form:searchHistory"),places:[]},{key:"hotels",title:f.default.t("hotels_form:hotels"),places:[]},{key:"anywhere",title:"",places:[b.ANYWHERE]}]).filter((function(e){return"anywhere"===e.key?t:e.places.length}))}([].concat(i,d),m.allowOpenSearch);return(0,p.useTranslation)(["avia_form","hotels_form","additional_form_fields"]),s.useEffect((function(){(0,P.lozadObserve)()})),s.createElement(c.default,(0,o.default)({id:m.type},m,{inputValue:n,initialInputValue:(null===(t=m.initialInputState)||void 0===t?void 0:t.value)||m.selectedItem.name,onStateChange:function(e){var t;(null===(t=e.selectedItem)||void 0===t?void 0:t.type)!==y.PlaceType.Anywhere&&e.hasOwnProperty("inputValue")&&m.onStateChange(e.inputValue||"",e.selectedItem)},initialIsOpen:Boolean(null===(a=m.initialInputState)||void 0===a?void 0:a.value)&&(null===(r=m.initialInputState)||void 0===r?void 0:r.hasFocus),stateReducer:function(e,t){var a=S({inputValue:e.inputValue},t);return t.hasOwnProperty("highlightedIndex")||(a=S(S({},a),{},{highlightedIndex:null})),a},itemToString:function(e){return(null==e?void 0:e.name)||""}}),(function(e){var t,a,r,n,i,l,u,c=0;return s.createElement("div",{className:D(null,(t={},t["--"+m.type]=!0,t))},s.createElement("div",{className:D("input-wrapper",{"--error":!!m.error}),"data-error-message":m.error&&m.error.message,"data-test-id":"autocomplete-"+m.type},s.createElement(k.default,(0,o.default)({},e.getInputProps(),{id:m.type,forwardedRef:m.forwardedRef,placeholder:m.placeholder,className:D("input"),initialInputState:m.initialInputState,autoFocus:null===(a=m.initialInputState)||void 0===a?void 0:a.hasFocus,onBlur:function(){e.closeMenu(),m.onBlur(e.inputValue)},onFocus:function(){""===e.inputValue&&d.length>0&&e.openMenu(),m.onFocus()},onFocusCapture:m.onFocusCapture,helpers:e.getInputProps(),value:e.inputValue||"",onChange:e.getInputProps().onChange})),s.createElement("label",(0,o.default)({className:D("label",{"--filled":Boolean(null===(r=e.selectedItem)||void 0===r?void 0:r.name)})},e.getLabelProps()),m.placeholder),s.createElement("span",{className:D("iata")},(null===(n=e.selectedItem)||void 0===n?void 0:n.type)!==y.PlaceType.Hotel&&(null===(i=e.selectedItem)||void 0===i?void 0:i.type)!==y.PlaceType.NationalPark&&(null===(l=e.selectedItem)||void 0===l?void 0:l.name)&&(null===(u=e.selectedItem)||void 0===u?void 0:u.iata))),e.isOpen&&h.length?s.createElement("div",{className:D("dropdown"),"data-test-id":"autocomplete-dropdown"},h.map((function(t){return s.createElement("section",{key:t.key},I(t,h),t.places.map((function(t){var a,r=c++,n=function(e){return e.type===y.PlaceType.History?e.createdAt:e.type===y.PlaceType.Anywhere?"anywhere":e.iata?e.type+"-"+e.iata:e.type+"-"+e.name}(t);return s.createElement("div",(0,o.default)({key:n,"data-test-id":"suggest-"+n},e.getItemProps({item:t,className:D("item",(a={"--active":e.highlightedIndex===r,"--indent":!!t.inMetropolis},a["--"+t.type]=!0,a))})),s.createElement(j,{item:t,query:e.inputValue}))})))}))):null)}))};var n=r(a(114558)),o=r(a(435850)),i=r(a(101339)),l=r(a(377754)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),u=r(a(861233)),c=r(a(148756)),d=r(a(225385)),p=a(445549),f=r(a(275347)),m=a(2948),h=a(662972),v=r(a(702944)),g=a(405628),y=a(543358),b=a(255285),C=r(a(681854)),P=a(338958),w=a(490546),k=r(a(579028)),E=a(149739),O=a(565569);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=(0,d.default)("autocomplete"),_=function(e){var t=e.query,a=e.name,r=new RegExp("("+(0,E.escapeRegExp)(String(t))+")","gi"),o=a.split(r);switch(o.length){case 3:var i=(0,n.default)(o,3),l=i[0],u=i[1],c=i[2];return s.createElement(s.Fragment,null,s.createElement("span",null,l),s.createElement("span",{className:D("suggestion-highlight")},u),s.createElement("span",null,c));case 0:return s.createElement("span",null,a);default:return s.createElement("span",null,o.join(""))}},I=function(e,t){if(!e.title)return null;var a="history"===e.key,r="hotels"===e.key;return a||t.length>2||t.length>1&&r?s.createElement("div",{className:D("section-title")},e.title):null},j=function(e){var t=e.item,a=e.query;return"history"===t.type?N(t):function(e){var t=e.item,a=e.query,r=s.createElement(_,{name:t.name,query:a});switch(t.type){case y.PlaceType.Airport:return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-icon","--airport")}),s.createElement("div",{className:D("suggestion-info"),title:t.name+", "+t.countryName},s.createElement("span",{className:D("suggestion-main-name")},r,!t.inMetropolis&&s.createElement("span",null,", ")),!t.inMetropolis&&s.createElement("span",{className:D("suggestion-additional")},t.cityName)),s.createElement("div",{className:D("suggestion-hint")},t.iata));case y.PlaceType.City:return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-info"),title:t.name+", "+t.countryName},s.createElement("span",{className:D("suggestion-main-name")},r,s.createElement("span",null,", ")),s.createElement("span",{className:D("suggestion-additional")},t.countryName)),s.createElement("div",{className:D("suggestion-hint")},t.iata));case y.PlaceType.Country:return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-icon",["flag","--flag"])},s.createElement("img",{"data-src":(0,O.getStaticHost)("/helios-assets/flag/"+t.iata.toLocaleLowerCase()+".png")})),s.createElement("div",{className:D("suggestion-info"),title:""+t.name},r),s.createElement("div",{className:D("suggestion-hint")},t.iata));case y.PlaceType.Anywhere:var n=(0,g.selectIsTravelRestrictionsWidgetEnabled)(v.default);return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-icon")},s.createElement(h.Icon24CommonGlobe,null)),s.createElement("div",{className:D("suggestion-info"),title:f.default.t("avia_form:findTicketsAroundTheGlobe")},s.createElement("span",{className:D("suggestion-main-name")},f.default.t("avia_form:"+(n?"whereСan":"anywhere"))),s.createElement("span",{className:D("suggestion-additional","--anywhere")},f.default.t("avia_form:"+(n?"whereCanDescriptions":"anywhereDescriptions")))));case y.PlaceType.Hotel:return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-info"),title:t.name},s.createElement("span",{className:D("suggestion-main-name")},r,s.createElement("span",null,", ")),s.createElement("span",{className:D("suggestion-additional")},t.cityName)));case y.PlaceType.HotelCity:return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-info"),title:t.name},s.createElement("span",{className:D("suggestion-main-name")},r,s.createElement("span",null,", ")),s.createElement("span",{className:D("suggestion-additional")},t.countryName),s.createElement("div",{className:D("suggestion-hint","--hotels-hint")},f.default.t("hotels_form:hotelsCount",{count:t.hotelsCount}))));case y.PlaceType.NationalPark:return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-icon")},s.createElement(m.Icon24CommonPark,null)),s.createElement("div",{className:D("suggestion-info"),title:""+t.name},s.createElement("span",{className:D("suggestion-main-name")},r)));default:return t?s.createElement("span",null,"item.name"):null}}({item:t,query:a})},N=function(e){var t=e.passengers||b.DEFAULT_PASSENGERS,a=t.adults+t.children+t.infants,r=f.default.t("additional_form_fields:tripClasses.codes."+(0,w.checkTripClass)(e.tripClass));return s.createElement(s.Fragment,null,s.createElement("div",{className:D("suggestion-icon","--history")}),s.createElement("div",{className:D("suggestion-info"),title:e.originIata+" : "+e.destinationIata},s.createElement("span",{className:D("suggestion-main-name")},e.originCityIata||e.originIata," ",e.isOneWay?"→":"↔︎"," ",e.destinationCityIata||e.destinationIata),s.createElement("span",{className:D("suggestion-additional","--history")},e.date,", ",a,", ",r.toLowerCase())),s.createElement("div",{className:D("suggestion-hint")},s.createElement(C.default,{unifiedPrice:e.price})))}},435965:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(385882)),o=r(a(114558)),i=r(a(971410)),l=r(a(947981)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),u=a(445549),c=r(a(961977)),d=a(543358);a(342330);var p=r(a(55567)),f=r(a(439918)),m=a(255285),h=r(a(878835)),v=a(675575),g=r(a(946469));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var b=function(e){(0,l.default)(a,e),a.getDerivedStateFromProps=function(e,t){var a=e.searchHistory,r=e.type,n=e.siblingValue,o=void 0===n?m.DEFAULT_PLACE:n,i=e.maxVisibleLastSearches;return{historyItems:g.default.getHistoryItems(a||[],t.suggestions,r,o,t.inputValue,i)}};var t=a.prototype;function a(t){var a,r;(r=e.call(this,t)||this).fetcher=void 0,r.selectItem=(0,v.throttleWithOptions)(300,(function(e,t){r.setState({suggestions:[]}),r.props.forwardedRef.current&&r.props.forwardedRef.current.blur(),r.props.onSelect(e,t)}),{trailing:!1}),r.handleIsTyping=(0,c.default)(750,(function(){r.setState({isTyping:!1})})),r.handleSelect=function(e){e&&(r.selectItem(e,!0),r.props.reachGoal(r.props.type+"Suggestion--select"))},r.handleFocusCapture=function(e){var t,a;null===(t=(a=r.props).onFocusCapture)||void 0===t||t.call(a,e)},r.handleFocus=function(){r.setState({suggestions:[]}),(0,h.default)(55,(function(){var e=r.props.forwardedRef;e&&e.current&&e.current.setSelectionRange&&e.current.setSelectionRange(0,9999)})),r.props.reachGoal(r.props.type+"--focus"),r.props.onFocus&&r.props.onFocus()},r.handleBlur=function(e){if(!e)return r.selectItem(m.DEFAULT_PLACE,!1);if(r.state.suggestions.length){var t=p.default.getSuggestion(r.state.suggestions,e);t&&r.selectItem(t,!1)}else r.fetcher.isInProgress()?r.fetcher.onServerResponse((function(t){var a=p.default.getSuggestion(t,e);a&&r.selectItem(a,!1)})):r.props.value.name&&e&&r.props.value.name!==e&&r.handleInputChange(r.props.value.name);r.props.reachGoal(r.props.type+"--blur")},r.suggestString=function(){var e=(0,i.default)(n.default.mark((function e(t,a){var i,l,s,u,c;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.fetcher.performRequest(t);case 4:i=e.sent,l=(0,o.default)(i,2),s=l[0],u=l[1],"ok"===s&&((c=p.default.getSuggestion(u,t,a))&&c.type!==d.PlaceType.Hotel?r.props.onSelect(c,!1):r.props.onSelect(m.DEFAULT_PLACE,!1));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.isFocused=function(){return r.props.forwardedRef.current===document.activeElement},r.checkExactlyMatchAndSelectItem=function(){var e,t=r.state,a=t.suggestions,n=t.inputValue.toLowerCase();switch(a.length){case 0:e=!1;break;case 1:e=a[0].name.toLowerCase()===n;break;default:if(a.filter((function(e){return e.name.toLowerCase().includes(n)})).length>1){e=!1;break}e=a[0].name.toLowerCase()===n&&!a[0].isMetropolis}if(e){var o=p.default.getSuggestion(a,n);o&&r.selectItem(o,!0)}},r.handleInputChange=function(){var e=(0,i.default)(n.default.mark((function e(t,a){var i,l,s,u,c;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=""),r.state.isTyping||r.setState({isTyping:!0}),r.handleIsTyping(),i=t.trim(),r.setState({inputValue:i}),!(i===r.props.value.name||a&&a.iata)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r.fetcher.performRequest(i);case 9:l=e.sent,s=(0,o.default)(l,2),u=s[0],c=s[1],"ok"===u&&(r.setState({suggestions:c}),1===c.length&&r.checkExactlyMatchAndSelectItem());case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var l=t.formType,s=t.fetchCountries,u=t.fetchNationalParks;return r.fetcher=new p.default({fetchHotels:"hotel"===l,fetchCountries:Boolean(s),fetchNationalParks:Boolean(u)}),r.state={suggestions:[],inputValue:r.props.value.name||(null===(a=r.props.initialInputState)||void 0===a?void 0:a.value)||r.props.value.iata||"",isTyping:!1},r}return t.componentWillUnmount=function(){this.selectItem.cancel(),this.handleIsTyping.cancel()},t.componentDidMount=function(){this.props.initialInputState&&this.props.initialInputState.value?this.props.initialInputState.hasFocus?this.handleInputChange(this.props.initialInputState.value):this.suggestString(this.props.initialInputState.value):this.props.value.iata&&this.props.value.name||this.props.value.type===d.PlaceType.Anywhere||this.suggestString(this.props.value.iata||this.props.value.name,this.props.value.type)},t.componentDidUpdate=function(e,t){var a=!this.props.value.iata&&this.props.value.type===d.PlaceType.Airport;e.value===this.props.value||!a&&this.props.value.name||this.props.value.type===d.PlaceType.Anywhere||this.suggestString(this.props.value.iata||this.props.value.name,this.props.value.type),t.isTyping&&!this.state.isTyping&&this.isFocused()&&this.checkExactlyMatchAndSelectItem()},t.getPlaceholder=function(){return this.props.placeholder?this.props.placeholder:(0,this.props.t)("origin"===this.props.type?"avia_form:originPlaceholder":"avia_form:destinationPlaceholder")},t.render=function(){return s.createElement(s.Fragment,null,s.createElement(f.default,{inputValue:this.state.inputValue,onChange:this.handleSelect,selectedItem:this.props.value,items:this.state.suggestions,historyItems:this.state.historyItems||[],type:this.props.type,forwardedRef:this.props.forwardedRef,onStateChange:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onFocusCapture:this.handleFocusCapture,error:this.props.error,allowOpenSearch:this.props.allowOpenSearch,initialInputState:this.props.initialInputState,placeholder:this.getPlaceholder()}))},a}(s.Component),C=(0,u.withTranslation)("avia_form")(b);t.default=C},579028:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(377754)),i=r(a(947981)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=s(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(s=function(e){return e?a:t})(e)}var u=function(e){(0,i.default)(a,e);var t=a.prototype;function a(t){var a;return(a=e.call(this,t)||this).state={inputValue:""},a.throttleEvent=function(e,t){var a=e.target,r=e.timeStamp;if(a.lastEvent||(a.lastEvent=1),r<a.lastEvent+100)return e.preventDefault(),e.stopPropagation(),!1;a.lastEvent=r,null==t||t(e)},a.handleInputChange=function(e){a.setState({inputValue:e.target.value}),a.props.onChange(e)},a.state={inputValue:t.value||t.initialInputState&&t.initialInputState.value||""},a}return t.UNSAFE_componentWillReceiveProps=function(e){e.value!==this.props.value&&this.setState({inputValue:e.value})},t.render=function(){var e=this,t=this.props,a=t.forwardedRef,r=t.helpers,i=t.initialInputState,s=t.id,u=t.onFocusCapture,c=(0,o.default)(t,["forwardedRef","helpers","initialInputState","id","onFocusCapture"]);return l.createElement("input",(0,n.default)({},r,c,{ref:a,id:s,type:"text",autoFocus:i&&i.hasFocus,"data-test-id":s+"-autocomplete-field",value:this.state.inputValue,onChange:this.handleInputChange,"aria-autocomplete":"list","aria-labelledby":s+"-label",autoComplete:"off",spellCheck:!1,onFocusCapture:function(t){return e.throttleEvent(t,u)},onBlurCapture:this.throttleEvent}))},a}(l.Component);t.default=u},946469:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(740537),o=r(a(398086)),i=a(187567),l=a(828451),s=r(a(129304)),u=a(543358),c=a(255285),d=function(){function e(){}return e.getHistoryItems=function(e,t,a,r,i,l){if(void 0===l&&(l=3),!e||!e.length)return[];var u=e&&e.filter((function(e){return"multiway"!==s.default.getTripType(e.search_params.segments)})).sort((function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1})).map(m);return u=(0,o.default)((function(e){var t=e.passengers||c.DEFAULT_PASSENGERS,a=t.adults+t.children+t.infants,r=(0,n.format)(e.departureDate,"DDMMYYYY"),o=e.returnDate instanceof Date?(0,n.format)(e.returnDate,"DDMMYYYY"):"";return[e.originIata,e.destinationIata,r,o,a,e.tripClass].join("")}),u),r.iata&&(u=p(u,a,r)),t.length&&i&&(u=f(u,a,t)),u.slice(0,l)},e}();t.default=d;var p=function(e,t,a){var r=t===u.PlaceField.Origin?"destinationCityIata":"originCityIata";return e.filter((function(e){return e[r]===a.iata||e[r]===a.cityIata}))},f=function(e,t,a){var r=t===u.PlaceField.Origin?"originCityIata":"destinationCityIata";return e.filter((function(e){return a.some((function(t){return e[r]===t.cityIata||e[r]===t.iata}))}))},m=function(e){var t,a,r=e.search_params,o=(0,i.getFirstFlight)(e.ticket).departure_date,s=(0,i.getReturnFlight)(e.ticket).departure_date,u=e.search_params.isOneWay,c=function(e){return(0,n.format)(new Date(e),"DD MMM")},d=u?""+c(o):c(o)+" — "+c(s),p=null===(t=r.segments)||void 0===t?void 0:t.find((function(e){return e.origin===r.originCityIata})),f=null===(a=r.segments)||void 0===a?void 0:a.find((function(e){return e.destination===r.destinationCityIata}));return{originIata:(0,l.getTicketDeparture)([e.ticket]),originCityIata:e.search_params.originCityIata,originCountryIata:null==p?void 0:p.origin_country,originName:e.search_params.originName||"",destinationIata:(0,l.getTicketArrival)([e.ticket]),destinationCityIata:e.search_params.destinationCityIata,destinationCountryIata:null==f?void 0:f.destination_country,destinationName:e.search_params.destinationName||"",departureDate:(0,n.parse)(o,"DD-MM-YYYY"),returnDate:u?void 0:(0,n.parse)(s,"DD-MM-YYYY"),price:(0,i.getChespestPrice)(e.ticket.terms),passengers:e.search_params.passengers,isOneWay:u,date:d,createdAt:e.created_at,type:"history",tripClass:e.search_params.tripClass}}},9358:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AviaFormComponent=void 0;var n=r(a(435850)),o=r(a(101339)),i=r(a(114558)),l=r(a(947981)),s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=ee(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),u=r(a(225385)),c=a(224562),d=a(968875),p=r(a(861233)),f=a(445549),m=a(740537),h=r(a(510984)),v=r(a(531760)),g=a(896911),y=r(a(785220)),b=r(a(435965)),C=a(40333),P=a(480632),w=a(663579),k=r(a(702944)),E=a(587273),O=a(724573),M=r(a(316606)),T=a(557178);a(290901);var S=a(132032),D=a(405628),_=a(470124),I=r(a(512945)),j=a(953451),N=r(a(878835)),F=r(a(474606)),x=r(a(201634)),A=a(418310),R=a(3571),B=a(61303),L=a(223002),V=a(718123),W=a(425944),H=a(977485),z=a(863974),G=a(599951),Y=a(149739),U=a(255285),q=r(a(21636)),$=a(543358),Q=r(a(671072)),K=r(a(314361)),Z=r(a(93705)),X=r(a(755547)),J=r(a(280644));function ee(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(ee=function(e){return e?a:t})(e)}function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?te(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(33045);var re=z.userService.$searches,ne=z.userService.fetchSearches,oe=(0,u.default)("avia-form"),ie=(0,m.addDays)(new Date,-1),le=(0,m.addYears)((0,m.addDays)(ie,-1),1),se=[$.PlaceField.Origin,$.PlaceField.Destination],ue=function(e){function t(){for(var t,a,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=e.call.apply(e,[this].concat(n))||this).scrollTimeout=void 0,a.timeouts=[],a.chosenHistoryItem=null,a.formRef=s.createRef(),a.tripDurationDropdownRef=void 0,a.formRefs=((t={})[$.PlaceField.Origin]=s.createRef(),t[$.PlaceField.Destination]=s.createRef(),t[$.DateType.DepartDate]=s.createRef(),t[$.DateType.ReturnDate]=s.createRef(),t),a.state={disabled:!0,progressBarClass:"",withoutReturnDate:!0,showHint:!1,errors:{},hasGridSupport:!0,wasSubmitted:!1},a.setDropdownRef=function(e){return a.tripDurationDropdownRef=e},a.focusFirstEmptyField=function(){if((0,E.isDesktop)()){var e=a.getPlace($.PlaceField.Destination);e.iata||e.name?(e.iata||e.name)&&!a.getDate($.DateType.DepartDate)&&a.props.shouldFocusOnDate&&a.handleActiveInputChanged("departure"):a.focusField({field:$.PlaceField.Destination})}},a.handlePlaceChange=function(e){return function(t,r){void 0===r&&(r=!0),a.props.onAviaFormPlaceChange(e,t),r&&(a.moveToNextField(e),e===$.PlaceField.Destination&&a.props.shouldFocusOnDate&&a.handleActiveInputChanged("departure",t.departureDate instanceof Date?t.departureDate:void 0)),"history"===t.type&&(a.chosenHistoryItem=t)}},a.handlePlaceFocus=function(e){return function(){a.state.errors[e]&&a.setState({errors:(0,p.default)(a.state.errors,{$unset:[e]})})}},a.handleActiveInputChanged=function(e,t){var r=a.getFormState(),n=(0,i.default)(r,4),o=(n[0],n[1],n[2]),l=n[3],s=t;s||("departure"===e&&(s=o instanceof Date?o:new Date),"return"===e&&(s=l instanceof Date?l:new Date)),a.props.onActiveDateInputChange(e,s),setTimeout((function(){e&&!(0,E.isMobile)()&&a.tripDurationDropdownRef&&a.tripDurationDropdownRef.current&&a.formRef&&a.formRef.current&&(0,P.scrollTripDurationPickerIntoView)(a.tripDurationDropdownRef.current,a.formRef.current)}),10)},a.handleOriginFocus=function(){if(navigator.userAgent.toLowerCase().indexOf("android")>-1){var e=document.querySelector(".page-header__form");e&&window.scrollTo(0,e.offsetTop)}a.handlePlaceFocus($.PlaceField.Origin)()},a.handleDateChange=function(e,t){a.props.onDateChange(e,t),a.state.errors[e]&&e===$.DateType.DepartDate&&t&&a.setState({errors:(0,p.default)(a.state.errors,{$unset:[e]})})},a.handleDepartDateChange=function(e){a.handleDateChange($.DateType.DepartDate,e),e||a.handleDepartureResetClick(),a.reachGoal($.DateType.DepartDate+"--change"+(0,Y.convertDateTabToDateType)((0,T.getCurrentTabByValue)(e)),{date:e})},a.handleReturnDateChange=function(e){a.handleDateChange($.DateType.ReturnDate,e),a.reachGoal($.DateType.ReturnDate+"--change"+(0,Y.convertDateTabToDateType)((0,T.getCurrentTabByValue)(e)),{date:e})},a.handleReturnResetClick=function(){a.handleDateChange($.DateType.ReturnDate,void 0),a.reachGoal($.DateType.ReturnDate+"--reset")},a.handleDepartureResetClick=function(){var e=a.props,t=e.changeParams,r=e.params.segments;r=(0,Y.updateSegmentDate)($.DateType.DepartDate,void 0,r),t({segments:r=(0,Y.updateSegmentDate)($.DateType.ReturnDate,void 0,r)})},a.handleWithoutReturnClick=function(){a.handleDateChange($.DateType.ReturnDate,void 0),a.reachGoal("returnDateClear--mousedown")},a.handleDateTabChange=function(e){a.reachGoal("change_tab--click",{tab:(0,Y.convertDateTabName)(e),type:(0,Y.convertDateFieldName)(a.props.activeDateInput)})},a.handleMonthsConfirmClick=function(){a.reachGoal("monthPickerChooseDates--click")},a.handleMonthChange=function(e,t){a.props.onMonthChange(a.props.activeDateInput,e,t)},a.handleMonthsMount=function(){a.props.onMonthsMount()},a.swapPlaces=function(){var e,t=a.props,r=t.t,n=t.onSwapPlaces,o=a.state.errors,i=o[$.PlaceField.Origin],l=o[$.PlaceField.Destination],s=ae(ae({},a.state.errors),{},((e={})[$.PlaceField.Origin]=l?{message:r("avia_form:errorEmptyOrigin")}:void 0,e[$.PlaceField.Destination]=i?{message:r("avia_form:errorEmptyDestination")}:void 0,e));a.setState({errors:s}),n()},a.handleSubmit=function(e){e.preventDefault(),a.setState({wasSubmitted:!0}),a.props.showFormHint&&a.closeHint(),a.props.triggerSubmitAviaForm();var t=a.isInvalid();if(t)a.setState({errors:t});else{var r=a.getFormState(),n=(0,i.default)(r,3),o=n[1],l=n[2];(0,Y.isAnywhere)(o)||(0,Y.isCountry)(o)||(0,Y.isNationalPark)(o)||(0,D.selectIsPricesWidgetEnabled)(k.default)&&(0,Y.isOpenSearchDate)(l)&&!(0,Y.isOpenSearchPlace)(o)||(x.default.triggerEvent("avia_form","search","submit",{booking_checkbox:(0,W.noHotelPartnerCheckbox)(o)?"hidden":a.props.shouldSearchHotels}),a.disableForm(),a.props.aviaFormSubmit(a.getSearchedHistoryItem()))}},a.handleMultiwayForm=function(e){e.preventDefault(),(0,a.props.openMultiWayForm)(),(0,j.scrollToTopPosition)(0)},a.handleScroll=(0,h.default)(300,(function(){window.cancelAnimationFrame(a.scrollTimeout),a.scrollTimeout=window.requestAnimationFrame((function(){a.props.showFormHint&&window.pageYOffset>100&&a.closeHint()}))})),a.closeHint=function(){a.props.hideFormHint(),F.default.set(U.HINT_COOKIE_NAME,!0,{path:"/",expires:604800})},a.setPassengers=function(e){(0,v.default)(a.props.params.passengers,e)||a.props.changeParams({passengers:e})},a.setTripClass=function(e){(0,v.default)(a.props.params.tripClass,e)||a.props.changeParams({tripClass:e})},a.reachGoal=function(e,t){a.props.reachGoal("avia_form--"+e,t)},a.handlePriceSwitcherChange=function(e,t,r){return a.props.onPriceSwitcherCheck(e,a.props.activeDateInput,t,r)},a.renderMonthPrice=function(e){return s.createElement(Q.default,{month:(0,R.getDateFromMonthKey)(e)})},a.renderCalendarDay=function(e,t){return a.props.activeDateInput?s.createElement(K.default,{date:e,modifiers:t,activeInput:a.props.activeDateInput}):s.createElement(s.Fragment,null)},a.getSearchedHistoryItem=function(){if(!a.chosenHistoryItem)return null;try{var e=a.chosenHistoryItem,t=e.originCityIata,r=e.destinationCityIata,n=e.departureDate,o=e.returnDate,i=e.tripClass,l=e.passengers,s=t===a.getPlace($.PlaceField.Origin).iata&&r===a.getPlace($.PlaceField.Destination).iata;if(!s)return null;var u=a.getDate($.DateType.DepartDate),c=a.getDate($.DateType.ReturnDate),d=u instanceof Date?u.getTime():void 0,p=c instanceof Date?c.getTime():void 0;if(!d)return null;var f=n instanceof Date?n.getTime():void 0,m=o instanceof Date?o.getTime():void 0,h=f===d&&m===p,v=i===a.props.params.tripClass,g=Object.keys(l).every((function(e){return l[e]===a.props.params.passengers[e]}));return s&&h&&v&&g?a.chosenHistoryItem:null}catch(e){return null}},a}(0,l.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.isMainPage?this.setState({disabled:!1}):this.disableForm(),document.addEventListener("scroll",this.handleScroll),this.props.shouldFocusFirstEmptyField&&this.focusFirstEmptyField(),ne();try{this.setState({hasGridSupport:CSS.supports("display: grid")})}catch(e){}},a.componentWillUnmount=function(){window.cancelAnimationFrame(this.scrollTimeout),document.removeEventListener("scroll",this.handleScroll),this.timeouts.forEach((function(e){return clearTimeout(e)})),this.timeouts=[]},a.componentDidUpdate=function(e){var t=this.props,a=t.activeDateInput,r=t.fieldToFocus;if(this.props.params!==e.params){var n=this.isInvalid();this.setState({errors:n||{}})}a!==e.activeDateInput&&(a?this.reachGoal((0,Y.convertDateFieldName)(a)+"--open"):e.activeDateInput&&this.reachGoal((0,Y.convertDateFieldName)(e.activeDateInput)+"--close")),r&&r!==e.fieldToFocus&&(this.focusField({field:r,smoothScroll:!0}),this.props.resetAviaFieldFocusState())},a.isOneWay=function(){return(0,Y.isOneWay)(this.props.params.segments)},a.getDate=function(e){return(0,Y.getDate)(this.props.params.segments,e)},a.getPlace=function(e){return(0,Y.getPlace)(this.props.params.segments,e)},a.moveToNextField=function(e){var t=se[se.indexOf(e)+1];this.focusField({field:t})},a.focusField=function(e){var t=this,a=e.field,r=e.smoothScroll,n=void 0!==r&&r;a&&(0,N.default)(55,(function(){var e=t.formRefs[a];e&&e.current&&(a===$.DateType.DepartDate||a===$.DateType.ReturnDate?e.current.click():e.current.focus({preventScroll:n}),n&&e.current.scrollIntoView({behavior:"smooth",block:"center"}))}))},a.disableForm=function(){var e=this;this.setState({disabled:!0}),this.timeouts.push((0,N.default)(U.ENABLE_FORM_TIMEOUT,(function(){return e.setState({disabled:!1})})))},a.getFormState=function(){return[this.getPlace($.PlaceField.Origin),this.getPlace($.PlaceField.Destination),this.getDate($.DateType.DepartDate),this.getDate($.DateType.ReturnDate)]},a.isInvalid=function(){var e=this.getFormState(),t=(0,i.default)(e,3),a=t[0],r=t[1],n=t[2],o={},l=!0;return a.iata||(o[$.PlaceField.Origin]={message:this.props.t("avia_form:errorEmptyOrigin")},l=!1),r.iata||r.type===$.PlaceType.Anywhere||(o[$.PlaceField.Destination]={message:this.props.t("avia_form:errorEmptyDestination")},l=!1),(0,Y.isEmptyPlace)(a)||(0,Y.isEmptyPlace)(r)||!(0,Y.isSameCity)(a,r)||(o[$.PlaceField.Destination]={message:this.props.t("avia_form:errorSameCities")},l=!1),n||(o[$.DateType.DepartDate]={message:this.props.t("avia_form:errorEmptyDate")},l=!1),!l&&o},a.render=function(){var e,t,a=this.props,r=a.t,o=a.activeDateInput,l=a.currentPage,u=a.isMainPage,c=a.maxVisibleLastSearches,d=this.getFormState(),p=(0,i.default)(d,4),f=p[0],m=p[1],h=p[2],v=p[3],g="main"===l||"content"===l,P=this.state.wasSubmitted,w=(0,W.noHotelPartnerCheckbox)(m),E=(0,Y.arePlacesValidForSwap)(f,m),O=u&&(0,D.selectIsCitiesWidgetEnabled)(k.default);return s.createElement(I.default,{errorType:_.ErrorType.Critical,errorText:"AviaForm component error."},s.createElement("form",{action:this.props.action,className:oe(null,{"--home":g,"--with-payment":k.default.is("avs-feat-uzPayment"),"--no-grid":!this.state.hasGridSupport}),onSubmit:this.handleSubmit,target:w?"_self":"_blank","data-test-id":"avia_form",ref:this.formRef},s.createElement("div",{className:oe("field","--origin")},s.createElement(b.default,{value:this.getPlace($.PlaceField.Origin),initialInputState:null===(e=this.props.initialInputValues)||void 0===e?void 0:e.origin,siblingValue:this.getPlace($.PlaceField.Destination),searchHistory:this.props.searchHistory,type:$.PlaceField.Origin,onSelect:this.handlePlaceChange($.PlaceField.Origin),onFocus:this.handleOriginFocus,error:P?this.state.errors[$.PlaceField.Origin]:void 0,forwardedRef:this.formRefs[$.PlaceField.Origin],allowOpenSearch:!1,reachGoal:this.reachGoal,maxVisibleLastSearches:c}),E&&s.createElement(Z.default,{onClick:this.swapPlaces})),s.createElement("div",{className:oe("field","--destination")},s.createElement(b.default,{value:this.getPlace($.PlaceField.Destination),initialInputState:null===(t=this.props.initialInputValues)||void 0===t?void 0:t.destination,siblingValue:this.getPlace($.PlaceField.Origin),searchHistory:this.props.searchHistory,type:$.PlaceField.Destination,onSelect:this.handlePlaceChange($.PlaceField.Destination),onFocus:this.handlePlaceFocus($.PlaceField.Destination),error:P?this.state.errors[$.PlaceField.Destination]:void 0,forwardedRef:this.formRefs[$.PlaceField.Destination],allowOpenSearch:u&&k.default.is("ex-feat-priceMap"),reachGoal:this.reachGoal,maxVisibleLastSearches:c,fetchCountries:O,fetchNationalParks:u&&(0,D.selectIsNationalParksInAutocompleteEnabled)(k.default)})),s.createElement("div",{className:oe("field","--dates")},s.createElement(M.default,{className:"--avia-form",onComponentDidMount:this.setDropdownRef,activeInput:this.props.activeDateInput,departureTabs:(0,Y.getAllowedDateTabs)("departure",this.props.params.segments,k.default.is("avs-feat-openSearch"),u),returnTabs:(0,Y.getAllowedDateTabs)("return",this.props.params.segments,k.default.is("avs-feat-openSearch"),u),onDepartureDateSelect:this.handleDepartDateChange,onReturnDateSelect:this.handleReturnDateChange,onActiveInputChanged:this.handleActiveInputChanged,onReturnResetClick:this.handleReturnResetClick,onDepartureResetClick:this.handleDepartureResetClick,onWithoutReturnClick:this.handleWithoutReturnClick,onTabChange:this.handleDateTabChange,onMonthsConfirmClick:this.handleMonthsConfirmClick,onMonthChange:this.handleMonthChange,onMonthsMount:this.handleMonthsMount,onPriceSwitcherChange:this.handlePriceSwitcherChange,priceSwitcherChecked:this.props.calendarPrices.oneWayPrices,fromMonth:ie,toMonth:le,rangeDaysDurationBoundaries:{min:G.minTripDuration,max:G.maxTripDuration},rangeDaysDurationMin:v&&v.min?v.min:1,rangeDaysDurationMax:v&&v.max?v.max:30,departureValue:h,returnValue:v,errors:{departure:P?this.state.errors[$.DateType.DepartDate]:void 0},renderMonthPrice:this.renderMonthPrice,renderCalendarDay:this.renderCalendarDay,dropdownHeaderTitle:o?r("trip_duration:dropdownHeader.avia."+o):" ",clearBtnText:r("trip_duration:withoutReturn"),clearBtnTextShort:r("trip_duration:withoutReturnShort"),departurePlaceholder:r("trip_duration:placeholder.departure"),returnPlaceholder:r("trip_duration:placeholder.return"),modalTitle:o?r("trip_duration:modalTitle.avia."+o):" ",showPriceSwitcher:!!f.iata&&"return"!==o,testIds:{departure:"departure-date-field",return:"return-date-field"},isLoading:this.props.calendarLoader,activeForm:this.props.activeForm,departureForwardedRef:this.formRefs[$.DateType.DepartDate],returnForwardedRef:this.formRefs[$.DateType.ReturnDate]})),k.default.is("avs-feat-uzPayment")&&s.createElement("div",{className:oe("field","--payment")},s.createElement(X.default,null)),s.createElement("div",{className:oe("field","--passengers")},s.createElement(y.default,(0,n.default)({},this.props.params.passengers,{tripClass:this.props.params.tripClass,onPassengersChange:this.setPassengers,onTripClassChange:this.setTripClass,formType:"avia"}))),s.createElement("div",{className:oe("submit")},s.createElement(q.default,{disabled:this.state.disabled,onHintCloseClick:this.closeHint,showHint:this.props.showFormHint,isHome:g})),this.props.footerActions&&s.createElement("div",{className:oe("footer")},s.createElement("a",{href:"#multiway",className:oe("change-form"),onClick:this.handleMultiwayForm,"data-test-id":"multiway-link"},s.createElement(J.default,{className:oe("multiway-icon")}),this.props.t("avia_form:complexRoute")),!w&&s.createElement("div",{className:oe("booking")},s.createElement(C.SearchHotels,{checked:this.props.shouldSearchHotels,destination:this.getPlace($.PlaceField.Destination),onChange:this.props.onSearchHotelsChange})))))},t}(s.Component);t.AviaFormComponent=ue,ue.defaultProps={footerActions:!0};var ce=(0,d.compose)((0,w.withFlagr)(k.default,["avs-feat-openSearch","avs-feat-uzPayment","ex-feat-exploreFlow"]),(0,c.connect)((function(e){var t=e.pageHeader.tabs.avia||{action:""},a=(0,D.selectHasExploreWidgets)(k.default);return{isMainPage:"main"===e.currentPage,activeDateInput:(0,B.getAviaParamsActiveDateInput)(e),fieldToFocus:(0,B.getAviaFieldToFocus)(e),maxVisibleLastSearches:(0,B.getMaxVisibleLastSearches)(e),shouldFocusOnDate:!a,shouldSearchHotels:(0,B.getShouldSearchHotels)(e),action:t.action,showFormHint:!F.default.get(U.HINT_COOKIE_NAME)&&t.showFormHint,params:e.aviaParams,calendarPrices:e.calendarPrices,calendarLoader:e.calendarLoader,currentPage:e.currentPage,activeForm:(0,L.getActiveForm)(e),prevActiveForm:(0,L.getPrevActiveForm)(e)}}),(function(e){return{changeParams:function(t){return e((0,O.updateAviaParams)(t))},openMultiWayForm:function(){return e((0,H.updateActiveForm)("multiway"))},hideFormHint:function(){return e((0,H.updateTabParams)("avia",{showFormHint:!1}))},reachGoal:function(t,a){return e((0,V.reachGoal)(t,a))},aviaFormSubmit:function(t){return e((0,O.aviaFormSubmit)(t))},triggerSubmitAviaForm:function(){return e((0,A.triggerSubmitAviaForm)())},onPriceSwitcherCheck:function(t,a,r,n){return e((0,S.priceSwitcherCheck)(t,a,r,n))},onAviaFormPlaceChange:function(t,a){return e((0,A.changeAviaPlace)(t,a))},onSwapPlaces:function(){return e((0,A.swapAviaPlaces)())},onMonthsMount:function(){return e((0,A.monthsMount)())},onActiveDateInputChange:function(t,a){return e((0,A.changeActiveDateInput)(t,a))},onMonthChange:function(t,a,r){return e((0,A.changeDateInputMonth)(t,a,r))},onDateChange:function(t,a){return e((0,A.changeAviaDate)(t,a))},onSearchHotelsChange:function(t){return e((0,A.changeShouldSearchHotels)(t))},resetAviaFieldFocusState:function(){return e((0,A.resetAviaFieldFocusState)())}}})),(0,f.withTranslation)(["avia_form","trip_duration"]),(0,E.withResponsive)(),(0,g.connect)(re.map((function(e){return{searchHistory:e}}))))(ue);t.default=ce},21636:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=r(a(225385)),i=a(445549),l=r(a(478086)),s=r(a(7199));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(780756);var c=(0,o.default)("avia-form-submit");t.default=function(e){var t=(0,i.useTranslation)("avia_form").t,a=(0,n.useCallback)((function(){return n.default.createElement("div",{className:c("tooltip")},t("avia_form:submitButtonTooltip"),n.default.createElement("div",{className:c("tooltip-close"),onClick:e.onHintCloseClick}))}),[e.onHintCloseClick,t]);return e.isHome?n.default.createElement(s.default,{disabled:e.disabled,isOnHome:!0},t("avia_form:submitButtonText")):n.default.createElement(l.default,{wrapperClassName:c(),tooltip:a,showByProps:!0,isVisible:e.showHint,isInteraction:!0,position:"bottom"},n.default.createElement(s.default,{disabled:e.disabled},t("avia_form:submitButtonText")))}},314361:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=a(224562),i=a(896911),l=a(386452),s=a(894436),u=a(671747),c=r(a(867959));t.default=function(e){var t=(0,o.useSelector)(u.getCurrencies),a=(0,i.useStore)(l.$currency),r=(0,o.useSelector)((function(t){return(0,s.getDayPrice)(t,e)}),o.shallowEqual);return n.default.createElement(c.default,{date:e.date,modifiers:e.modifiers,priceItem:r,currencies:t,currency:a})}},671072:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=a(224562),i=a(740537),l=a(896911),s=a(386452),u=a(671747),c=a(894436),d=r(a(172846)),p=a(570355);t.default=function(e){var t=e.month,a=(0,o.useSelector)(u.getCurrencies),r=(0,l.useStore)(s.$currency),f=(0,o.useSelector)(c.getCalendarPrices).year,m=(0,i.format)(t,"YYYY-MM")+"-01",h=(0,p.convertUnifiedToCurrency)(f[m],r,a).value;return h?n.default.createElement(d.default,{currency:r,value:h,isLow:!0}):null}},866352:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.CollapsedForm=void 0;var n=r(a(101339)),o=r(a(114558)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=g(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),l=r(a(225385)),s=a(740537),u=a(445549),c=r(a(961977)),d=a(441361),p=a(800373),f=a(659),m=r(a(702944)),h=a(543358),v=r(a(501950));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(g=function(e){return e?a:t})(e)}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var b=a(467265),C=+a(415899).segmentWidth,P=(0,l.default)("collapsed-form"),w=(0,i.memo)((function(e){var t=(0,u.useTranslation)("avia_form").t,a=(0,i.useState)({}),r=(0,o.default)(a,2),n=r[0],l=r[1],c=(0,i.useRef)(null),g=e.formParams.segments;k(c,n,g,l);var y=Object.keys(n).length,C=m.default.is("serp-exp-chipsFilters");return i.default.createElement("div",{className:P()},i.default.createElement("div",{className:P("segments-wrap",{"--with-hidden-items":!!y}),onClick:function(){return e.onEditClick("collapsed-plate")},ref:c},i.default.createElement("div",{className:P("icons-wrap")},!!y&&i.default.createElement("span",{className:P("hidden-items-count")},"+ ",y),i.default.createElement(b,{className:P("edit-icon"),onClick:e.onEditClick})),g.map((function(e,t){var a=e[h.PlaceField.Origin],r=e[h.PlaceField.Destination];return n[t]||!(0,p.isValidSegment)(e)?null:i.default.createElement("div",{key:t,className:P("segment")},i.default.createElement("div",{className:P("segment-route")},a.iata," – ",r.iata),i.default.createElement("div",{className:P("segment-date")},(0,f.dateToLowerCase)((0,s.format)(e.date,"DD MMMM",!0))))}))),i.default.createElement("div",{className:P("button-wrap")},i.default.createElement(d.Button,{className:P("edit-button"),type:"button",mod:d.ButtonMod.Orange,size:d.ButtonSize.M,onClick:function(){return e.onEditClick("edit-button")}},t("avia_form:collapsedFormEditButtonText"))),!C&&i.default.createElement(v.default,null))}));t.CollapsedForm=w;var k=function(e,t,a,r){(0,i.useLayoutEffect)((function(){return E(e,t,a,r)}),[]);var n=function(){return E(e,t,a,r)};(0,i.useEffect)((function(){return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[])},E=(0,c.default)(100,(function(e,t,a,r){try{var o=e.current.getBoundingClientRect().width-100,i=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);a.forEach((function(e,a){var r=C*(a+1);r>o&&!t[a]?i[a]=!0:r<o&&t[a]&&delete i[a]})),r(i)}catch(e){}}))},7199:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(377754)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),l=r(a(225385)),s=a(441361),u=a(463854);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}a(912714);var d=(0,l.default)("form-submit"),p=function(e){var t=e.children,a=e.isOnHome,r=void 0!==a&&a,l=(0,o.default)(e,["children","isOnHome"]);return i.default.createElement(s.Button,(0,n.default)({className:d(null,{"--on-home":r}),size:s.ButtonSize.Custom,testId:"form-submit",mod:s.ButtonMod.Orange,type:"submit"},l),i.default.createElement(s.Button.Label,{className:d("label"),type:u.TextType.Title4Semi},t))},f=(0,i.memo)(p);t.default=f},843306:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(947981)),o=r(a(797972)),i=r(a(225385)),l=a(445549),s=a(387758),u=a(463854),c=(0,i.default)("form-tabs"),d=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).onInnerLinkClick=function(e){t.props.onInnerTab(t.props.tabName,e)},t.onOuterLinkClick=function(e){t.props.onOuterTab(t.props.tabName,e)},t}return(0,n.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.t,a=e.isActive,r=e.tabName,n=e.link,i=e.tooltip,l=e.showCompactLinks,d=(e.useInnerAsOuter?"/":"")+"#"+r;return o.default.createElement("li",{className:c("item",["--"+r,a&&"is-active",l&&"--compact-links"])},i&&o.default.createElement("div",{className:c(r+"-tab-tooltip"),onClick:this.onInnerLinkClick,onTouchEnd:this.onInnerLinkClick},i),n?o.default.createElement("a",{className:c("link"),href:n,target:"_blank",onClick:this.onOuterLinkClick,rel:"nofollow","data-goal":r+"Tab","data-test-id":"form_tabs_outer_link"},o.default.createElement(u.Text,{type:u.TextType.Body3Semi},t("form_tabs:"+r)),o.default.createElement(s.Icon16ControlsLaunch,{width:12,height:12})):o.default.createElement("a",{className:c("link",{"is-active":a}),onClick:this.onInnerLinkClick,onTouchEnd:this.onInnerLinkClick,href:d,"data-goal":r+"Tab","data-test-id":"form_tabs_inner_link"},o.default.createElement(u.Text,{type:u.TextType.Body3Semi},t("form_tabs:"+r))))},t}(o.default.PureComponent);d.defaultProps={onInnerTab:function(){},onOuterTab:function(){}};var p=(0,l.withTranslation)()(d);t.default=p},548051:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.POSSIBLY_VISIBLE_LINKS=t.ALWAYS_VISIBLE_FORM_TABS=void 0,t.ALWAYS_VISIBLE_FORM_TABS=["avia","hotel"],t.POSSIBLY_VISIBLE_LINKS=["business"]},515141:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(947981)),i=r(a(797972)),l=r(a(225385)),s=r(a(843306));a(436302);var u=(0,l.default)("form-tabs"),c=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleTabClick=function(e,a){t.isUserAccountPage()||(a.preventDefault(),t.props.updateActiveTab(e),window.scroll({top:0,left:0,behavior:"smooth"}))},t}(0,o.default)(t,e),t.checkActiveTab=function(e,t){return e===t||"multiway"===e&&"avia"===t};var a=t.prototype;return a.componentDidMount=function(){this.setActiveFormBodyClass()},a.componentDidUpdate=function(e){this.setActiveFormBodyClass(e.activeTab)},a.setActiveFormBodyClass=function(e){e!==this.props.activeTab&&(e&&this.props.removeBodyClass("page--"+e),this.props.addBodyClass("page--"+this.props.activeTab))},a.isUserAccountPage=function(){return"user_account"===this.props.currentPage},a.render=function(){var e=this;return i.default.createElement("ul",{className:u(null,{"--show-on-sticky":!!this.props.showOnSticky})},this.props.tabs.map((function(a){return i.default.createElement(s.default,(0,n.default)({},a,{key:a.tabName,useInnerAsOuter:e.isUserAccountPage(),isActive:t.checkActiveTab(e.props.activeTab,a.tabName),onInnerTab:e.handleTabClick,onOuterTab:e.props.onOuterTabClick,showCompactLinks:e.props.showCompactLinks}))})))},t}(i.default.PureComponent);c.defaultProps={activeTab:"avia",onInnerTabClick:function(){},onOuterTabClick:function(){}};var d=c;t.default=d},34790:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(224562),o=a(977485),i=a(454184),l=r(a(515141)),s=(0,n.connect)((function(e){return{activeTab:e.pageHeader.activeForm,currentPage:e.currentPage}}),(function(e){return{updateActiveTab:function(t){return e((0,o.updateActiveForm)(t))},addBodyClass:function(t){return e((0,i.addBodyClass)(t))},removeBodyClass:function(t){return e((0,i.removeBodyClass)(t))}}}))(l.default);t.default=s},134616:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormTabsData=void 0,t.getFormTabsData=function(e,t){return e.map((function(e){var a;return{tabName:e,link:null===(a=t[e])||void 0===a?void 0:a.link}}))}},740358:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.FormsResolver=void 0;var n=r(a(101339)),o=r(a(947981)),i=r(a(797972)),l=r(a(225385)),s=a(997066),u=r(a(587273)),c=a(800373),d=a(828451),p=r(a(702944)),f=a(405628),m=r(a(9358)),h=a(866352);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(776281);var y=(0,l.default)("forms-resolver"),b={avia:m.default,multiway:i.default.lazy((function(){return a.e(2891).then(a.bind(a,446601))})),hotel:i.default.lazy((function(){return a.e(7643).then(a.bind(a,912301))}))},C=function(e){function t(){for(var a,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=e.call.apply(e,[this].concat(n))||this).state={isCollapsed:!1,isCollapsable:!1,prevProps:{}},a.handleResizeModeChange=function(){return a.setState({isCollapsable:t.getIsCollapsable(a.props)})},a.handleToggleCollapse=function(e){a.setState({isCollapsed:!a.state.isCollapsed}),a.props.reachGoal("collapsed-form--"+e+"-click"),a.state.isCollapsed&&window.scroll({top:0,left:0,behavior:"smooth"})},a.handleCollapse=function(){return a.handleToggleCollapse("collapse")},a}(0,o.default)(t,e),t.getIsCollapsable=function(e){var t=e.formParams[e.activeForm];return["avia","multiway"].includes(e.activeForm)&&t.segments.some((function(e){return(0,c.isValidSegment)(e)}))&&e.isFormCollapsable&&((0,d.isOpenJaw)(t.segments)||u.default.matches("mobile, mobileLandscape"))},t.getDerivedStateFromProps=function(e,a){var r={isCollapsable:t.getIsCollapsable(e)};return e.deviceSearchId!==a.prevProps.deviceSearchId&&r.isCollapsable&&(r.isCollapsed=!0),e.isStickyHeader&&!a.prevProps.isStickyHeader&&r.isCollapsable&&(r.isCollapsed=!0),g(g({},r),{},{prevProps:{deviceSearchId:e.deviceSearchId,isStickyHeader:e.isStickyHeader}})};var a=t.prototype;return a.componentDidUpdate=function(e,t){t.isCollapsed!==this.state.isCollapsed&&this.props.onCollapse(this.state.isCollapsed)},a.componentDidMount=function(){this.state.isCollapsed&&this.props.onCollapse(this.state.isCollapsed),u.default.onMode("mobile, mobileLandscape",this.handleResizeModeChange,this.handleResizeModeChange)},a.componentWillUnmount=function(){this.props.onCollapse(!1),u.default.offMode("mobile, mobileLandscape",this.handleResizeModeChange,this.handleResizeModeChange)},a.render=function(){var e=this.state,t=e.isCollapsed,a=e.isCollapsable,r=this.props,n=r.isDarkTheme,o=r.initialInputValues,l=r.activeForm,u=this.props.formParams[l],c=b[l],d=(0,f.selectIsSeleneFormEnabled)(p.default);return i.default.createElement(i.default.Suspense,{fallback:i.default.createElement(s.Spinner,{mod:n?s.SpinnerMod.OnDark:s.SpinnerMod.OnLight})},i.default.createElement("div",{className:y()},i.default.createElement("div",{className:y("forms-wrap")},a&&t?i.default.createElement(h.CollapsedForm,{formParams:u,onEditClick:this.handleToggleCollapse}):i.default.createElement(i.default.Fragment,null,i.default.createElement(c,{shouldFocusFirstEmptyField:!d,initialInputValues:o}),a&&!t&&i.default.createElement("div",{className:y("collapse"),onClick:this.handleCollapse})))))},t}(i.default.PureComponent);t.FormsResolver=C},971089:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(385882)),i=r(a(971410)),l=r(a(947981)),s=r(a(797972)),u=r(a(131672)),c=r(a(702944)),d=a(663579),p=a(681334),f=r(a(126859)),m=function(e){return new Promise((function(t){setTimeout(t,e)}))},h=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).renderedBanner=void 0,t.vendorResourcesLoaded=!1,t.componentDidMount=(0,i.default)(o.default.mark((function e(){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(void 0===(a=t.props.onLoad)?p.noop:a)();case 2:if(t.vendorResourcesLoaded){e.next=12;break}return e.next=5,Promise.all([u.default.waitForResource("criteo"),u.default.waitForResource("googletagservices")]).then((function(){t.vendorResourcesLoaded=!0})).catch((function(){}));case 5:if(!t.vendorResourcesLoaded){e.next=8;break}return t.bannersInitHandler(),e.abrupt("return");case 8:return e.next=10,m(100);case 10:e.next=2;break;case 12:case"end":return e.stop()}}),e)}))),t.bannersInitHandler=function(){return(0,f.default)(t.handleBannerRendered)},t.handleBannerRendered=function(e){e.isEmpty||(t.renderedBanner=e);var a=t.props.onRender;(void 0===a?p.noop:a)(e)},t.handleBannerClick=function(){if(t.renderedBanner){var e=t.props.onClick;(void 0===e?p.noop:e)(t.renderedBanner)}},t.getTargetingParams=function(){try{var e={host:c.default.getBasicContext().host.toLowerCase()};return{"data-targeting-params":JSON.stringify(e)}}catch(e){return{}}},t}(0,l.default)(t,e);var a=t.prototype;return a.shouldComponentUpdate=function(){return!1},a.render=function(){var e=this,t=c.default.get("avs-feat-mainAdSenseBanner"),a=window.isMainPage?t.main:t.content;return s.default.createElement("div",{className:"adsense-banners --main-block",onClick:this.handleBannerClick},a.map((function(t){return s.default.createElement("div",(0,n.default)({key:t.id},t,e.getTargetingParams()))})))},t}(s.default.Component),v=(0,d.withFlagr)(c.default,["avs-feat-mainAdSenseBanner"])(h);t.default=v},303596:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=window.googletag||{};a.cmd=a.cmd||[];t.default=function(){a.cmd.push((function(){a.pubads().enableSingleRequest(),a.pubads().disableInitialLoad(),a.enableServices()}))}},476993:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=a(224562),l=a(676930),s=a(61303),u=a(498441),c=r(a(971089)),d=r(a(858565)),p=a(662774);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}var m=((n={})[p.AdFoxAdaptiveKey.Desktop]={containerId:"adfox_164845922661462840",params:{p1:"csmuh",p2:"hmxk",puid1:""},dimensions:[p.AdFoxAdaptiveKey.Desktop,p.AdFoxAdaptiveKey.Tablet]},n[p.AdFoxAdaptiveKey.Mobile]={containerId:"adfox_164845955892046162",params:{p1:"ctjgx",p2:"hoxp",puid1:""},dimensions:[p.AdFoxAdaptiveKey.Mobile]},n),h=function(e){var t=e.isRussianGeoIp,a=void 0!==t&&t,r=(0,i.useSelector)(s.getAviaParams),n=(0,i.useDispatch)(),p=(0,o.useCallback)((function(){return n((0,l.adPlacementRequested)("AdSense",u.AdvertisementSlotName.HomeBottomInline))}),[n]),f=(0,o.useCallback)((function(e){return n((0,l.adPlacementShowed)("AdSense",u.AdvertisementSlotName.HomeBottomInline,e))}),[n]),h=(0,o.useCallback)((function(e){return n((0,l.adPlacementClicked)("AdSense",u.AdvertisementSlotName.HomeBottomInline,e))}),[n]),v=(0,o.useCallback)((function(){return n((0,l.adPlacementRequested)("AdFox",u.AdvertisementSlotName.HomeBottomInline))}),[n]),g=(0,o.useCallback)((function(e){return n((0,l.adPlacementShowed)("AdFox",u.AdvertisementSlotName.HomeBottomInline,e))}),[n]),y=(0,o.useCallback)((function(e){return n((0,l.adPlacementClicked)("AdFox",u.AdvertisementSlotName.HomeBottomInline,e))}),[n]),b=!a;return(0,o.useCallback)((function(){return b?o.default.createElement(c.default,{onLoad:p,onRender:f,onClick:h}):o.default.createElement(d.default,{aviaParams:r,banners:m,adUnits:window.exploreAdUnits,onLoad:v,onRender:g,onClick:y})}),[])()},v=o.default.memo(h);t.default=v},755547:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(224562),i=a(445549),l=a(650832),s=a(223002),u=a(423343),c=a(724573),d=a(417201),p=r(a(42583));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}t.default=function(){var e=(0,i.useTranslation)("payment_selector").t,t=(0,o.useDispatch)(),a=(0,o.useSelector)(s.getActiveForm),r=(0,o.useSelector)(s.getAviaFormParams).paymentMethod,f=(0,o.useSelector)(u.getMultiwayParams).paymentMethod,m="multiway"===a?f:r,h=(0,n.useMemo)((function(){return[{text:e("option.all"),value:l.PaymentMethod.All},{text:e("option.uzcard"),value:l.PaymentMethod.UZCard},{text:e("option.visa_mastercard"),value:l.PaymentMethod.VisaMastercard,className:"--visa-mastercard"}]}),[e]),v=(0,n.useCallback)((function(e){t("multiway"===a?(0,d.updateMultiwayParams)({paymentMethod:e}):(0,c.updateAviaParams)({paymentMethod:e}))}),[t,a]);return n.default.createElement(p.default,{value:m,options:h,onChange:v})}},42583:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=a(445549),l=r(a(225385)),s=a(348131),u=a(385264),c=a(70303);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}a(358251);var p=(0,l.default)("payment-selector");t.default=function(e){var t=(0,i.useTranslation)("payment_selector").t,a=(0,o.useState)(!1),r=(0,n.default)(a,2),l=r[0],d=r[1],f=(0,o.useCallback)((function(){return d(!1)}),[]),m=(0,o.useCallback)((function(){return d(!l)}),[l]),h=(0,o.useCallback)((function(t){e.onChange(t.currentTarget.value),f()}),[e.onChange]),v=o.default.createElement("div",{className:p("content")},e.options.map((function(t){return o.default.createElement(c.CustomRadio,{key:t.value,value:t.value,inputId:"payment-method_"+t.value,name:"payment-method",caption:t.text,active:t.value===e.value,onChange:h,modifiers:[p("method")]})}))),g=(0,o.useMemo)((function(){var t,a=e.options.find((function(t){return t.value===e.value}));return{option:a,className:null!=a&&a.className?((t={})[""+a.className]=!!a.className,t):void 0}}),[e.options,e.value]);return o.default.createElement(s.DropdownOrModal,{visible:l,dropdownContent:v,onClose:f,hideArrow:!0,modalHeader:t("label"),className:p("dropdown-container"),contentClassName:p("dropdown-content"),dropdownPosition:u.DropdownPosition.BottomRight},o.default.createElement("div",{className:p(null,{"--is-open":l}),onClick:m},o.default.createElement("div",{className:p("label")},t("label")),o.default.createElement("div",{className:p("value",g.className)},g.option.text)))}},40333:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SearchHotels=function(e){var t=e.checked,a=e.onChange,r=(0,o.useTranslation)("common").t,s=(0,i.useStore)(f),c=(0,i.useStore)(m),h=(0,n.useCallback)((function(e){var t=Boolean(e);a(t)}),[a]),v=(0,i.useStore)(d),g=(0,n.useMemo)((function(){var e=r("hotelPartners.su."+v),t=r("hotelPartners.pr."+v),a=null==c?void 0:c[v];return s&&a?n.default.createElement(o.Trans,{ns:"common",i18nKey:"premiumOpenHotels",values:{hotelPartner:t,percent:a}},n.default.createElement(l.Text,{className:u.default.aboutCashback,type:l.TextType.Body3Semi,tag:"span"})):r("openHotels",{hotelPartner:e})}),[v,s,c,r]);return n.default.createElement("div",{className:u.default.container,"data-test-id":"checkbox-booking"},n.default.createElement(p,{text:g,className:"of_input_checkbox",name:"hotel_checkbooks",id:"hotel_checkbooks",checked:t?1:0,onChange:h}))};var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(445549),i=a(896911),l=a(463854),s=a(863974),u=r(a(471930));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var d=s.userService.$hotelPartner,p=a(214425),f=s.userService.$isUserHasPremiumSubscription,m=s.userService.$premiumHotelPartnerMaxRateValues},501950:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=a(224562),i=a(392220),l=a(664677),s=a(385787),u=r(a(702944)),c=a(663579),d=a(825310),p=a(11764),f=r(a(38123)),m=(0,c.withFlagr)(u.default,["avs-feat-subscription"])((function(){var e=(0,p.useSubscribeButton)(),t=e.hasSameSubscription,a=e.handleSubscribeClick,r=(0,p.useSubscribeButtonVisible)(),u=(0,o.useSelector)(d.getCurrentPage);return r&&"search"===u?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Button,{type:"button",onClick:a,mod:i.ButtonMod.Ghost,className:f.default.subscribeButton,inline:!0},t?n.default.createElement(l.Icon24ControlsBell,null):n.default.createElement(s.Icon24ControlsBellOutline,null))):null}));t.default=m},93705:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=r(a(225385));a(725308);var i=a(215890),l=(0,o.default)("swap-places");t.default=function(e){return n.default.createElement("div",{className:l("",e.className),onClick:e.onClick,"data-test-id":"swap-places"},n.default.createElement(i,{className:l("arrow","--top")}),n.default.createElement(i,{className:l("arrow","--bottom")}))}},480632:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollTripDurationPickerIntoView=void 0;var r=a(104189);t.scrollTripDurationPickerIntoView=function(e,t){var a=e.getBoundingClientRect();if(!(a.top>0&&a.bottom<window.innerHeight)){if(a.height>window.innerHeight-r.NAVBAR_WITH_OFFSET_HEIGHT-r.FORM_FIELDS_HEIGHT){var n=t.getBoundingClientRect().top+window.pageYOffset;return window.scrollTo({top:n-r.NAVBAR_WITH_OFFSET_HEIGHT,behavior:"smooth"})}var o=a.top+document.documentElement.scrollTop-(window.innerHeight-a.height)+10;window.scrollTo({top:o,behavior:"smooth"})}}},706565:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(797972),n=a(445549),o=a(39757),i=a(165299);t.default=function(e){var t=(0,n.useTranslation)("login_form").t;return(0,r.useMemo)((function(){switch(e){case o.LoginPopupTriggerType.FollowDirection:return{image:i,title:t("direction_subscription.title")};case o.LoginPopupTriggerType.FollowTicket:return{image:i,title:t("ticket_subscription.title")};default:return{title:t("default.titleDesktop"),subtitle:t("default.subtitle")}}}),[e,t])}},324234:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useLoginFormSubscription=void 0;var n=r(a(114558)),o=a(797972),i=a(445549),l=a(896911),s=a(705238);t.useLoginFormSubscription=function(e){var t=(0,i.useTranslation)("login_form").t,a=(0,l.useStore)(s.gdprService.$shouldPreCheckMarketingEmail),r=(0,l.useStore)(s.gdprService.$showSubscriptionInLoginFlag),u=(0,l.useStore)(s.gdprService.$isCCPA),c=(0,o.useState)(a),d=(0,n.default)(c,2),p=d[0],f=d[1],m=u?t("checkboxSubscriptionTextByBrand"):void 0;return{handleLoginClick:function(t){e({method:t,isMarketingAccepted:r?p:null})},showSubscriptionCheckbox:r,subscriptionCheckboxValue:p,toggleSubscriptionCheckbox:function(){return f(!p)},subscriptionCheckboxText:m}}},665197:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=a(445549),i=r(a(37102)),l=a(824585),s=a(463854),u=a(324234),c=r(a(705477)),d=(0,o.withTranslation)("login_form")((function(e){var t=e.className,a=e.useLargeTitle,r=e.subtitleGray,o=e.title,d=e.subtitle,p=e.loginMethods,f=e.showAllMethods,m=e.onLoginClick,h=e.onOtherMethodsClick,v=(0,u.useLoginFormSubscription)(m),g=v.handleLoginClick,y=v.showSubscriptionCheckbox,b=v.subscriptionCheckboxValue,C=v.toggleSubscriptionCheckbox,P=v.subscriptionCheckboxText;return n.default.createElement("div",{className:(0,i.default)(c.default.wrap,t)},o&&n.default.createElement(s.Text,{className:c.default.title,type:a?s.TextType.Title2Bold:s.TextType.Body1Bold},o),d&&n.default.createElement(s.Text,{className:(0,i.default)(c.default.subtitle,r?c.default.subtitleGray:c.default.subtitleBlack),type:r?s.TextType.Body1Regular:s.TextType.Body2Paragraph},d),n.default.createElement("div",{className:c.default.loginForm},n.default.createElement(l.LoginForm,{showAllMethods:f,onLoginClick:g,onChangeSubscription:C,onOtherMethodsClick:h,subscriptionValue:b,showSubscription:y,availableLoginMethods:p,subscriptionCheckboxText:P})))}));t.default=d},897463:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(385882)),i=r(a(971410)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),s=a(224562),u=a(896911),c=r(a(706565)),d=r(a(702944)),p=a(663579),f=a(742029),m=a(520072),h=a(863974),v=a(173400),g=r(a(812047)),y=a(39757);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}var C=(0,l.memo)((function(){var e=(0,s.useDispatch)(),t=(0,u.useStore)(h.userService.$isAuthorized),a=(0,s.useSelector)((function(e){return(0,f.getPopupData)(e,"loginForm")})),r=(0,s.useSelector)((function(e){return(0,f.getPopupIsOpen)(e,"loginForm")})),p=null==a?void 0:a.source,b=(0,l.useMemo)((function(){return document.querySelector('[is="login_button"]')}),[window.isMainPage,window.isSearchPage]),C=(0,l.useCallback)((function(a){t||(a.preventDefault(),e((0,m.openPopup)("loginForm",{source:y.LoginPopupTriggerType.MainPageLoginButton})))}),[t,e]);(0,l.useEffect)((function(){return b&&b.addEventListener("click",C),function(){b&&b.removeEventListener("click",C)}}),[b,t,C]);var P=(0,l.useCallback)((function(){e((0,m.closePopup)("loginForm"))}),[e]),w=(0,l.useCallback)(function(){var e=(0,i.default)(o.default.mark((function e(t){var a,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.method,r=t.isMarketingAccepted,e.t0=p,e.next=e.t0===y.LoginPopupTriggerType.MainPageLoginButton?4:e.t0===y.LoginPopupTriggerType.HeaderDropdown?13:22;break;case 4:return e.prev=4,e.next=7,(0,v.waitEffectResult)({effectTrigger:h.userService.login,effectTriggerParams:{method:a,isMarketingAccepted:r,source:"login_popup"},statusStore:h.userService.$loginFxStatus});case 7:b&&window.location.assign(b.href),e.next=12;break;case 10:e.prev=10,e.t1=e.catch(4);case 12:return e.abrupt("break",30);case 13:return e.prev=13,e.next=16,(0,v.waitEffectResult)({effectTrigger:h.userService.login,effectTriggerParams:{method:a,isMarketingAccepted:r,source:"login_header_dropdown"},statusStore:h.userService.$loginFxStatus});case 16:e.next=20;break;case 18:e.prev=18,e.t2=e.catch(13);case 20:return P(),e.abrupt("break",30);case 22:return e.prev=22,e.next=25,(0,v.waitEffectResult)({effectTrigger:h.userService.login,effectTriggerParams:{method:a,isMarketingAccepted:r,source:"login_popup"},statusStore:h.userService.$loginFxStatus});case 25:e.next=29;break;case 27:e.prev=27,e.t3=e.catch(22);case 29:return e.abrupt("break",30);case 30:case"end":return e.stop()}}),e,null,[[4,10],[13,18],[22,27]])})));return function(t){return e.apply(this,arguments)}}(),[p,b,P]);return l.default.createElement(g.default,(0,n.default)({},(0,c.default)(p),{loginMethods:d.default.get("avs-feat-loginMethods").methods,isVisible:r,onClose:P,onLoginClick:w}))})),P=(0,p.withFlagr)(d.default,["avs-feat-loginMethods"])(C);t.default=P},812047:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=a(445549),i=a(267305),l=a(885475),s=a(736633),u=r(a(665197)),c=r(a(267290));t.default=function(e){var t=(0,o.useTranslation)("login_form").t;return n.default.createElement(i.Popup,{width:480,visible:e.isVisible,onClose:e.onClose},n.default.createElement(i.Popup.Navigation,null,n.default.createElement(l.Navbar.RightAccessory,null,n.default.createElement(s.CloseButton,{onClick:e.onClose}))),n.default.createElement(u.default,{className:c.default.loginPopup,useLargeTitle:!0,title:t("default.titleDesktop"),subtitle:t("default.subtitle"),subtitleGray:!0,caption:e.caption,description:e.description,onLoginClick:e.onLoginClick,showAllMethods:!0,loginMethods:e.loginMethods}))}},338958:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.lozadObserve=void 0;var n=(0,r(a(501077)).default)("[data-src]",{load:function(e){e.src=e.getAttribute("data-src"),e.setAttribute("data-loaded","true"),n.observe()}}),o=n.observe;t.lozadObserve=o},127270:function(e,t,a){"use strict";var r=a(35220);t.Z=void 0;var n=r(a(114558)),o=r(a(382697));a(64951);var i="is-onboarding-shown",l=document.documentElement,s=l&&!l.classList.contains("--en"),u=function(){return o.default.set(i,!0,{expires:2592e3,path:"/"})};t.Z=function(e){var t=!!o.default.get(i);if(e.classList.toggle("--minimized",t),t){var a=e.querySelector(".onboarding__inner");a&&a.addEventListener("click",(function(){e.classList.toggle("--minimized",!t),u()}))}else s&&function(e,t){new IntersectionObserver((function(t,a){var r=(0,n.default)(t,1)[0];r&&r.isIntersecting&&r.intersectionRatio>.5&&(u(),a.unobserve(e))}),{threshold:.5}).observe(e)}(e)}},588967:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useSubtitle=t.usePlaces=void 0;var n=a(797972),o=a(224562),i=a(445549),l=r(a(539807)),s=r(a(626514)),u=r(a(249142)),c=a(372662),d=a(147075),p=a(402030),f=a(423343),m=a(430162),h=a(539786),v=a(495256);t.usePlaces=function(){var e=(0,o.useSelector)(f.getIsMultiway),t=(0,o.useSelector)(f.getMultiwayOriginDestinationCityNames),a=t.originCity,r=t.destinationCity,n=(0,o.useSelector)(m.getOriginDestinationCityNames),i=n.originCity,l=n.destinationCity;return e?{delimiter:d.ELLIPSIS,origin:a,destination:r}:{delimiter:d.M_DASH,origin:i,destination:l}},t.useSubtitle=function(){var e=(0,i.useTranslation)().t,t=(0,o.useSelector)(m.getSegments),a=(0,o.useSelector)(h.getPassengersAmount),r=(0,o.useSelector)(m.getTripClass),d=function(e){var t=(0,p.useToken)("interval_date"),a=(0,p.useToken)("ts_day_month");if(!e)return null;var r=e.map((function(e){return null!=e&&e.date?new Date(e.date):null})),n=(0,s.default)(r),o=(0,u.default)(r);return n||o?n&&o&&!(0,l.default)(n,o)?t(new c.Interval({start:(0,v.dateWithoutTimezone)(n),end:(0,v.dateWithoutTimezone)(o)})):n?a((0,v.dateWithoutTimezone)(n)):null:null}(t);return(0,n.useMemo)((function(){return[d,e("additional_form_fields:passengersLabelCount",{count:a}),e("additional_form_fields:tripClasses.codes."+r).toLowerCase()].filter((function(e){return Boolean(e)})).join(", ")}),[e,d,a,r])}},598599:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SerpModal=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=b(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=a(445549),l=a(224562),s=r(a(225385)),u=a(463854),c=a(808785),d=a(441361),p=a(885475),f=a(736633),m=a(388039),h=a(418310),v=a(937435),g=a(785843),y=a(588967);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(b=function(e){return e?a:t})(e)}a(103030);var C=(0,s.default)("serp-modal");t.SerpModal=function(e){var t=e.children,a=(0,i.useTranslation)("common").t,r=(0,l.useDispatch)(),s=(0,v.useIsMobile)(),b=(0,y.usePlaces)(),P=b.origin,w=b.destination,k=b.delimiter,E=(0,y.useSubtitle)(),O=o.default.useState(!1),M=(0,n.default)(O,2),T=M[0],S=M[1],D=(0,o.useCallback)((function(e){S(Boolean(e.currentTarget.scrollTop>0))}),[]),_=(0,o.useCallback)((function(){r((0,h.closeSerpModal)())}),[r]);(0,o.useEffect)((function(){return document.body.classList.add("serp-in-modal"),function(){return document.body.classList.remove("serp-in-modal")}}),[]);var I=!!(0,g.isWayAway)(g.BRAND)||void 0,j=!!(0,g.isWayAway)(g.BRAND)||void 0;return o.default.createElement(c.Modal,{onClose:_,onScroll:D,visible:!0,className:C(null,{"serp-modal_scrolled":T}),brandBackground:!0},o.default.createElement(c.Modal.Navigation,{transparent:I,shadow:j},o.default.createElement(p.Navbar.Title,null,o.default.createElement("div",{className:C("navigation")},P&&w&&o.default.createElement("div",{className:C("title")},o.default.createElement(u.Text,{type:u.TextType.Body1Semi,className:C("place")},P),o.default.createElement("span",{className:C("delimiter")},k),o.default.createElement(u.Text,{type:u.TextType.Body1Semi,className:C("place")},w)),E&&o.default.createElement(u.Text,{type:u.TextType.CaptionRegular},E))),o.default.createElement(p.Navbar.RightAccessory,null,s?o.default.createElement(f.CloseButton,{onClick:_}):o.default.createElement(d.Button,{onClick:_,mod:d.ButtonMod.Default,priority:d.ButtonPriority.Secondary,className:C("close-btn")},o.default.createElement(d.Button.Icon,{className:C("close-icon")},o.default.createElement(m.Icon24ControlsCross,null)),o.default.createElement(d.Button.Label,null,a("common:close"))))),t)}},10558:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(947981)),o=r(a(797972)),i=a(224562),l=a(718123),s=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleVisibilityChange=function(){document.visibilityState&&(console.log("Document visibility changed to "+document.visibilityState),t.props.reachGoal("tab-visibility--change",{state:document.visibilityState}))},t}(0,n.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisibilityChange)},a.componentWillUnmount=function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)},a.render=function(){return null},t}(o.default.Component),u=(0,i.connect)(null,(function(e){return{reachGoal:function(t,a){return e((0,l.reachGoal)(t,a))}}}))(s);t.default=u},166058:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.setNameToAnywherePlace=function(){(0,i.selectIsTravelRestrictionsWidgetEnabled)(o.default)?l.ANYWHERE.name=n.default.t("avia_form:whereСan"):l.ANYWHERE.name=n.default.t("avia_form:anywhere")};var n=r(a(275347)),o=r(a(702944)),i=a(405628),l=a(255285)},818884:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTouchDevice=void 0,t.isTouchDevice=function(){return window.matchMedia("(hover: none)").matches}},397012:function(e,t,a){"use strict";var r=a(35220),n=r(a(394296)),o=r(a(860606)),i=r(a(702944)),l=!1;function s(e,t){var a="";l?(a="flags--update--init",l=!1):a=t?"flags--update--dynamic":"flags--add--dynamic";var r={context:i.default.getBasicContext(),flags:i.default.serialize(),response_time:i.default.getResponseTime()};(0,n.default)("send_event",{name:a,meta:r}),o.default.configure({payload:{flagr:r}})}window.updatedData&&(s(window.updatedData.keys,window.updatedData.isAll),delete window.updatedData),i.default.on("update",s)},675575:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.throttleWithOptions=void 0;var n=r(a(510984)).default.convert({fixed:!1});t.throttleWithOptions=n},187567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChespestPrice=function(e){return function(e){var t=Object.keys(e).map((function(t){return e[t]}));return t.reduce((function(e,t){return t.unified_price<e.unified_price?t:e}),t[0])}(e).unified_price},t.getFirstFlight=function(e){return e.segment[0].flight[0]},t.getReturnFlight=function(e){return e.segment[e.segment.length-1].flight[0]}},415136:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumPromoWidget=void 0;var n=r(a(797972)),o=a(568082);t.PremiumPromoWidget=function(){return n.default.createElement(o.SeleneWidget,{name:"premium_promo"})}},13377:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateBrowserHistoryState=t.updateBrowserHistory=void 0;var r=a(197783);t.updateBrowserHistory=function(e,t){return{type:r.UPDATE_BROWSER_HISTORY,location:e,action:t}},t.updateBrowserHistoryState=function(e){return{type:r.UPDATE_BROWSER_HISTORY_STATE,state:e}}},990193:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verifyGoogleRecaptcha=t.googleRecaptchaShown=void 0;var r=a(536842);t.verifyGoogleRecaptcha=function(e){return{type:r.VERIFY_GOOGLE_RECAPTCHA,token:e}},t.googleRecaptchaShown=function(){return{type:r.GOOGLE_RECAPTCHA_SHOWN}}},628747:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mobileAppRedirectShowed=t.mobileAppRedirectClicked=void 0;var r=a(295659);t.mobileAppRedirectShowed=function(e){return{type:r.MOBILE_APP_REDIRECT_SHOWED,view:e}},t.mobileAppRedirectClicked=function(e){return{type:r.MOBILE_APP_REDIRECT_CLICKED,view:e}}},282897:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showPoletelyPromo=t.openPoletelyPromoLandingPage=t.openPoletelyPromoBlogPage=void 0;var r=a(178745);t.openPoletelyPromoBlogPage=function(){return{type:r.OPEN_POLETELY_PROMO_BLOG_PAGE}},t.openPoletelyPromoLandingPage=function(){return{type:r.OPEN_POLETELY_PROMO_LANDING_PAGE}},t.showPoletelyPromo=function(){return{type:r.SHOW_POLETELY_PROMO}}},808301:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSeleneWidgets=void 0;var r=a(457834);t.initSeleneWidgets=function(){return{type:r.INIT_SELENE_WIDGETS}}},482583:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserHistoryState=void 0,t.getBrowserHistoryState=function(e){return e.browserHistory.state}},986378:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExplosionSubscriptionsError=void 0,t.getExplosionSubscriptionsError=function(e){return e.explosionSubscriptions.error}},440661:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGeoIpCountry=t.checkIfGeoIpIsRussian=void 0,t.getGeoIpCountry=function(e){return e.geoIpCountry},t.checkIfGeoIpIsRussian=function(e){var t;return"ru"===(null===(t=e.geoIpCountry)||void 0===t?void 0:t.toLowerCase())}},948206:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.STICKY_BANNER_VISIBLE_BODY_CLASS=t.MobileAppRedirectType=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=y(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=r(a(148001)),i=a(224562),l=a(445549),s=a(721193),u=r(a(382697)),c=a(663579),d=r(a(702944)),p=a(825310),f=r(a(633869)),m=a(628747),h=r(a(708773)),v=r(a(822570)),g=a(338408);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(y=function(e){return e?a:t})(e)}var b,C="mobile_app_redirect",P="--mobile-app-redirect-sticky-banner-visible";t.STICKY_BANNER_VISIBLE_BODY_CLASS=P,t.MobileAppRedirectType=b,function(e){e.Popup="popup",e.StickyBanner="sticky_banner"}(b||(t.MobileAppRedirectType=b={}));var w=(0,n.memo)((0,c.withFlagr)(d.default,["avs-feat-mobileAppRedirect"])((function(){var e=(0,l.useTranslation)("banners").t,t=(0,n.useRef)(),a=(0,i.useSelector)(p.getCurrentPage),r=(0,i.useDispatch)(),c=(0,n.useCallback)((function(e){t.current=e,r((0,m.mobileAppRedirectShowed)(e))}),[r]),y=(0,n.useCallback)((function(){r((0,m.mobileAppRedirectClicked)(b.StickyBanner))}),[r]),w=(0,n.useCallback)((function(){r((0,m.mobileAppRedirectClicked)(b.Popup))}),[r]),k=(0,n.useCallback)((function(){document.body.classList.remove(P),f.default.setItem(C,"1")}),[]),E=(0,n.useCallback)((function(){u.default.set(C,1,{expires:604800,path:"/"}),f.default.setItem(C,"1")}),[]),O=d.default.isReady("avs-feat-mobileAppRedirect"),M=d.default.get("avs-feat-mobileAppRedirect","variantAttachment"),T=!M||0===Object.keys(M).length,S=(0,g.useGetParams)(null==M?void 0:M.redirectLink),D=(0,n.useMemo)((function(){var t;return null!=(t=null==M?void 0:M.popupDescription)?t:e("mobileRedirect.popupDescription")}),[M,e]),_=(0,n.useMemo)((function(){var t;return null!=(t=null==M?void 0:M.popupButtonText)?t:e("mobileRedirect.popupButtonText")}),[M,e]),I=(0,n.useMemo)((function(){return!!window&&(0,s.parse)(window.location.search).guides_app}),[]);if(!O||T||I)return null;if(!u.default.get(C)&&!f.default.getItem(C)||"popup"===t.current){var j=S(b.Popup);return t.current||c(b.Popup),o.default.createPortal(n.default.createElement(v.default,{onRedirectClick:w,text:D,buttonText:_,url:j,onClose:E}),document.body)}if(!f.default.getItem(C)&&"search"===a||"sticky_banner"===t.current){var N=S(b.StickyBanner);return t.current||(c(b.StickyBanner),document.body.classList.add(P)),n.default.createElement(h.default,{onRedirectClick:y,text:e("mobileRedirect.stickyBannerText"),url:N,onClose:k})}return null})));t.default=w},162523:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsPopups=void 0;var n=r(a(797972)),o=r(a(702944)),i=a(324987),l=r(a(121517));t.SubscriptionsPopups=function(){return o.default.is("avs-feat-userProfile")?n.default.createElement(n.default.Fragment,null,n.default.createElement(i.TicketSubscriptionsPopupContainer,null),n.default.createElement(l.default,null)):null}},727085:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(224562),i=r(a(709910)),l=a(663579),s=r(a(702944)),u=a(742029);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}var d=function(e){var t,a=e.ticketSign,r=(0,o.useSelector)((function(e){return(0,u.getPopupData)(e,"ticket")})),l=null!=(t=null==r?void 0:r.ticketIndex)?t:0;return n.default.createElement(i.default,{sign:a,ticketIndex:l})},p=(0,l.withFlagr)(s.default,["avs-feat-subscription","serp-exp-fares","serp-feat-ticketSharingMethods","serp-exp-versusDrawer"])((0,n.memo)(d));t.default=p},819831:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ProductTicketModals=void 0;var n=r(a(797972)),o=a(224562),i=a(896911),l=r(a(626514)),s=r(a(944408)),u=a(682237),c=a(386452),d=a(671747),p=a(550278),f=a(334),m=a(854755),h=a(483743),v=T(a(492190)),g=r(a(216179)),y=T(a(453291)),b=r(a(513290)),C=r(a(727085)),P=r(a(345663)),w=a(496630),k=a(25614),E=a(742029),O=a(568082);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(M=function(e){return e?a:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=M(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}t.ProductTicketModals=function(){var e,t,a,r,M=(0,i.useStore)(c.$currency),T=(0,o.useSelector)(d.getCurrencies),S=(0,o.useSelector)(p.getAirlines),D=(0,o.useSelector)(f.getAirports),_=(0,o.useSelector)(m.getCountries),I=(0,o.useSelector)(h.getGates),j=(0,o.useSelector)((function(e){return(0,E.getPopupData)(e,"ticket")})),N=(0,o.useSelector)((function(e){return(0,E.getPopupData)(e,"ticketContent")})),F=(0,o.useSelector)(k.getTicketsState),x=F.ticketsList,A=F.tickets,R=(0,o.useSelector)(w.getHighlightedTicketParams),B=null!=(e=null!=(t=null!=(a=null!=(r=null==j?void 0:j.ticketSign)?r:null==N?void 0:N.ticketSign)?a:(0,l.default)(x))?t:null==R?void 0:R.sign)?e:(0,l.default)((0,s.default)(A));return B&&A[B]?n.default.createElement(v.default.Provider,{value:{currencies:T,currency:M,currenciesList:v.defaultCurrenciesList}},n.default.createElement(g.default.Provider,{value:(0,u.buildAirlines)(S)},n.default.createElement(y.default.Provider,{value:(0,y.buildGatesContext)(I)},n.default.createElement(b.default.Provider,{value:(0,u.buildPlaces)(D,_)},n.default.createElement(C.default,{ticketSign:B}),n.default.createElement(P.default,{ticketSign:B}),n.default.createElement(O.SeleneWidget,{name:"transfer_info"}))))):null}},645049:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDatesTextFromSegments=void 0;var r=a(740537);t.getDatesTextFromSegments=function(e){var t="",a=(0,r.parse)(e[0].date,"YYYY-MM-DD");if(t+=(0,r.format)(a,"D MMMM YYYY",!0),e[1]){var n=(0,r.parse)(e[1].date,"YYYY-MM-DD");t+=" – "+(0,r.format)(n,"D MMMM YYYY",!0)}return t.toLowerCase()}},121517:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(224562),i=a(445549),l=a(841511),s=a(742029),u=a(441412),c=r(a(221291));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}t.default=function(){var e,t,a=(0,i.useTranslation)("create_subscription").t,r=u.SubscriptionsSuccessPopupType.FullSuccess,d=(0,o.useSelector)((function(e){return(0,s.getPopupIsOpen)(e,"subscriptionsSuccess")})),p=(0,o.useSelector)((function(e){return(0,s.getPopupData)(e,"subscriptionsSuccess")}));null!=p&&p.type&&(r=p.type),r===u.SubscriptionsSuccessPopupType.FullSuccess&&(e=a("create_subscription:successPopup.full.title"),t=a("create_subscription:successPopup.full.caption")),r===u.SubscriptionsSuccessPopupType.NeedToActivate&&(e=a("create_subscription:successPopup.needToActivate.title"),t=a("create_subscription:successPopup.needToActivate.caption"));var f=(0,o.useDispatch)(),m=(0,n.useCallback)((function(){return f((0,l.subscriptionsPopupClose)())}),[f]);return n.default.createElement(c.default,{visible:d,title:e,caption:t,buttonText:a("create_subscription:successPopup.close"),onClose:m})}},324987:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSubscriptionsPopupContainer=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=h(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(224562),i=a(445549),l=a(896911),s=a(430162),u=a(986378),c=a(841511),d=a(742029),p=a(863974),f=a(645049),m=r(a(402737));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(h=function(e){return e?a:t})(e)}t.TicketSubscriptionsPopupContainer=function(){var e=(0,i.useTranslation)("create_subscription").t,t=(0,o.useSelector)(s.getSearchParams),a=(0,l.useStore)(p.userService.$userCandidateEmail),r=(0,o.useSelector)(u.getExplosionSubscriptionsError),h=(0,o.useSelector)(s.getOriginDestinationCityNames),v=h.originCity,g=h.destinationCity,y=(0,o.useDispatch)(),b=(0,n.useCallback)((function(){return y((0,c.subscriptionsPopupClose)())}),[y]),C=(0,n.useCallback)((function(e){return y((0,c.subscriptionsPopupSubmit)(e))}),[y]),P="";null!=t&&t.segments&&(P=(0,f.getDatesTextFromSegments)(t.segments));var w=(0,o.useSelector)((function(e){return(0,d.getPopupIsOpen)(e,"ticketSubscriptions")}));return n.default.createElement(m.default,{flexibility:1,isVisible:w,originCity:v,destinationCity:g,headerTitle:e("create_subscription:createSubscriptionPopup.ticket.title"),subTitle:P,canSelectMonths:!1,email:null!=a?a:void 0,showFlexibility:!1,showDirectFlightCheckbox:!1,error:r?e("create_subscription:errors."+r):r,onClose:b,onSubmit:C})}},402737:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(101339)),o=r(a(114558)),i=r(a(947981)),l=k(a(797972)),s=a(445549),u=r(a(225385)),c=a(392220),d=a(601779),p=a(463854),f=a(514837),m=r(a(63134)),h=k(a(129957)),v=r(a(774962)),g=a(100295),y=r(a(162539)),b=a(3571),C=k(a(587273)),P=a(763513);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(w=function(e){return e?a:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=w(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(566412);var M=a(841620),T=(0,u.default)("subscriptions-popup"),S={mobile:C.MediaQueryTypes.Mobile,mobileLandscape:C.MediaQueryTypes.Desktop,tablet:C.MediaQueryTypes.Desktop,desktop:C.MediaQueryTypes.Desktop},D=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={activeTab:P.SubscriptionsPopupActiveTab.FixedDates,flexibility:0,directFlight:!1,isSubmitted:!1,months:[],duration:{min:7,max:14},emailParams:{value:t.props.email||"",isValid:!0},mediaQueryType:S[C.default.currentMode()||C.MediaQueryTypes.Desktop]},t.initialMonths=(0,b.buildMonthPickerValue)(),t.mediaQueryModes="mobile, mobileLandscape, tablet, desktop",t.handleMediaQueryTypeChange=function(e){t.setState({mediaQueryType:S[e]})},t.handleTabChange=function(e){t.state.activeTab!==e&&t.setState({activeTab:e})},t.handleFlexibilityChange=function(){t.setState({flexibility:t.state.flexibility?0:t.props.flexibility})},t.handleDirectFlightChange=function(){t.setState({directFlight:!t.state.directFlight})},t.handleMonthPickerChange=function(e){t.setState({months:e})},t.handleDurationChange=function(e){var a=(0,o.default)(e,2),r={min:a[0],max:a[1]};t.setState({duration:r})},t.handleChangeEmail=function(e){var a=t.state,r=a.emailParams;if(a.isSubmitted){var n=(0,g.validateEmail)(e.target.value).isValid;t.setState({emailParams:{isValid:n,value:e.target.value}})}else t.setState({emailParams:O(O({},r),{},{value:e.target.value})})},t.handleSubmit=function(e){e.preventDefault();var a=t.state,r=a.emailParams,n=a.activeTab,o=t.props,i=o.onSubmit,l=o.showFlexibility,s=o.showDirectFlightCheckbox;if((0,g.validateEmail)(r.value).isValid){if(i)if(n===P.SubscriptionsPopupActiveTab.FixedDates){var u={type:P.SubscriptionsPopupActiveTab.FixedDates,email:t.state.emailParams.value,flexibility:0,directFlight:!1};l&&(u.flexibility=t.state.flexibility),s&&(u.directFlight=t.state.directFlight),i(u)}else i({type:P.SubscriptionsPopupActiveTab.FlexibleDates,email:t.state.emailParams.value,months:t.state.months,duration:t.props.canSelectRange?t.state.duration:void 0})}else t.setState({emailParams:O(O({},r),{},{isValid:!1}),isSubmitted:!0})},t.handleClose=function(){t.props.onClose&&t.props.onClose()},t.renderSliderLabel=function(e,a){return l.default.createElement(h.SliderRangeFromToLabel,{key:a,type:a},t.props.t("common:dateTime.withValues.durationFullCountable.d",{days:e}))},t}(0,i.default)(t,e),t.getDerivedStateFromProps=function(e,t){return e.email!==t.__prevEmail?O(O({},t),{},{emailParams:{value:e.email||"",isValid:!0},__prevEmail:e.email}):null};var a=t.prototype;return a.componentDidMount=function(){C.default.onMode(this.mediaQueryModes,this.handleMediaQueryTypeChange)},a.componentWillUnmount=function(){C.default.offMode(this.mediaQueryModes,this.handleMediaQueryTypeChange)},a.renderHeader=function(){var e=this.props,t=e.originCity,a=e.destinationCity;return l.default.createElement(p.Text,{tag:"h3",type:p.TextType.Title3Semi,className:T("title")},l.default.createElement("span",null,t)," ",l.default.createElement(M,{className:T("plane-icon")})," ",l.default.createElement("span",null,a))},a.renderDates=function(){return this.props.subTitle?l.default.createElement(p.Text,{tag:"p",type:p.TextType.Body2Paragraph,className:T("sub-title")},this.props.subTitle):null},a.renderButtonsGroup=function(){var e=this,t=this.state.activeTab,a=this.props.t,r=[{content:a("subscriptions_popup:tabs.fixedDates"),isActive:t===P.SubscriptionsPopupActiveTab.FixedDates,onClick:function(){return e.handleTabChange(P.SubscriptionsPopupActiveTab.FixedDates)}},{content:a("subscriptions_popup:tabs.flexibleDates"),isActive:t===P.SubscriptionsPopupActiveTab.FlexibleDates,onClick:function(){return e.handleTabChange(P.SubscriptionsPopupActiveTab.FlexibleDates)}}];return l.default.createElement(m.default,{buttons:r,className:T("tabs")})},a.renderMonths=function(){var e=this.state,t=e.duration,a=e.months,r=this.props.canSelectRange;return l.default.createElement("div",{className:T("flexible-dates")},l.default.createElement("div",{className:T("months-container")},l.default.createElement(y.default,{value:a,initialMonths:this.initialMonths,showToggleAll:!1,onSelect:this.handleMonthPickerChange})),r&&l.default.createElement("div",{className:T("duration")},l.default.createElement(h.default,{range:{min:1,max:30},minValue:t.min,maxValue:t.max,renderLabel:this.renderSliderLabel,onChange:this.handleDurationChange,step:1})))},a.renderCheckboxes=function(){var e=this.props,t=e.t,a=e.showDirectFlightCheckbox,r=e.showFlexibility,n=this.state,o=n.flexibility,i=n.directFlight;return r||a?l.default.createElement("div",{className:T("options")},r&&l.default.createElement(f.Checkbox,{id:"additional-days",checked:!!o,name:"additional-days",onChange:this.handleFlexibilityChange,className:T("checkbox"),label:t("subscriptions_popup:options.additionalDays",{days:this.props.flexibility})}),a&&l.default.createElement(f.Checkbox,{id:"direct-flight",checked:i,name:"direct-flight",onChange:this.handleDirectFlightChange,className:T("checkbox"),label:t("subscriptions_popup:options.directFlight")})):null},a.renderEmailInput=function(){var e,t=this.props,a=t.t,r=t.error,n=this.state,o=n.activeTab,i=n.emailParams,s=n.months,u=o===P.SubscriptionsPopupActiveTab.FlexibleDates&&!s.length;return i.isValid||(e=""),r&&(e=r),l.default.createElement(l.default.Fragment,null,l.default.createElement(v.default,{error:e,className:T("input"),inputClassName:T("input-element"),type:"email",required:!0,value:i.value,onChange:this.handleChangeEmail,placeholder:a("subscriptions_popup:inputPlaceholderText")}),l.default.createElement(c.Button,{size:c.ButtonSize.Large,type:"submit",mod:c.ButtonMod.Primary,className:T("action-btn"),disabled:u},a("subscriptions_popup:actionButton")))},a.render=function(){var e=this.props,t=e.isVisible,a=e.canSelectMonths,r=this.state.activeTab;return l.default.createElement(d.ModalCore,{animationType:d.ModalAnimationType.Up,width:d.ModalWidth.Small,visible:t,fixedHeader:!1,fixedFooter:!1,withInnerPaddings:!0,onClose:this.handleClose},l.default.createElement("div",{className:T()},this.renderHeader(),l.default.createElement("form",{className:T("form"),onSubmit:this.handleSubmit,noValidate:!0},a&&this.renderButtonsGroup(),a&&r===P.SubscriptionsPopupActiveTab.FlexibleDates?this.renderMonths():this.renderDates(),(!a||r!==P.SubscriptionsPopupActiveTab.FlexibleDates)&&this.renderCheckboxes(),this.renderEmailInput()),l.default.createElement(p.Text,{tag:"p",type:p.TextType.CaptionRegular,className:T("accept-rules")},l.default.createElement(s.Trans,{i18nKey:"acceptRules",ns:"subscriptions_popup"},l.default.createElement("a",{href:"/terms-of-use",target:"_blank",rel:"noopener noreferrer"}),l.default.createElement("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer"})))))},t}(l.PureComponent);D.defaultProps={canSelectRange:!0,flexibility:1};var _=(0,s.withTranslation)(["subscriptions_popup","common"])(D);t.default=_},763513:function(e,t){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionsPopupActiveTab=void 0,t.SubscriptionsPopupActiveTab=a,function(e){e.FixedDates="fixed-dates",e.FlexibleDates="flexible-dates"}(a||(t.SubscriptionsPopupActiveTab=a={}))},221291:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=r(a(225385)),i=a(392220),l=a(601779),s=a(463854);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(123539);var c=(0,o.default)("success-popup"),d=function(e){var t=e.visible,a=e.onClose,r=e.title,o=e.caption,u=e.buttonText;return n.default.createElement(l.ModalCore,{className:c(),visible:t,onClose:a,fixedHeader:!1,withInnerPaddings:!0},n.default.createElement("div",{className:c("content")},n.default.createElement(s.Text,{tag:"h3",type:s.TextType.Title3Semi,className:c("title")},r),n.default.createElement(s.Text,{tag:"p",type:s.TextType.Body3Paragraph,className:c("caption")},o),n.default.createElement(i.Button,{mod:i.ButtonMod.SecondaryOutline,size:i.ButtonSize.Medium,type:"submit",onClick:a},u)))},p=(0,n.memo)(d);t.default=p},437889:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(722742);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},722742:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSubscriptionNotification=void 0;var n=r(a(797972)),o=a(54981),i=a(116268);t.TicketSubscriptionNotification=function(e){var t=e.visible,a=e.actionButtonLabel,r=e.message,l=e.onActionButtonClick,s=e.onClose;return n.default.createElement(i.Snackbar,{visible:t,icon:n.default.createElement(o.Icon24ColorAllowed,null),message:r,actionButtonLabel:a,onActionButtonClick:l,onClose:s})}},103609:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(72010);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var n=a(583234);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},72010:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSubscriptionNotificationWithPopup=void 0;var n=r(a(377754)),o=r(a(797972)),i=a(267305),l=a(722742);t.TicketSubscriptionNotificationWithPopup=function(e){var t=e.renderPopupContent,a=e.visiblePopup,r=e.onPopupClose,s=(0,n.default)(e,["renderPopupContent","visiblePopup","onPopupClose"]);return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.TicketSubscriptionNotification,s),o.default.createElement(i.Popup,{visible:a,padding:16,width:480,noHeader:!0,onClose:r},t({handleClosePopup:r})))}},583234:function(){},472069:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(268796);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},268796:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSubscriptionNotificationWithChildrenContainer=void 0;var n=r(a(435850)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=a(445549),l=a(60130),s=a(660111);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}t.TicketSubscriptionNotificationWithChildrenContainer=function(e){var t=(0,i.useTranslation)("ticket_subscription_notification").t,a=(0,o.useCallback)((function(e){var a=e.handleClosePopup;return o.default.createElement(l.StatusMessage,{size:l.StatusMessageSize.Mobile},o.default.createElement(l.StatusMessage.Title,null,t("popup.children.title")),o.default.createElement(l.StatusMessage.Content,null,t("popup.children.description")),o.default.createElement(l.StatusMessage.Actions,null,o.default.createElement(l.StatusMessage.Action,{onClick:a},t("popup.children.action"))))}),[t]);return o.default.createElement(s.TicketSubscriptionNotificationWithPopupContainer,(0,n.default)({},e,{message:t("notification.message",{additional:t("notification.children.additionalMessage")}),actionButtonLabel:t("notification.children.action"),renderPopupContent:a}))}},660111:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(817656);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},941188:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showPopup=t.hidePopup=t.$shouldShowPopup=void 0;var r=a(944246),n=(0,r.createStore)(!1,{name:"$shouldShowPopup",sid:"-ta8suj"});t.$shouldShowPopup=n;var o=(0,r.createApi)({and:[n,{showPopup:function(){return!0},hidePopup:function(){return!1}}],or:{sid:"9bm7gu"}}),i=o.showPopup,l=o.hidePopup;t.hidePopup=l,t.showPopup=i},817656:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSubscriptionNotificationWithPopupContainer=void 0;var n=r(a(435850)),o=r(a(377754)),i=r(a(797972)),l=a(896911),s=a(941188),u=a(103609);t.TicketSubscriptionNotificationWithPopupContainer=function(e){var t=e.renderPopupContent,a=(0,o.default)(e,["renderPopupContent"]),r=(0,l.useStore)(s.$shouldShowPopup),c=(0,l.useEvent)(s.showPopup),d=(0,l.useEvent)(s.hidePopup);return i.default.createElement(u.TicketSubscriptionNotificationWithPopup,(0,n.default)({visiblePopup:r,renderPopupContent:t,onActionButtonClick:c,onPopupClose:d},a))}},233725:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(805418);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},805418:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketSubscriptionNotificationContainer=void 0;var n=r(a(435850)),o=r(a(797972)),i=a(896911),l=a(445549),s=r(a(702944)),u=a(946831),c=a(437889),d=a(472069);t.TicketSubscriptionNotificationContainer=function(){var e=(0,l.useTranslation)("ticket_subscription_notification").t,t=s.default.is("usc-feat-shouldDropChildrenFromTicketSubscription"),a=(0,i.useStore)(u.ticketSubscriptionModel.$hasChildren),r={visible:(0,i.useStore)(u.ticketSubscriptionModel.$shouldShowNotification),onClose:(0,i.useEvent)(u.ticketSubscriptionModel.hideNotification)};return t&&a?o.default.createElement(d.TicketSubscriptionNotificationWithChildrenContainer,r):o.default.createElement(c.TicketSubscriptionNotification,(0,n.default)({},r,{message:e("notification.message")}))}},45880:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDirectFlightLoading=t.isDirectFlightError=void 0;var r=a(39569);t.isDirectFlightLoading=function(e){return e.directFlightSearchStatus===r.SearchStatus.Started},t.isDirectFlightError=function(e){return e.directFlightSearchStatus===r.SearchStatus.Failed}},550302:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUIDirectSchedule=t.getProposalsByTicketsTariff=t.getDirectScheduleWithAvailableTickets=t.getDirectFlightTicketTariff=t.getDirectFlightProposal=void 0;var r=a(774953),n=a(393635),o=a(487825),i=a(721196),l=a(426267),s=a(104185),u=a(45880),c=(0,r.createSelector)(n.getDirectFlightTicket,(function(e){return e}),(function(e,t){if(e)return(0,o.getTicketSelectedTariff)(t,e)}));t.getDirectFlightTicketTariff=c;var d=(0,r.createSelector)(n.getDirectFlightTicket,(function(e,t){return{state:e,ticketSigns:t}}),(function(e,t){if(!e)return{};var a=t.state,r=t.ticketSigns,n=(0,s.getDirectScheduleSelectedFareProposal)(a,e);return(0,l.getTicketProposalsFaresMap)(r,a,null==n?void 0:n.fareKey)})),p=(0,r.createSelector)(o.getTicketSelectedTariffs,(function(e,t){return{state:e,ticketSigns:t}}),(function(e,t){var a=t.state,r=t.ticketSigns;return(0,l.getTicketProposalsUpsellsMap)(r,a,e)}));t.getProposalsByTicketsTariff=p;var f=(0,r.createSelector)(n.getDirectFlightTicket,(function(e){return e}),u.isDirectFlightLoading,(function(e,t,a){if(!a&&e){var r=((0,s.isFaresExperimentEnabled)()?d(t,[e]):p(t,[e]))[e];return null==r?void 0:r[0]}}));t.getDirectFlightProposal=f;var m=(0,r.createSelector)(i.getDirectFlight,n.getDirectFlightTicket,f,(function(e){return e}),u.isDirectFlightLoading,(function(e,t,a,r,n){var o,i;if(null==e||!e.schedule||!t)return null;if(n)return e.schedule;var u=null!=(o=null==a||null===(i=a.price)||void 0===i?void 0:i.value)?o:0,c=(0,s.isFaresExperimentEnabled)()?d(r,e.ticketsSigns):p(r,e.ticketsSigns);return(0,l.calculateOneWayDirectSchedule)(e.schedule,c,t,u)}));t.getDirectScheduleWithAvailableTickets=m;var h=(0,r.createSelector)(m,f,u.isDirectFlightLoading,u.isDirectFlightError,(function(e,t,a,r){var n,o;if(a&&e)return e;if(e&&t&&!r){var i=null!=(n=null==t||null===(o=t.price)||void 0===o?void 0:o.value)?n:0,s=e;return 2===e.length&&(s=(0,l.calculateTwoWayDirectSchedule)(s,i)),s}}));t.getUIDirectSchedule=h},565677:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AgeMarker=void 0;var n=r(a(797972)),o=r(a(492709)),i=a(463854),l=r(a(224892)),s=o.default.bind(l.default);t.AgeMarker=function(e){var t=e.className,a=e.age,r=void 0===a?0:a,o=s([t,l.default.root]);return n.default.createElement(i.Text,{tag:"span",className:o,type:i.TextType.Body2Regular},r,"+")}},815010:function(){},221260:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AgeMarker",{enumerable:!0,get:function(){return r.AgeMarker}}),Object.defineProperty(t,"AgeMarkerProps",{enumerable:!0,get:function(){return n.AgeMarkerProps}});var r=a(565677),n=a(815010)},993508:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(101339)),o=r(a(435850)),i=r(a(947981)),l=r(a(797972)),s=r(a(375007)),u=a(740537),c=r(a(225385)),d=a(445549),p=a(39569),f=a(688833),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=C(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(587273)),h=a(659),v=a(789604),g=r(a(662006)),y=r(a(469121)),b=r(a(806731));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(C=function(e){return e?a:t})(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?E(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}a(543289);var O=(0,c.default)("calendar"),M={container:O(),wrapper:O("container"),interactionDisabled:"--is-disabled",navBar:O("navbar"),navButtonPrev:O("navbar-button","--prev"),navButtonNext:O("navbar-button","--next"),navButtonInteractionDisabled:"--is-disabled",months:O("months"),month:O("month"),caption:O("caption"),weekdays:O("weekdays"),weekNumber:O("week-number"),weekdaysRow:O("weekdays-row"),weekday:O("weekday"),body:O("weeks-body"),week:O("week"),day:O("day-cell"),footer:O("footer"),todayButton:O("today-button"),today:"today",selected:"selected",disabled:"disabled",outside:"outside"},T={mobile:m.MediaQueryTypes.Mobile,mobileLandscape:m.MediaQueryTypes.Mobile,tablet:m.MediaQueryTypes.Desktop,desktop:m.MediaQueryTypes.Desktop},S=(0,u.addDays)(new Date,-1),D=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={currentMonth:t.props.currentMonth||new Date,isMobile:m.default.currentMode()===m.MediaQueryTypes.Mobile},t.mediaQueryModes="mobile, tablet, desktop",t.handleMediaQueryTypeChange=function(e){t.setState({isMobile:T[e]===m.MediaQueryTypes.Mobile})},t.onDayClick=function(e,a,r){a.disabled||t.props.onDayClick&&(e.setHours(0,0,0,0),t.props.onDayClick(e,a,r))},t.onDayMouseEnter=function(e,a,r){a.disabled||t.setState({hoveredDate:e},(function(){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(e,a,r)}))},t.onDayMouseLeave=function(e,a,r){a.disabled||t.props.onDayMouseLeave&&t.props.onDayMouseLeave(e,a,r)},t.getCaptionIndex=function(e){var a=t.state.currentMonth;return e.getMonth()-a.getMonth()+12*(e.getFullYear()-a.getFullYear())},t.handleCaptionMonthChange=function(e,a){var r=t.getCaptionIndex(e),n=(0,u.addMonths)(a,-r);t.setState({currentMonth:n}),t.props.onMonthChange&&t.props.onMonthChange(n)},t.handleMouseLeaveCalendar=function(){t.state.hoveredDate&&t.setState({hoveredDate:void 0})},t.estimated=function(e){var a=t.state.hoveredDate,r=t.props.estimated;if(!a||!r)return!1;var n=(0,v.getDateTime)(r,"12:00");return e>=a&&e<=n||e<=a&&e>=n},t.bounded=function(e){var a=t.props.selectedDays,r=Array.isArray(a)?a:[a],n=+e,o=864e5;if(!a)return!1;for(var i,l=k(r);!(i=l()).done;){var s=i.value;if(!s)return!1;if(s instanceof Date&&+(0,v.getDateTime)(s)===n)return!0;if("object"==typeof s){if(s.from instanceof Date&&+(0,v.getDateTime)(s.from)===n||s.to instanceof Date&&+(0,v.getDateTime)(s.to)===n)return!0;if(s.before instanceof Date&&+(0,v.getDateTime)(s.before)-o===n||s.after instanceof Date&&+(0,v.getDateTime)(s.after)+o===n)return!0;if(s.daysOfWeek&&s.daysOfWeek.includes(e.getDay()))return!0}if("function"==typeof s&&s(e))return!0}return!1},t.handlePreviousNavClick=function(){var e=(0,u.addMonths)(t.state.currentMonth,-1);t.setState({currentMonth:e}),t.props.onPreviousClick&&t.props.onPreviousClick(e)},t.handleNextNavClick=function(){var e=(0,u.addMonths)(t.state.currentMonth,1);t.setState({currentMonth:e}),t.props.onNextClick&&t.props.onNextClick(e)},t.renderDay=function(e,a){return t.props.renderDay?t.props.renderDay(e,a):l.default.createElement(g.default,(0,o.default)({day:e.getDate()},a))},t.renderNavbar=function(e){return l.default.createElement(y.default,(0,o.default)({},e,{fromMonth:t.props.fromMonth,toMonth:t.props.toMonth,onPreviousClick:t.handlePreviousNavClick,onNextClick:t.handleNextNavClick}))},t.renderCaption=function(e){var a=e.date,r=(0,f.getArrayOfTranslationsByKey)("months"),n=t.state.isMobile,o=t.props,i=o.fromMonth,s=o.toMonth;if(n||!i||!s)return l.default.createElement("div",{className:O("caption")},r[a.getMonth()]+" "+a.getFullYear());var c=t.getCaptionIndex(a);return l.default.createElement(b.default,{date:a,fromMonth:(0,u.addMonths)(i,c),toMonth:(0,u.addMonths)(s,c-1),onMonthChange:t.handleCaptionMonthChange})},t}(0,i.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.onCurrentMonthChanged&&this.props.onCurrentMonthChanged(this.state.currentMonth),m.default.onMode(this.mediaQueryModes,this.handleMediaQueryTypeChange)},a.componentWillUnmount=function(){m.default.offMode(this.mediaQueryModes,this.handleMediaQueryTypeChange)},a.componentDidUpdate=function(e,t){var a=this.props,r=a.currentMonth,n=a.onCurrentMonthChanged;r&&+r!=+t.currentMonth&&e.currentMonth&&+r!=+e.currentMonth&&this.setState({currentMonth:r}),!n||this.state.currentMonth===t.currentMonth&&r||n(this.state.currentMonth)},a.render=function(){var e=this.props.visuallyDisablePreviousDay,t=void 0===e||e,a=(0,f.getArrayOfTranslationsByKey)("months"),r=(0,f.getArrayOfTranslationsByKey)("weekdays"),n=(0,f.getArrayOfTranslationsByKey)("weekdaysShort");return l.default.createElement("div",{className:"calendar-wrapper",onMouseLeave:this.handleMouseLeaveCalendar},l.default.createElement(s.default,(0,o.default)({},this.props,{locale:this.props.i18n&&this.props.i18n.language?this.props.i18n.language:"ru",months:a,weekdaysLong:r,weekdaysShort:n,firstDayOfWeek:(0,p.getWeekFirstDay)({locale:(0,h.getLocale)()}),renderDay:this.renderDay,navbarElement:this.props.navbarElement||this.renderNavbar,captionElement:this.props.captionElement||this.renderCaption,numberOfMonths:this.props.numberOfMonths||1,month:this.state.currentMonth,onDayClick:this.onDayClick,classNames:this.props.classNames||M,modifiers:w(w({},this.props.modifiers),{},{estimated:this.estimated,bounded:this.bounded,visuallyDisabled:t?S:void 0}),onDayMouseEnter:this.onDayMouseEnter,onDayMouseLeave:this.onDayMouseLeave})))},t}(l.default.PureComponent),_=(0,d.withTranslation)()(D);t.default=_},789604:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirectedDates=t.getDateTime=void 0;var r=a(740537);t.getDirectedDates=function(e,t){var a=t||e;return e>a?{from:a,to:e}:{from:e,to:a}},t.getDateTime=function(e,t){return void 0===t&&(t="12:00:00"),new Date((0,r.format)(e,"YYYY/MM/DD")+" "+t)}},806731:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=c(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=r(a(225385)),i=a(740537),l=a(445549),s=a(688833),u=r(a(423206));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(c=function(e){return e?a:t})(e)}a(162209);var d=(0,o.default)("calendar-caption");t.default=function(e){var t=e.date,a=e.onMonthChange,r=e.fromMonth,o=e.toMonth;(0,l.useTranslation)();var c=(0,s.getArrayOfTranslationsByKey)("months"),p=(0,i.getDatesMonthRange)(r,o),f=(0,n.useCallback)((function(e){var r=(0,i.parse)(e.target.value,"YYYY-MM");a(t,r)}),[t,a]);return n.default.createElement("div",{className:d()},n.default.createElement("div",{className:d("wrap")},n.default.createElement("p",{className:d("text")},c[t.getMonth()]+" "+t.getFullYear()," ",n.default.createElement(u.default,null)),n.default.createElement("select",{className:d("select"),value:(0,i.format)(t,"YYYY-MM"),onChange:f},p.map((function(e,t){var a=(0,i.format)(e,"YYYY-MM"),r=c[e.getMonth()];return n.default.createElement(n.default.Fragment,{key:a},(0===t||e.getFullYear()!==p[t-1].getFullYear())&&n.default.createElement("option",{disabled:!0},e.getFullYear()),n.default.createElement("option",{value:a},r))})))))}},662006:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(797972)),o=r(a(225385));a(636798);var i=(0,o.default)("calendar-day");t.default=function(e){var t=e.day,a=e.selected,r=void 0!==a&&a,o=e.disabled,l=void 0!==o&&o,s=e.estimated,u=void 0!==s&&s,c=e.bounded,d=void 0!==c&&c,p=e.visuallyDisabled,f=void 0!==p&&p,m=e.testId,h=e.children;return n.default.createElement("div",{className:i(null,{"--selected":r,"--disabled":l,"--estimated":u,"--bounded":d,"--visually-disabled":f}),"data-test-id":m},n.default.createElement("div",{className:i("date")},t),h&&n.default.createElement("div",{className:i("content")},h))}},867959:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(101339)),o=r(a(797972)),i=r(a(225385)),l=a(740537),s=a(570355),u=a(587273),c=r(a(478086)),d=r(a(662006)),p=r(a(172846));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}a(916898);var m=(0,i.default)("calendar-day-with-price"),h=function(e){var t=e.date,a=e.modifiers,r=e.priceItem,i=e.currencies,h=e.currency,v=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({day:t.getDate(),currency:h},a);if(null==r||!r.price||null==i||!i[h])return o.default.createElement(d.default,v,o.default.createElement("span",{className:"calendar-day__empty-child"}));var g=(0,s.convertUnifiedToCurrency)(r.price,h,i),y=o.default.createElement(d.default,v,o.default.createElement(p.default,{value:g.value,currency:g.currency,isLow:r.isMin,isShort:!0}));return(0,u.isMobile)()?y:o.default.createElement(c.default,{position:"bottom",tooltip:function(){return o.default.createElement("div",{className:m("day-tooltip")},o.default.createElement("div",{className:m("day-tooltip-price")},o.default.createElement(p.default,{value:g.value,currency:g.currency})),o.default.createElement("div",{className:m("day-tooltip-date")},o.default.createElement("span",null,(0,l.format)(r.departDate,"D MMM")),r.returnDate&&" — "+(0,l.format)(r.returnDate,"D MMM")))},showDelay:100},y)},v=o.default.memo(h);t.default=v},469121:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(225385)),l=a(740537),s=a(445549),u=r(a(983065)),c=r(a(802038));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}a(650238);var p=(0,i.default)("calendar-navbar");t.default=function(e){var t=e.previousMonth,a=e.nextMonth,r=e.onPreviousClick,i=e.onNextClick,d=e.fromMonth,f=e.toMonth,m=(0,o.useState)(!1),h=(0,n.default)(m,2),v=h[0],g=h[1],y=(0,s.useTranslation)("calendar").t,b=!!d&&(0,l.isEqualMonths)(d,(0,l.addMonths)(t,1)),C=!!f&&(0,l.isEqualMonths)(f,(0,l.addMonths)(a,-1)),P=o.default.useCallback((function(){b||r()}),[r,b]),w=o.default.useCallback((function(){C||i()}),[r,C]);return o.default.createElement("div",{className:p()},o.default.createElement("button",{type:"button",className:p("button",{"--disabled":b,"--prev":!0}),onClick:P},o.default.createElement(c.default,{className:p("icon","--prev")})),o.default.createElement(u.default,{tooltip:function(){return o.default.createElement("div",{className:p("return-btn-tooltip")},y("calendar:nextBtnTooltipText"))},showDelay:100,wrapperClassName:p("tooltip-wrapper"),position:"left",showByProps:!0,isVisible:C&&v},o.default.createElement("button",{type:"button",className:p("button",{"--disabled":C,"--next":!0}),onClick:w,onMouseEnter:function(){g(!0)},onMouseLeave:function(){g(!1)}},o.default.createElement(c.default,{className:p("icon","--next")}))))}},739441:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.useFlagReady=void 0;var n=r(a(114558)),o=a(797972),i=r(a(702944));t.useFlagReady=function(e){var t=e.flagName,a=(0,o.useState)((function(){return i.default.isReady(t)})),r=(0,n.default)(a,2),l=r[0],s=r[1];return(0,o.useEffect)((function(){var e=null;return l||(e=setTimeout((function(){var e=i.default.isReady(t);s(e)}),2e3)),function(){e&&clearTimeout(e)}}),[l,t]),{isFlagReady:l}}},596058:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleRecaptchaContainer=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),n=a(224562),o=a(990193),i=a(38474),l=a(627039),s=a(139375),u=a(785843),c=a(753710),d=a(219270);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var f=function(){var e=(0,n.useDispatch)(),t=(0,s.getLang)(),a=(0,n.useSelector)(i.getIsNightMode),p="access_denied"===(0,n.useSelector)(l.getError),f=(0,r.useCallback)((function(t){e((0,o.verifyGoogleRecaptcha)(t))}),[e]),m=(0,r.useCallback)((function(){e((0,o.googleRecaptchaShown)())}),[e]),h=u.IS_WAYAWAY?d.GOOGLE_RECAPTCHA_DEFAULT_SITE_KEY_WA:d.GOOGLE_RECAPTCHA_DEFAULT_SITE_KEY;return r.default.createElement(r.default.Fragment,null,p&&r.default.createElement(c.GoogleRecaptcha,{sitekey:h,onVerify:f,onRender:m,hl:t,theme:a?"dark":"light",size:"invisible"}))};t.GoogleRecaptchaContainer=f,f.displayName="GoogleRecaptchaContainer"},753710:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleRecaptcha=void 0;var n=r(a(947981)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(816550)),l=r(a(131672)),s=a(870986),u=a(219270),c=a(578377);a(931692);var d=a(953451);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}var f=function(e){function t(t){var a;return(a=e.call(this,t)||this).RESOURCE_ID="google-reCAPTCHA",a.reCaptchaRef=void 0,a.timer=void 0,a.isAvailable=function(){return Boolean(window.grecaptcha&&window.grecaptcha.ready)},a.stopTimer=function(){a.timer&&clearInterval(a.timer)},a.inject=function(){if(!(0,s.isScriptAlreadyLoaded)(u.GOOGLE_RECAPTCHA_SCRIPT_REGEX)){var e=a.props.hl?"&hl="+a.props.hl:"";l.default.loadScript(u.GOOGLE_RECAPTCHA_SCRIPT_URL+"?render=explicit"+e,{id:a.RESOURCE_ID,async:!0,defer:!0})}},a.renderRecaptcha=function(e,t){return window.grecaptcha.render(e,t)},a.resetRecaptcha=function(){var e,t,r=a.state.instanceId;r&&(null===(e=(t=window.grecaptcha).reset)||void 0===e||e.call(t,r))},a.prepare=function(){window.grecaptcha.ready((function(){a.setState({isReady:!0},(function(){a.renderExplicitly()}))})),a.props.onLoad&&a.props.onLoad()},a.execute=function(e){var t,r;"invisible"===a.props.size&&(null===(t=(r=window.grecaptcha).execute)||void 0===t||t.call(r,e))},a.renderExplicitly=function(){a.state.isRendered&&console.warn("This recaptcha instance has been already rendered");var e=a.reCaptchaRef.current;if(a.state.isReady&&e){var t=a.renderRecaptcha(e,{sitekey:a.props.sitekey,theme:a.props.theme,size:a.props.size,tabindex:a.props.tabindex,callback:a.props.onVerify,"expired-callback":a.props.onExpire,"error-callback":a.props.onError});(0,i.default)(t)||a.setState({instanceId:t,isRendered:!0},(function(){(0,c.addRecaptchaStyles)(),a.props.onRender&&a.props.onRender(),a.execute(t),(0,d.scrollToTopPosition)(0)}))}else console.warn("Recaptcha is not ready for rendering yet")},a.state={instanceId:null,isReady:!1,isRendered:!1},a.reCaptchaRef=o.default.createRef(),a}(0,n.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this;this.inject(),this.isAvailable()?this.prepare():this.timer=window.setInterval((function(){e.isAvailable()&&(e.prepare(),e.stopTimer())}),300)},a.componentWillUnmount=function(){this.stopTimer(),this.state.isRendered&&this.resetRecaptcha()},a.render=function(){return o.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.reCaptchaRef})},t}(o.Component);t.GoogleRecaptcha=f,f.defaultProps={id:"",className:"g-recaptcha",theme:"light",size:"normal",tabindex:0,hl:""}},822570:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(225385)),l=a(812619),s=a(236486),u=a(367629),c=a(463854),d=a(392220),p=a(221260);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}a(482244);var m=(0,i.default)("mobile-app-banner-full"),h=function(e){var t=e.text,a=e.buttonText,r=e.url,i=e.onRedirectClick,f=e.onClose,h=(0,o.useState)(!0),v=(0,n.default)(h,2),g=v[0],y=v[1],b=(0,o.useCallback)((function(){y(!1),f&&f()}),[f]),C=(0,o.useCallback)((function(e){e.stopPropagation()}),[]);return o.default.createElement(l.CSSTransition,{in:g,appear:!0,classNames:{appear:"--appear",enterActive:"--enterActive",enterDone:"--enterDone",exit:"--exit"},timeout:500},o.default.createElement("div",{className:m(),onClick:b},o.default.createElement("div",{className:m("content"),onClick:C},o.default.createElement(p.AgeMarker,{className:m("age-marker")}),o.default.createElement("div",{className:m("logo")},o.default.createElement("div",{className:m("logo-icon")}),o.default.createElement("div",{className:m("check")},o.default.createElement(u.Icon24ControlsCheck,{className:m("check-icon")}))),o.default.createElement(c.Text,{className:m("text"),type:c.TextType.Title3Bold},t),o.default.createElement(d.Button,{className:m("action"),href:r,mod:d.ButtonMod.Secondary,size:d.ButtonSize.Large,inline:!0,onClick:i},a),o.default.createElement("div",{className:m("close")},o.default.createElement(s.CloseButton,{onClick:b})))))},v=(0,o.memo)(h);t.default=v},708773:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=d(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(225385)),l=a(812619),s=a(873756),u=a(236486),c=a(463854);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(d=function(e){return e?a:t})(e)}a(551005);var p=(0,i.default)("mobile-app-banner-short"),f=function(e){var t=e.text,a=e.url,r=e.onClose,i=e.onRedirectClick,d=(0,o.useState)(!0),f=(0,n.default)(d,2),m=f[0],h=f[1],v=(0,o.useCallback)((function(){h(!1),r&&r()}),[r]);return o.default.createElement(l.CSSTransition,{in:m,appear:!0,classNames:{appear:"--appear",enterActive:"--enterActive",enterDone:"--enterDone",exit:"--exit"},timeout:500},o.default.createElement("div",{className:p()},o.default.createElement("div",{className:p("inner")},o.default.createElement("a",{href:a,target:"_blank",className:p("link"),onClick:i},o.default.createElement(c.Text,{className:p("text"),type:c.TextType.Body2Semi},t),o.default.createElement(s.Icon16ControlsDisclosure,{className:p("chevron")})),o.default.createElement(u.CloseButton,{className:p("close-button"),background:"bright",size:"medium",onClick:v}))))},m=(0,o.memo)(f);t.default=m},232582:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(947981)),i=r(a(797972)),l=r(a(225385)),s=a(445549),u=r(a(270892));a(668359);var c=(0,l.default)("month-picker"),d=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).handleItemClick=function(e,a){t.props.onSelect&&t.props.onSelect(e,a)},t.handleToggleAll=function(){t.props.onToggleAllClick&&t.props.onToggleAllClick(t.getAllSelected())},t}(0,o.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){this.props.onComponentDidMount&&this.props.onComponentDidMount()},a.getAllSelected=function(){return this.props.value.every((function(e){return e.isSelected}))},a.getToggleText=function(){return this.getAllSelected()?this.props.t("cancelChooseAll"):this.props.t("chooseAll")},a.render=function(){var e=this;return i.default.createElement("div",{className:c()},this.props.showToggleAll&&i.default.createElement("div",{className:c("header")},i.default.createElement("div",{className:c("toggle-all"),onClick:this.handleToggleAll,"data-test-id":"toggle-choose-all-months"},this.getToggleText())),i.default.createElement("div",{className:c("body")},this.props.value.map((function(t){return i.default.createElement(u.default,(0,n.default)({key:t.month},t,{onClick:e.handleItemClick,getChild:e.props.getItemChild}))}))))},t}(i.default.PureComponent),p=(0,s.withTranslation)("month_picker")(d);t.default=p},270892:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(225385)),l=a(445549),s=a(3571);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var c=(0,i.default)("month-picker"),d=(0,o.memo)((function(e){var t=(0,l.useTranslation)("common").t,a=(0,o.useCallback)((function(){e.onClick&&e.onClick(e.month,e.isSelected)}),[e.month,e.isSelected,e.onClick]),r=(0,o.useMemo)((function(){if(e.getChild)return e.getChild(e.month)}),[e.getChild,e.month]),i=(0,o.useMemo)((function(){return(0,s.keyToTuple)(e.month)}),[e.month]),u=(0,n.default)(i,2),d=u[0],p=u[1],f=(0,o.useMemo)((function(){return t("dateTime.months",{returnObjects:!0})[p-1]}),[t,p]);return o.default.createElement("div",{className:c("item",{"--is-selected":e.isSelected,"--with-children":!!e.getChild}),onClick:a},o.default.createElement("div",{className:c("item-label")},o.default.createElement("div",{className:c("item-year")},d),o.default.createElement("div",{className:c("item-month"),"data-test-id":"item-month"},f),r&&o.default.createElement("div",{"data-test-id":"month-"+e.month+"-child",className:c("item-child")},r)))}));t.default=d},162539:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(101339)),i=r(a(947981)),l=r(a(797972)),s=a(740537),u=r(a(232582)),c=a(3571);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var p=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={value:t.props.initialMonths},t.onSelect=function(e){var a=t.props.onSelect,r=t.state.value.reduce((function(t,a){var r=a.isSelected;return a.month===e&&(r=!a.isSelected),r&&t.push((0,c.getDateFromMonthKey)(a.month)),t}),[]);a&&a(r)},t.onToggleAllClick=function(e){var a=t.props.onToggleAllClick,r=[];e||(r=t.state.value.reduce((function(e,t){return e.push((0,c.getDateFromMonthKey)(t.month)),e}),[])),a&&a(r)},t}return(0,i.default)(t,e),t.getDerivedStateFromProps=function(e,t){if(e.value&&e.value!==t.prevValue){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t),r=e.value.reduce((function(e,t){return e[(0,s.format)(t,"YYYY-M")]=!0,e}),{});return a.value=a.value.map((function(e){return e.isSelected=r[e.month],e})),a}return null},t.prototype.render=function(){return l.default.createElement(u.default,(0,n.default)({},this.props,{value:this.state.value,onSelect:this.onSelect,onToggleAllClick:this.onToggleAllClick}))},t}(l.default.PureComponent),f=p;t.default=f},813331:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AcceptedCardsBuyInfo=void 0;var n=r(a(797972)),o=r(a(492709)),i=a(445549),l=a(463854),s=a(603723),u=a(891605),c=r(a(425737)),d=a(490403),p=o.default.bind(c.default),f=function(e){var t=e.isNightMode,a=e.type,r=(t?d.iconsLookup.night:d.iconsLookup.light)[a];return n.default.createElement("img",{src:r,alt:a})};t.AcceptedCardsBuyInfo=function(e){var t=e.cardsType,a=e.hasAnotherPaymentOptions,r=e.isNightMode,o=void 0!==r&&r,c=(0,i.useTranslation)("ticket").t;if(!t)return null;var d="acceptedCardsBuyInfo."+t;return n.default.createElement("div",{className:p("root")},n.default.createElement(f,{isNightMode:o,type:t}),n.default.createElement(l.Text,{className:p("text"),type:l.TextType.Body2Regular,transformOnMobile:!0},c(d)),a?n.default.createElement(s.Icon16ControlsChevron,{className:p("right-icon","chevron")}):n.default.createElement(u.Icon16ControlsInfoOutline,{className:p("right-icon")}))}},682253:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AcceptedCardsBuyInfoCardContainer=void 0;var n=r(a(531760)),o=r(a(797972)),i=a(896911),l=r(a(604281)),s=a(863974),u=a(601396),c=r(a(702944)),d=a(549279),p=a(462153);t.AcceptedCardsBuyInfoCardContainer=function(e){var t=e.proposalToRender,a=e.proposals,r=e.className,f=(0,i.useUnit)(s.userService.$userSettings).payment_options,m=(0,u.useTicketOtherProps)().isNightMode;if(!c.default.is("avs-exp-foreignCards"))return null;if(!f||0===f.length)return null;if(!t.acceptedCards)return null;var h=(0,p.getCardsTypeProposal)(t.acceptedCards);if((0,n.default)(f,["ru_card"])&&"ruCard"===h)return null;var v=a.some((function(e){return!!e.acceptedCards&&h!==(0,p.getCardsTypeProposal)(e.acceptedCards)})),g=(0,p.getTooltipType)(f,h,v);return o.default.createElement(d.AcceptedCardsBuyInfoCard,{cardsType:h,tooltipType:g,gateName:t.agentLabel,onClick:l.default,className:r,hasAnotherPaymentOptions:v,isNightMode:m})}},549279:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.AcceptedCardsBuyInfoCard=void 0;var n=r(a(797972)),o=r(a(492709)),i=a(445549),l=a(265950),s=r(a(13176)),u=a(813331),c=o.default.bind(s.default);t.AcceptedCardsBuyInfoCard=function(e){var t=(0,i.useTranslation)("ticket").t,a=e.className,r=e.onClick,o=e.tooltipType,s=e.gateName,d=e.cardsType,p=e.hasAnotherPaymentOptions,f=e.isNightMode;if(!d)return null;var m="acceptedCardsBuyInfo.tooltipText."+o;return n.default.createElement(l.Tooltip,{placement:"right",fallbackPlacements:["top"],content:t(m,{gateName:s}),disabled:p,width:240},n.default.createElement("div",{onClick:r,className:c("root",a)},n.default.createElement(u.AcceptedCardsBuyInfo,{cardsType:d,hasAnotherPaymentOptions:p,isNightMode:f})))}},47525:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AcceptedCardsBuyInfoCard",{enumerable:!0,get:function(){return r.AcceptedCardsBuyInfoCard}}),Object.defineProperty(t,"AcceptedCardsBuyInfoCardContainer",{enumerable:!0,get:function(){return n.AcceptedCardsBuyInfoCardContainer}});var r=a(549279),n=a(682253)},9702:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTooltipType=void 0,t.getTooltipType=function(e,t,a){var r=1===e.length&&"ru_card"===e[0];return 1===e.length&&"ww_card"===e[0]?"onlyWwCard":r&&a&&"mirCard"===t?"hasAnotherProposal":"default"}},130357:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getCardsTypeProposal=void 0;var n=r(a(531760)),o=r(a(205793));t.getCardsTypeProposal=function(e){var t=(0,n.default)(e,[{region:"ru",system:"mir"}]),a=(0,n.default)(e,[{region:"ru",system:"card"}]),r=(0,n.default)(e,[{region:"ww",system:"card"}]),i=(0,o.default)({region:"ru",system:"mir"},e);return t?"mirCard":a?"ruCard":r?"wwCard":i?"mirWithWwCards":"allCards"}},462153:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getCardsTypeProposal",{enumerable:!0,get:function(){return n.getCardsTypeProposal}}),Object.defineProperty(t,"getTooltipType",{enumerable:!0,get:function(){return r.getTooltipType}});var r=a(9702),n=a(130357)},490403:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.iconsLookup=void 0;var n=r(a(816663)),o=r(a(710307)),i=r(a(500199)),l=r(a(987138)),s=r(a(400559)),u=r(a(880251)),c=r(a(812931)),d=r(a(817910)),p=r(a(387511)),f=r(a(626924)),m={light:{ruCard:c.default,wwCard:p.default,allCards:n.default,mirCard:i.default,mirWithWwCards:s.default},night:{ruCard:d.default,wwCard:f.default,allCards:o.default,mirCard:l.default,mirWithWwCards:u.default}};t.iconsLookup=m},733585:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AcceptedCardsBuyInfoCardContainer",{enumerable:!0,get:function(){return r.AcceptedCardsBuyInfoCardContainer}});var r=a(47525)},350182:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageUpsell=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=f(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=r(a(225385)),i=a(445549),l=a(217624),s=a(835174),u=a(463854),c=r(a(344955)),d=a(931162),p=a(366404);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(f=function(e){return e?a:t})(e)}a(127194);var m=(0,o.default)("baggage-upsell"),h=(0,n.memo)((function(e){var t,a=e.currentTariffType,r=e.proposals,o=e.hasBothTariffType,f=e.className,h=e.onTariffChange,v=e.showSwitchRow,g=void 0===v||v,y=(0,i.useTranslation)("ticket").t,b=a===d.TariffType.HasBaggage,C=r.priceDifference,P=(0,n.useCallback)((function(e){if(h){var t=e.target.checked?d.TariffType.HasBaggage:d.TariffType.OtherBaggage;h(t)}}),[h]);return n.default.createElement("div",{className:m(null,(t={"--is-enabled":b},t[f]=Boolean(f),t))},n.default.createElement("div",{className:m("info")},n.default.createElement(p.BaggageUpsellInfo,{proposals:r,currentTariffType:a,hasBothTariffType:o,isEnabled:b,cn:m})),o&&g&&n.default.createElement(l.Switch,{checked:b,onChange:P,className:m("control"),innerClassName:m("switch"),label:n.default.createElement(u.Text,{type:u.TextType.Body2Regular,className:m("control-label")},y("baggageUpsell.addBaggage")," ",Boolean(C)&&n.default.createElement(s.AnimationSwap,{className:m("animation-swap","inner"),isSwapped:b,from:n.default.createElement(u.Text,{type:u.TextType.Body2Semi,className:m("control-price"),tag:"span"},"+",n.default.createElement(c.default,{searchPrice:Math.abs(C)})),to:" "})),testId:"control"}))}));t.BaggageUpsell=h,h.displayName="BaggageUpsell"},366404:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageUpsellInfo=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),n=a(655995),o=a(360491),i=a(835174),l=a(931162),s=a(467062);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}var c=(0,r.memo)((function(e){var t=e.cn,a=e.hasBothTariffType,u=e.isEnabled,c=e.proposals,d=e.currentTariffType;return a?r.default.createElement(i.AnimationSwap,{isSwapped:u,from:r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Icon24LuggageBaggageOff,{className:t("bag-icon")}),r.default.createElement(s.BaggageUpsellInfoText,{currentTariffType:l.TariffType.OtherBaggage,baggage:c[l.TariffType.OtherBaggage][0].worstBags.baggage,cn:t,hasBothTariffType:!0})),to:r.default.createElement(r.default.Fragment,null,r.default.createElement(n.Icon24LuggageBaggageOn,{className:t("bag-icon")}),r.default.createElement(s.BaggageUpsellInfoText,{currentTariffType:l.TariffType.HasBaggage,baggage:c[l.TariffType.HasBaggage][0].worstBags.baggage,cn:t,hasBothTariffType:!0})),placeholder:"to",itemClassName:t("info-item")}):r.default.createElement(r.default.Fragment,null,u?r.default.createElement(n.Icon24LuggageBaggageOn,{className:t("bag-icon")}):r.default.createElement(o.Icon24LuggageBaggageOff,{className:t("bag-icon")}),r.default.createElement(s.BaggageUpsellInfoText,{currentTariffType:d,baggage:c[d][0].worstBags.baggage,hasBothTariffType:a,cn:t}))}));t.BaggageUpsellInfo=c,c.displayName="BaggageUpsellInfo"},467062:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageUpsellInfoText=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=m(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=a(445549),l=a(402030),s=a(372662),u=a(463854),c=a(245588),d=a(129844),p=a(931162),f=a(587273);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(m=function(e){return e?a:t})(e)}var h=(0,o.memo)((function(e){var t=e.cn,a=e.baggage,r=e.hasBothTariffType,m=e.currentTariffType,h=(0,o.useState)(!1),v=(0,n.default)(h,2),g=v[0],y=v[1],b=(0,o.createRef)(),C=(0,l.useToken)("mass_regular",s.Unit.kilogram((null==a?void 0:a.weight)||0)),P=(0,o.useCallback)((function(e){b.current&&!b.current.contains(e.target)&&y(!g)}),[g]),w=(0,o.useCallback)((function(){y(!1)}),[]),k=(0,o.useCallback)((function(){y(!g)}),[g]);(0,o.useEffect)((function(){return g&&(window.addEventListener("touchstart",P),window.addEventListener("touchmove",w)),function(){window.removeEventListener("touchstart",P),window.removeEventListener("touchmove",w)}}),[w,P,g]);var E=(0,i.useTranslation)("ticket").t,O={type:u.TextType.Body2Regular,className:t("info-text")},M=(0,o.useCallback)((function(){return o.default.createElement("div",{className:t("info-tooltip")},o.default.createElement(u.Text,{type:u.TextType.Body3Regular},E("baggageUpsell.tooltipContent")))}),[t,E]);return m===p.TariffType.OtherBaggage&&r?o.default.createElement(u.Text,O,E("baggageUpsell.withoutBaggage")):m===p.TariffType.HasBaggage&&a?a.weight?o.default.createElement(u.Text,O,E("baggageUpsell.withBaggageWithWeight",{weight:C})):o.default.createElement(u.Text,O,E("baggageUpsell.withBaggage")):o.default.createElement(u.Text,O,E("baggageUpsell.noBaggage")," ",o.default.createElement(c.Tooltip,{wrapperClassName:t("info-icon"),tooltip:M,position:"left",showDelay:200,showByProps:(0,f.isMobile)(),isVisible:g},o.default.createElement(d.Icon24ControlsInfo,{ref:b,onClick:k})))}));t.BaggageUpsellInfoText=h,h.displayName="BaggageUpsellInfoText"},586617:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useFormattedFilterBoundaries=void 0;var r=a(224562),n=a(52735);t.useFormattedFilterBoundaries=function(){return(0,r.useSelector)(n.getAvailableTransferUpsellBoundaries)}},709910:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(114558)),o=r(a(531760)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=V(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),l=r(a(225385)),s=a(224562),u=a(896911),c=a(696204),d=a(601779),p=a(663579),f=r(a(702944)),m=r(a(715635)),h=a(234743),v=a(887771),g=a(601396),y=a(63607),b=a(694630),C=a(405628),P=a(25614),w=a(539786),k=a(104185),E=a(902411),O=a(520072),M=a(345663),T=a(101271),S=a(148860),D=a(553104),_=a(131052),I=a(587273),j=a(982564),N=a(214743),F=a(544112),x=a(556696),A=a(742029),R=a(733585),B=a(863974),L=a(462153);function V(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(V=function(e){return e?a:t})(e)}a(339136);var W=(0,l.default)("ticket-main-modal"),H="ticket",z=(0,p.withFlagr)(f.default,["serp-exp-seatsAvailable","serp-exp-fares","b2b-feat-ticketMainModalBanner","serp-exp-versusDrawer"])((function(e){var t,a,r=e.sign,l=e.ticketIndex,p=(0,s.useDispatch)(),V=(0,u.useUnit)(B.userService.$userSettings),z=(0,g.useTicketSubscriptionPropsAndCallbacks)(r),G=z.hasSubscription,Y=z.onSubscriptionClick,U=(0,g.useComparisonTicketPropsAndCallbacks)(r),q=U.isCompared,$=U.onCompareClick,Q=(0,g.useMetaInfoCallback)(r).getMetaInfo,K=(0,s.useSelector)((function(e){return(0,P.getTicketBySign)(e,r)})),Z=(0,s.useSelector)((function(e){return(0,b.getTicketTupleToRender)(e,r)})),X=(0,s.useSelector)((function(e){return(0,b.getTripDirectionType)(e,K)})),J=(0,s.useSelector)(w.getIsSearchExpired),ee=(0,s.useSelector)(_.getDebugProposals),te=(0,s.useSelector)(x.getIsTicketDeeplink),ae=(0,s.useSelector)((function(e){return(0,A.getPopupIsOpen)(e,H)})),re=(0,s.useSelector)((function(e){return(0,k.getSelectedFareProposal)(e,r)})),ne=(0,s.useSelector)((function(e){return(0,E.prepareTicketProposals)(e,Z)})),oe=ne.tariffs,ie=ne.currentTariff,le=(0,s.useSelector)((function(e){return(0,k.getSimilarFareProposals)(e,r)})),se=(0,n.default)(oe[ie],1)[0],ue=(0,C.selectIsAutosearchEnabled)(f.default),ce=(0,k.isFaresExperimentEnabled)(),de=f.default.is("avs-exp-comparisonWidget")&&!ue,pe=f.default.is("avs-feat-subscription")&&[y.TripDirectionType.OneWay,y.TripDirectionType.RoundTrip].includes(X),fe=(0,h.getProposalToRender)({isFaresExpEnabled:ce,fareProposal:re,upsellProposal:se}),me=f.default.is("serp-exp-versusDrawer"),he=(0,i.useCallback)((function(){p((0,O.openPopup)(M.TICKET_CONTENT_MODAL_NAME,{ticketSign:r,ticketIndex:l,modalData:{type:T.TicketContentModalType.Share}}))}),[p,r,l]),ve=(0,i.useCallback)((function(e,t,a,n){return J?(e.preventDefault(),void p((0,D.ticketRefreshClick)())):e.shiftKey&&ee?(e.preventDefault(),void p((0,D.proposalDebugClick)(r,t.id))):void p((0,D.ticketBuyClick)(e,{proposal:t,eventType:n,ticketSign:r,proposalPosition:a}))}),[J,ee,p,r]),ge=(0,i.useCallback)((function(e,t){return ve(e,t,0,S.BuyEvents.BuyButton)}),[ve]),ye=(0,i.useCallback)((function(){p((0,O.closePopup)(H)),(0,I.isMobile)()&&p(ce?(0,j.removeSelectedFareProposal)(r):(0,N.removeTicketSelectedTariff)(r)),te&&p((0,F.removeTicketDeeplinkInfo)())}),[r,p,ce,te]),be=(0,i.useCallback)((function(){p((0,O.openPopup)(H))}),[p]),Ce=(0,d.useModalBehavior)(H,(0,d.addExternalStateConnection)({externalVisibility:ae,onClose:ye,onOpen:be}));if(!ce&&!oe[ie].length||ce&&!re)return null;var Pe=f.default.is("avs-exp-foreignCards"),we=V.payment_options,ke=fe.acceptedCards&&(0,L.getCardsTypeProposal)(fe.acceptedCards),Ee=(0,o.default)(we,["ru_card"])&&"ruCard"===ke,Oe=Pe&&we&&we.length>0&&!Ee,Me=ce?le:oe[ie];return i.default.createElement(c.TicketModal,{modal:Ce,type:"main",header:i.default.createElement(c.TicketModalMainHeader,{isCompared:q,hasSubscription:G,withComparison:de,withSharing:!0,withSubscription:pe,onBackClick:Ce.onClose,onCompareClick:$,onSubscriptionClick:Y,onShareClick:he}),isBackgroundGrey:!1,footer:!me&&i.default.createElement("div",{className:W("modal-footer",(t={},t["show-accepted-card-info"]=Boolean(Oe),t))},Oe&&i.default.createElement(R.AcceptedCardsBuyInfoCardContainer,{proposalToRender:fe,proposals:Me,className:W("buy-btn-accepted-cards-informer",(a={},a["additional-class-name"]=!0,a))}),i.default.createElement(m.default,{proposal:fe,price:fe.price,isSearchExpired:J,getMetaInfo:Q,onClick:ge,isProposalTitleHidden:!0,className:W("buy-btn")})),fixedFooter:!0},i.default.createElement(v.TicketModalContent,{sign:r,ticketIndex:l}))}));t.default=z},838062:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.ItineraryInfo=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=S(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=r(a(225385)),i=a(224562),l=a(445549),s=a(256618),u=a(461094),c=a(317637),d=a(454508),p=a(234743),f=a(601396),m=a(550302),h=a(586617),v=r(a(702944)),g=a(649065),y=a(937435),b=a(854755),C=a(553104),P=a(92487),w=a(45880),k=a(651828),E=a(242608),O=a(520072),M=a(742029),T=a(983868);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(S=function(e){return e?a:t})(e)}a(339136);var D=(0,o.default)("ticket-main-modal"),_=function(e){var t=e.count,a=new Array(t).fill(null);return n.default.createElement("div",{className:D("ticket-content-skeleton")},a.map((function(e,t){return n.default.createElement(d.TicketItinerarySkeleton,{key:t})})))};t.ItineraryInfo=function(e){var t=e.isVersusDrawerEnabled,a=e.isNightMode,r=e.isFaresExpEnabled,o=e.isLoading,d=e.sign,S=e.ticketIndex,I=e.proposal,j=(0,l.useTranslation)(["ticket"]).t,N=(0,i.useDispatch)(),F=(0,c.useLocaleContext)(),x=(0,P.useTravelRestrictionCallbacks)(d).handleTravelRestrictionClick,A=(0,f.useTicketMainProps)(d),R=A.segments,B=A.getCountry,L=A.getAirlineName,V=A.getCityName,W=A.getPlaceName,H=A.getPlace,z=A.getAirlineBrandColor,G=(0,h.useFormattedFilterBoundaries)(),Y=(0,P.useAllTravelRestrictions)(d),U=Y.travelInformationTags,q=Y.travelRestrictionTags,$=(0,i.useSelector)((function(e){return(0,M.getPopupIsOpen)(e,"ticket")})),Q=(0,i.useSelector)(m.getUIDirectSchedule),K=(0,i.useSelector)(b.getCountries),Z=(0,i.useSelector)(w.isDirectFlightLoading),X=v.default.is("serp-exp-transferUpsale"),J=v.default.is("serp-exp-marketingOperatingCarrier"),ee=(0,n.useMemo)((function(){return(0,g.getTicketAlertsInfo)(j,I)}),[I,j]),te=(0,n.useMemo)((function(){return(0,g.getTicketVisaRequiredCountries)(I,R)}),[I,R]),ae={value:I.price,currency:I.currency},re=(0,y.useVisaTitle)(te,K,j,"ticketAlerts.titleSingleCountry","ticketAlerts.titleTwoOrMoreCountries"),ne=(0,y.useVisaTitle)(te,K,j,"ticketAlerts.country","ticketAlerts.twoOrMoreCountries","pr"),oe=(0,n.useMemo)((function(){return re?[{tag:"visa_required",icon:"warning",title:re,payload:{stopPlace:ne}}]:[]}),[re,ne]),ie=[].concat(oe,ee),le=(0,n.useCallback)((function(e,t){N((0,C.ticketAlertClick)(d,S,{type:e,payload:t}))}),[N,d,S]),se=(0,n.useCallback)((function(e,t){N((0,C.ticketTransferTagClick)(d,S,{type:e,payload:t}))}),[N,d,S]),ue=(0,n.useCallback)((function(e,t){var a=r?(0,p.getFareOptions)(F,I.minimumFare):[];N((0,C.ticketFlightInfoClicked)(e,t,I.id,a))}),[r,F,I.minimumFare,I.id,N]);return o?n.default.createElement("div",{className:D("itinerary-info",{"--with-versus-drawer":t,"--loading":o})},n.default.createElement("div",{className:D("itinerary-info-inner")},n.default.createElement(_,{count:R.length}))):n.default.createElement("div",{className:D("itinerary-info",{"--with-versus-drawer":t})},n.default.createElement("div",{className:D("itinerary-info-inner")},n.default.createElement(u.Informers,{className:D("informer-group"),alerts:ie,onTicketAlertClick:le,travelRestrictionTags:q,travelInformationTags:U,onTravelRestrictionClick:x}),n.default.createElement("div",{className:D("itinerary")},n.default.createElement(s.Itinerary,{segmentClassName:D("segment"),segments:R,flightTerms:I.flightTerms,transferTerms:I.transferTerms,directSchedule:Q,ticketPrice:ae,transferUpsellBoundaries:X?G:void 0,onTransferUpsellClick:function(e,t){var a;N((0,k.changeFilters)(((a={})[e]=t,a),E.ChangeFiltersSource.LayoverUpsellFilters)),$&&(N((0,O.closePopup)("ticket")),window.scrollTo({top:0,behavior:"smooth"}))},onDirectScheduleClick:function(e,t){N((0,T.clickDirectFlightTicket)(e,t))},isNightMode:a,getCityName:V,getPlace:H,getCountry:B,getPlaceName:W,getAirlineName:L,getAirlineBrandColor:z,onFlightInfoClick:ue,onTransferTagClick:se,newCarrierLogo:J,isLoading:Z}))))}},905985:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketInfo=void 0;var n=r(a(445299)),o=r(a(114558)),i=r(a(531760)),l=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=U(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),s=r(a(954206)),u=r(a(225385)),c=a(445549),d=a(224562),p=r(a(816550)),f=r(a(968598)),m=r(a(257597)),h=a(896911),v=a(757418),g=a(385509),y=a(418346),b=a(463854),C=a(75134),P=a(139475),w=a(909403),k=a(997066),E=a(203089),O=r(a(715635)),M=a(568082),T=a(838062),S=a(754266),D=a(520072),_=a(345663),I=a(101271),j=a(214743),N=a(834853),F=a(350182),x=a(601396),A=a(550278),R=a(595173),B=r(a(702944)),L=a(429759),V=a(931162),W=a(649065),H=a(733585),z=a(104185),G=a(462153),Y=a(863974);function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(U=function(e){return e?a:t})(e)}a(339136);var q=(0,u.default)("ticket-main-modal"),$=function(){var e=(0,c.useTranslation)(["ticket"]).t;return l.default.createElement("div",{className:q("fares-skeleton")},l.default.createElement(k.Spinner,null),l.default.createElement(b.Text,{type:b.TextType.Body2Regular},e("skeletonText")))},Q=function(e){var t=e.ticketSign,a=e.isFaresExpEnabled,r=e.isFaresSecondOnEnabled,n=e.proposals,i=e.currentTariff,s=e.onTariffChange,u=e.onExtraFaresClick,c=e.isBaggageFilterSelected,d=e.isSearchExpired,p=B.default.is("serp-exp-versusDrawer");if(a)return r?null:l.default.createElement("div",{className:q("baggage-upsell")},l.default.createElement(N.FaresSelectedPreviewContainer,{ticketSign:t,onShowFaresModalClick:u,isSearchExpired:d,isVersusDrawerEnabled:p}));var f=(0,o.default)(n[i],1)[0],m=null==f?void 0:f.worstBags.baggage,h=Boolean(!c&&n[V.TariffType.HasBaggage].length&&n[V.TariffType.OtherBaggage].length);if(i===V.TariffType.OtherBaggage&&!h&&null===m||i===V.TariffType.OtherBaggage&&n.priceDifference<0)return null;var v=!p||!d;return l.default.createElement("div",{className:q("baggage-upsell")},l.default.createElement(F.BaggageUpsell,{currentTariffType:i,proposals:n,onTariffChange:s,hasBothTariffType:h,showSwitchRow:v}))},K=function(e){var t=e.passengersCount,a=e.isFaresExp,r=void 0!==a&&a,n=e.hasBaggage,o=void 0!==n&&n,i=(0,c.useTranslation)(["ticket"]).t;if(r){var s=i(o?"ticket:passengersTotalCountWithLuggage":"ticket:passengersTotalCount",{count:t});return l.default.createElement(l.default.Fragment,null,s)}return l.default.createElement(l.default.Fragment,null,i("ticket:passengersCountBest",{count:t}))},Z=function(e){var t=e.className,a=e.selectedProposal,r=e.proposals,n=e.proposalsHasBothTariffType,o=e.currentTariff,i=e.isFaresExpEnabled,s=e.isSearchExpired;if(!i&&n){var u=r[V.TariffType.OtherBaggage][0],c=r[V.TariffType.HasBaggage][0];return l.default.createElement(y.AnimatedTicketPrice,{className:t,isExpired:s,isSwapped:o===V.TariffType.HasBaggage,roundingMode:"ceil",value:u.price,swappedValue:c.price,currency:u.currency})}return l.default.createElement(y.TicketPrice,{className:t,isExpired:s,roundingMode:"ceil",value:a.price,currency:a.currency})};t.TicketInfo=function(e){var t,a,r=e.sign,o=e.ticketIndex,u=e.proposals,c=e.proposalToRender,y=e.currentTariff,k=e.isFaresExpEnabled,N=e.isFaresSecondOnEnabled,F=e.isVersusDrawerEnabled,U=e.isNightMode,X=e.onExtraFaresClick,J=e.isLoading,ee=(0,d.useDispatch)(),te=(0,v.useCurrentBreakpoint)(g.breakpoints),ae=(0,x.useTicketOtherProps)(),re=ae.isSearchExpired,ne=ae.searchParams,oe=(0,x.useBuyClickCallbacks)(r).onBuyButtonClick,ie=(0,x.useMetaInfoCallback)(r).getMetaInfo,le=(0,h.useUnit)(Y.userService.$userSettings),se=(0,d.useSelector)((function(e){return(0,z.getSimilarFareProposals)(e,r)})),ue=null==te?void 0:te.is([g.BreakpointName.Desktop]),ce=(0,d.useSelector)(A.getAirlines),de=(0,d.useSelector)(R.getIsBaggageFilterSelected),pe=Boolean(B.default.is("serp-exp-newProposalModal")),fe=(0,n.default)(u[y]),me=fe[0],he=fe.slice(1),ve=null==me?void 0:me.seatsAvailable,ge=Boolean((null==me?void 0:me.seatsAvailable)&&me.seatsAvailable<L.MIN_SEATS_LEFT),ye=Boolean(u[V.TariffType.HasBaggage].length&&u[V.TariffType.OtherBaggage].length),be=(0,l.useMemo)((function(){if(null!=ne&&ne.passengers)return(0,W.getPassengersCount)(ne.passengers)}),[null==ne?void 0:ne.passengers]),Ce=(0,l.useMemo)((function(){return(0,p.default)(c.cashback)||0===Math.floor(c.cashback)?null:{value:Math.floor(c.cashback),currency:c.currency}}),[c]),Pe="show"===B.default.get("serp-exp-seatsAvailable"),we=B.default.is("b2b-feat-ticketMainModalBanner"),ke=Boolean(B.default.is("avs-exp-downgradedGates")),Ee=null===(t=c.minimumFare)||void 0===t||null===(a=t.baggage)||void 0===a?void 0:a.count,Oe=!(0,f.default)(Ee)&&Ee>0,Me=ke&&c.badPartner&&!F,Te=(0,l.useMemo)((function(){var e=c.agentMainAirlineIata;return(0,p.default)(e)?e:(0,m.default)(e,[e,"name"],ce)}),[ce,c]),Se=(0,l.useCallback)((function(){pe?(0,S.emitSeleneEvent)({type:"service/helios/serp/ticket/proposal_modal/opened"}):ee((0,D.openPopup)(_.TICKET_CONTENT_MODAL_NAME,{ticketSign:r,ticketIndex:o,modalData:{type:I.TicketContentModalType.Proposals,payload:{currentTariff:y,source:"ticket_info"}}}))}),[ee,pe,o,y,r]),De=(0,l.useCallback)((function(e){ee((0,j.changeTicketSelectedTariff)(r,e))}),[ee,r]),_e=l.default.createElement(Q,{ticketSign:r,isFaresExpEnabled:k,isFaresSecondOnEnabled:N,proposals:u,currentTariff:y,onTariffChange:De,onExtraFaresClick:X,isBaggageFilterSelected:de,isSearchExpired:re}),Ie=B.default.is("avs-exp-foreignCards"),je=le.payment_options,Ne=c.acceptedCards&&(0,G.getCardsTypeProposal)(c.acceptedCards),Fe=(0,i.default)(je,["ru_card"])&&"ruCard"===Ne,xe=Ie&&je&&je.length>0&&!Fe,Ae=k?se:u[y];return!F&&J?l.default.createElement(l.default.Fragment,null,l.default.createElement($,null),l.default.createElement(O.default,{proposal:c,price:c.price,isSearchExpired:re,getMetaInfo:ie,onClick:oe,isProposalTitleHidden:!0,className:q("buy-btn","--in-content"),showPrice:!1})):l.default.createElement(l.default.Fragment,null,!F&&l.default.createElement(l.default.Fragment,null,Pe&&ge&&ve&&l.default.createElement(w.SeatsAvailableBubble,{className:q("seats-available"),count:ve,tipPosition:ue?"left":"right"}),l.default.createElement(Z,{className:q("ticket-price"),isFaresExpEnabled:k,isSearchExpired:re,proposals:u,selectedProposal:c,proposalsHasBothTariffType:ye,currentTariff:y}),Ce&&l.default.createElement(E.CashbackTitleContainer,{cashback:Ce,placement:E.CashbackPlacementType.Ticket,unsignedClassName:q("cashback-title-unsigned","rewrite-ui-kit-class"),className:q("cashback-title-wrapper")}),(0,s.default)(be)&&l.default.createElement(b.Text,{type:b.TextType.Body2Regular,className:q("passengers-text")},l.default.createElement(K,{passengersCount:be,isFaresExp:k,hasBaggage:Oe})),c.agentLabel&&l.default.createElement(C.ProposalButton,{className:q("proposal-button"),isDisabled:0===he.length,agentLabel:c.agentLabel,onClick:Se}),l.default.createElement(O.default,{proposal:c,price:c.price,isSearchExpired:re,getMetaInfo:ie,onClick:oe,isProposalTitleHidden:!0,className:q("buy-btn","--in-content"),showPrice:!1}),xe&&l.default.createElement(H.AcceptedCardsBuyInfoCardContainer,{proposalToRender:c,proposals:Ae,className:q("accepted-cards-informer")})),l.default.createElement("div",{className:q("b2b-info")},l.default.createElement(M.SeleneWidget,{name:"ticket_b2b_banner"})),!J&&l.default.createElement(l.default.Fragment,null,_e),!F&&Ce&&l.default.createElement(E.CashbackInformerContainer,{placement:E.CashbackPlacementType.Ticket,cashback:Ce,className:q("cashback-informer")}),Me&&l.default.createElement(P.DowngradedProposalInformer,{className:q("downgraded-proposal"),gateName:c.agentLabel,carrierIata:c.agentMainAirlineIata,carrierName:Te,isNightMode:U}),we&&!F&&l.default.createElement("div",{className:q("b2b-info")},l.default.createElement(M.SeleneWidget,{name:"ticket_b2b_banner"})),F&&l.default.createElement(T.ItineraryInfo,{isNightMode:U,isVersusDrawerEnabled:F,isFaresExpEnabled:k,isLoading:J,sign:r,ticketIndex:o,proposal:c}))}},887771:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.TicketModalContent=void 0;var n=r(a(114558)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=P(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(225385)),l=a(224562),s=a(601396),u=r(a(702944)),c=a(234743),d=a(568082),p=a(104185),f=a(694630),m=a(902411),h=a(838062),v=a(905985),g=a(834853),y=a(520072),b=a(345663),C=a(101271);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(P=function(e){return e?a:t})(e)}a(339136);var w=(0,i.default)("ticket-main-modal");t.TicketModalContent=function(e){var t=e.sign,a=e.ticketIndex,r=(0,s.useTicketOtherProps)().isNightMode,i=(0,l.useSelector)((function(e){return(0,f.getTicketTupleToRender)(e,t)})),P=(0,l.useSelector)((function(e){return(0,m.prepareTicketProposals)(e,i)})),k=P.tariffs,E=P.currentTariff,O=(0,l.useSelector)((function(e){return(0,p.getSelectedFareProposal)(e,t)})),M=(0,p.isFaresExperimentEnabled)(),T=(0,p.isFaresExpDesktopOnSecondEnabled)(),S=(0,n.default)(k[E],1)[0],D=(0,c.getProposalToRender)({isFaresExpEnabled:M,fareProposal:O,upsellProposal:S}),_=u.default.is("serp-exp-versusDrawer"),I=void 0===i,j=(0,l.useDispatch)(),N=(0,s.useTicketOtherProps)().isSearchExpired,F=(0,o.useCallback)((function(){j((0,y.openPopup)(b.TICKET_CONTENT_MODAL_NAME,{ticketSign:t,ticketIndex:a,modalData:{type:C.TicketContentModalType.Fares}}))}),[j,t,a]);return o.default.createElement("div",{className:w("modal-content",{"--with-versus-drawer":_})},o.default.createElement("div",{className:w("proposals-info",{"--with-versus-drawer":_})},o.default.createElement(v.TicketInfo,{sign:t,ticketIndex:a,isVersusDrawerEnabled:_,isNightMode:r,isFaresExpEnabled:M,isFaresSecondOnEnabled:T,proposals:k,currentTariff:E,proposalToRender:D,isLoading:I,onExtraFaresClick:F})),_&&o.default.createElement("div",{className:w("ticket-drawer")},T&&o.default.createElement("div",{className:w("fares-with-drawer")},o.default.createElement(g.FaresSelectedPreviewContainer,{ticketSign:t,onShowFaresModalClick:F,isSearchExpired:N,isVersusDrawerEnabled:_})),o.default.createElement(d.SeleneWidget,{name:"ticket_drawer"})),!_&&o.default.createElement(h.ItineraryInfo,{isNightMode:r,isVersusDrawerEnabled:_,isFaresExpEnabled:M,sign:t,ticketIndex:a,proposal:D,isLoading:I}))}},615269:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),n=a(388039),o=a(661735),i=a(316606);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}a(936462);var s=r.default.forwardRef((function(e,t){var a,l=e.type,s=e.value,u=e.active,c=e.readonly,d=e.placeholder,p=e.onClick,f=e.onFocus,m=e.onChange,h=e.onBlur,v=e.onClear,g=e.onKeyDown,y=e.error,b=e.required,C=e.testId,P=e.inputTestId,w=!b&&s&&v,k=(0,r.useCallback)((function(){p&&p()}),[p]),E=(0,r.useCallback)((function(){f&&f()}),[f]),O=(0,r.useCallback)((function(e){m&&m(e)}),[m]),M=(0,r.useCallback)((function(){h&&h()}),[h]),T=(0,r.useCallback)((function(){v&&v()}),[v]),S=(0,r.useCallback)((function(e){g&&g(e)}),[g]);return r.default.createElement("div",{className:(0,i.cn)("field",(a={},a["--"+l]=!0,a["--error"]=!!y,a)),"data-error-message":y&&y.message},r.default.createElement("div",{className:(0,i.cn)("input-wrapper","--"+l),onClick:k,"data-test-id":C},r.default.createElement("input",{className:(0,i.cn)("date-input",{"--active":!!u,"--error":!!y}),placeholder:d||"",onFocus:E,onChange:O,onBlur:M,value:s,ref:t,readOnly:c,onKeyDown:S,"data-test-id":P})),w?r.default.createElement("button",{className:(0,i.cn)("field-clear"),onClick:T,type:"button"},r.default.createElement(n.Icon24ControlsCross,null)):null,"departure"===l&&!w&&r.default.createElement(o.Icon24ControlsCalendarDeparture,{className:(0,i.cn)("departure-icon")}))})),u=r.default.memo(s);t.default=u},984752:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=i(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=n?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),n=a(441361),o=a(316606);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(i=function(e){return e?a:t})(e)}a(936462);t.default=function(e){var t=e.title,a=e.clearBtnText,i=e.onCancelClick,l=e.isClearbBtnDisabled,s=void 0!==l&&l,u=(0,r.useCallback)((function(){i&&i()}),[i]);return r.default.createElement("div",{className:(0,o.cn)("content-head")},t&&r.default.createElement("span",{className:(0,o.cn)("content-title"),"data-test-id":"trip-duration-content-title"},t),a&&r.default.createElement(n.Button,{className:(0,o.cn)("cancel-departure"),priority:n.ButtonPriority.Secondary,onClick:u,disabled:s,testId:"no-return-ticket"},a))}},618948:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),n=a(445549),o=a(340008),i=a(358618),l=a(661735),s=a(316606);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(936462);var c={calendar:l.Icon24ControlsCalendarDeparture,months:i.Icon24ControlsCalendarMonth,"range-slider":o.Icon24ControlsCalendarInterval};t.default=function(e){var t=e.tabs,a=e.currentTab,o=e.onTabClick,i=(0,n.useTranslation)("trip_duration").t,l=(0,r.useCallback)((function(e){return function(){e!==a&&o(e)}}),[a,o]);return r.default.createElement("div",{className:(0,s.cn)("tabs")},t.map((function(e){var t=c[e];return r.default.createElement("button",{key:e,type:"button",className:(0,s.cn)("tab",{"--active":e===a}),onClick:l(e),"data-test-id":"tab-"+e},r.default.createElement(t,{className:(0,s.cn)("tab-icon")}),i("trip_duration:mode."+e))})))}},270082:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),o=a(445549),i=r(a(225385)),l=a(441361),s=r(a(129957));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(547059);var c=(0,i.default)("trip-duration-range-slider"),d=function(e){var t=e.minValue,a=e.maxValue,r=e.range,i=e.onChange,u=e.onCancelClick,d=e.onConfirmClick,p=e.clearBtnText,f=(0,o.useTranslation)("trip_duration").t,m=(0,n.useCallback)((function(e){return i(e)}),[i]),h=(0,n.useCallback)((function(){return u()}),[u]),v=(0,n.useCallback)((function(){return d()}),[d]),g=(0,n.useMemo)((function(){return function(e,t){return n.default.createElement(n.default.Fragment,null,"min"===t&&n.default.createElement("span",{className:c("label")},f("trip_duration:range.from",{value:e})),"max"===t&&n.default.createElement("span",{className:c("label")},f("trip_duration:range.to",{value:e})))}}),[f]);return n.default.createElement("div",{className:c()},n.default.createElement("p",{className:c("title")},f("trip_duration:durationHeader")),n.default.createElement("div",{className:c("slider")},n.default.createElement(s.default,{renderLabel:g,minValue:t,maxValue:a,range:r,onChange:m})),n.default.createElement("div",{className:c("buttons")},p&&n.default.createElement(l.Button,{inline:!0,priority:l.ButtonPriority.Secondary,onClick:h},p),n.default.createElement(l.Button,{inline:!0,onClick:v},f("trip_duration:ready"))))},p=n.default.memo(d);t.default=p},172846:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=u(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}(a(797972)),i=r(a(225385)),l=r(a(871838)),s=r(a(805814));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(u=function(e){return e?a:t})(e)}a(752371);var c=(0,i.default)("trip_dates_price"),d=function(e){var t=e.value,a=e.currency,r=e.isLow,i=e.isShort,u={value:t,currency:a},d=c(null,{"--low":!!r});return i?o.default.createElement(s.default,(0,n.default)({className:d},u)):o.default.createElement(l.default,(0,n.default)({className:d},u))},p=(0,o.memo)(d);t.default=p},599951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.minTripDuration=t.maxTripDuration=void 0,t.minTripDuration=1,t.maxTripDuration=30},589182:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(101339)),o=r(a(947981)),i=r(a(797972)),l=a(740537),s=a(445549),u=a(441361),c=a(217624),d=a(39569),p=a(543358),f=r(a(702944)),m=r(a(615269)),h=r(a(984752)),v=r(a(618948)),g=r(a(993508)),y=r(a(162539)),b=r(a(270082)),C=a(405628),P=a(659),w=a(557178),k=a(316606),E=a(599951);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(936462);var T=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={activeTab:"calendar",departureInputValue:t.props.departureValue,returnInputValue:t.props.returnValue,hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0,departureInputProgress:!1,returnInputProgress:!1,isCalendarOneWay:!1},t.dropdownRef=i.default.createRef(),t.containerRef=i.default.createRef(),t.activeInputBackup=void 0,t.getDisabledState=function(){return{activeTab:"calendar"}},t.getActiveDepartureState=function(){var e=t.props.departureValue;return{activeTab:(0,w.getCurrentTabByValue)(e)||"calendar"}},t.getActiveReturnState=function(){var e=t.props,a=e.departureValue,r=e.returnValue;return{activeTab:a&&"months"===(0,w.getCurrentTabByValue)(a)?"range-slider":(0,w.getCurrentTabByValue)(r)||"calendar"}},t.formatInputValue=function(e){if(!e)return"";var a=(0,w.getCurrentTabByValue)(e);return"calendar"===a?(0,d.formatHumanReadableDateWithWeekDay)({date:e,locale:(0,P.getLocale)()}):"range-slider"===a?t.props.t("trip_duration:range.both",{from:e.min,to:e.max}):"months"===a?(0,w.formatMonthRange)(e):""},t.handleActiveInputChanged=function(e,a){if(void 0===a&&(a=!1),a&&(t.activeInputBackup=e),t.props.onActiveInputChanged){var r=t.props,n=r.departureValue,o=r.fromMonth,i=n&&"calendar"===(0,w.getCurrentTabByValue)(n)?n:void 0,s=t.state.currentCalendarMonth?t.state.currentCalendarMonth:i||(0,l.addDays)(o,1);t.props.activeInput!==e&&t.props.onActiveInputChanged(e,"calendar"===t.state.activeTab?s:void 0)}},t.handleDepartureInputClick=function(){t.handleActiveInputChanged("departure",!0),t.setState(M(M({},t.getActiveDepartureState()),{},{hoverDepartureInputValue:void 0}))},t.handleDepartureInputBlur=function(){t.setState({departureInputProgress:!1})},t.handleDepartureInputChange=function(e){t.setState({departureInputValue:e.target.value,departureInputProgress:!0})},t.handleDepartureInputKeyDown=function(e){var a=t.state,r=a.departureInputValue,n=a.returnInputValue,o=t.props,i=o.fromMonth,s=o.toMonth,u="Enter"===e.key||"Tab"===e.key;if(u&&"string"==typeof r){e.preventDefault();try{var c=(0,l.parse)(r,"DD.MM.YYYY");(0,w.isValidDate)(c,i,s)&&!n?(t.handleActiveInputChanged("return"),t.setState({departureInputValue:c,departureInputProgress:!1}),t.props.onDepartureDateSelect(c)):(0,w.isValidDate)(c,i,s)&&n&&n<c?(t.handleActiveInputChanged("return"),t.setState({departureInputValue:c,returnInputValue:void 0,departureInputProgress:!1}),t.props.onDepartureDateSelect(c),t.props.onReturnDateSelect()):t.setState({departureInputValue:void 0,departureInputProgress:!1})}catch(e){t.setState({departureInputValue:void 0,departureInputProgress:!1})}}u&&!r&&(e.preventDefault(),t.setState(t.getDisabledState()))},t.renderDepartureInput=function(e){var a=t.state,r=a.departureInputValue,n=a.departureInputProgress,o=a.hoverDepartureInputValue,l=t.props,s=l.departureValue,u=l.errors,c=l.departurePlaceholder,d=l.testIds,p=l.activeForm,h=(0,C.selectHasExploreWidgets)(f.default),v="avia"===p,g=o?t.formatInputValue(o):null,y=n?r:s,b="string"==typeof y?y:t.formatInputValue(y);return i.default.createElement(m.default,{type:"departure",value:g||b,active:"departure"===t.props.activeInput,readonly:!0,placeholder:c,onClick:t.handleDepartureInputClick,onBlur:t.handleDepartureInputBlur,onClear:h&&v?t.handleDepartureResetClick:void 0,error:u&&u.departure,ref:e,testId:d&&d.departure,inputTestId:"departure-date-input"})},t.handleReturnInputClick=function(){t.handleActiveInputChanged("return",!0),t.setState(M(M({},t.getActiveReturnState()),{},{hoverReturnInputValue:void 0}))},t.handleReturnInputBlur=function(){t.setState({returnInputProgress:!1})},t.handleReturnInputChange=function(e){t.setState({returnInputValue:e.target.value,returnInputProgress:!0})},t.handleReturnInputKeyDown=function(e){var a=t.state,r=a.returnInputValue,n=a.departureInputValue,o=t.props,i=o.fromMonth,s=o.toMonth,u="Enter"===e.key||"Tab"===e.key;if(u&&"string"==typeof r){e.preventDefault();try{var c=(0,l.parse)(r,"DD.MM.YYYY");if(!n&&(0,w.isValidDate)(c,i,s)||n&&n<c){var d=n?t.getDisabledState():{};n&&t.handleActiveInputChanged("departure"),t.setState(M(M({},d),{},{returnInputValue:c,returnInputProgress:!1})),t.props.onReturnDateSelect(c)}else t.setState({returnInputValue:void 0,returnInputProgress:!1})}catch(e){t.setState({returnInputValue:void 0,returnInputProgress:!1})}}u&&!r&&(e.preventDefault(),t.setState(t.getDisabledState()))},t.handleReturnResetClick=function(){t.handleActiveInputChanged(),t.setState(M(M({},t.getDisabledState()),{},{isCalendarOneWay:!0,returnInputValue:void 0,hoverReturnInputValue:void 0})),t.props.onReturnResetClick&&t.props.onReturnResetClick()},t.handleDepartureResetClick=function(){t.handleActiveInputChanged(),t.setState(M(M({},t.getDisabledState()),{},{departureInputValue:void 0,hoverDepartureInputValue:void 0,returnInputValue:void 0,hoverReturnInputValue:void 0})),t.props.onDepartureResetClick&&t.props.onDepartureResetClick()},t.handleOnDayClick=function(e){var a=t.props,r=a.onDepartureDateSelect,n=a.onReturnDateSelect,o=a.departureValue,i=a.returnValue,l=a.activeInput,s=a.activeForm,u=t.state,c=u.departureInputValue,d=u.hoverReturnInputValue,p=u.isCalendarOneWay,m=(0,C.selectIsAutosearchEnabled)(f.default);if("departure"===l&&(r(e),i&&e>i&&setTimeout((function(){return n()}),0),d&&(setTimeout((function(){return n(d)}),0),t.handleActiveInputChanged(),t.setState(M(M({},t.getDisabledState()),{},{departureInputValue:e,returnInputValue:d,hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0}))),m&&"avia"===s?p?t.close():t.handleActiveInputChanged("return",!0):i?t.close():t.handleActiveInputChanged("return",!0),t.setState({activeTab:"calendar",departureInputValue:e,hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0,returnInputValue:void 0})),"return"===l)if(m&&"avia"===s&&o&&e<o)r(e),n(),t.setState({departureInputValue:e,returnInputValue:void 0,hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0}),t.handleActiveInputChanged("return",!0);else{var h=c?t.getDisabledState():{};t.setState(M(M({},h),{},{returnInputValue:e,hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0})),n(e),o?setTimeout((function(){return t.close()})):t.handleActiveInputChanged("departure",!0)}},t.handleDayMouseEnter=function(e){var a=t.state.hoverReturnInputValue,r=t.props,n=r.departureValue,o=r.returnValue,i=r.activeInput,l=r.activeForm,s=(0,C.selectIsAutosearchEnabled)(f.default);if("departure"===i){if(s&&"avia"===l)return void t.setState({hoverDepartureInputValue:e});a&&(a<e||n instanceof Date&&n<=e&&n<a)||o&&e>o?(t.handleActiveInputChanged("return"),t.setState({hoverDepartureInputValue:n,hoverReturnInputValue:e})):t.setState({hoverDepartureInputValue:e})}if("return"===i){if(s&&"avia"===l)return void t.setState({hoverReturnInputValue:e});n instanceof Date&&n>e||o&&!n&&o>e?(t.handleActiveInputChanged("departure"),t.setState({hoverReturnInputValue:o instanceof Date?o:n,hoverDepartureInputValue:e})):t.setState({hoverReturnInputValue:e})}},t.handleMouseLeaveCalendar=function(){t.activeInputBackup&&t.handleActiveInputChanged(t.activeInputBackup),t.setState({hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0})},t.handleMonthChange=function(e){t.props.onMonthChange&&t.props.onMonthChange(e,void 0)},t.handlePrevMonthClick=function(e){t.props.onMonthChange&&t.props.onMonthChange(e,"prev")},t.handleNextMonthClick=function(e){t.props.onMonthChange&&t.props.onMonthChange(e,"next")},t.setCurrentCalendarMonth=function(e){t.setState({currentCalendarMonth:e})},t.getCurrentMonth=function(e){var a=t.props,r=a.fromMonth,n=a.toMonth,o=t.state.currentCalendarMonth;if(o)return o;if(e&&e instanceof Date){var i=(0,l.addMonths)(n,-1);return e<i?e:i}return(0,l.addDays)(r,1)},t.handlePriceSwitcherChange=function(e){var a=e.target;t.props.onPriceSwitcherChange&&t.props.onPriceSwitcherChange(a.checked,t.state.activeTab,t.state.currentCalendarMonth)},t.renderPriceSwitcher=function(){return i.default.createElement(c.Switch,{onChange:t.handlePriceSwitcherChange,label:t.props.t("trip_duration:priceSwitcher"),checked:t.props.priceSwitcherChecked})},t.handleMonthSelect=function(e){var a=t.props,r=(a.onDepartureDateSelect,a.onReturnDateSelect);if(e.length>=1){var n=t.props.returnValue,o="range-slider"===(0,w.getCurrentTabByValue)(n);n&&!o&&setTimeout((function(){return r()}),0),t.setState({departureInputValue:e,returnInputValue:o?n:void 0})}else t.setState({departureInputValue:void 0})},t.handleMonthsConfirm=function(){var e=t.props,a=e.returnValue,r=e.onDepartureDateSelect,n=e.onMonthsConfirmClick,o=t.state,i=o.departureInputValue,l=o.activeTab;n&&n(),a&&"range-slider"!==(0,w.getCurrentTabByValue)(a)&&t.props.onReturnDateSelect(),i&&"months"===l?(r(i),t.handleActiveInputChanged("return"),t.setState({activeTab:"range-slider"})):(r(),t.setState(t.getDisabledState()))},t.handleMonthsMount=function(){t.props.onMonthsMount&&t.props.onMonthsMount()},t.handleRangeSliderChange=function(e){var a=new p.TripDuration(e[0],e[1]);t.setState({returnInputValue:a})},t.handleRangeSliderConfirm=function(){var e=t.state.returnInputValue,a=t.props,r=a.onReturnDateSelect,n=a.rangeDaysDurationMax,o=a.rangeDaysDurationMin;e?r(e):o&&n&&r(new p.TripDuration(o,n)),t.close()},t.handleTabChage=function(e){t.setState({activeTab:e}),t.props.onTabChange&&t.props.onTabChange(e)},t.handleWithoutReturnClick=function(){t.handleActiveInputChanged(),t.setState(M(M({},t.getDisabledState()),{},{isCalendarOneWay:!0})),t.props.onWithoutReturnClick&&t.props.onWithoutReturnClick()},t.close=function(){var e=t.props,a=e.departureValue,r=e.returnValue;t.handleActiveInputChanged(),setTimeout((function(){t.setState(M(M({},t.getDisabledState()),{},{departureInputValue:a,returnInputValue:r,hoverDepartureInputValue:void 0,hoverReturnInputValue:void 0,isCalendarOneWay:!a||!r}))}),10)},t.handleOuterClick=function(e){t.props.activeInput&&t.containerRef.current&&!t.containerRef.current.contains(e.target)&&setTimeout((function(){t.close()}))},t}(0,o.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){document.addEventListener("mousedown",this.handleOuterClick,{capture:!0}),this.props.onComponentDidMount&&this.props.onComponentDidMount(this.dropdownRef)},a.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOuterClick)},a.componentDidUpdate=function(e,t){var a=e.activeInput,r=this.props.activeInput;r!==a&&(r||(this.activeInputBackup=void 0,this.setState({currentCalendarMonth:void 0})))},a.getValueByActiveInput=function(){var e=this.props.activeInput;return"departure"===e?this.state.departureInputValue:"return"===e?this.state.returnInputValue:void 0},a.renderReturnInput=function(e){var t=this.state,a=t.returnInputValue,r=t.returnInputProgress,n=t.hoverReturnInputValue,o=this.props,l=o.returnValue,s=o.errors,u=o.returnPlaceholder,c=o.testIds,d=n?this.formatInputValue(n):null,p=r?a:l,f="string"==typeof p?p:this.formatInputValue(p);return i.default.createElement(m.default,{type:"return",value:d||f,active:"return"===this.props.activeInput,readonly:!0,placeholder:u,onClick:this.handleReturnInputClick,onBlur:this.handleReturnInputBlur,onClear:this.handleReturnResetClick,required:this.props.returnDateIsRequired,ref:e,error:s&&s.return,testId:c&&c.return,inputTestId:"return-date-input"})},a.getCalendar=function(){var e,t,a=this.props,r=a.departureValue,n=a.returnValue,o=a.fromMonth,l=a.toMonth,s=a.activeInput,u=this.state,c=u.activeTab,d=u.hoverDepartureInputValue,p=u.hoverReturnInputValue,f=r&&"calendar"===(0,w.getCurrentTabByValue)(r)?r:void 0,m=n&&"calendar"===(0,w.getCurrentTabByValue)(n)?n:void 0;"calendar"===c&&(f?e={from:f,to:m||f}:m&&(e={from:m,to:m}),f&&"return"===s&&(t=d||f),"departure"===s&&(t=d&&m?p||(m<d?void 0:m):p||m));var h=this.getCurrentMonth(f);return i.default.createElement("div",{className:(0,k.cn)("calendar-wrapper"),onMouseLeave:this.handleMouseLeaveCalendar},i.default.createElement(g.default,{fromMonth:o,toMonth:l,currentMonth:h,onDayClick:this.handleOnDayClick,numberOfMonths:2,estimated:t,selectedDays:e,onDayMouseEnter:this.handleDayMouseEnter,onMonthChange:this.handleMonthChange,onNextClick:this.handleNextMonthClick,onPreviousClick:this.handlePrevMonthClick,onCurrentMonthChanged:this.setCurrentCalendarMonth,disabledDays:{before:o,after:l},renderDay:this.props.renderCalendarDay}))},a.getMonthPicker=function(){var e=this.props,t=e.t,a=e.showPriceSwitcher,r=this.getValueByActiveInput(),n="months"===(0,w.getCurrentTabByValue)(r);return i.default.createElement(i.default.Fragment,null,i.default.createElement(y.default,{showToggleAll:!0,value:n?r:[],initialMonths:w.months,onSelect:this.handleMonthSelect,onToggleAllClick:this.handleMonthSelect,onComponentDidMount:this.handleMonthsMount,getItemChild:this.props.renderMonthPrice}),a&&i.default.createElement("div",{className:(0,k.cn)("months-price-switcher")},this.renderPriceSwitcher()),i.default.createElement(u.Button,{className:(0,k.cn)("months-confirm"),onClick:this.handleMonthsConfirm,testId:"button-choose-month"},t("trip_duration:ready")))},a.getRangeSlider=function(){var e=this.props,t=e.rangeDaysDurationBoundaries,a=e.rangeDaysDurationMin,r=e.rangeDaysDurationMax,n=e.clearBtnText,o=this.getValueByActiveInput();return i.default.createElement(b.default,{clearBtnText:n,minValue:o&&o[0]?o[0]:a,maxValue:o&&o[1]?o[1]:r,range:t,onChange:this.handleRangeSliderChange,onCancelClick:this.handleWithoutReturnClick,onConfirmClick:this.handleRangeSliderConfirm})},a.render=function(){var e=this.state.activeTab,t=this.props,a=t.returnDateIsRequired,r=t.dropdownHeaderTitle,n=t.clearBtnText,o=t.className,l=t.activeInput,s=t.departureValue,u=t.departureForwardedRef,c=t.returnForwardedRef,d=l&&!s?"departure"===l?this.props.departureTabs:this.props.returnTabs:[];return i.default.createElement("div",{className:(0,k.cn)(null,o),ref:this.containerRef},this.renderDepartureInput(u),this.renderReturnInput(c),i.default.createElement("div",{className:(0,k.cn)("dropdown",{"--with-tabs":d.length>1}),ref:this.dropdownRef},!!l&&i.default.createElement("div",{className:(0,k.cn)("wrap"),"data-test-id":"trip-duration-wrap"},d.length>1&&i.default.createElement(v.default,{tabs:d,currentTab:e,onTabClick:this.handleTabChage}),i.default.createElement("div",{className:(0,k.cn)("content")},"calendar"===e&&i.default.createElement(h.default,{title:r,clearBtnText:a?void 0:n,onCancelClick:this.handleWithoutReturnClick,isClearbBtnDisabled:"departure"===l&&!this.props.departureValue&&!this.props.returnValue}),i.default.createElement("div",{className:(0,k.cn)("content-body","--"+e)},"range-slider"!==e&&i.default.createElement("div",{className:(0,k.cn)("loader",{"is-animation-started":!0,"is-animation-ended":!this.props.isLoading})}),"calendar"===e&&this.getCalendar(),"months"===e&&this.getMonthPicker(),"range-slider"===e&&this.getRangeSlider())))))},t}(i.default.PureComponent);T.defaultProps={departureValue:void 0,returnValue:void 0,rangeDaysDurationBoundaries:{min:E.minTripDuration,max:E.maxTripDuration},rangeDaysDurationMin:5,rangeDaysDurationMax:14};var S=(0,s.withTranslation)("trip_duration")(T);t.default=S},109558:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(435850)),o=r(a(371530)),i=r(a(947981)),l=r(a(797972)),s=a(445549),u=a(740537),c=a(441361),d=a(808785),p=a(601779),f=a(39569),m=r(a(993508)),h=r(a(615269)),v=r(a(984752)),g=r(a(702944)),y=a(405628),b=a(149739),C=a(659),P=a(316606);a(936462);var w="TRIP_DURATION_MODAL_NAME",k=function(){return null},E=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={currentCalendarMonth:"mobile"===t.props.mediaQueryType?t.props.fromMonth:void 0},t.modalRef=void 0,t.containerRef=l.default.createRef(),t.unsubscribeListenModal=void 0,t.handleActiveInputChanged=function(e){t.props.onActiveInputChanged&&("mobile"!==t.props.mediaQueryType?t.props.onActiveInputChanged(e,t.state.currentCalendarMonth||t.props.fromMonth):t.props.onActiveInputChanged(e,t.props.fromMonth))},t.setCurrentCalendarMonth=function(e){t.setState({currentCalendarMonth:e})},t.handleOuterClick=function(e){t.props.activeInput&&t.containerRef.current&&!t.containerRef.current.contains(e.target)&&setTimeout(t.close)},t.formatInputValue=function(e){return e?(0,f.formatHumanReadableDateWithWeekDay)({date:e,locale:(0,C.getLocale)()}):""},t.close=function(){t.handleActiveInputChanged(),"mobile"===t.props.mediaQueryType&&(0,p.closeModal)(w)},t.handleModalOnOpened=function(e){t.modalRef=e,t.scrollToMonth()},t.scrollToMonth=function(){var e=t.props,a=e.departureValue,r=e.returnValue,n=e.activeInput,i=(0,o.default)(t).modalRef;if(i.current&&(a||r)){var l=a;("departure"===n&&!a&&r||"return"===n&&r)&&(l=r);var s=(0,u.getDatesMonthRange)(t.props.fromMonth,l).length-1,c=i.current.querySelectorAll(".calendar__month")[s];setTimeout((function(){c&&c.scrollIntoView()}),100)}},t.handleDepartureInputClick=function(){t.handleActiveInputChanged("departure"),"mobile"===t.props.mediaQueryType&&(0,p.openModal)(w)},t.handleReturnInputClick=function(){t.handleActiveInputChanged("return"),"mobile"===t.props.mediaQueryType&&(0,p.openModal)(w)},t.handleWithoutReturnClick=function(){t.close(),t.props.onWithoutReturnClick&&t.props.onWithoutReturnClick()},t.handleOnDayClick=function(e){var a=t.props,r=a.onDepartureDateSelect,n=a.onReturnDateSelect,o=a.departureValue,i=a.returnValue,l=a.activeInput;if("departure"===l){if(r(e),i){if(!(e>i))return t.close();setTimeout((function(){return n()}),0)}t.handleActiveInputChanged("return")}if("return"===l){if(n(e),!o)return t.handleActiveInputChanged("departure");if(e<o)return setTimeout((function(){return r()}),0),t.handleActiveInputChanged("departure");t.close()}},t.handleMonthChange=function(e){t.props.onMonthChange&&t.props.onMonthChange(e)},t.handlePrevMonthClick=function(e){t.props.onMonthChange&&t.props.onMonthChange(e,"prev")},t.handleNextMonthClick=function(e){t.props.onMonthChange&&t.props.onMonthChange(e,"next")},t.renderDepartureInput=function(e){var a=t.props,r=a.departureValue,n=a.errors,o=a.departurePlaceholder,i=a.activeInput,s=t.formatInputValue(r),u=(0,y.selectHasExploreWidgets)(g.default);return l.default.createElement(h.default,{type:"departure",active:"departure"===i,value:s,readonly:!0,placeholder:o,onClick:t.handleDepartureInputClick,onClear:u?t.props.onDepartureResetClick:void 0,error:n&&n.departure,ref:e})},t.renderReturnInput=function(e,a){void 0===a&&(a=!0);var r=t.props,n=r.returnValue,o=r.errors,i=r.returnPlaceholder,s=r.activeInput,u=t.formatInputValue(n);return l.default.createElement(h.default,{type:"return",active:"return"===s,value:u,readonly:!0,placeholder:i,onClick:t.handleReturnInputClick,onClear:a?t.props.onReturnResetClick:void 0,error:o&&o.return,ref:e})},t.getCurrentMonth=function(){var e=t.props,a=e.fromMonth,r=e.toMonth,n=e.mediaQueryType,o=e.departureValue,i=t.state.currentCalendarMonth;if("mobile"===n)return a;if(i)return i;if(o&&o instanceof Date){var l=(0,u.addMonths)(r,-1);return o<l?o:l}return a},t}(0,i.default)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this,t=this.props,a=t.departureValue,r=t.returnValue,n=t.onReturnResetClick,o=t.onDepartureResetClick,i=t.activeInput,l=t.mediaQueryType;(0,b.isMonthRange)(a)&&o&&o(),(0,b.isTripDuration)(r)&&n&&n(),this.unsubscribeListenModal=(0,p.listenModalEvent)(p.ModalNotifyEventType.OpenStart,(function(t){t.name!==w||i||e.handleActiveInputChanged("departure")})),"mobile"!==l&&document.addEventListener("mousedown",this.handleOuterClick,{capture:!0})},a.componentWillUnmount=function(){this.unsubscribeListenModal(),"mobile"!==this.props.mediaQueryType&&document.removeEventListener("mousedown",this.handleOuterClick)},a.componentDidUpdate=function(e,t){this.props.activeInput||"mobile"===this.props.mediaQueryType||this.setCurrentCalendarMonth()},a.renderModalInputs=function(){var e=this.props.TRIP_DURATION_MODAL_NAME.visible,t=e?this.props.departureForwardedRef:void 0,a=e?this.props.returnForwardedRef:void 0;return l.default.createElement(l.default.Fragment,null,l.default.createElement("div",{className:(0,P.cn)("modal-fields")},this.renderDepartureInput(t),this.renderReturnInput(a,!1)),l.default.createElement("div",{className:(0,P.cn)("modal-loader")},this.renderLoader()))},a.renderModalFooter=function(){var e=this.props,t=e.clearBtnText,a=e.returnDateIsRequired;return l.default.createElement("div",{className:(0,P.cn)("modal-footer")},!a&&t?l.default.createElement(c.Button,{priority:c.ButtonPriority.Secondary,onClick:this.handleWithoutReturnClick},t):null)},a.renderLoader=function(){return l.default.createElement("div",{className:(0,P.cn)("loader",{"is-animation-started":!0,"is-animation-ended":!this.props.isLoading})})},a.renderContent=function(){var e,t=this.props,a=t.departureValue,r=t.returnValue,n=t.fromMonth,o=t.toMonth,i=t.mediaQueryType,s=t.dropdownHeaderTitle,u=t.returnDateIsRequired,c=t.clearBtnText,d=t.activeInput,p="mobile"===i;return a&&(0,b.isDate)(a)?e={from:a,to:r||a}:r&&(0,b.isDate)(r)&&(e={from:r,to:r}),l.default.createElement("div",{className:(0,P.cn)("wrap")},l.default.createElement("div",{className:(0,P.cn)("content")},!p&&l.default.createElement(v.default,{title:s,onCancelClick:this.handleWithoutReturnClick,clearBtnText:u?void 0:c,isClearbBtnDisabled:"departure"===d&&!this.props.departureValue&&!this.props.returnValue}),l.default.createElement("div",{className:(0,P.cn)("content-body","--calendar")},!p&&this.renderLoader(),l.default.createElement("div",{className:(0,P.cn)("calendar-wrapper")},l.default.createElement(m.default,{fromMonth:n,toMonth:o,currentMonth:this.getCurrentMonth(),onDayClick:this.handleOnDayClick,onMonthChange:this.handleMonthChange,onNextClick:this.handleNextMonthClick,onPreviousClick:this.handlePrevMonthClick,onCurrentMonthChanged:this.setCurrentCalendarMonth,numberOfMonths:p?13:2,selectedDays:e,navbarElement:p?k:void 0,disabledDays:{before:n,after:o},renderDay:this.props.renderCalendarDay||void 0})))))},a.render=function(){var e=this.props,t=e.departureForwardedRef,a=e.returnForwardedRef,r=e.mediaQueryType,o=e.className,i=e.modalTitle,s=(0,P.cn)("dropdown"),u=!!this.props.activeInput,c=this.props.TRIP_DURATION_MODAL_NAME.visible,p=c?void 0:t,f=c?void 0:a;return l.default.createElement("div",{className:(0,P.cn)(null,o),ref:this.containerRef},this.renderDepartureInput(p),this.renderReturnInput(f),"mobile"!==r?l.default.createElement("div",{className:s},u&&this.renderContent()):l.default.createElement(d.Modal,(0,n.default)({className:s,onOpened:this.handleModalOnOpened},this.props.TRIP_DURATION_MODAL_NAME,{onClose:this.close}),l.default.createElement(d.Modal.Header,{title:i}),l.default.createElement("div",{className:(0,P.cn)("popup-inner")},this.renderModalInputs(),this.renderContent(),"return"===this.props.activeInput&&this.renderModalFooter())))},t}(l.default.PureComponent);E.defaultProps={departureValue:void 0,returnValue:void 0};var O=(0,s.withTranslation)("trip_duration")((0,p.withModalBehavior)(w)(E));t.default=O},316606:function(e,t,a){"use strict";var r=a(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.cn=void 0;var n=r(a(114558)),o=r(a(101339)),i=f(a(797972)),l=r(a(225385)),s=f(a(587273)),u=a(818884),c=r(a(589182)),d=r(a(109558));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(p=function(e){return e?a:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var a=p(t);if(a&&a.has(e))return a.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=n?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,a&&a.set(e,r),r}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=(0,l.default)("trip-duration");t.cn=v;var g={mobile:"mobile",mobileLandscape:"mobile",tablet:"tablet",desktop:"desktop"};t.default=function(e){var t=function(){var e=(0,i.useState)(g[s.default.currentMode()||"desktop"]),t=(0,n.default)(e,2),a=t[0],r=t[1];return(0,s.useResizerOnEnter)((function(e){r(g[e])})),a}(),a={activeInput:e.activeInput,onActiveInputChanged:e.onActiveInputChanged,onDepartureDateSelect:e.onDepartureDateSelect,onReturnDateSelect:e.onReturnDateSelect,onReturnResetClick:e.onReturnResetClick,onDepartureResetClick:e.onDepartureResetClick,onWithoutReturnClick:e.onWithoutReturnClick,onMonthChange:e.onMonthChange,fromMonth:e.fromMonth,toMonth:e.toMonth,returnDateIsRequired:e.returnDateIsRequired,departureValue:e.departureValue,returnValue:e.returnValue,errors:e.errors,departurePlaceholder:e.departurePlaceholder,returnPlaceholder:e.returnPlaceholder,departureForwardedRef:e.departureForwardedRef,returnForwardedRef:e.returnForwardedRef,renderCalendarDay:e.renderCalendarDay,dropdownHeaderTitle:e.dropdownHeaderTitle,clearBtnText:e.clearBtnText,className:e.className,priceSwitcherChecked:e.priceSwitcherChecked,isLoading:e.isLoading},r=h(h({},a),{},{departureTabs:e.departureTabs,returnTabs:e.returnTabs,renderMonthPrice:e.renderMonthPrice,onTabChange:e.onTabChange,onMonthsConfirmClick:e.onMonthsConfirmClick,onPriceSwitcherChange:e.onPriceSwitcherChange,onMonthsMount:e.onMonthsMount,rangeDaysDurationBoundaries:e.rangeDaysDurationBoundaries,rangeDaysDurationMin:e.rangeDaysDurationMin,rangeDaysDurationMax:e.rangeDaysDurationMax,showPriceSwitcher:e.showPriceSwitcher,testIds:e.testIds,onComponentDidMount:e.onComponentDidMount,activeForm:e.activeForm}),o=h(h({},a),{},{modalTitle:e.modalTitle,clearBtnTextShort:e.clearBtnTextShort,mediaQueryType:t});return"desktop"!==t||(0,u.isTouchDevice)()?i.default.createElement(d.default,o):i.default.createElement(c.default,r)}},100295:function(e,t){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.validateEmail=t.ValidationErrorType=t.MAX_EMAIL_LENGTH=void 0,t.ValidationErrorType=a,function(e){e.Empty="empty",e.UpToChars="upToChars",e.Invalid="invalid"}(a||(t.ValidationErrorType=a={})),t.MAX_EMAIL_LENGTH=59,t.validateEmail=function(e,t){return void 0===t&&(t=59),e.length?t<e.length?{isValid:!1,errorType:a.UpToChars}:/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)+$/.test(e)?{isValid:!0}:{isValid:!1,errorType:a.Invalid}:{isValid:!1,errorType:a.Empty}}},292538:function(e,t,a){"use strict";a.r(t)},621400:function(e,t,a){"use strict";a.r(t)},635240:function(e,t,a){"use strict";a.r(t)},265471:function(e,t,a){"use strict";a.r(t)},248529:function(e,t,a){"use strict";a.r(t),t.default={root:"EZXu0YM9GFJ4Fa2hckcp"}},934010:function(e,t,a){"use strict";a.r(t),t.default={root:"G4iFx4myfRLtd_4CFFgY",title:"rXFPev7QeBYEI_tYVGkm",emoji:"FFxzNk09dMcRgcrv301Q",content:"kDxvrb2D6hPwYCZR1qEA",followLink:"z4w3uSlZ0ZAH2XQzdgSa",followLinkIcon:"gupoxWu03NjfWcPtY2lG",appearActive:"AG2VyeeAOtw35mBs3pcF",bounceInRight:"AqWJmJUH1_9h79c3tIzU",enterActive:"Fiwjozn1UdAsFCdHe24i",enterDone:"b1C8xZoL1sPCKKqiDY1W"}},713517:function(e,t,a){"use strict";a.r(t),t.default={dialogContent:"Z1sQr4ScA2XINawJErsf",dialogDescription:"icZx9S3jNeBeNiE2Bbmy",dialogActions:"fM0w7_sPMl7Pz2ZVT4V2"}},436917:function(e,t,a){"use strict";a.r(t)},342330:function(e,t,a){"use strict";a.r(t)},33045:function(e,t,a){"use strict";a.r(t)},780756:function(e,t,a){"use strict";a.r(t)},415899:function(e,t,a){"use strict";a.r(t)},912714:function(e,t,a){"use strict";a.r(t)},436302:function(e,t,a){"use strict";a.r(t)},776281:function(e,t,a){"use strict";a.r(t)},358251:function(e,t,a){"use strict";a.r(t)},471930:function(e,t,a){"use strict";a.r(t),t.default={container:"diolUfpFFNFtI9AcXwzl",aboutCashback:"IMFK2VuUkubGxZT7Pb5d"}},38123:function(e,t,a){"use strict";a.r(t),t.default={subscribeButton:"RPy16ksT5_artN2TQE3r"}},725308:function(e,t,a){"use strict";a.r(t)},623764:function(e,t,a){"use strict";a.r(t)},821221:function(e,t,a){"use strict";a.r(t)},705477:function(e,t,a){"use strict";a.r(t),t.default={wrap:"Pmq1YIsJLXM_Q6jPLSkk",title:"QIKeGamC1nqS55zBzEfD",subtitle:"M4rZ6cB9uazbq4r8CjMG",subtitleBlack:"TIUUrELXe2Da26brJ7cD",subtitleGray:"R6sZXyUBtx4DFeX5AKrk"}},267290:function(e,t,a){"use strict";a.r(t),t.default={loginPopup:"jLtpf48o_0HKeISTNXy5"}},64951:function(e,t,a){"use strict";a.r(t)},103030:function(e,t,a){"use strict";a.r(t)},566412:function(e,t,a){"use strict";a.r(t)},123539:function(e,t,a){"use strict";a.r(t)},224892:function(e,t,a){"use strict";a.r(t),t.default={root:"kgK093QeMx65hmEEYnYS"}},543289:function(e,t,a){"use strict";a.r(t)},162209:function(e,t,a){"use strict";a.r(t)},636798:function(e,t,a){"use strict";a.r(t)},916898:function(e,t,a){"use strict";a.r(t)},650238:function(e,t,a){"use strict";a.r(t)},931692:function(e,t,a){"use strict";a.r(t)},482244:function(e,t,a){"use strict";a.r(t)},551005:function(e,t,a){"use strict";a.r(t)},668359:function(e,t,a){"use strict";a.r(t)},425737:function(e,t,a){"use strict";a.r(t),t.default={root:"Yk8sK2WqeF8j1XBkqZFr",text:"KQDy0g9vqyde9QfPqdQg","right-icon":"aCznHomXcQlxldle5_gO",chevron:"mHIx04lSxvdPGa13csTp"}},13176:function(e,t,a){"use strict";a.r(t),t.default={root:"aUo73a4xo9FzYLL0URRo"}},127194:function(e,t,a){"use strict";a.r(t)},339136:function(e,t,a){"use strict";a.r(t)},547059:function(e,t,a){"use strict";a.r(t)},752371:function(e,t,a){"use strict";a.r(t)},936462:function(e,t,a){"use strict";a.r(t)},467265:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M0 15.25V19h3.75L14.81 7.94l-3.75-3.75L0 15.25zM17.71 5.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z" fill="#2196F3"/> </svg>'}},this.props);return r.createElement("span",e)}})},215890:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="13" height="6" viewBox="0 0 13 6" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M3 4V6L0 3L3 0V2H13V4H3Z"/> </svg>'}},this.props);return r.createElement("span",e)}})},280644:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="17" height="16" viewBox="0 0 17 16" xmlns="http://www.w3.org/2000/svg"> <path d="M13.698 11.131l-3.482-6.813a2.5 2.5 0 1 0-3.391.038L3.29 11.127A2.5 2.5 0 1 0 4.95 14h7.1a2.5 2.5 0 1 0 1.648-2.869zM8.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-6 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm12 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm-1.647-3.38L9.45 4.812a2.493 2.493 0 0 1-1.77.05l-3.573 6.722c.424.356.729.851.843 1.415h7.1c.11-.546.4-1.027.803-1.38z" fill="currentColor" fill-rule="evenodd" /> </svg>'}},this.props);return r.createElement("span",e)}})},165299:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="101" height="100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><linearGradient x1="26.889%" y1="11.589%" x2="75.475%" y2="111.413%" id="a"><stop stop-color="#BFE8FE" offset="0%"/><stop stop-color="#46AAFA" offset="35.866%"/><stop stop-color="#033A82" offset="100%"/></linearGradient><ellipse id="b" cx="50" cy="49.505" rx="50" ry="49.505"/><linearGradient x1="107.459%" y1="-19.449%" x2="81.137%" y2="130.489%" id="d"><stop stop-color="#FFF" offset="0%"/><stop stop-color="#EFAF67" offset="100%"/></linearGradient><linearGradient x1="50%" y1="65.784%" x2="85.072%" y2="8.465%" id="f"><stop stop-color="#2196F3" stop-opacity="0" offset="0%"/><stop stop-color="#5BB6FF" offset="100%"/></linearGradient><path d="M16.522 0v20.835H2.202A2.202 2.202 0 0 1 0 18.633V2.203C0 .985.986 0 2.202 0h14.32z" id="e"/></defs><g transform="translate(.061 .012)" fill="none" fill-rule="evenodd"><ellipse fill="url(#a)" cx="50" cy="49.505" rx="50" ry="49.505"/><path d="M77.999 64.353l1.09-.153a2.867 2.867 0 0 1 3.244 2.433l1.366 9.713a2.867 2.867 0 0 1-2.448 3.233l-13.415 1.885a1.229 1.229 0 0 0-1.39-1.042 1.229 1.229 0 0 0-1.049 1.385l-8.13 1.143a2.867 2.867 0 0 1-3.244-2.433l-1.365-9.713a2.867 2.867 0 0 1 2.447-3.233l1.188-.167-3.182-.707c-2.447.52-4.51.829-6.187.927-2.516.147-1.132-2.257-.707-2.818-1.282.894-4.774 1.702-6.316 1.148-1.542-.554.462-3.038 1.345-3.647-1.858.694-5.585 3.027-5.73.15-.145-2.878 13.733-16.283 16.485-8.6 2.751 7.682 5.05 10.57 7.021 13l.018.16 4.196-.589a1.23 1.23 0 0 0 1.39 1.043 1.229 1.229 0 0 0 1.049-1.386l9.577-1.346a3.872 3.872 0 0 1-.027-.16c1.225-2.878 2.638-6.288 3.166-14.432.528-8.143 17.562.918 18.216 3.724.654 2.805-3.572 1.59-5.549 1.435 1.017.343 3.628 2.178 2.298 3.136-1.329.957-4.909 1.143-6.387.637.563.422 2.556 2.35.096 2.903-1.64.368-3.707.64-6.202.815L78 64.353z" fill="#155CAB"/><g transform="translate(0 .04)"><mask id="c" fill="#fff"><use xlink:href="#b"/></mask><g mask="url(#c)"><g transform="rotate(-60 84.03 54.342)"><g transform="rotate(28 18.985 81.677)" fill="#CE8D75"><path d="M0 0h18.607v4.306L2.013 3.774z"/><ellipse cx="18.441" cy="2.153" rx="2.16" ry="2.153"/><path d="M18.274 0H20.6v2.65h-2.326z"/></g><path d="M60.9 9.32a2.16 2.16 0 0 1-2.876.813l-.025.08-17.793-5.44 1.259-4.12 17.769 5.433c.09.008.18.023.27.043l.003-.007 2.224.68-.775 2.534-.055-.017z" fill="#F1B8A4"/><path d="M46.234 5.634a2.82 2.82 0 0 0-2.708 2.813c0 .94.462 1.772 1.172 2.283l-.49 1.195-13.47-.663V0h13.085l2.411 5.634z" fill="#F6C6B4"/><path fill="#F6C6B4" d="M42.197 0h18.607v4.306L41.533 5.962z"/><ellipse fill="#F6C6B4" cx="60.638" cy="2.153" rx="2.16" ry="2.153"/><path fill="#F6C6B4" d="M60.472 0h2.326v2.65h-2.326z"/><path d="M3.987 0h28.907v15.249a1.986 1.986 0 0 1-1.987 1.976H3.987V0z" fill="url(#d)"/><path d="M0 0h28.907v15.249a1.986 1.986 0 0 1-1.987 1.976H0V0z" fill="#EFAF67"/><g transform="rotate(-9 61.876 -217.697)" fill="#F6C6B4"><path d="M.12 3.736l10.093 11.388 1.668-1.17.406-3.075-4.212-7.796z"/><ellipse transform="scale(1 -1) rotate(-59 -10.928 0)" cx="10.638" cy="12.202" rx="2.16" ry="2.153"/></g></g></g><g mask="url(#c)"><g transform="scale(-1 1) rotate(-60 34.465 140.193)"><g transform="rotate(28 18.985 81.677)" fill="#CE8D75"><path d="M0 0h18.607v4.306L2.013 3.774z"/><ellipse cx="18.441" cy="2.153" rx="2.16" ry="2.153"/><path d="M18.274 0H20.6v2.65h-2.326z"/></g><path d="M60.9 9.32a2.16 2.16 0 0 1-2.876.813l-.025.08-17.793-5.44 1.259-4.12 17.769 5.433c.09.008.18.023.27.043l.003-.007 2.224.68-.775 2.534-.055-.017z" fill="#F1B8A4"/><path d="M46.234 5.634a2.82 2.82 0 0 0-2.708 2.813c0 .94.462 1.772 1.172 2.283l-.49 1.195-13.47-.663V0h13.085l2.411 5.634z" fill="#F6C6B4"/><path fill="#F6C6B4" d="M42.197 0h18.607v4.306L41.533 5.962z"/><ellipse fill="#F6C6B4" cx="60.638" cy="2.153" rx="2.16" ry="2.153"/><path fill="#F6C6B4" d="M60.472 0h2.326v2.65h-2.326z"/><path d="M3.987 0h28.907v15.249a1.986 1.986 0 0 1-1.987 1.976H3.987V0z" fill="#EFAF67"/><path d="M0 0h28.907v15.249a1.986 1.986 0 0 1-1.987 1.976H0V0z" fill="#FE773C"/><g transform="rotate(-9 61.876 -217.697)" fill="#F6C6B4"><path d="M.12 3.736l10.093 11.388 1.668-1.17.406-3.075-4.212-7.796z"/><ellipse transform="scale(1 -1) rotate(-59 -10.928 0)" cx="10.638" cy="12.202" rx="2.16" ry="2.153"/></g></g></g><g mask="url(#c)"><path d="M52.851 10.615l.848.03a2.161 2.161 0 0 1 2.09 2.232l-.262 7.399a2.167 2.167 0 0 1-2.244 2.084l-10.217-.352a.926.926 0 0 0-.896-.957.929.929 0 0 0-.962.893l-6.193-.213a2.161 2.161 0 0 1-2.09-2.232l.262-7.399a2.167 2.167 0 0 1 2.244-2.084l.921.032-2.295-.947c-1.887.068-3.46.03-4.72-.114-1.89-.218-.544-1.824-.154-2.186-1.071.498-3.774.645-4.847.034-1.072-.612.746-2.198 1.483-2.537-1.473.275-4.553 1.525-4.28-.632.274-2.157 12.364-10.32 13.393-4.253s2.355 8.512 3.499 10.574l-.01.132 3.202.11a.926.926 0 0 0 .896.957.929.929 0 0 0 .962-.893l7.301.251v-.133c1.287-1.977 2.783-4.326 4.24-10.307C56.476-5.877 67.96 3.095 68.08 5.266c.12 2.171-2.864.712-4.314.337.712.388 2.413 2.095 1.3 2.632-1.114.537-3.8.204-4.833-.366.363.387 1.593 2.082-.308 2.17-1.267.057-2.84-.013-4.718-.21l-2.356.786z" fill="#75C2FB"/><path d="M37.018 15.396h-.057c-.208-.26-.45-.541-.599-.748a.318.318 0 0 0-.258-.144h-.014c-.046-.004-.083.003-.081.05l.173.991c-.144.052-.25.115-.256.19l.001.018a.063.063 0 0 0-.003.017c-.006.075.091.153.227.224l-.31.957c-.009.047.027.059.074.062l.014.001a.317.317 0 0 0 .275-.106c.175-.184.455-.429.697-.658a.553.553 0 0 0 .057.01l1.473.102-.708 2.364c-.02.123.058.156.162.164l.03.002c.067.004.132-.038.165-.11l1.759-2.322 1.405.099c.145.01.685-.14.701-.368v-.017l.003-.017c.016-.228-.499-.451-.643-.461l-1.406-.099-1.418-2.544c-.024-.075-.081-.127-.149-.132l-.03-.002c-.103-.007-.186.014-.183.14l.373 2.44-1.474-.103z" fill="#4FAEFA"/></g><g mask="url(#c)"><path d="M70.305 21.482c2.387-4.002 6.595-7.257 6.611-19.92.017-12.661 25.645 5.072 26.036 9.364.392 4.292-5.577 1.599-8.453.952 1.426.722 4.892 3.99 2.742 5.127-2.15 1.137-12.624 1.08-14.697.02.743.743 5.562 3.52 2.443 3.524-2.08.003-4.608-.42-7.584-1.269l-5.325 2.93c-1.16 1.296-1.751 1.053-1.773-.728z" fill="#FFF"/><path d="M40.88 31.328c-2.814-1.445-7.149-.7-11.505-4.371-2.061-1.738-4.375-4.583-7.07-7.422-8.392-8.84-17.892 16.155-15.95 20.002 1.943 3.847 5.578-1.6 7.674-3.672-.827 1.368-2.034 5.977.391 5.801 2.426-.175 6.667-3.394 7.863-5.392-.236 1.024-.653 5.148 2.668 3.424 2.214-1.149 4.82-2.82 7.82-5.01l6.77-1.37c1.817.195 2.263-.468 1.338-1.99z" fill="#B7E4FE"/><path d="M37.392 30.65c-4.537-1.837-12.357-7.708-15.952-13.55-3.595-5.845-17.613 15.845-13.18 15.84 4.434-.005 9.708-7.42 8.754-5.297-.953 2.124-3.582 5.573-1.557 5.784 2.025.21 6.186-2.073 7.966-3.846 1.78-1.773-2.836 3.128-.993 3.341 1.228.142 3.125-.402 5.692-1.632l8.073.636c.838-.252 1.237-.678 1.196-1.277zM49.555 25.968l21.737-6.307a2.202 2.202 0 0 1 2.73 1.508l4.524 15.775a2.202 2.202 0 0 1-1.522 2.728l-25.705 7.212a2.202 2.202 0 0 1-2.796-2.047l-.556-16.68a2.202 2.202 0 0 1 1.588-2.189z" fill="#FFF"/><g transform="rotate(-16 124.567 -108.629)"><use fill="#2196F3" xlink:href="#e"/><use fill="url(#f)" xlink:href="#e"/></g><path d="M43.356 37.742a.841.841 0 0 0-.088.033c-.468-.286-1-.583-1.344-.819a.522.522 0 0 0-.48-.077l-.02.006c-.075.022-.128.054-.098.125l.824 1.432c-.193.16-.323.318-.288.438.002.01.006.017.011.026 0 .01.002.02.004.027.034.12.228.186.477.219l.06 1.651c.012.076.074.075.148.054l.022-.006a.521.521 0 0 0 .365-.318c.167-.383.46-.918.706-1.408a.908.908 0 0 0 .093-.017l2.331-.669.235 4.045c.037.203.177.21.341.162l.048-.014c.106-.03.182-.132.194-.262l1.409-4.57 2.224-.637c.229-.066.979-.601.875-.962a.203.203 0 0 0-.01-.025.147.147 0 0 0-.005-.029c-.103-.36-1.023-.416-1.251-.35l-2.225.638-3.616-3.13c-.08-.103-.198-.15-.304-.12l-.048.014c-.164.047-.28.126-.204.318l1.945 3.556-2.33.669z" fill="#FFF"/><path fill="#C7EBFF" d="M55.413 28.2l14.294-4.1.756 2.635-14.294 4.099zm1.36 4.744l14.294-4.099 2.267 7.905-14.294 4.1z"/></g></g></g></svg>'}},this.props);return r.createElement("span",e)}})},841620:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M6 0.5H8L13 8.5H18.5C19.33 8.5 20 9.17 20 10C20 10.83 19.33 11.5 18.5 11.5H13L8 19.5H6L8.5 11.5H3L1.5 13.5H0L1 10L0 6.5H1.5L3 8.5L8.5 8.5L6 0.5Z" fill="#A0B0B9"/> </svg>'}},this.props);return r.createElement("span",e)}})},423206:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg width="6" height="9" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 4l1-1-3-3-3 3 1 1 2-2 2 2zM1 5L0 6l3 3 3-3-1-1-2 2-2-2z" fill="currentColor"/></svg>'}},this.props);return r.createElement("span",e)}})},802038:function(e,t,a){var r=a(797972),n=a(650047);e.exports=n({displayName:"svg-icon",render:function(){var e=Object.assign({},{className:"{% className %}",dangerouslySetInnerHTML:{__html:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 9 14"><path fill="currentColor" d="M1.8 0L0 1.75 5.4 7 0 12.25 1.8 14 9 7 1.8 0z"/></svg>'}},this.props);return r.createElement("span",e)}})},816663:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/all_cards_light-85ed566825cf3868d139..svg"},710307:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/all_cards_night-839191704ab16142701c..svg"},500199:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/mir_card_light-ac6ffcccad20924fe16a..svg"},987138:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/mir_card_night-9d0a4a27da31b413ee27..svg"},400559:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/mir_with_ww_cards_light-bb1d4550492ef7c565ae..svg"},880251:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/mir_with_ww_cards_night-30c7591fcdd8f2cbacbc..svg"},812931:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/ru_card_light-4be72fad5afb7d7128e9..svg"},817910:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/ru_card_night-70abf0a1f5e7803b40ef..svg"},387511:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/ww_card_light-bcf0a9ca404f47d724dc..svg"},626924:function(e,t,a){"use strict";e.exports=a.p+"helios-assets/ww_card_night-2870914ae63ea6ad9df6..svg"}},function(e){e.O(0,[74,4739,5701,9357,4393,9489,6726,5283,1418,7600,1259,2627,2039,5806,4318,9187,1598,9957,3982,2778,4596,9711,1875,2918],(function(){return 414977,e(e.s=414977)})),e.O()}]);