"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6863],{551:function(e,t,a){a.r(t),a.d(t,{publicApi:function(){return Ae}});var o=a(34943),u=a(63246),r=a(52172),s=a(9212),n=a(92549),d=a(1015),c=a(6823),i=a(82097),l=a(68405),p=a(51081),y=a(10924),m=a(23190),f=a(53788),g=a(36812);const _=y.I.inputs.createReporter({data:{service:p.Service.Premium},payload:{pageName:m.D.outputs.$pathname,market:f.D.outputs.$market,platform:"web"}});y.I.inputs.commonField({name:"premiumStateId",source:g.b.outputs.$premiumStatus.map((e=>(null==e?void 0:e.premium_state_id)??null))});const h=(0,o.nu)(l.E.outputs.landingInfo.promocodePricingReceived.map((e=>null==e?void 0:e.type)),null,{sid:"-eftcn1"}),k=(0,i.f)(h,"referral"),P=(0,o.$e)({and:[k,s.X.outputs.$entryPoint,(e,t)=>e?"referral":t||"no_context"],or:{sid:"-izz5df"}}),b=["/more","/plus","/cashback"],S=m.D.outputs.$pathname.map((e=>b.includes(e)?"no_context":"inproduct"));var v=a(81323);const E=m.D.outputs.$searchParams.map((e=>e.get("purchase_action_button"))),w=(0,o.UP)({and:[{clock:E,filter:Boolean}],or:{sid:"kmx7qi"}}),C=(0,o.TS)([v.S.outputs.ctaButtonClicked,w],{sid:"-tbmiln"}),$=(0,o.nu)(C,null,{sid:"m13j85"});var U=a(47480),I=a(17433);const T=(0,o.GW)(U.x0,{sid:"-7igmn0"}),R=(0,o.nu)(T,null,{sid:"-sbmoef"});(0,o.UP)({and:[{clock:[I.o.inputs.bankCardPurchaseSubmitted,I.o.inputs.freePromocodePurchaseSubmitted,I.o.inputs.applePayPurchaseSubmitted,I.o.inputs.googlePayPurchaseSubmitted],target:T}],or:{sid:"-hzk28e"}});const D=(0,o.MT)(null,{sid:"-gt1211"}).on(I.o.inputs.bankCardPurchaseSubmitted,(()=>"bank_card")).on(I.o.inputs.applePayPurchaseSubmitted,(()=>"apple_pay")).on(I.o.inputs.googlePayPurchaseSubmitted,(()=>"google_pay"));var O=a(10543);const x=O.C.outputs.$offersList.map((e=>e.map((e=>e.id))));var A=a(32053);const V=m.D.outputs.$searchParams.map((e=>e.get("order_id"))),j=(0,o.TS)([l.E.outputs.pay.bankCardResult.success,l.E.outputs.pay.freePromocodeResult.success,l.E.outputs.pay.applePayResult.success,l.E.outputs.pay.googlePayResult.success,l.E.outputs.buyPromocode.receivedSuccess,l.E.outputs.actualizeStatus.paymentCompletedSuccessfully,A.x.outputs.threeDsCompletedSuccessfully],{sid:"7d02nl"}),B=(0,o.TS)([l.E.outputs.pay.bankCardResult.threeDs,l.E.outputs.pay.googlePayResult.threeDs,l.E.outputs.buyPromocode.receivedThreeDs],{sid:"gag88"}),F=(0,o.TS)([l.E.outputs.pay.bankCardResult.threeDsV2,l.E.outputs.pay.googlePayResult.threeDsV2],{sid:"-gr17ld"}),z=(0,o.TS)([l.E.outputs.pay.bankCardResult.alreadyActive,l.E.outputs.pay.freePromocodeResult.alreadyActive,l.E.outputs.pay.applePayResult.alreadyActive,l.E.outputs.pay.googlePayResult.alreadyActive],{sid:"8t7loc"}),q=(0,o.TS)([l.E.outputs.pay.bankCardResult.error,l.E.outputs.pay.freePromocodeResult.error,l.E.outputs.pay.applePayResult.error,l.E.outputs.pay.googlePayResult.error,l.E.outputs.buyPromocode.receivedPayError],{sid:"srbgqw"}),L=(0,o.TS)([(0,o.UP)({and:[{clock:[j,z,q],fn:e=>{let{orderId:t}=e;return t}}],or:{sid:"3llsq2"}}),(0,o.UP)({and:[{clock:B,fn:e=>{let{threeDsInfo:t}=e;return t.orderId}}],or:{sid:"3zcnk3"}}),(0,o.UP)({and:[{clock:F,fn:e=>{let{threeDsV2Info:t}=e;return t.orderId}}],or:{sid:"41jtxj"}})],{sid:"-uxi01v"}),M=(0,o.UP)({and:[{clock:V,filter:Boolean}],or:{sid:"ogb33"}}),G=(0,o.TS)([L,M],{sid:"-lv8wih"}),H=(0,o.nu)(G,null,{sid:"-ob1q8i"});var N=a(43285);const K=(0,o.TS)([N.V.inputs.inProductPurchase.goToSuccess,N.V.inputs.standalonePurchase.goToSuccess,N.V.inputs.paymentStatus.goToSuccess],{sid:"-sbj17l"});var W=a(80911);const X=(0,o.$e)({and:[m.D.outputs.$pathname,W.l.outputs.$links,(e,t)=>{let{premiumProfilePage:a}=t;return e===a?"profile":null}],or:{sid:"mkzkhw"}});var J;!function(e){e.Success="success",e.Failed="failed",e.Started="started",e.Submit="submit",e.AddNew="add_new",e.Added="added",e.Removed="removed",e.Invalid="invalid",e.Opened="opened",e.FilterApplied="filter_applied",e.Interacted="interacted",e.RedirectStarted="redirect_started",e.Showed="showed",e.Shown="shown",e.Viewed="viewed",e.Shared="shared",e.Created="created",e.Chosen="chosen"}(J||(J={}));const{landingSettingsReceived:Q}=l.E.outputs.landingInfo;_({clock:l.E.outputs.landingInfo.landingSettingsReceived,data:{category:"premium_purchase",label:"landing",action:J.Opened},payload:{blocks_order:e=>e.blocksOrder,source:P,landing:S,referral:(0,i.f)(P,"referral"),userEvent:!1}}),_({clock:v.S.outputs.ctaButtonClicked,data:{category:"premium_purchase",label:"purchase",action:J.Started},payload:{purchase_action_button:$,landing:S,source:P,user_event:!0,paywall:null}});var Y=a(46488),Z=a.n(Y);const ee=(0,o.UP)({and:[{clock:v.S.outputs.buyAsGiftFeatureViewed,fn:()=>"gift"}],or:{sid:"aa2nbr"}});_({clock:(0,o.TS)([v.S.outputs.featureViewed,ee],{sid:"-omjqs2"}),data:{category:"premium_purchase",label:"feature",action:J.Viewed},payload:{feature:Z(),source:P,landing:S,userEvent:!0}}),_({clock:v.S.outputs.dialogueInteracted,data:{category:"premium_purchase",label:"landing_dialogues",action:J.Interacted},payload:{dialogue_id:Z(),source:P,landing:S,userEvent:!0}});const{playerInteracted:te}=v.S.outputs;_({clock:te,data:{category:"premium_purchase",label:"landing_guides",action:J.Interacted},payload:{landing:S,guide_id:e=>{let{id:t}=e;return t},start_time:e=>{let{startTime:t}=e;return t},source:P,userEvent:!0}}),_({clock:O.C.outputs.offerCardClicked,data:{category:"premium_purchase",label:"offer",action:J.Chosen},payload:{offers_available:x,offer_id:O.C.outputs.$selectedOfferId,user_event:!0}});var ae=a(57790),oe=a(96859),ue=a(2180),re=a(12358);const se=(0,o.$e)({and:[oe.l.outputs.$shouldShowButton,ue.F.$shouldShowButton,(e,t)=>{const a=["bank_card"];return e&&a.push("apple_pay"),t&&a.push("google_pay"),a}],or:{sid:"-x29t98"}}),ne=(0,o.UP)({and:[{clock:N.V.inputs.inProductPurchase.goToPurchaseForm,filter:ae.o.outputs.$isInproductPurchaseVisible}],or:{sid:"-yojpbk"}}),de=(0,o.UP)({and:[{clock:N.V.inputs.inModalPurchase.goToPurchaseForm,filter:re.F.outputs.$visible}],or:{sid:"ls0pnv"}}),ce=(0,o.UP)({and:[{clock:m.D.outputs.$pathname,source:W.l.outputs.$links,filter:(e,t)=>{let{paymentPage:a}=e;return t===a}}],or:{sid:"b506ba"}});_({clock:(0,o.TS)([ne,de,ce],{sid:"te8ohc"}),data:{category:"premium_purchase",label:"payment",action:J.Opened},payload:{offers_available:x,offer_id:O.C.outputs.$selectedOfferId,user_event:!1,landing:S,payment_methods:se,paywall:null}}),_({clock:v.S.outputs.ctaClickedInFreeMarketsMode,data:{category:"premium",label:"auth",action:J.Started},payload:{purchase_action_button:$,source:P,landing:S,userEvent:!0}});var ie=a(72675),le=a(61863),pe=a(65620);_({clock:(0,o.UP)({and:[{clock:pe.O.inputs.userLoggedIn,filter:(0,ie.x)((0,i.f)(v.S.outputs.$landingMode,le.jo.FreeMarkets),pe.O.outputs.$isUserAuthorized)}],or:{sid:"-qkryu4"}}),data:{category:"premium",label:"auth",action:J.Success},payload:{purchase_action_button:$,source:P,landing:S,userEvent:!1}});var ye=a(45406),me=a(80849);const fe=ye.E.outputs.$type.map((e=>{var t;return(null==e||null===(t=e.card)||void 0===t?void 0:t.type)??null}));_({clock:(0,o.TS)([I.o.outputs.bankCardStarted,I.o.outputs.applePayStarted,I.o.outputs.googlePayStarted],{sid:"fmj5c3"}),data:{category:"premium_purchase",label:"payment",action:J.Started},payload:{device_payment_id:R,payment_method:D,payment_system:fe,offer_id:O.C.outputs.$selectedOfferId,tier_id:O.C.outputs.$tierId,promocode:me.w.outputs.$verifiedPromocode,source:P,purchase_action_button:$,landing:S,user_event:!0,paywall:null}}),_({clock:G,data:{category:"premium_purchase",label:"order",action:J.Created},payload:{device_payment_id:R,order_id:H,userEvent:!1}}),_({clock:K,data:{category:"premium_purchase",label:"payment",action:J.Success},payload:{device_payment_id:R,order_id:H,purchase_action_button:$,landing:S,offer_id:O.C.outputs.$selectedOfferId,paywall:null,userEvent:!1}}),_({clock:(0,o.TS)([l.E.outputs.renew.subscriptionSuccessfulyRenewed,re.F.outputs.purchaseCompletedSuccessfully],{sid:"-s2tu28"}),data:{category:"premium_purchase",label:"payment",action:J.Success},payload:{source:"profile_renew",device_payment_id:R,order_id:H,offer_id:O.C.outputs.$selectedOfferId,paywall:null,userEvent:!1}});var ge=a(78373);const _e=(0,o.UP)({and:[{clock:ge.k.inputs.showExpiredCashbackPaywall,fn:()=>le.Oe.ExpiredCashback}],or:{sid:"3y6rr"}}),he=(0,o.UP)({and:[{clock:ge.k.inputs.showExpiredProfilePaywall,fn:()=>le.Oe.ExpiredProfile}],or:{sid:"-5nk1hf"}}),ke=(0,o.UP)({and:[{clock:ge.k.inputs.showExpiredTrapPaywall,fn:()=>le.Oe.ExpiredTrap}],or:{sid:"-jmvzjn"}});_({clock:(0,o.TS)([_e,he,ke],{sid:"qaagn"}),data:{category:"premium_purchase",label:"paywall",action:J.Shown},payload:e=>({userEvent:e!==le.Oe.ExpiredProfile,paywall:e})});var Pe=a(94730),be=a(97047);_({clock:(0,o.TS)([Pe.G.outputs.sharedSuccessfully,be.t.outputs.copiedSuccessfully],{sid:"-f46l3d"}),data:{category:"premium",label:"referral_link",action:J.Shared},payload:{userEvent:!0,source:X}});var Se=a(79403),ve=a(39018);const{playerInteracted:Ee,ctaButtonClicked:we,dialogueOpened:Ce}=v.S.outputs,{applePayPurchaseSubmitted:$e,googlePayPurchaseSubmitted:Ue,bankCardPurchaseSubmitted:Ie}=I.o.inputs,{applePayStarted:Te,googlePayStarted:Re,bankCardStarted:De}=I.o.outputs;(0,o.UP)({and:[{clock:Ee,fn:()=>({type:"click_walks"}),target:ve.n.inputs.sendEvent}],or:{sid:"-ivqruc"}}),(0,o.UP)({and:[{clock:K,filter:Se.U.outputs.$isWayAwayBrand,fn:()=>({type:"plus_purchase"}),target:ve.n.inputs.sendEvent}],or:{sid:"-isg0a6"}}),(0,o.UP)({and:[{clock:ye.E.inputs.submitButtonClicked,fn:()=>({type:"click_buy_button"}),target:ve.n.inputs.sendEvent}],or:{sid:"-id1ro2"}}),(0,o.UP)({and:[{clock:we,fn:()=>({type:"click_more"}),target:ve.n.inputs.sendEvent}],or:{sid:"-hy7bnb"}}),(0,o.UP)({and:[{clock:Ce,fn:()=>({type:"click_support"}),target:ve.n.inputs.sendEvent}],or:{sid:"-huwk35"}}),(0,o.UP)({and:[{clock:[$e,Ue,Ie],fn:()=>({type:"click_buy_button"}),target:ve.n.inputs.sendEvent}],or:{sid:"-hg242e"}}),(0,o.UP)({and:[{clock:[De,Te,Re],fn:()=>({type:"submit_form_purchase"}),target:ve.n.inputs.sendEvent}],or:{sid:"-gz0ho7"}}),(0,c.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/premium/services/analytics/index.ts",api:{}});const Oe=(0,o.yM)({sid:"-4gen2j"}),xe=(0,o.UP)({and:[{clock:Oe,filter:u.y.outputs.$isClient}],or:{sid:"-cg4n2n"}});(0,o.UP)({and:[{clock:xe,target:[r.r.inputs.init,s.X.inputs.init,n.T.inputs.init,d.H.inputs.init]}],or:{sid:"-7ng8x8"}});const Ae={widgetStarted:Oe}},32751:function(e,t,a){a.r(t),a.d(t,{PremiumHeadless:function(){return o}});const o=()=>null}}]);