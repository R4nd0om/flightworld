"use strict";(self.webpackChunkhelios=self.webpackChunkhelios||[]).push([[3982],{735417:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.convertErrorResponse=function(e,t){if(t&&a.default.isCancel(e))return{status:"cancel_error",error:e};var r=e.response,n=e.config,o=n?{url:n.url,data:n.data}:null,u={statusCode:0,data:null};return r&&(u={statusCode:r.status,data:r.data},!r.data&&r.request&&r.request.response&&(u.data=r.request.response)),u.statusCode===s.ErrorStatuses.Cloudflare?{status:"cloudflare_error",error:{}}:u.statusCode===s.ErrorStatuses.Network?{status:"network_error",error:{}}:{status:"unhandled error",error:{message:"unhandled error",response:u,request:o}}};var a=n(r(10520)),s=r(288779)},311732:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"convertErrorResponse",{enumerable:!0,get:function(){return n.convertErrorResponse}});var n=r(735417)},365348:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"convertErrorResponse",{enumerable:!0,get:function(){return a.convertErrorResponse}}),Object.defineProperty(t,"setupTransformResponse",{enumerable:!0,get:function(){return n.setupTransformResponse}});var n=r(277833),a=r(311732)},277833:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"setupTransformResponse",{enumerable:!0,get:function(){return n.setupTransformResponse}});var n=r(22646)},22646:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.setupTransformResponse=void 0;var n=r(976145),a=r(865907);t.setupTransformResponse=function(e,t){var r={status:"unhandled error"};try{r=JSON.parse(e)}catch(t){return(0,n.setConsoleMessage)({typeConsoleMessage:n.TypeConsoleMessage.Error,messages:{main:e}}),r}return(0,a.convertToCamelCase)(r,t)}},99383:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.assistedPremiumApi=void 0;var a=n(r(385882)),s=n(r(971410)),o=n(r(10520)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(830973)),i=n(r(721193)),c=r(776384),l=r(139375),d=r(865907),f=r(565569),p=r(542200),v=r(365348);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var m="https://delta-testing."+f.API_HOST+"/subscriptions/v1",g="https://www."+f.API_HOST+"/search-api/subscriptions/v1",b=c.isProd?g:m,_=new function(){var e=this;this.platform="web",this.lang=(0,l.getLang)()||"ru",this.headers={"Content-Type":"application/json"},this.axios=void 0,this.updateJWT=function(t){t&&e.headers.Authorization!=="Bearer "+t&&(e.headers.Authorization="Bearer "+t)},this.pay=function(){var t=(0,s.default)(a.default.mark((function t(r){var n,s,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.bodyParams,s=r.queryParams,t.prev=1,t.next=4,e.axios({url:p.PremiumApiEndPoint.Pay,method:"post",data:n,params:s});case 4:return o=t.sent,t.abrupt("return",o.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",(0,v.convertErrorResponse)(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),this.payStatus=function(){var t=(0,s.default)(a.default.mark((function t(r){var n;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios({url:p.PremiumApiEndPoint.Status,method:"get",params:{platform:e.platform,locale:e.lang,orderId:r}});case 3:return n=t.sent,t.abrupt("return",n.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",(0,v.convertErrorResponse)(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}();var t=o.default.create();t.defaults.transformResponse=[function(e){return(0,v.setupTransformResponse)(e,["three_ds_info.acs_params","three_ds_info.forter_acs_params","three_ds_2_info.three_ds_2_params"])}],t.defaults.transformRequest=[function(e){return JSON.stringify((0,d.convertToSnakeCase)(e))}],t.defaults.paramsSerializer=function(e){return i.default.stringify((0,d.convertToSnakeCase)(e))},t.defaults.raxConfig={instance:t,statusCodesToRetry:[[500,599]]},t.defaults.headers=this.headers,t.defaults.baseURL=b,u.attach(t),this.axios=t};t.assistedPremiumApi=_},685726:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumApiEndPoint=void 0,t.PremiumApiEndPoint=r,function(e){e.Pay="/pay",e.Status="/status"}(r||(t.PremiumApiEndPoint=r={}))},542200:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PayFlow",{enumerable:!0,get:function(){return a.PayFlow}}),Object.defineProperty(t,"PayParams",{enumerable:!0,get:function(){return a.PayParams}}),Object.defineProperty(t,"PremiumApiEndPoint",{enumerable:!0,get:function(){return n.PremiumApiEndPoint}});var n=r(685726),a=r(445729)},445729:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PayFlow=void 0,t.PayFlow=r,function(e){e.Default="default",e.NoAuth="no_auth"}(r||(t.PayFlow=r={}))},227558:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.apiV2=void 0;var a=n(r(101339)),s=n(r(385882)),o=n(r(971410)),u=n(r(10520)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(830973)),c=r(865907),l=n(r(474606)),d=n(r(897360)),f=r(544902),p=r(215196),v=r(808460),h=r(365348);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(){function e(){var e=this;this.isStub=window.location.search.includes("stub"),this.headers={},this.axios=void 0,this.updateJWT=function(t){t&&e.headers.Authorization!=="Bearer "+t&&(e.headers.Authorization="Bearer "+t)};var t=u.default.create();t.defaults.raxConfig={instance:t,statusCodesToRetry:[[500,599]],httpMethodsToRetry:["GET","POST"],noResponseRetries:2,retry:0},t.defaults.withCredentials=!0,t.defaults.headers=this.headers,t.defaults.validateStatus=function(e){return 200===e},i.attach(t),this.axios=t}var t=e.prototype;return t.getDeeplink=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n,a){var o,u,i,p,m,g;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Number(!l.default.get("ucc"+n+t)),u=(0,v.readAuid)()||"",i=l.default.get("_ga")||"",p=d.default.marker(),m=a?"https://"+a:(0,f.getThisHostEnv)()+"/search-api",g=[m,"/searches/"+t+"/clicks/"+r+"?","search_id="+t+"&","proposal_id="+r+"&","marker="+p+"&","host="+window.location.hostname+"&","uuid="+t+"&","unique="+o+"&","auid="+encodeURIComponent(u)+"&","_ga="+encodeURIComponent(i)].join(""),e.abrupt("return",this.axios({url:g,method:"get",headers:this.headers,raxConfig:{retry:3},transformResponse:[function(e){var t;try{t=JSON.parse(e)}catch(e){return t}var r=(0,c.convertToCamelCase)(t);return t.params&&(r.params=t.params),r}]}).then((function(e){return{status:"success",success:e.data}})).catch((function(e){var t;return 404===(null==e||null===(t=e.response)||void 0===t?void 0:t.status)?{status:"not_found",error:{message:"not found"}}:(0,h.convertErrorResponse)(e)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),t.orderInit=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n,a,o,u){var i,c;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u?"https://"+u:(0,f.getThisHostEnv)()+"/search-api",c=[i,"/assisted/v1.5/order/init?","search_id="+t+"&","term_url="+r,this.isStub?"&stub=init":""].join(""),e.abrupt("return",this.axios({url:c,method:"post",headers:this.headers,data:{click_id:n,url:a,params:o},raxConfig:{retry:3},transformResponse:[function(e){return(0,h.setupTransformResponse)(e,["success.ticket","success.airports","success.airlines","success.places"])}]}).then((function(e){return e.data})).catch((function(e){var t;return 404===(null==e||null===(t=e.response)||void 0===t?void 0:t.status)?{status:"not_found",error:{message:"not found"}}:(0,h.convertErrorResponse)(e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a,s,o){return e.apply(this,arguments)}}(),t.orderReprice=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n){var a,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"https://"+n:(0,f.getThisHostEnv)()+"/search-api",o=a+"/assisted/v1.5/order/reprice?order_id="+r,e.abrupt("return",this.axios({url:o,method:"post",headers:this.headers,data:(0,c.convertToSnakeCase)(t),transformResponse:[function(e){return(0,h.setupTransformResponse)(e)}]}).then((function(e){return e.data})).catch((function(e){return(0,h.convertErrorResponse)(e)})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.orderBook=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n){var a,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"https://"+n:(0,f.getThisHostEnv)()+"/search-api",o=[a,"/assisted/v1.5/order/book?","order_id="+t,this.isStub?"&stub=book":""].join(""),e.abrupt("return",this.axios({url:o,method:"post",headers:this.headers,data:(0,c.convertToSnakeCase)(r),transformResponse:[function(e){return(0,h.setupTransformResponse)(e)}]}).then((function(e){return e.data})).catch(h.convertErrorResponse));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.addSsr=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n){var a,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"https://"+n:(0,f.getThisHostEnv)()+"/search-api",o=[a,"/assisted/v1.5/order/add_ssr?","order_id="+t,this.isStub?"&stub=add_ssr":""].join(""),e.abrupt("return",this.axios({url:o,method:"post",headers:this.headers,data:(0,c.convertToSnakeCase)(r),transformResponse:[function(e){return(0,h.setupTransformResponse)(e)}]}).then((function(e){return e.data})).catch((function(e){var t=(0,h.convertErrorResponse)(e);return p.ErrorsTracker.error("orderBook catch",{error:t}),t})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.orderPay=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n,a){var o,i;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a?"https://"+a:(0,f.getThisHostEnv)()+"/search-api",i=[o,"/assisted/v1.5/order/pay?","order_id="+t,this.isStub?"&stub=pay":""].join(""),e.abrupt("return",this.axios({url:i,method:"post",headers:this.headers,cancelToken:n,data:(0,c.convertToSnakeCase)(r),transformResponse:[function(e){return(0,h.setupTransformResponse)(e,["three_ds_info.acs_params","three_ds_info.forter_acs_params","three_ds_2_info.three_ds_2_params"])}]}).then((function(e){return p.ErrorsTracker.info("orderPay response",{response:e}),e.data})).catch((function(e){var t,r;if(n&&u.default.isCancel(e))return{status:"cancel_error",error:e};var a=b({},e);null!=e&&null!==(t=e.config)&&void 0!==t&&null!==(r=t.data)&&void 0!==r&&r.replace&&(a.config.data=e.config.data.replace(/,"card":{.*?}/g,""));var s=(0,h.convertErrorResponse)(a);return p.ErrorsTracker.error("orderPay error",{error:s}),s})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),t.orderApplePay=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n,a){var o,u;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a?"https://"+a:(0,f.getThisHostEnv)()+"/search-api",u=[o,"/assisted/v2/orders/apple_pay?","order_id="+t,this.isStub?"&stub=pay":""].join(""),e.abrupt("return",this.axios({url:u,method:"post",headers:this.headers,data:(0,c.convertToSnakeCase)(r),cancelToken:n,transformResponse:[function(e){return(0,h.setupTransformResponse)(e)}]}).then((function(e){return e.data})).catch((function(e){var t=(0,h.convertErrorResponse)(e,!0);return p.ErrorsTracker.error("orderApplePay error",{error:t}),t})));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),t.getOrder=function(){var e=(0,o.default)(s.default.mark((function e(t,r){var n,a;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?"https://"+r:(0,f.getThisHostEnv)()+"/search-api",a=[n,"/assisted/v1.5/order?","order_id="+t,this.isStub?"&stub=get":""].join(""),e.abrupt("return",this.axios({url:a,method:"get",headers:this.headers,raxConfig:{retry:3},transformResponse:[function(e){return(0,h.setupTransformResponse)(e,["init_result.ticket","init_result.airports","init_result.airlines","init_result.places","three_ds_info.acs_params","three_ds_info.forter_acs_params"])}]}).then((function(e){return e.data})).catch(h.convertErrorResponse));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.threeDsCancel=function(){var e=(0,o.default)(s.default.mark((function e(t,r){var n,a;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?"https://"+r:(0,f.getThisHostEnv)()+"/search-api",a=[n,"/assisted/v1.5/order/3ds_cancel?","order_id="+t,this.isStub?"&stub=3ds":""].join(""),e.abrupt("return",this.axios({url:a,method:"post",headers:this.headers,raxConfig:{retry:3}}).then((function(e){return e.data})).catch(h.convertErrorResponse));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),t.threeDsCallback=function(){var e=(0,o.default)(s.default.mark((function e(t,r,n){var a,o;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?"https://"+n:(0,f.getThisHostEnv)()+"/search-api",o=[a,"/assisted/v2/orders/3ds_callback?","order_id="+t,"&challenge_result="+r].join(""),e.abrupt("return",this.axios({url:o,method:"post"}).then((function(e){return e})).catch(h.convertErrorResponse));case 3:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}(),t.postPay=function(){var e=(0,o.default)(s.default.mark((function e(t,r){var n,a,o,u;return s.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?"https://"+r:(0,f.getThisHostEnv)()+"/search-api",a=[n,"/assisted/v2/order/post_pay?","order_id="+t].join(""),e.prev=2,e.next=5,this.axios({url:a,method:"get",headers:this.headers,transformResponse:[function(e){return(0,h.setupTransformResponse)(e)}]});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:return e.prev=9,e.t0=e.catch(2),u=(0,h.convertErrorResponse)(e.t0,!0),p.ErrorsTracker.error("postPay error",{error:u}),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,r){return e.apply(this,arguments)}}(),t.threeDs2=function(e,t){var r=[t?"https://"+t:(0,f.getThisHostEnv)()+"/search-api","/assisted/v2/order/3ds2?","order_id="+e].join("");return this.axios({url:r,method:"post",headers:this.headers,transformResponse:[function(e){return(0,h.setupTransformResponse)(e,["three_ds_info.acs_params"])}]}).then((function(e){return e.data})).catch(h.convertErrorResponse)},e}(),y=new _;t.apiV2=y},776384:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isProd=t.isBeta=void 0;var r=window.env&&window.env.includes("prod")&&"localhost"!==window.location.hostname;t.isProd=r;var n=window.env&&window.env.includes("beta")&&window.location.hostname.includes("helb");t.isBeta=n},288779:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorStatuses=void 0,t.ErrorStatuses=r,function(e){e[e.Cloudflare=520]="Cloudflare",e[e.Network=0]="Network",e[e.Locked=423]="Locked",e[e.Timeout=504]="Timeout"}(r||(t.ErrorStatuses=r={}))},976145:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TypeConsoleMessage",{enumerable:!0,get:function(){return n.TypeConsoleMessage}}),Object.defineProperty(t,"setConsoleMessage",{enumerable:!0,get:function(){return n.setConsoleMessage}});var n=r(667818)},667818:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.setConsoleMessage=t.TypeConsoleMessage=void 0,t.TypeConsoleMessage=r,function(e){e.Warn="warn",e.Error="error",e.Log="log",e.Info="info"}(r||(t.TypeConsoleMessage=r={})),t.setConsoleMessage=function(e){var t=e.typeConsoleMessage,r=e.messages;console[t](r.main,r.optional)}},702145:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.convertToSnakeCase=t.convertToCamelCase=void 0;var a=n(r(303674)),s=n(r(83710)),o=n(r(854570)),u=n(r(62578));function i(e){return function t(r,n,o){if(void 0===n&&(n=[]),(0,s.default)(r)){var u={};return Object.keys(r).forEach((function(a){var s=void 0===o?a:o+"."+a;n.includes(s)?u[e(a)]=r[a]:u[e(a)]=t(r[a],n,s)})),u}return(0,a.default)(r)?r.map((function(e){return t(e)})):r}}var c=i(o.default);t.convertToCamelCase=c;var l=i(u.default);t.convertToSnakeCase=l},865907:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"convertToCamelCase",{enumerable:!0,get:function(){return n.convertToCamelCase}}),Object.defineProperty(t,"convertToSnakeCase",{enumerable:!0,get:function(){return n.convertToSnakeCase}});var n=r(702145)},544902:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getThisHostEnv",{enumerable:!0,get:function(){return n.getThisHostEnv}});var n=r(132153)},550193:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getThisHostEnv=void 0,t.getThisHostEnv=function(){return""}},132153:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getThisHostEnv",{enumerable:!0,get:function(){return n.getThisHostEnv}});var n=r(550193)},560896:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.options=t.init=void 0;var a,s=n(r(101339)),o=n(r(275347)),u=n(r(548995)),i=r(445549),c=n(r(370548)),l=r(128917);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=l.sourceLanguage||"ru",v={};try{p=document.documentElement.lang?document.documentElement.lang:p,v=window.i18nextResources.translations?window.i18nextResources.translations:v}catch(e){}var h={returnEmptyString:!1,returnNull:!1,resources:(a={},a[p]=f(f({},v),{},{uiKit:{logo:{easterEgg:{title:"title",content:"content",close:"close",show:"show"}}}}),a),defaultNS:"common",ns:["common"],lng:p,supportedLngs:[l.sourceLanguage].concat(l.translateLanguages),partialBundledLanguages:!0,load:"currentOnly",postProcess:["endings"],interpolation:{escapeValue:!1},react:{useSuspense:!1,transSupportBasicHtmlNodes:!0,transKeepBasicHtmlNodesFor:["br","a","sup","b"]}};t.options=h,t.init=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=!0),o.default.isInitialized)return Promise.resolve(o.default.t.bind(o.default));if(t){var r=new u.default(null,{loadPath:"/i18n/{{lng}}/{{ns}}.json"});o.default.use(r)}return o.default.use(i.initReactI18next).use(new c.default).init(f(f(f({},h),e),{},{react:f(f({},h.react),e.react)}))},window.i18next=o.default,o.default.on("missingKey",(function(e,t,r){try{if(window.Rollbar)return window.Rollbar.info("Missing Key",{lngs:e,namespace:t,key:r})}catch(e){}}))},825586:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HotelPartner=void 0,t.HotelPartner=r,function(e){e.Yandex="yandex",e.Booking="booking",e.Ostrovok="ostrovok",e.Tvil="tvil",e.Klook="klook",e.Hostelworlds="hostelworlds"}(r||(t.HotelPartner=r={}))},139375:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getLang=void 0;var a=n(r(275347));t.getLang=function(){return a.default.language}},747596:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getLocalStorageItem",{enumerable:!0,get:function(){return n.getLocalStorageItem}}),Object.defineProperty(t,"getLocalStorageJSONItem",{enumerable:!0,get:function(){return n.getLocalStorageJSONItem}}),Object.defineProperty(t,"removeLocalStorageItem",{enumerable:!0,get:function(){return n.removeLocalStorageItem}}),Object.defineProperty(t,"setLocalStorageItem",{enumerable:!0,get:function(){return n.setLocalStorageItem}}),Object.defineProperty(t,"setLocalStorageJSONItem",{enumerable:!0,get:function(){return n.setLocalStorageJSONItem}});var n=r(661602)},661602:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.setLocalStorageJSONItem=t.setLocalStorageItem=t.removeLocalStorageItem=t.getLocalStorageJSONItem=t.getLocalStorageItem=void 0;var a=n(r(533909)),s=n(r(396673)),o=n(r(944408)),u=n(r(650954)),i=n(r(835221)),c=function(e,t){try{window.localStorage.setItem(e,t)}catch(e){}};t.setLocalStorageItem=c;var l=function(e){try{return window.localStorage.getItem(e)}catch(e){return null}};t.getLocalStorageItem=l,t.setLocalStorageJSONItem=function(e,t){c(e,JSON.stringify(t))},t.getLocalStorageJSONItem=function(e){try{var t=l(e);return(0,a.default)(t)?null:JSON.parse(t)}catch(e){return null}},t.removeLocalStorageItem=function(e){try{if(!(0,i.default)(e))return void window.localStorage.removeItem(e);(0,s.default)([o.default,(0,u.default)((function(t){e.test(t)&&window.localStorage.removeItem(t)}))])(localStorage)}catch(e){}}},452130:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMarket=t.getCurrentMarket=void 0;var r=function(){return document.documentElement.getAttribute("data-market")};t.getCurrentMarket=r,t.getMarket=function(){return r()||"ru"}},408178:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.getDebugAdapter=void 0;var a=(0,n(r(491167)).default)("explosion:errors_tracker"),s=function(e){return function(t,r){return a("error tracker got %s %s %o",e,t,r)}};t.getDebugAdapter=function(){return{critical:s("critical"),error:s("error"),warning:s("warning"),info:s("info"),debug:s("debug")}}},887446:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getRollbarAdapter=void 0;var r=function(e){return function(t,r){return window.Rollbar[e](t,r)}};t.getRollbarAdapter=function(){return{critical:r("critical"),error:r("error"),warning:r("warning"),info:r("info"),debug:r("debug")}}},219637:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorsTracker=void 0;var r=function(e,t){return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.forEach((function(t){return t[e].apply(t,n)}))}};t.getErrorsTracker=function(e){return{critical:r("critical",e),error:r("error",e),warning:r("warning",e),info:r("info",e),debug:r("debug",e)}}},215196:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorsTracker=void 0;var n=r(408178),a=r(887446),s=r(219637),o=[];window.Rollbar?o.push((0,a.getRollbarAdapter)()):o.push((0,n.getDebugAdapter)());var u=(0,s.getErrorsTracker)(o);t.ErrorsTracker=u},156564:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(797972)),s=n(r(225385));r(643765);var o=(0,s.default)("spinner"),u=function(e){var t=e.className,r=e.mod,n=e.size,s=o(null,[t,"--"+r,"--size-"+n]);return a.default.createElement("div",{className:s},a.default.createElement("svg",{className:o("svg"),viewBox:"0 0 50 50"},a.default.createElement("circle",{className:o("circle"),cx:"25",cy:"25",r:"20",fill:"none"})))};u.defaultProps={mod:"primary",size:"m"};var i=u;t.default=i},554422:function(e,t){var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.TripClass=t.RequestStatus=void 0,t.RequestStatus=r,function(e){e.Idle="idle",e.Pending="pending",e.Success="success",e.Failure="failure"}(r||(t.RequestStatus=r={})),t.TripClass=n,function(e){e.Economy="Y",e.PremiumEconomy="W",e.Business="C",e.FirstClass="F"}(n||(t.TripClass=n={}))},691725:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.userDomain=void 0;var n=(0,r(944246).createDomain)({name:"userDomain",sid:"mw6rbk"});t.userDomain=n},796633:function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.UserEventTypes=void 0,t.UserEventTypes=r,function(e){e.UserPremiumStatusChanged="service/helios/user/user_premium_status_changed",e.UserSettingsChanged="service/helios/user/user_settings_changed",e.UserSettingsShouldChange="service/helios/user/user_settings_should_change",e.UserNameShouldChange="service/helios/user/user_name_should_change",e.SettingsChanged="service/helios/user/settings_changed",e.SettingsShouldChange="service/helios/user/settings_should_change",e.UserInfoChanged="service/helios/user/user_info_changed",e.UserSocialsChanged="service/helios/user/user_socials_changed",e.GuestiaIdChanged="service/helios/user/guestia_id_changed",e.SearchesChanged="service/helios/user/searches_changed",e.EmailActivationErrorChanged="service/helios/user/email_activation_error_changed",e.ActivateEmail="service/helios/user/activate_email",e.SearchesShouldBeFetched="service/helios/user/searches_should_be_fetched",e.SearchShouldBeSaved="service/helios/user/search_should_be_saved",e.JwtChanged="service/helios/user/jwt_changed",e.Authorize="service/helios/user/authorize",e.Login="service/helios/user/login",e.Logout="service/helios/user/logout",e.UserLoggedOut="service/helios/user/user_logged_out",e.LoginFxStatusChanged="service/helios/user/login_fx_status_changed",e.AuthRequestStatusChanged="service/helios/user/auth_request_status_changed",e.UserShouldBeDeleted="service/helios/user/user_should_be_deleted",e.UserDeleteStatusChanged="service/helios/user/user_delete_status_changed",e.UserDataShouldBeFetched="service/helios/user/user_data_should_be_fetched",e.FetchUserDataFxStatusChanged="service/helios/user/fetch_user_data_fx_status_changed",e.ActualizeSubscriber="service/helios/user/actualize_subscriber",e.ChangePassengersFxStatusChanged="service/helios/user/change_passengers_fx_status_changed",e.ChangePassengers="service/helios/user/change_passengers",e.IsFreePremiumMarketReceived="service/helios/premium/is_free_market_received"}(r||(t.UserEventTypes=r={}))},863974:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={userService:!0};t.userService=void 0;var a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(505216));t.userService=a;var s=r(240478),o=r(208805);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))})),(0,s.initUserServiceSeleneInterop)()},978918:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.waitAuthStatus=t.userLoggedOut=t.premLoginClicked=t.logout=t.loginFxStatusChanged=t.login=t.authorize=t.authRequestStatusChanged=t.$loginFxStatus=t.$isAuthorized=t.$authStatus=t.$authRequestStatus=void 0;var n=r(944246),a=r(554422),s=r(691725),o=r(208805),u=r(1251),i=s.userDomain.createEvent({name:"premLoginClicked",sid:"-ni5dkd"});t.premLoginClicked=i;var c=s.userDomain.createEvent({name:"authRequestStatusChanged",sid:"-p0z6e7"});t.authRequestStatusChanged=c;var l=s.userDomain.createEvent({name:"loginFxStatusChanged",sid:"-bz36hg"});t.loginFxStatusChanged=l;var d=s.userDomain.createEvent({name:"authorize",sid:"-hyooyg"});t.authorize=d;var f=s.userDomain.createEvent({name:"login",sid:"-c6izuz"});t.login=f;var p=s.userDomain.createEvent({name:"logout",sid:"1sul5d"});t.logout=p;var v=s.userDomain.createEvent({name:"userLoggedOut",sid:"abclmk"});t.userLoggedOut=v;var h=s.userDomain.createStore(a.RequestStatus.Idle,{name:"$authRequestStatus",sid:"23eupr"}).on(c,(function(e,t){return t}));t.$authRequestStatus=h;var m=(0,n.combine)({and:[h,u.$jwt,function(e,t){return e===a.RequestStatus.Success||e===a.RequestStatus.Failure?t?o.AuthStatus.Authorized:o.AuthStatus.Unauthorized:o.AuthStatus.Unknown}],or:{name:"$authStatus",sid:"-62eh98"}});t.$authStatus=m;var g=m.map((function(e){return e===o.AuthStatus.Authorized}));t.$isAuthorized=g;var b=s.userDomain.createStore({status:"initial",result:null,error:null},{name:"$loginFxStatus",sid:"4k1g4b"}).on(l,(function(e,t){return t}));t.$loginFxStatus=b,(0,n.sample)({and:[{clock:i,fn:function(e){return{method:e.method,isMarketingAccepted:e.isMarketingAccepted,source:"premium_inproduct_landing",params:{promocode_id:e.promocodeId}}},target:f}],or:{sid:"-n929g5"}}),t.waitAuthStatus=function(e){var t=m.getState();return e.includes(t)?Promise.resolve():new Promise((function(t){var r=m.watch((function(n){e.includes(n)&&(t(),r.unsubscribe())}))}))}},550529:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.changeContacts=t.$contacts=void 0;var n=r(944246),a=r(691725),s=r(803181),o="contact_info",u=a.userDomain.createEvent({name:"changeContacts",sid:"6ypjgl"});t.changeContacts=u;var i=(0,s.extractSettingStore)({key:o,initial:{},mapper:JSON.parse});t.$contacts=i,(0,n.sample)({and:[{clock:u,fn:function(e){return{key:o,value:JSON.stringify(e)}},target:s.changeSetting}],or:{sid:"-7k1q66"}})},614529:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUserDataFxStatusChanged=t.fetchUserData=t.$fetchUserDataFxStatus=void 0;var n=r(691725),a=n.userDomain.createEvent({name:"fetchUserData",sid:"-vqn0d6"});t.fetchUserData=a;var s=n.userDomain.createEvent({name:"fetchUserDataFxStatusChanged",sid:"-lfxygz"});t.fetchUserDataFxStatusChanged=s;var o=n.userDomain.createStore("initial",{name:"$fetchUserDataFxStatus",sid:"i1t3ch"}).on(s,(function(e,t){return t}));t.$fetchUserDataFxStatus=o},155700:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.emailActivationErrorChanged=t.activateEmail=t.$userEmailActivationStatus=t.$userCandidateEmail=t.$userActiveEmail=t.$isAviasalesEmail=t.$emailActivationError=void 0;var n=r(691725),a=r(446020),s=r(447670),o=function(e){return"null"===e?"":e},u=n.userDomain.createEvent({name:"activateEmail",sid:"-57xbqu"});t.activateEmail=u;var i=n.userDomain.createEvent({name:"emailActivationErrorChanged",sid:"vnltnl"});t.emailActivationErrorChanged=i;var c=a.$userInfo.map((function(e){var t;return null!=(t=null==e?void 0:e.email_info)?t:null})),l=c.map((function(e){var t;return null!=(t=null==e?void 0:e.activation_status)?t:null}));t.$userEmailActivationStatus=l;var d=n.userDomain.createStore(null,{name:"$emailActivationError",sid:"jlcked"}).on(i,(function(e,t){return t}));t.$emailActivationError=d;var f=c.map((function(e){var t;return o(null!=(t=null==e?void 0:e.active_email)?t:"")}));t.$userActiveEmail=f;var p=c.map((function(e){var t;return o(null!=(t=null==e?void 0:e.candidate_email)?t:"")}));t.$userCandidateEmail=p;var v=s.$userSocials.map((function(e){return!(!e||!e.google)&&e.google.email.includes("@aviasales.ru")}));t.$isAviasalesEmail=v},240478:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.initUserServiceSeleneInterop=void 0;var n=r(944246),a=r(754266),s=r(691725),o=r(796633),u=r(446020),i=r(731610),c=r(803181),l=r(447670),d=r(173030),f=r(930808),p=r(155700),v=r(1251),h=r(978918),m=r(385903),g=r(614529),b=r(485014),_=s.userDomain.createEvent({name:"initUserServiceSeleneInterop",sid:"-3bmtfg"});t.initUserServiceSeleneInterop=_;var y=function(e,t){(0,n.sample)({and:[{clock:_,target:(0,a.createAddListenerEffect)(e,t)}],or:{sid:"-q4lz6x"}})},S=function(e,t){(0,n.sample)({and:[{clock:e,target:(0,a.createEmitterEffect)(t)}],or:{sid:"-q0rf1e"}})};y(o.UserEventTypes.UserPremiumStatusChanged,d.userPremiumStatusChanged),y(o.UserEventTypes.UserSettingsChanged,i.userSettingsChanged),y(o.UserEventTypes.SettingsChanged,c.settingsChanged),y(o.UserEventTypes.UserSocialsChanged,l.userSocialsChanged),y(o.UserEventTypes.UserInfoChanged,u.userInfoChanged),y(o.UserEventTypes.GuestiaIdChanged,u.guestiaIdChanged),y(o.UserEventTypes.SearchesChanged,f.searchesChanged),y(o.UserEventTypes.EmailActivationErrorChanged,p.emailActivationErrorChanged),y(o.UserEventTypes.JwtChanged,v.jwtChanged),y(o.UserEventTypes.AuthRequestStatusChanged,h.authRequestStatusChanged),y(o.UserEventTypes.UserDeleteStatusChanged,m.userDeleteStatusChanged),y(o.UserEventTypes.LoginFxStatusChanged,h.loginFxStatusChanged),y(o.UserEventTypes.ChangePassengersFxStatusChanged,b.changePassengersFxStatusChanged),y(o.UserEventTypes.FetchUserDataFxStatusChanged,g.fetchUserDataFxStatusChanged),y(o.UserEventTypes.UserLoggedOut,h.userLoggedOut),y(o.UserEventTypes.IsFreePremiumMarketReceived,d.isFreePremiumMarketReceived),S(i.updateUserSettings,o.UserEventTypes.UserSettingsShouldChange),S(i.changeUserName,o.UserEventTypes.UserNameShouldChange),S(c.changeSetting,o.UserEventTypes.SettingsShouldChange),S(f.fetchSearches,o.UserEventTypes.SearchesShouldBeFetched),S(f.saveSearch,o.UserEventTypes.SearchShouldBeSaved),S(p.activateEmail,o.UserEventTypes.ActivateEmail),S(h.authorize,o.UserEventTypes.Authorize),S(h.login,o.UserEventTypes.Login),S(h.logout,o.UserEventTypes.Logout),S(m.deleteUser,o.UserEventTypes.UserShouldBeDeleted),S(g.fetchUserData,o.UserEventTypes.UserDataShouldBeFetched),S(b.changePassengers,o.UserEventTypes.ChangePassengers)},505216:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(978918);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}));var a=r(550529);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=r(614529);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var o=r(155700);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var u=r(446020);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var i=r(1251);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var c=r(485014);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=r(173030);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var d=r(452601);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));var f=r(930808);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=r(803181);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var v=r(447670);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var h=r(385903);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var m=r(731610);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}))},446020:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.waitUserInfo=t.userInfoChanged=t.guestiaIdChanged=t.$userLastLoginMethod=t.$userInfo=t.$isUserInfoAvailable=t.$guestiaId=void 0;var n=r(747596),a=r(691725),s=a.userDomain.createEvent({name:"userInfoChanged",sid:"-cgnswo"});t.userInfoChanged=s;var o=a.userDomain.createEvent({name:"guestiaIdChanged",sid:"nirvaw"});t.guestiaIdChanged=o;var u=a.userDomain.createStore(null,{name:"$userInfo",sid:"-4uamas"}).on(s,(function(e,t){return t}));t.$userInfo=u;var i=u.map((function(e){return null!=e&&e.last_login_method?e.last_login_method:null}));t.$userLastLoginMethod=i;var c=u.map(Boolean);t.$isUserInfoAvailable=c;var l,d,f=a.userDomain.createStore(null!=(l=null===(d=(0,n.getLocalStorageJSONItem)("guestia_id"))||void 0===d?void 0:d.id)?l:null,{name:"$guestiaId",sid:"ambwmx"}).on(o,(function(e,t){return null!=t?t:e}));t.$guestiaId=f,t.waitUserInfo=function(){return u.getState()?Promise.resolve():new Promise((function(e){var t=u.watch((function(r){r&&(e(),t.unsubscribe())}))}))}},1251:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.jwtChanged=t.$jwt=void 0;var n=r(227558),a=r(99383),s=r(747596),o=r(173030),u=r(691725),i=u.userDomain.createEvent({name:"jwtChanged",sid:"1vmvjo"});t.jwtChanged=i;var c=u.userDomain.createStore((0,s.getLocalStorageItem)("jwt"),{name:"$jwt",sid:"dcigtv"}).on(i,(function(e,t){return t}));t.$jwt=c;var l=[o.subscriptionApi,n.apiV2,a.assistedPremiumApi];c.watch((function(e){e&&l.forEach((function(t){return(0,t.updateJWT)(e)}))}))},485014:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.changePassengersFxStatusChanged=t.changePassengers=t.$passengers=t.$changePassengersFxStatus=void 0;var n=r(944246),a=r(691725),s=r(803181),o="passengers",u=a.userDomain.createEvent({name:"changePassengers",sid:"-80mkal"});t.changePassengers=u;var i=a.userDomain.createEvent({name:"changePassengersFxStatusChanged",sid:"-2ncrna"});t.changePassengersFxStatusChanged=i;var c=(0,s.extractSettingStore)({key:o,initial:{},mapper:function(e){return"string"==typeof e?JSON.parse(e):e}});t.$passengers=c;var l=a.userDomain.createStore({status:"initial",result:null,error:null},{name:"$changePassengersFxStatus",sid:"-mab4jo"}).on(i,(function(e,t){return t}));t.$changePassengersFxStatus=l,(0,n.sample)({and:[{clock:u,fn:function(e){return{key:o,value:JSON.stringify(e)}},target:s.changeSetting}],or:{sid:"-9dpvjd"}})},308494:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptionApi=void 0;var a=n(r(385882)),s=n(r(971410)),o=n(r(10520)),u=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(830973)),i=r(215196),c=r(139375),l=r(452130),d=r(565569);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=new function(){var e=this;this.platform="web",this.headers={"Content-Type":"application/json"},this.axios=void 0,this.updateJWT=function(t){t&&e.headers.Authorization!=="Bearer "+t&&(e.headers.Authorization="Bearer "+t)},this.getCashbackOfferDetails=(0,s.default)(a.default.mark((function t(){var r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.axios.get("/cashback_offers",{params:{platform:e.platform,locale:(0,c.getLang)(),tag:"hotels",market:(0,l.getMarket)()}});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),i.ErrorsTracker.error("Premium request cashback_offer_details with errors",{error:t.t0}),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));var t=o.default.create();t.defaults.raxConfig={instance:t,statusCodesToRetry:[[500,599]]},t.defaults.headers=this.headers,t.defaults.baseURL="https://premium."+d.API_HOST+"/subscriptions/v1",u.attach(t),this.axios=t};t.subscriptionApi=p},173030:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={subscriptionApi:!0};Object.defineProperty(t,"subscriptionApi",{enumerable:!0,get:function(){return s.subscriptionApi}});var a=r(372711);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=r(308494)},372711:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.waitUserPremium=t.userPremiumStatusChanged=t.isFreePremiumMarketReceived=t.$userPremiumStatus=t.$userPremiumMarker=t.$tierId=t.$premiumStateId=t.$premiumHotelPartnerRulesUrls=t.$premiumHotelPartnerMaxRateValues=t.$premiumHotelPartnerDeeplinks=t.$isUserHasPremiumSubscription=t.$isSaloEdition=t.$isFreePremiumMarket=t.$isAviaCashbackAvailable=t.$hotelSearchFlag=t.$hotelPartner=void 0;var n=r(944246),a=r(747596),s=r(754266),o=r(825586),u=r(691725),i=u.userDomain.createEvent({name:"userPremiumStatusChanged",sid:"at68xb"});t.userPremiumStatusChanged=i;var c=u.userDomain.createEvent({name:"isFreePremiumMarketReceived",sid:"ah4ctu"});t.isFreePremiumMarketReceived=c;var l=(0,n.restore)(c,!1,{name:"$isFreePremiumMarket",sid:"plx7n4"});t.$isFreePremiumMarket=l;var d=u.userDomain.createStore(o.HotelPartner.Booking,{name:"$hotelPartner",sid:"-mwz9e4"});t.$hotelPartner=d;var f=u.userDomain.createEvent({name:"changeHotelPartner",sid:"-qx5ebr"});(0,n.sample)({and:[{clock:f,target:d}],or:{sid:"i9vhhu"}}),(0,s.listenSeleneEvent)("service/helios/hotel_partner/update_partner",f);var p=u.userDomain.createStore(null,{name:"$hotelSearchFlag",sid:"-wa5ko2"});t.$hotelSearchFlag=p;var v=u.userDomain.createEvent({name:"changeHotelSearchFlag",sid:"-ft2h7u"});(0,n.sample)({and:[{clock:v,target:p}],or:{sid:"iqx3w1"}}),(0,s.listenSeleneEvent)("service/helios/hotel_partner/update_search_flag",v);var h=u.userDomain.createStore(null,{name:"$premiumHotelPartnerDeeplinks",sid:"-s0229u"});t.$premiumHotelPartnerDeeplinks=h;var m=u.userDomain.createEvent({name:"premiumHotelsDeeplinksChanged",sid:"-nx0ci5"});(0,n.sample)({and:[{clock:m,target:h}],or:{sid:"j8iivl"}}),(0,s.listenSeleneEvent)("service/helios/hotel_offers/deeplinks_updated",m);var g=u.userDomain.createStore(null,{name:"$premiumHotelPartnerRulesUrls",sid:"lqyccs"});t.$premiumHotelPartnerRulesUrls=g;var b=u.userDomain.createEvent({name:"premiumHotelPartnerRulesUrlsChanged",sid:"daestb"});(0,n.sample)({and:[{clock:b,target:g}],or:{sid:"jq3xv5"}}),(0,s.listenSeleneEvent)("service/helios/hotel_offers/rules_urls_updated",b);var _=u.userDomain.createStore(null,{name:"$premiumHotelPartnerMaxRateValues",sid:"-yiupr3"});t.$premiumHotelPartnerMaxRateValues=_;var y=u.userDomain.createEvent({name:"premiumHotelPartnerMaxRateValuesChanged",sid:"-xir827"});(0,n.sample)({and:[{clock:y,target:_}],or:{sid:"koqz8w"}}),(0,s.listenSeleneEvent)("service/helios/hotel_offers/max_rates_updated",y);var S,P,O=u.userDomain.createStore(null!=(S=null===(P=(0,a.getLocalStorageJSONItem)("premium_status"))||void 0===P?void 0:P.premiumStatus)?S:null,{name:"$userPremiumStatus",sid:"-gkal80"}).on(i,(function(e,t){return t}));t.$userPremiumStatus=O;var E=O.map((function(e){var t,r;return null!=(t=null==e||null===(r=e.tier)||void 0===r?void 0:r.id)?t:null}));t.$tierId=E;var k=E.map((function(e){return"salo_edition"===e}));t.$isSaloEdition=k;var j=O.map((function(e){return null!==e&&"basic"!==e.tier.id}));t.$isUserHasPremiumSubscription=j;var C=O.map((function(e){var t;return null!=(t=null==e?void 0:e.premium_state_id)?t:null}));t.$premiumStateId=C;var w=O.map((function(e){var t,r=null==e||null===(t=e.flags)||void 0===t?void 0:t.some((function(e){return"avia_cashback"===(null==e?void 0:e.name)&&"active"===(null==e?void 0:e.status)}));return Boolean(r)}));t.$isAviaCashbackAvailable=w;var M=O.map((function(e){var t;return null!=(t=null==e?void 0:e.marker)?t:null}));t.$userPremiumMarker=M,t.waitUserPremium=function(){return O.getState()?Promise.resolve():new Promise((function(e){var t=O.watch((function(r){r&&(e(),t.unsubscribe())}))}))}},452601:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.changePreventGeoip=void 0;var n=r(944246),a=r(691725),s=r(803181),o=a.userDomain.createEvent({name:"changePreventGeoip",sid:"-4v4b2z"});t.changePreventGeoip=o,(0,n.sample)({and:[{clock:o,fn:function(e){return{key:"prevent_geoip",value:JSON.stringify(e)}},target:s.changeSetting}],or:{sid:"-lepv2k"}})},930808:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.searchesChanged=t.saveSearch=t.fetchSearches=t.$searches=void 0;var n=r(691725),a=n.userDomain.createEvent({name:"searchesChanged",sid:"7wu3ia"});t.searchesChanged=a;var s=n.userDomain.createEvent({name:"fetchSearches",sid:"78m7sk"});t.fetchSearches=s;var o=n.userDomain.createEvent({name:"saveSearch",sid:"-cer94o"});t.saveSearch=o;var u=n.userDomain.createStore([],{name:"$searches",sid:"-yhh3in"}).on(a,(function(e,t){return t}));t.$searches=u},803181:function(e,t,r){var n=r(35220);Object.defineProperty(t,"__esModule",{value:!0}),t.changeSetting=t.$settings=void 0,t.extractSettingStore=function(e){var t=e.key,r=e.mapper,n=void 0===r?a.default:r,s=e.initial;return i.map((function(e){var r;return null!=(r=e[t])?r:null})).map((function(e){if(null===e)return s;var t=n(e);return null===t?s:t}))},t.settingsChanged=void 0;var a=n(r(673784)),s=r(691725),o=s.userDomain.createEvent({name:"settingsChanged",sid:"-lqhe2a"});t.settingsChanged=o;var u=s.userDomain.createEvent({name:"changeSetting",sid:"14dv30"});t.changeSetting=u;var i=s.userDomain.createStore({},{name:"$settings",sid:"-cq43bo"}).on(o,(function(e,t){return t}));t.$settings=i},447670:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.userSocialsChanged=t.$userSocials=t.$userLastLoginMethodEmail=void 0;var n=r(944246),a=r(691725),s=r(446020),o=a.userDomain.createEvent({name:"userSocialsChanged",sid:"-fcenh1"});t.userSocialsChanged=o;var u=(0,n.restore)(o,null,{name:"$userSocials",sid:"vdf952"});t.$userSocials=u;var i=(0,n.combine)({and:[u,s.$userLastLoginMethod,function(e,t){var r,n;return e&&t&&null!=(r=null===(n=e[t])||void 0===n?void 0:n.email)?r:null}],or:{name:"$userLastLoginMethodEmail",sid:"-e3hhxa"}});t.$userLastLoginMethodEmail=i},385903:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.userDeleted=t.userDeleteStatusChanged=t.deleteUser=t.$userDeleteStatus=void 0;var n=r(944246),a=r(691725),s=a.userDomain.createEvent({name:"deleteUser",sid:"u81kph"});t.deleteUser=s;var o=a.userDomain.createEvent({name:"userDeleteStatusChanged",sid:"-lbgmvu"});t.userDeleteStatusChanged=o;var u=a.userDomain.createStore("initial",{name:"$userDeleteStatus",sid:"k3bp02"}).on(o,(function(e,t){return t}));t.$userDeleteStatus=u;var i=(0,n.guard)({and:[{clock:u,filter:function(e){return"done"===e}}],or:{name:"userDeleted",sid:"xk62xi"}});t.userDeleted=i},731610:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.userSettingsChanged=t.updateUserSettings=t.changeUserName=t.$userSettings=void 0;var n=r(691725),a=n.userDomain.createEvent({name:"userSettingsChanged",sid:"-1tb1zo"});t.userSettingsChanged=a;var s=n.userDomain.createEvent({name:"updateUserSettings",sid:"-hkb1zh"});t.updateUserSettings=s;var o=n.userDomain.createEvent({name:"changeUserName",sid:"-4i7mt8"});t.changeUserName=o;var u=n.userDomain.createStore({},{name:"$userSettings",sid:"-yv5hf7"}).on(a,(function(e,t){return t}));t.$userSettings=u},208805:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AuthStatus=void 0,Object.defineProperty(t,"Socials",{enumerable:!0,get:function(){return a.Socials}});var n,a=r(391241);t.AuthStatus=n,function(e){e.Unknown="unknown",e.Authorized="Authorized",e.Unauthorized="unauthorized"}(n||(t.AuthStatus=n={}))},643765:function(e,t,r){r.r(t)},128917:function(e){e.exports=JSON.parse('{"projectId":355113,"basePath":"./web/i18n/translations","outputPath":"./priv/static/i18n","templatePath":"./web/i18n/crowdin_deploy_template.js","rateLimit":10,"sourceLanguage":"ru","translateLanguages":["az","en","nl","fr","de","it","el","et","ka","kk","lv","pl","lt","pt-PT","ro","es-ES","th","uk","uz"],"outputName":"{{lang}}.source.js","defaultFallbackLanguage":"en","fallbackOverrides":{"uk":["ru"],"uz":["ru"],"kk":["ru"],"az":["ru"],"md":["ru"]},"minTranslationsProgress":{"en":100,"es":80,"az":70,"el":70,"ka":70,"kk":70,"ky":70,"ua":70}}')}}]);