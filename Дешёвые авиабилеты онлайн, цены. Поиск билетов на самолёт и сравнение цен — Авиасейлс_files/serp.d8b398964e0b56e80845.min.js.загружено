"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1934],{48532:function(e,t,r){r.r(t),r.d(t,{SerpWidget:function(){return zr}}),r(95104),r(73655);var a=r(85155),i=(r(70078),r(34943)),s=r(77606),n=r.n(s),o=r(25015),l=r(99976),u=r(42176),c=r(54848),d=r(31842),p=r(76262),g=r.n(p),h=r(10910),v=r.n(h),_=r(88846),f=r.n(_),m=r(46898),S=r.n(m),k=r(27183),y=r.n(k),$=r(3945),b=r.n($),P=r(40104),U=r.n(P),w=r(59051),F=r.n(w),B=r(37453),I=r.n(B),C=r(2982),E=r.n(C),j=r(29893),A=r.n(j),D=r(96799),O=r(21084);const T=(()=>{const e="_test_session_storage_access_";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){return!1}})(),x=(0,i.Fj)("saved_filters",{sid:"yg4k0r"}),R=x.createEvent({sid:"-ihma76"}),N=x.createEvent({sid:"ruypff"}),M=x.createEvent({sid:"-sr2bt0"}),z=x.createEvent({sid:"-9r6fh1"}),L=x.createStore(null,{sid:"fd5wfh"}).on(N,((e,t)=>t)),q=x.createStore(null,{sid:"-vh6p9l"}),H=x.createStore(null,{sid:"tttggf"}).on(z,((e,t)=>t)),G=x.createStore(null,{sid:"bjpkkl"}).on(o.E.outputs.searchMetaLoaded,((e,t)=>{let{search_id:r}=t;return r})),V=d.r.outputs.$savedFiltersFlag.map((e=>{let{enabled:t}=e;return t})),J=x.createEffect((e=>{return t=e.searchParamsHash,r=JSON.stringify(e),T?window.sessionStorage.setItem(t,r):null;var t,r}),{sid:"bwpfvc"}),K=x.createEffect((e=>{if(!e)return null;const t=(r=e,T?window.sessionStorage.getItem(r):null);var r;if(!t)return null;try{return JSON.parse(t)}catch(e){return null}}),{sid:"-p8wnaa"});(0,i.UP)({and:[{clock:K.doneData,target:q}],or:{sid:"-m999yv"}}),(0,i.UP)({and:[{clock:J.doneData,fn:()=>null,target:L}],or:{sid:"-u6q6wi"}}),(0,i.UP)({and:[{clock:R,source:L,filter:Boolean,target:J}],or:{sid:"-trvqvr"}}),(0,i.UP)({and:[{clock:R,source:L,filter:Boolean,fn:e=>(null==e?void 0:e.searchParamsHash)??null,target:K}],or:{sid:"-to16q8"}}),(0,i.UP)({and:[{source:H,target:K}],or:{sid:"-t835ir"}});const W={updateFiltersToSave:N,saveFilters:R,segmentsHashUpdated:z,applySavedFilters:M},X={$directionSavedFilters:q,$filtersToSave:L,$searchId:G,$isFeatureEnabled:V,$segmentsHash:H};(0,i.UP)({and:[{clock:(0,i.UP)({and:[{clock:[u.j.inputs.filtersChangedByUser,u.j.inputs.filtersRelaxedByUser,u.j.inputs.sortingChangedByUser,u.j.inputs.sortingReset],filter:X.$isFeatureEnabled}],or:{sid:"iiy77t"}}),source:{filtersState:u.j.outputs.$filtersState,filtersBoundaries:u.j.outputs.$filtersBoundaries,sortingOrder:u.j.outputs.$sortingOrder,segmentsHash:X.$segmentsHash,searchParams:l.s.outputs.$searchParams,searchId:X.$searchId},filter:e=>{let{filtersState:t}=e;return!n()(t)},fn:e=>{let{filtersState:t,filtersBoundaries:r,sortingOrder:a,segmentsHash:i,searchParams:s,searchId:o}=e;if(!o||!s||!i)return null;const l=((e,t)=>{var r,a,i,s,o,l,u,c,d;const p=[];!1===(null==e?void 0:e.withoutVirtualInterline)&&p.push("withoutVirtualInterline"),!1===(null==e?void 0:e.withoutShortLayover)&&p.push("withoutShortLayover"),!1===(null==e?void 0:e.withoutAirportChange)&&p.push("withoutAirportChange"),!1===(null==e?void 0:e.withoutVisa)&&p.push("withoutVisa"),!1===(null==e?void 0:e.withoutNightTransfers)&&p.push("withoutNightTransfers"),!1===(null==e?void 0:e.withoutCovidRestrictions)&&p.push("withoutCovidRestrictions"),!1===(null==e?void 0:e.withoutLowcosts)&&p.push("withoutLowcosts"),!1===(null==e?void 0:e.withoutInterlines)&&p.push("withoutInterlines"),!1===(null==e?void 0:e.baggage)&&p.push("baggage"),void 0!==(null==t||null===(r=t.transfersDuration)||void 0===r?void 0:r.max)&&void 0!==(null==t||null===(a=t.transfersDuration)||void 0===a?void 0:a.min)&&(null==e||null===(i=e.transfersDuration)||void 0===i||null===(s=i.value)||void 0===s?void 0:s[1])===t.transfersDuration.max&&(null==e||null===(o=e.transfersDuration)||void 0===o||null===(l=o.value)||void 0===l?void 0:l[0])===t.transfersDuration.min&&p.push("transfersDuration"),(null==e||null===(u=e.price)||void 0===u?void 0:u.value)===(null==t||null===(c=t.price)||void 0===c?void 0:c.max)&&p.push("price"),(null==e?void 0:e.tripDuration)===(null==t||null===(d=t.tripDuration)||void 0===d?void 0:d.max)&&p.push("tripDuration"),n()(null==e?void 0:e.airports)&&p.push("airports"),n()(null==e?void 0:e.alliances)&&p.push("alliances"),n()(null==e?void 0:e.airlines)&&p.push("airlines"),n()(null==e?void 0:e.agents)&&p.push("agents"),n()(null==e?void 0:e.paymentMethods)&&p.push("paymentMethods"),n()(null==e?void 0:e.transfersAirports)&&p.push("transfersAirports"),n()(null==e?void 0:e.transfersCount)&&p.push("transfersCount"),n()(null==e?void 0:e.sameDepartureArrivalAirports)&&p.push("sameDepartureArrivalAirports");const h=((e,t)=>{const r=y()({},"departureArrivalTime",e),a=I()(r),i=f()((e=>{let[r,a]=e;const i=y()([],"arrival",a),s=y()([],"departure",a),o=y()([],"selectedDates",a),[l,u]=i,[c,d]=s,p=F()(u)||F()(l),g=F()(d)||F()(c),h=y()(null,["departureArrivalTime",r,"arrival_time","min"],t),v=y()(null,["departureArrivalTime",r,"arrival_time","max"],t),_=y()(null,["departureArrivalTime",r,"departure_time","min"],t),f=y()(null,["departureArrivalTime",r,"departure_time","max"],t),m=u===v&&l===h;return[r,{...!F()(d)&&!F()(c)&&d===f&&c===_||g?{}:{departure:[c,d]},...m||p?{}:{arrival:[l,u]},...n()(o)?{}:{selectedDates:o}}]}),a);return S()([E(),A()(n())])(i)})(e,t);return n()(h)&&p.push("departureArrivalTime"),g()(p,{...e,departureArrivalTime:h})})(g()(["pinFlightSignatures"],t),r),u=O.D.toDto(l,r),c=y()([],["segments"],s),d=S()([f()((e=>{let{origin_type:t,destination_type:r}=e;return t===D.PlaceType.Airport||r===D.PlaceType.Airport})),v()(!0)])(c);return{searchId:o,searchParamsHash:i,filtersAppliedTime:Date.now(),filtersState:u,sort:a,searchByAirport:d}},target:W.updateFiltersToSave}],or:{sid:"d5nn0f"}}),(0,i.UP)({and:[{clock:o.E.outputs.resultChunksLoaded,filter:X.$isFeatureEnabled,target:W.saveFilters}],or:{sid:"eilbtk"}}),(0,i.UP)({and:[{clock:o.E.inputs.startSearch,fn:e=>{var t,r,a;return(a=(null==e||null===(t=e.options)||void 0===t||null===(r=t.search_params)||void 0===r?void 0:r.directions)??null)&&S()([f()((e=>{let{origin:t,destination:r}=e;return t&&r?b()("-",[t,r]):null})),U()((e=>!F()(e))),b()("-")])(a)||null},target:W.segmentsHashUpdated}],or:{sid:"ez35me"}}),(0,i.UP)({and:[{clock:o.E.outputs.searchMetaLoaded,target:W.applySavedFilters}],or:{sid:"fhs5so"}}),(0,i.UP)({and:[{clock:W.applySavedFilters,source:X.$directionSavedFilters,filter:Boolean,fn:e=>{let{filtersState:t}=e;return c.Dp.fromDto(t)},target:u.j.inputs.savedFiltersApplied}],or:{sid:"fxq705"}}),(0,i.UP)({and:[{clock:W.applySavedFilters,source:X.$directionSavedFilters,filter:Boolean,fn:e=>{let{sort:t}=e;return t},target:u.j.inputs.sortingUpdated}],or:{sid:"gfblzp"}});const Y={inputs:W,outputs:X};var Q=r(89935),Z=r.n(Q),ee=r(78085),te=r.n(ee),re=r(44236),ae=r.n(re);const ie=(e,t)=>{const r=t[`original_${e}`],a=t[e];return{originalIata:r,searchIata:a,airportIata:r||a}},se=(e,t)=>{const{originalIata:r,searchIata:a}=ie(e,t),i=t[`${e}_type`];return!(!r||r===a)||"airport"===i},ne=(e,t)=>se(e,t)?ie(e,t).searchIata:void 0,oe=(e,t)=>se(e,t)?ie(e,t).airportIata:void 0,le=Z()(((e,t)=>{if(!e)return t;if("roundtrip"!==e.tripType)return t;if(n()(t.segments))return t;const r=S()(te()(((e,t)=>{const r=ne("origin",t),a=ne("destination",t);return r&&e.push(r),a&&e.push(a),e}),[]),ae())(e.segments);return{...t,with_same_departure_arrival_airport:r}})),ue=Z()(((e,t)=>{if(!e)return t;if(n()(e.segments))return t;const r=e.segments.reduce(((e,t,r)=>{const a=oe("origin",t),i=oe("destination",t),s=e?{...e[r]}:{};return a&&(s.airports_departure=[...s.airports_departure||[],a]),i&&(s.airports_arrival=[...s.airports_arrival||[],i]),A()(n(),{...e,[r]:s})}),{});return A()(n(),{...t,segments:r})})),ce=Z()(((e,t)=>{var r;return null!=e&&null!==(r=e.precheckedFilters)&&void 0!==r&&r.filter_baggage?{...t,baggage:["full_baggage"]}:t})),de=Z()(((e,t)=>{var r,a;const i=null==e||null===(r=e.precheckedFilters)||void 0===r?void 0:r.filter_agents,s=null==e||null===(a=e.precheckedFilters)||void 0===a?void 0:a.filter_gates,n=i||s;return n?{...t,agents:f()(Number,n)}:t})),pe=Z()(((e,t)=>{var r;const a=null==e||null===(r=e.precheckedFilters)||void 0===r?void 0:r.filter_stops;return!a||n()(a)?t:{...t,transfers_count:f()(Number,a)}})),ge=Z()(((e,t)=>{var r;const a=null==e||null===(r=e.precheckedFilters)||void 0===r?void 0:r.filter_airlines;return a?{...t,airlines:a}:t})),he=Z()(((e,t)=>{const r=null==e?void 0:e.paymentMethod;return r&&"all"!==r?{...t,payment_methods:[r]}:t})),ve=Z()(((e,t)=>{var r;return null!=e&&null!==(r=e.precheckedFilters)&&void 0!==r&&r.filter_transfers_without_visa?{...t,transfers_without_visa:!0}:t})),_e=(0,i.Fj)("precheck_filters",{sid:"mz7gsn"}).createStore({},{sid:"-e0y6xw"}),{$searchParams:fe}=l.s.outputs;(0,i.UP)({and:[{source:fe,fn:e=>S()([ue(e),le(e),de(e),pe(e),ge(e),ce(e),he(e),ve(e)])({}),target:_e}],or:{sid:"ltlvbp"}});const me={$precheckedFilters:_e};(0,i.UP)({and:[{clock:me.$precheckedFilters,target:o.E.inputs.updateFilters}],or:{sid:"8q6rkm"}}),r(27898),r(60229);var Se=r(23588),ke=r(94547),ye=r(35529);const $e=(0,ye.Record)({id:ye.String,expName:ye.String,groupName:ye.String,enabled:ye.Boolean}),be=(0,ye.Record)({marker:(0,ye.Optional)(ye.String),marketCode:(0,ye.Optional)(ye.String),currencyCode:(0,ye.Optional)(ye.String),languages:(0,ye.Optional)(ye.String),gateErrors:(0,ye.Optional)(ye.Boolean),dumpRequests:(0,ye.Optional)(ye.Boolean),bypassRulers:(0,ye.Optional)(ye.Boolean),disableCache:(0,ye.Optional)(ye.Boolean),experimentGroups:(0,ye.Optional)((0,ye.Array)($e)),gatesToRequest:(0,ye.Optional)(ye.String),referrer:(0,ye.Optional)(ye.String),"X-Client-Type":(0,ye.Optional)(ye.String),debugUrl:(0,ye.Optional)(ye.Boolean),debugMetrics:(0,ye.Optional)(ye.Boolean),turnOffAnnoyingPopups:(0,ye.Optional)(ye.Boolean),searchHost:(0,ye.Optional)(ye.String)}),Pe=(0,ke.Yu)("_debugSettings",{adapter:ke.j$.json({contract:be})}),Ue=(0,i.MT)(Pe.read(),{sid:"-9f5hpa"}),we=(0,i.yM)({sid:"-5vpxsh"}),Fe=(0,i.yM)({},{sid:"-b4ung9"}),Be=(0,i.yM)({sid:"q3zs5k"});(0,i.UP)({and:[{clock:we,source:Ue,fn:(e,t)=>({...e,...t}),target:Ue}],or:{sid:"myx2ag"}}),(0,i.UP)({and:[{clock:Fe,source:Ue,filter:Boolean,fn:e=>{let{debugUrl:t,debugMetrics:r,turnOffAnnoyingPopups:a,experimentGroups:i}=e;return{debugUrl:t,debugMetrics:r,turnOffAnnoyingPopups:a,experimentGroups:i}},target:Ue}],or:{sid:"nfyoon"}}),(0,i.UP)({and:[{clock:Be,fn:()=>null,target:Ue}],or:{sid:"ocycab"}});const Ie={debugSettingsChanged:we,debugSearchSettingsReset:Fe,debugSettingsReset:Be};(0,i.UP)({and:[{clock:Se.z.outputs.debugSettingsChanged,fn:e=>{let{settings:t}=e;return t},target:Ie.debugSettingsChanged}],or:{sid:"lu1iw7"}}),(0,i.UP)({and:[{clock:Se.z.outputs.debugSearchSettingsReset,target:Ie.debugSearchSettingsReset}],or:{sid:"zbkqia"}}),(0,i.UP)({and:[{clock:Se.z.outputs.debugSettingsReset,target:Ie.debugSettingsReset}],or:{sid:"zebph3"}});var Ce=r(6823),Ee=r(46488),je=r.n(Ee),Ae=r(51081),De=r(10924),Oe=r(35098),Te=r(79403),xe=r(39018),Re=r(52924);const Ne=(0,i.Fj)("search_analytics",{sid:"j7ci5k"}),Me=e=>!!e&&!["lang_change","refresh_error","search_captcha","expired_search","debug_settings","chunk_load_client_timeout","currency_change","aviacashback_change"].includes(e);var ze=r(63422),Le=r.n(ze),qe=r(69937),He=r.n(qe),Ge=r(7108),Ve=r.n(Ge),Je=r(63360),Ke=r.n(Je),We=r(66415),Xe=r.n(We),Ye=r(14519),Qe=r(39104),Ze=r.n(Qe),et=r(52151),tt=r.n(et),rt=r(11151),at=r.n(rt);const it=De.I.inputs.createReporter({data:{category:"search",label:"search",action:"started",service:Ae.Service.Serp}}),{$originCityIata:st,$destinationCityIata:nt}=l.s.outputs,{$isWayAwayBrand:ot}=Te.U.outputs,{$deviceSearchId:lt,$page:ut,$isMobile:ct}=Re.B.outputs,{$tripClass:dt,$tripDirection:pt}=l.s.outputs,gt=Ne.createStore(null,{sid:"rvld2x"}).on(Se.z.outputs.searchStartSourceChanged,((e,t)=>t)),ht=gt.map(Me),vt=Oe.E.outputs.$paymentMethod.map((e=>[e])),_t=(0,i.UP)({and:[{clock:o.E.inputs.startSearch,source:{is_mobile:ct,device_search_id:lt,source:gt,origin:st,destination:nt,payment_methods:vt,trip_class:dt,trip_type:pt,pageName:ut,userEvent:ht},fn:e=>e}],or:{sid:"-qzg1z7"}});(0,i.UP)({and:[{clock:_t,filter:ot,fn:e=>({type:"search--started",...e}),target:xe.n.inputs.sendEvent}],or:{sid:"laome"}}),it({clock:_t,payload:je()});var ft=r(24852),mt=r(32171);const{$deviceSearchId:St,$page:kt,$isMobile:yt,$searchId:$t}=Re.B.outputs,{$filteredCheapestTicket:bt,$minFilteredTicketPrice:Pt}=ft.o.outputs,{$meta:Ut}=mt.m.outputs,{$proposalCollection:wt}=ft.o.outputs,Ft=(Ne.createStore(null,{sid:"3q90cf"}).on(Se.z.outputs.searchStartSourceChanged,((e,t)=>t)),bt.map((e=>(null==e?void 0:e.sign)??null))),Bt=(0,i.$e)({and:[wt,e=>S()([Ke(),U()((e=>!Ve()(e.worstBags[Ye.BagsType.Baggage]))),Xe()("price"),He(),Le()("unifiedPrice")])(e)],or:{sid:"-m67znb"}}),It=Ne.createStore(!1,{sid:"smjad2"}),Ct=Ut.map((e=>(null==e?void 0:e.filteredTicketsCount)??0)),Et=Ut.map((e=>(null==e?void 0:e.directTicketsCount)??0));De.I.inputs.createReporter({data:{category:"search",label:"search",action:"finished",service:Ae.Service.Serp},payload:{search_id:$t,device_search_id:St,is_mobile:yt,tickets_count:Ct,direct_tickets_count:Et,minprice_signature:Ft,min_unified_price:Pt,min_unified_price_baggage:Bt,pageName:kt,userEvent:It,source:null}})({clock:o.E.outputs.searchFinished});const jt=De.I.inputs.createReporter({data:{category:"search",label:"search",action:"failed",service:Ae.Service.Serp}}),{$searchId:At,$deviceSearchId:Dt,$page:Ot,$isMobile:Tt}=Re.B.outputs,xt=Re.j.createStore(!1,{sid:"-9trysk"}),Rt=(0,i.UP)({and:[{clock:o.E.outputs.searchFailed,source:{search_id:At,device_search_id:Dt,is_mobile:Tt,pageName:Ot,userEvent:xt},fn:(e,t)=>({...e,source:null,error_info:t.type})}],or:{sid:"bku1v3"}});jt({clock:Rt,payload:je()});const Nt=De.I.inputs.createReporter({data:{category:"search",label:"first_tickets",action:"arrived",service:Ae.Service.Serp}}),Mt=Ne.createStore(null,{sid:"yqe6vf"}).reset(o.E.inputs.startSearch),zt=Ne.createStore(0,{sid:"-kntwoo"}).on(Mt.updates,(e=>e+1)).reset(o.E.inputs.startSearch),{$pageSize:Lt}=a.P.outputs,{$ticketSignatures:qt,$ticketCollection:Ht,$proposalCollection:Gt,$ticketProposalCollection:Vt}=ft.o.outputs,{$searchId:Jt,$deviceSearchId:Kt,$page:Wt}=Re.B.outputs,Xt=(0,i.$e)({and:[qt,Ht,Gt,Vt,Lt,(e,t,r,a,i)=>{const s=((e,t,r)=>(a,i)=>{var s,n;const o=e[i],l=t[r[i][0]],u=(null==o||null===(s=o.badges)||void 0===s||null===(n=s[0])||void 0===n?void 0:n.type)??"",c=(d=o,S()([at()((e=>e.flights)),Xe()((e=>e.duration)),tt(),Le()("operatingCarrier")])(d.segments));var d;return{ticket_signatures:[...a.ticket_signatures,i],main_airlines:[...a.main_airlines,c],main_gate_ids:[...a.main_gate_ids,l.agentId],unified_prices:[...a.unified_prices,l.unifiedPrice],main_badges:[...a.main_badges,u]}})(t,r,a);return S()([Ze()(0,i),te()(s,{ticket_signatures:[],main_airlines:[],main_gate_ids:[],unified_prices:[],main_badges:[]})])(e)}],or:{sid:"6w2bk1"}});(0,i.UP)({and:[{clock:ft.o.inputs.ticketsDataUpdated,source:Lt,fn:(e,t)=>{let{ticketSignatures:r,proposalCollection:a,ticketProposalCollection:i}=t;return S()([Ze()(0,e),te()(((e,t)=>`${e}${a[i[t][0]].id}`),"")])(r)},target:Mt}],or:{sid:"b0hkef"}});Nt({clock:(0,i.UP)({and:[{clock:(0,i.UP)({and:[{clock:Mt.updates,filter:Boolean}],or:{sid:"-afmgxj"}}),source:{search_id:Jt,device_search_id:Kt,arrival_counter:zt,pageName:Wt,arrivedTickets:Xt},fn:e=>{let{search_id:t,device_search_id:r,arrival_counter:a,pageName:i,arrivedTickets:s}=e;return{search_id:t,device_search_id:r,arrival_counter:a,pageName:i,source:null,userEvent:!1,...s}}}],or:{sid:"-4maat3"}}),payload:je()});var Yt=r(95300);const Qt=De.I.inputs.createReporter({data:{category:"search",label:"search",action:"id_assigned",service:Ae.Service.Serp}}),{$deviceSearchId:Zt,$page:er,$isMobile:tr}=Re.B.outputs,{$tripDirection:rr}=l.s.outputs,ar=Ne.createStore(null,{sid:"-4xrjsu"}).on(Se.z.outputs.searchStartSourceChanged,((e,t)=>t)),ir=Ne.createStore(null,{sid:"-b5rjqg"}).on(Yt.H.outputs.expectedPriceValueParsed,((e,t)=>Number(t))),sr=ar.map(Me),nr=(0,i.UP)({and:[{clock:o.E.outputs.searchMetaLoaded,source:{is_mobile:tr,device_search_id:Zt,trip_type:rr,expected_price:ir,source:ar,pageName:er,userEvent:sr},filter:(e,t)=>{let{search_id:r}=t;return Boolean(r)},fn:(e,t)=>({...e,search_id:t.search_id,search_tags:t.tags??null})}],or:{sid:"fq9h7w"}});Qt({clock:nr,payload:je()});var or=r(6557),lr=r.n(or),ur=r(69368);const cr=(0,i.Fj)("filters_analytics",{sid:"-xab2jv"});var dr=r(41609),pr=r.n(dr),gr=r(2568),hr=r.n(gr);const vr=De.I.inputs.createReporter({data:{category:"search",label:"filter",action:"applied",service:Ae.Service.Serp}}),_r=cr.createEvent({sid:"dh0ra8"});(0,i.UP)({and:[{clock:u.j.inputs.filtersChangedByUser,target:_r}],or:{sid:"-ef28lf"}}),(0,i.UP)({and:[{clock:u.j.inputs.savedFiltersApplied,filter:Boolean,fn:e=>({changes:e,source:ur.ng.SavedFilters}),target:_r}],or:{sid:"-e0rl61"}});const{$searchId:fr,$deviceSearchId:mr,$page:Sr}=Re.B.outputs,{$filteredCheapestTicket:kr,$minFilteredTicketPrice:yr}=ft.o.outputs,{$filtersState:$r}=u.j.outputs,br=(0,i.MT)(!0,{sid:"2un6s2"}).on(_r,((e,t)=>{let{source:r}=t;return(e=>e!==ur.ng.SavedFilters)(r)})),Pr=(0,i.UP)({and:[{clock:_r,source:{search_id:fr,device_search_id:mr,state_total:$r,minprice_signature:kr.map((e=>(null==e?void 0:e.sign)??null)),min_unified_price:yr,userEvent:br,pageName:Sr},fn:(e,t)=>({...e,state_total:pr()(e.state_total)?null:e.state_total,source:t.source,state:t.changes,state_total_signature:hr()(JSON.stringify(e.state_total))})}],or:{sid:"-9esxil"}});vr({clock:Pr,payload:lr()});const Ur=(0,i.Fj)("saved_filters_analytics",{sid:"-je71vv"}),wr=De.I.inputs.createReporter({data:{category:"search",label:"sort",action:"applied",service:Ae.Service.Serp}}),Fr=Ur.createEvent({sid:"6swcdt"}),{$page:Br}=Re.B.outputs,{$searchId:Ir,$deviceSearchId:Cr}=Re.B.outputs;(0,i.UP)({and:[{clock:Y.inputs.applySavedFilters,source:Y.outputs.$directionSavedFilters,filter:Boolean,fn:e=>{let{sort:t}=e;return{order:t,source:ur.tL.SavedFilters}},target:Fr}],or:{sid:"tlql9p"}}),(0,i.UP)({and:[{clock:u.j.inputs.sortingChangedByUser,target:Fr}],or:{sid:"u1omh6"}}),(0,i.UP)({and:[{clock:u.j.inputs.sortingReset,source:{order:u.j.outputs.$initialSortingOrder,search_id:Ir},filter:e=>{let{search_id:t}=e;return Boolean(t)},fn:e=>{let{order:t}=e;return{order:t,source:ur.tL.GeneralFilters}},target:Fr}],or:{sid:"ufz9wk"}});const Er=(0,i.UP)({and:[{clock:Fr,source:{search_id:Ir,device_search_id:Cr,pageName:Br},fn:(e,t)=>{let{source:r,order:a}=t;return{...e,sort_state:a,sort_source:r,userEvent:r===ur.tL.GeneralFilters,source:null}}}],or:{sid:"823upq"}});wr({clock:Er,payload:je()}),(0,Ce.G6)({importMetaUrl:"file:///home/jenkins/agent/workspace/selene/client/src/product/serp/services/analytics/index.ts",api:{}});var jr=r(23190);const Ar=(0,i.Fj)("ticket_deeplink",{sid:"-xwqkvh"}),{$pathname:Dr,$search:Or,$isReady:Tr}=jr.D.outputs,xr=(0,i.$e)({and:[{pathname:Dr,search:Or}],or:{sid:"3rv2ov"}}),Rr=Ar.createStore(null,{sid:"-yke5ok"}),Nr=(0,i.UP)({and:[{clock:Tr,filter:Boolean}],or:{sid:"kd4usk"}});(0,i.UP)({and:[{clock:Nr,source:{url:xr},fn:e=>{let{url:t}=e;const{search:r}=t,a=new URLSearchParams(r).get("t")||"",[i,s,n]=a.split("_");return s},target:Rr}],or:{sid:"pi5aw4"}});const Mr={$ticketSign:Rr};(0,i.UP)({and:[{clock:Mr.$ticketSign,filter:Boolean,target:Se.z.inputs.ticketDeeplinkOpenedFx}],or:{sid:"9cbprw"}});const zr=()=>null}}]);