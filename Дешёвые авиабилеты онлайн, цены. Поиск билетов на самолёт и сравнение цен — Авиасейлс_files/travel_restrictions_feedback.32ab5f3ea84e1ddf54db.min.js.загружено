"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[778],{73308:function(e,t,r){var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(16442),t),n(r(27610),t)},27610:function(e,t,r){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)},n=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},i=this&&this.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Textarea=void 0;var c=l(r(67294)),d=o(r(94184)),u=r(50377),f=o(r(82127)),b=c.default.forwardRef((function(e,t){var r,n,s,l,o,b=e.caption,p=e.rightElement,h=e.rightElementNoPointerEvents,v=e.error,m=e.disabled,_=e.placeholder,x=e.placeholderMask,g=e.value,y=e.className,j=e.testId,E=i(e,["caption","rightElement","rightElementNoPointerEvents","error","disabled","placeholder","placeholderMask","value","className","testId"]),k=(0,u.usePlaceholderMask)(g,x),N=(0,u.getPlaceholder)(x,_),O="string"==typeof v?v:b,T=(0,d.default)(f.default.textareaWrapper,((r={})[f.default.withRightElement]=p,r[f.default.disabled]=m,r)),C=(0,d.default)(f.default.bottomText,((n={})[f.default.textError]=v,n[f.default.caption]=!v&&b,n[f.default.disabled]=m,n));return c.default.createElement("div",{className:(0,d.default)(f.default.root,y),"data-test-id":null!=j?j:"textarea-container"},c.default.createElement("label",{className:T},c.default.createElement("textarea",a({},E,{disabled:m,value:g,placeholder:N,className:(0,d.default)(f.default.textarea,(s={},s[f.default.error]="string"==typeof v,s)),ref:t,"data-test-id":"textarea"})),x&&c.default.createElement("span",{className:(0,d.default)(f.default.placeholderMask,(l={},l[f.default.disabled]=m,l))},k.map((function(e,t){var r,a="".concat(String(t)).concat(e),n=g&&t<g.length;return c.default.createElement("span",{key:a,className:(0,d.default)(f.default.maskChar,(r={},r[f.default.transparentChar]=n,r))},e)}))),p&&c.default.createElement("div",{className:(0,d.default)(f.default.rightElement,(o={},o[f.default.noPointerEvents]=h,o))},p)),O&&c.default.createElement("span",{"data-test-id":"textarea_bottom_text",className:C},O))})),p=(0,c.memo)(b);t.Textarea=p},16442:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},44488:function(e,t,r){r.r(t),r.d(t,{travelRestrictionsFeedbackPublicApi:function(){return o}});var a=r(34943),n=r(64441);const{travelRestrictionsFlag:s}=n.i.outputs,{requestTravelRestrictionsFlags:l}=n.i.inputs,i=(0,a.Fj)({sid:"5raupw"}).createEvent({sid:"m48wdi"});(0,a.UP)({and:[{clock:i,target:l}],or:{sid:"-dronz8"}});const o={outputs:{$isEnabled:s.$value},inputs:{initialized:i}}},21897:function(e,t,r){r.r(t),r.d(t,{TravelRestrictionsFeedback:function(){return C}});var a=r(67294),n=r(34840),s=r(44488),l=r(81468),i=r(866),o=r(88956),c=r(73308),d=r(60238),u=r(77875),f=r(46845),b=r(863);let p;!function(e){e.Idle="idle",e.Loading="loading",e.Success="success",e.Error="error"}(p||(p={}));var h=r(85893);const v=e=>{let{onClose:t}=e;const{t:r}=(0,l.useTranslation)("widget_travel_restrictions");return(0,h.jsxs)("div",{className:"XzcRXcNB_RviR7MxEluG",children:[(0,h.jsx)("div",{className:"Njzcv4SJBNjf0XC91Dlm"}),(0,h.jsx)(i.Text,{type:i.TextType.Title1Bold,className:"btNXRdOoePdRmgelYlU7",children:r("feedback.thanks")}),(0,h.jsx)(i.Text,{type:i.TextType.Body1Regular,className:"ANeCbp7pt3JkxyptJasV",children:r("feedback.success")}),(0,h.jsx)(o.Button,{size:o.ButtonSize.M,className:"sMpfSMdWv2X44194eJ6w",onClick:t,children:r("feedback.confirm")})]})};var m=r(83409);const _=e=>{let{onClose:t}=e;const{t:r}=(0,l.useTranslation)("widget_travel_restrictions");return(0,h.jsxs)("div",{className:"IMIq3KP3tDd8ultW2c40",children:[(0,h.jsx)(m.Icon24ColorWarning,{className:"xilPyV8jVA6YgpZym1Jv"}),(0,h.jsx)(i.Text,{type:i.TextType.Title2Bold,className:"evV5SqqlMyjjVME629GM",tag:"p",children:r("feedback.errorTitle")}),(0,h.jsx)(i.Text,{type:i.TextType.Body1Regular,className:"hCxDSvInn9rqnes9dYew",tag:"p",children:r("feedback.errorDescription")}),(0,h.jsx)(o.Button,{priority:o.ButtonPriority.Secondary,size:o.ButtonSize.M,className:"zDMrS59L0Sy4ICUniXwg",onClick:t,children:r("feedback.close")})]})};var x=r(27856),g=r.n(x),y=r(88867),j=r.n(y),E=r(73368),k=r(9669),N=r.n(k);var O={root:"z9lPh1zzmRk4bOnLC6HA",title:"oEHOlVk4OBxEAj3AXLsj",button:"YvMopxRXKP4HsDvjsyov",textField:"r1XlDb5M703Q7bShDPVh",description:"uzLKzwZC1brXv7Lw7u39",submit:"EJiFIGWXlqKcqLndNjaN",container:"m87HEFARv9bqFoeDfiIt"};const T=()=>{const{t:e}=(0,l.useTranslation)("widget_travel_restrictions"),t=(0,n.eY)({visible:b.Yd.outputs.$isFeedbackVisible,data:b.Yd.outputs.$feedbackData,hide:b.Yd.inputs.hideFeedback}),[r,s]=(()=>{const e=(0,a.useRef)(null),t=(0,a.useCallback)((()=>{var t;null===(t=e.current)||void 0===t||t.focus()}),[]);return[e,t]})(),{titleRef:m,formRef:x,contentHeight:y}=function(e){const[t,r]=(0,a.useState)(0),n=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{var e,t;const a=(null==n||null===(e=n.current)||void 0===e?void 0:e.offsetHeight)??0,l=(null==s||null===(t=s.current)||void 0===t?void 0:t.offsetHeight)??0;r(a+l)}),[e]),{titleRef:n,formRef:s,contentHeight:t}}(t.visible),{value:k,status:T,validateError:C,onChange:w,onReset:P,onSubmit:R}=function(e){const{t:t}=(0,l.useTranslation)("widget_travel_restrictions"),[r,n]=(0,a.useState)(""),[s,i]=(0,a.useState)(p.Idle),[o,c]=(0,a.useState)(void 0),d=(0,a.useCallback)((async a=>{if(a.preventDefault(),!r.trim())return void c(t("feedback.requiredError"));const n=function(e,t){const r=j().userAgent();return{answers:[{comment:e,view_sid:"explore_problems",view_type:"feedback"}],gate_id:null,search_id:null,click_id:null,host:window.location.host,feedback_context:{...t,platform:`web_${r.platform}`}}}(r,e);i(p.Loading),(await async function(e){try{const t=await N().post("/search-api/delta/feedback/apply",e);return{data:null==t?void 0:t.data,error:null==t?void 0:t.error}}catch(e){return{error:e}}}(n)).error?i(p.Error):i(p.Success)}),[e,t,r]),u=(0,a.useCallback)((e=>{n(g().sanitize(e.currentTarget.value)),o&&c(void 0)}),[o,n]),f=(0,a.useCallback)((()=>{n(""),i(p.Idle)}),[i,n]);return{value:r,status:s,validateError:o,onReset:f,onSubmit:d,onChange:u}}(t.data),S=(0,a.useCallback)((()=>{t.hide(),P()}),[t,P]),M=(B=t.visible,D=S,(0,E.useModalBehavior)("TRAVEL_RESCTIRCTION_FEEDBACK",(0,E.addExternalStateConnection)({externalVisibility:B,onClose:D})));var B,D;const A=[p.Success,p.Error].includes(T);return(0,h.jsx)("div",{className:O.root,children:(0,h.jsxs)(d.Popup,{...M,noAutoFocus:!0,width:480,padding:[0,48,48],className:O.modal,dataTestId:"tr-report-inaccuracies",onOpened:s,children:[(0,h.jsx)(d.Popup.Navigation,{children:(0,h.jsx)(u.Navbar.RightAccessory,{children:(0,h.jsx)(f.CloseButton,{"data-test-id":"tr-modal_close_button",onClick:M.close})})}),!A&&(0,h.jsxs)("div",{children:[(0,h.jsx)(i.Text,{tag:"h3",type:i.TextType.Title2Bold,transformOnMobile:!0,className:O.title,children:(0,h.jsx)("span",{ref:m,children:e("feedback.title")})}),(0,h.jsxs)("form",{"data-test-id":"tr-feedback_form",onSubmit:R,ref:x,children:[(0,h.jsx)(i.Text,{type:i.TextType.Body1Regular,className:O.description,tag:"p",children:e("feedback.description")}),(0,h.jsx)(c.Textarea,{ref:r,className:O.textField,value:k,onChange:w,error:C,placeholder:e("feedback.placeholder")}),(0,h.jsx)(o.Button,{size:o.ButtonSize.M,className:O.submit,type:"submit",progress:T===p.Loading,children:e("feedback.submit")})]})]}),T===p.Error&&(0,h.jsx)("div",{className:O.container,style:{minHeight:y},children:(0,h.jsx)(_,{onClose:S})}),T===p.Success&&(0,h.jsx)("div",{className:O.container,style:{minHeight:y},children:(0,h.jsx)(v,{onClose:S})})]})})},C=()=>(0,n.eY)(s.travelRestrictionsFeedbackPublicApi.outputs.$isEnabled)?(0,h.jsx)(a.StrictMode,{children:(0,h.jsx)(T,{})}):null},82127:function(e){e.exports=JSON.parse('{"root":"root_97bbeb3","textareaWrapper":"textareaWrapper_97bbeb3","withRightElement":"withRightElement_97bbeb3","disabled":"disabled_97bbeb3","placeholderMask":"placeholderMask_97bbeb3","textarea":"textarea_97bbeb3","error":"error_97bbeb3","transparentChar":"transparentChar_97bbeb3","rightElement":"rightElement_97bbeb3","bottomText":"bottomText_97bbeb3","caption":"caption_97bbeb3","textError":"textError_97bbeb3","maskChar":"maskChar_97bbeb3","noPointerEvents":"noPointerEvents_97bbeb3"}')}}]);